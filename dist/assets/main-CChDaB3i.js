var Hf=e=>{throw TypeError(e)};var ou=(e,t,n)=>t.has(e)||Hf("Cannot "+n);var b=(e,t,n)=>(ou(e,t,"read from private field"),n?n.call(e):t.get(e)),Y=(e,t,n)=>t.has(e)?Hf("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),B=(e,t,n,r)=>(ou(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),ne=(e,t,n)=>(ou(e,t,"access private method"),n);var ll=(e,t,n,r)=>({set _(s){B(e,t,s,n)},get _(){return b(e,t,r)}});function Rx(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}function Ox(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var $m={exports:{}},Fo={},Vm={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ya=Symbol.for("react.element"),Fx=Symbol.for("react.portal"),Tx=Symbol.for("react.fragment"),Ax=Symbol.for("react.strict_mode"),Dx=Symbol.for("react.profiler"),Mx=Symbol.for("react.provider"),Lx=Symbol.for("react.context"),Ix=Symbol.for("react.forward_ref"),Ux=Symbol.for("react.suspense"),zx=Symbol.for("react.memo"),$x=Symbol.for("react.lazy"),Qf=Symbol.iterator;function Vx(e){return e===null||typeof e!="object"?null:(e=Qf&&e[Qf]||e["@@iterator"],typeof e=="function"?e:null)}var Bm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qm=Object.assign,Wm={};function Oi(e,t,n){this.props=e,this.context=t,this.refs=Wm,this.updater=n||Bm}Oi.prototype.isReactComponent={};Oi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Oi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Hm(){}Hm.prototype=Oi.prototype;function bd(e,t,n){this.props=e,this.context=t,this.refs=Wm,this.updater=n||Bm}var _d=bd.prototype=new Hm;_d.constructor=bd;qm(_d,Oi.prototype);_d.isPureReactComponent=!0;var Kf=Array.isArray,Qm=Object.prototype.hasOwnProperty,Sd={current:null},Km={key:!0,ref:!0,__self:!0,__source:!0};function Ym(e,t,n){var r,s={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)Qm.call(t,r)&&!Km.hasOwnProperty(r)&&(s[r]=t[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var u=Array(o),c=0;c<o;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:Ya,type:e,key:i,ref:a,props:s,_owner:Sd.current}}function Bx(e,t){return{$$typeof:Ya,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function kd(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ya}function qx(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Yf=/\/+/g;function uu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?qx(""+e.key):t.toString(36)}function Ol(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Ya:case Fx:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+uu(a,0):r,Kf(s)?(n="",e!=null&&(n=e.replace(Yf,"$&/")+"/"),Ol(s,t,n,"",function(c){return c})):s!=null&&(kd(s)&&(s=Bx(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Yf,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",Kf(e))for(var o=0;o<e.length;o++){i=e[o];var u=r+uu(i,o);a+=Ol(i,t,n,u,s)}else if(u=Vx(e),typeof u=="function")for(e=u.call(e),o=0;!(i=e.next()).done;)i=i.value,u=r+uu(i,o++),a+=Ol(i,t,n,u,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function ol(e,t,n){if(e==null)return e;var r=[],s=0;return Ol(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Wx(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var St={current:null},Fl={transition:null},Hx={ReactCurrentDispatcher:St,ReactCurrentBatchConfig:Fl,ReactCurrentOwner:Sd};function Xm(){throw Error("act(...) is not supported in production builds of React.")}de.Children={map:ol,forEach:function(e,t,n){ol(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ol(e,function(){t++}),t},toArray:function(e){return ol(e,function(t){return t})||[]},only:function(e){if(!kd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};de.Component=Oi;de.Fragment=Tx;de.Profiler=Dx;de.PureComponent=bd;de.StrictMode=Ax;de.Suspense=Ux;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hx;de.act=Xm;de.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=qm({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=Sd.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(u in t)Qm.call(t,u)&&!Km.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&o!==void 0?o[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){o=Array(u);for(var c=0;c<u;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:Ya,type:e.type,key:s,ref:i,props:r,_owner:a}};de.createContext=function(e){return e={$$typeof:Lx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Mx,_context:e},e.Consumer=e};de.createElement=Ym;de.createFactory=function(e){var t=Ym.bind(null,e);return t.type=e,t};de.createRef=function(){return{current:null}};de.forwardRef=function(e){return{$$typeof:Ix,render:e}};de.isValidElement=kd;de.lazy=function(e){return{$$typeof:$x,_payload:{_status:-1,_result:e},_init:Wx}};de.memo=function(e,t){return{$$typeof:zx,type:e,compare:t===void 0?null:t}};de.startTransition=function(e){var t=Fl.transition;Fl.transition={};try{e()}finally{Fl.transition=t}};de.unstable_act=Xm;de.useCallback=function(e,t){return St.current.useCallback(e,t)};de.useContext=function(e){return St.current.useContext(e)};de.useDebugValue=function(){};de.useDeferredValue=function(e){return St.current.useDeferredValue(e)};de.useEffect=function(e,t){return St.current.useEffect(e,t)};de.useId=function(){return St.current.useId()};de.useImperativeHandle=function(e,t,n){return St.current.useImperativeHandle(e,t,n)};de.useInsertionEffect=function(e,t){return St.current.useInsertionEffect(e,t)};de.useLayoutEffect=function(e,t){return St.current.useLayoutEffect(e,t)};de.useMemo=function(e,t){return St.current.useMemo(e,t)};de.useReducer=function(e,t,n){return St.current.useReducer(e,t,n)};de.useRef=function(e){return St.current.useRef(e)};de.useState=function(e){return St.current.useState(e)};de.useSyncExternalStore=function(e,t,n){return St.current.useSyncExternalStore(e,t,n)};de.useTransition=function(){return St.current.useTransition()};de.version="18.3.1";Vm.exports=de;var C=Vm.exports;const re=Ox(C),Qx=Rx({__proto__:null,default:re},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kx=C,Yx=Symbol.for("react.element"),Xx=Symbol.for("react.fragment"),Gx=Object.prototype.hasOwnProperty,Jx=Kx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Zx={key:!0,ref:!0,__self:!0,__source:!0};function Gm(e,t,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Gx.call(t,r)&&!Zx.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Yx,type:e,key:i,ref:a,props:s,_owner:Jx.current}}Fo.Fragment=Xx;Fo.jsx=Gm;Fo.jsxs=Gm;$m.exports=Fo;var l=$m.exports,Hu={},Jm={exports:{}},Qt={},Zm={exports:{}},ey={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,Z){var U=z.length;z.push(Z);e:for(;0<U;){var K=U-1>>>1,J=z[K];if(0<s(J,Z))z[K]=Z,z[U]=J,U=K;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var Z=z[0],U=z.pop();if(U!==Z){z[0]=U;e:for(var K=0,J=z.length,ce=J>>>1;K<ce;){var xe=2*(K+1)-1,Pe=z[xe],je=xe+1,pe=z[je];if(0>s(Pe,U))je<J&&0>s(pe,Pe)?(z[K]=pe,z[je]=U,K=je):(z[K]=Pe,z[xe]=U,K=xe);else if(je<J&&0>s(pe,U))z[K]=pe,z[je]=U,K=je;else break e}}return Z}function s(z,Z){var U=z.sortIndex-Z.sortIndex;return U!==0?U:z.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var u=[],c=[],f=1,h=null,m=3,w=!1,v=!1,N=!1,x=typeof setTimeout=="function"?setTimeout:null,d=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(z){for(var Z=n(c);Z!==null;){if(Z.callback===null)r(c);else if(Z.startTime<=z)r(c),Z.sortIndex=Z.expirationTime,t(u,Z);else break;Z=n(c)}}function g(z){if(N=!1,y(z),!v)if(n(u)!==null)v=!0,ie(j);else{var Z=n(c);Z!==null&&ge(g,Z.startTime-z)}}function j(z,Z){v=!1,N&&(N=!1,d(T),T=-1),w=!0;var U=m;try{for(y(Z),h=n(u);h!==null&&(!(h.expirationTime>Z)||z&&!V());){var K=h.callback;if(typeof K=="function"){h.callback=null,m=h.priorityLevel;var J=K(h.expirationTime<=Z);Z=e.unstable_now(),typeof J=="function"?h.callback=J:h===n(u)&&r(u),y(Z)}else r(u);h=n(u)}if(h!==null)var ce=!0;else{var xe=n(c);xe!==null&&ge(g,xe.startTime-Z),ce=!1}return ce}finally{h=null,m=U,w=!1}}var k=!1,E=null,T=-1,F=5,R=-1;function V(){return!(e.unstable_now()-R<F)}function D(){if(E!==null){var z=e.unstable_now();R=z;var Z=!0;try{Z=E(!0,z)}finally{Z?L():(k=!1,E=null)}}else k=!1}var L;if(typeof p=="function")L=function(){p(D)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,oe=G.port2;G.port1.onmessage=D,L=function(){oe.postMessage(null)}}else L=function(){x(D,0)};function ie(z){E=z,k||(k=!0,L())}function ge(z,Z){T=x(function(){z(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){v||w||(v=!0,ie(j))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(z){switch(m){case 1:case 2:case 3:var Z=3;break;default:Z=m}var U=m;m=Z;try{return z()}finally{m=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,Z){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var U=m;m=z;try{return Z()}finally{m=U}},e.unstable_scheduleCallback=function(z,Z,U){var K=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?K+U:K):U=K,z){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=U+J,z={id:f++,callback:Z,priorityLevel:z,startTime:U,expirationTime:J,sortIndex:-1},U>K?(z.sortIndex=U,t(c,z),n(u)===null&&z===n(c)&&(N?(d(T),T=-1):N=!0,ge(g,U-K))):(z.sortIndex=J,t(u,z),v||w||(v=!0,ie(j))),z},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(z){var Z=m;return function(){var U=m;m=Z;try{return z.apply(this,arguments)}finally{m=U}}}})(ey);Zm.exports=ey;var ev=Zm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tv=C,Wt=ev;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ty=new Set,ma={};function Ps(e,t){vi(e,t),vi(e+"Capture",t)}function vi(e,t){for(ma[e]=t,e=0;e<t.length;e++)ty.add(t[e])}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qu=Object.prototype.hasOwnProperty,nv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xf={},Gf={};function rv(e){return Qu.call(Gf,e)?!0:Qu.call(Xf,e)?!1:nv.test(e)?Gf[e]=!0:(Xf[e]=!0,!1)}function sv(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function iv(e,t,n,r){if(t===null||typeof t>"u"||sv(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function kt(e,t,n,r,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var at={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){at[e]=new kt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];at[t]=new kt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){at[e]=new kt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){at[e]=new kt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){at[e]=new kt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){at[e]=new kt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){at[e]=new kt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){at[e]=new kt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){at[e]=new kt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Cd=/[\-:]([a-z])/g;function Ed(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Cd,Ed);at[t]=new kt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Cd,Ed);at[t]=new kt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Cd,Ed);at[t]=new kt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){at[e]=new kt(e,1,!1,e.toLowerCase(),null,!1,!1)});at.xlinkHref=new kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){at[e]=new kt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Pd(e,t,n,r){var s=at.hasOwnProperty(t)?at[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(iv(t,n,s,r)&&(n=null),r||s===null?rv(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Zn=tv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ul=Symbol.for("react.element"),Us=Symbol.for("react.portal"),zs=Symbol.for("react.fragment"),Rd=Symbol.for("react.strict_mode"),Ku=Symbol.for("react.profiler"),ny=Symbol.for("react.provider"),ry=Symbol.for("react.context"),Od=Symbol.for("react.forward_ref"),Yu=Symbol.for("react.suspense"),Xu=Symbol.for("react.suspense_list"),Fd=Symbol.for("react.memo"),dr=Symbol.for("react.lazy"),sy=Symbol.for("react.offscreen"),Jf=Symbol.iterator;function $i(e){return e===null||typeof e!="object"?null:(e=Jf&&e[Jf]||e["@@iterator"],typeof e=="function"?e:null)}var Le=Object.assign,cu;function Zi(e){if(cu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);cu=t&&t[1]||""}return`
`+cu+e}var du=!1;function fu(e,t){if(!e||du)return"";du=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var u=`
`+s[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=o);break}}}finally{du=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Zi(e):""}function av(e){switch(e.tag){case 5:return Zi(e.type);case 16:return Zi("Lazy");case 13:return Zi("Suspense");case 19:return Zi("SuspenseList");case 0:case 2:case 15:return e=fu(e.type,!1),e;case 11:return e=fu(e.type.render,!1),e;case 1:return e=fu(e.type,!0),e;default:return""}}function Gu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case zs:return"Fragment";case Us:return"Portal";case Ku:return"Profiler";case Rd:return"StrictMode";case Yu:return"Suspense";case Xu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ry:return(e.displayName||"Context")+".Consumer";case ny:return(e._context.displayName||"Context")+".Provider";case Od:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Fd:return t=e.displayName||null,t!==null?t:Gu(e.type)||"Memo";case dr:t=e._payload,e=e._init;try{return Gu(e(t))}catch{}}return null}function lv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gu(t);case 8:return t===Rd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ur(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function iy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ov(e){var t=iy(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function cl(e){e._valueTracker||(e._valueTracker=ov(e))}function ay(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=iy(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Kl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ju(e,t){var n=t.checked;return Le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Zf(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ur(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ly(e,t){t=t.checked,t!=null&&Pd(e,"checked",t,!1)}function Zu(e,t){ly(e,t);var n=Ur(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ec(e,t.type,n):t.hasOwnProperty("defaultValue")&&ec(e,t.type,Ur(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function eh(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ec(e,t,n){(t!=="number"||Kl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ea=Array.isArray;function Gs(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ur(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function tc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return Le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function th(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(I(92));if(ea(n)){if(1<n.length)throw Error(I(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ur(n)}}function oy(e,t){var n=Ur(t.value),r=Ur(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function nh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function uy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?uy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var dl,cy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(dl=dl||document.createElement("div"),dl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=dl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ya(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var sa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uv=["Webkit","ms","Moz","O"];Object.keys(sa).forEach(function(e){uv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),sa[t]=sa[e]})});function dy(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||sa.hasOwnProperty(e)&&sa[e]?(""+t).trim():t+"px"}function fy(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=dy(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var cv=Le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rc(e,t){if(t){if(cv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function sc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ic=null;function Td(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ac=null,Js=null,Zs=null;function rh(e){if(e=Ja(e)){if(typeof ac!="function")throw Error(I(280));var t=e.stateNode;t&&(t=Lo(t),ac(e.stateNode,e.type,t))}}function hy(e){Js?Zs?Zs.push(e):Zs=[e]:Js=e}function py(){if(Js){var e=Js,t=Zs;if(Zs=Js=null,rh(e),t)for(e=0;e<t.length;e++)rh(t[e])}}function my(e,t){return e(t)}function yy(){}var hu=!1;function gy(e,t,n){if(hu)return e(t,n);hu=!0;try{return my(e,t,n)}finally{hu=!1,(Js!==null||Zs!==null)&&(yy(),py())}}function ga(e,t){var n=e.stateNode;if(n===null)return null;var r=Lo(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(I(231,t,typeof n));return n}var lc=!1;if(Kn)try{var Vi={};Object.defineProperty(Vi,"passive",{get:function(){lc=!0}}),window.addEventListener("test",Vi,Vi),window.removeEventListener("test",Vi,Vi)}catch{lc=!1}function dv(e,t,n,r,s,i,a,o,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(f){this.onError(f)}}var ia=!1,Yl=null,Xl=!1,oc=null,fv={onError:function(e){ia=!0,Yl=e}};function hv(e,t,n,r,s,i,a,o,u){ia=!1,Yl=null,dv.apply(fv,arguments)}function pv(e,t,n,r,s,i,a,o,u){if(hv.apply(this,arguments),ia){if(ia){var c=Yl;ia=!1,Yl=null}else throw Error(I(198));Xl||(Xl=!0,oc=c)}}function Rs(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function xy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function sh(e){if(Rs(e)!==e)throw Error(I(188))}function mv(e){var t=e.alternate;if(!t){if(t=Rs(e),t===null)throw Error(I(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return sh(s),e;if(i===r)return sh(s),t;i=i.sibling}throw Error(I(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a)throw Error(I(189))}}if(n.alternate!==r)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?e:t}function vy(e){return e=mv(e),e!==null?wy(e):null}function wy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=wy(e);if(t!==null)return t;e=e.sibling}return null}var Ny=Wt.unstable_scheduleCallback,ih=Wt.unstable_cancelCallback,yv=Wt.unstable_shouldYield,gv=Wt.unstable_requestPaint,Be=Wt.unstable_now,xv=Wt.unstable_getCurrentPriorityLevel,Ad=Wt.unstable_ImmediatePriority,jy=Wt.unstable_UserBlockingPriority,Gl=Wt.unstable_NormalPriority,vv=Wt.unstable_LowPriority,by=Wt.unstable_IdlePriority,To=null,Fn=null;function wv(e){if(Fn&&typeof Fn.onCommitFiberRoot=="function")try{Fn.onCommitFiberRoot(To,e,void 0,(e.current.flags&128)===128)}catch{}}var xn=Math.clz32?Math.clz32:bv,Nv=Math.log,jv=Math.LN2;function bv(e){return e>>>=0,e===0?32:31-(Nv(e)/jv|0)|0}var fl=64,hl=4194304;function ta(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Jl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var o=a&~s;o!==0?r=ta(o):(i&=a,i!==0&&(r=ta(i)))}else a=n&~s,a!==0?r=ta(a):i!==0&&(r=ta(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-xn(t),s=1<<n,r|=e[n],t&=~s;return r}function _v(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sv(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-xn(i),o=1<<a,u=s[a];u===-1?(!(o&n)||o&r)&&(s[a]=_v(o,t)):u<=t&&(e.expiredLanes|=o),i&=~o}}function uc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function _y(){var e=fl;return fl<<=1,!(fl&4194240)&&(fl=64),e}function pu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Xa(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-xn(t),e[t]=n}function kv(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-xn(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Dd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-xn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Ne=0;function Sy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ky,Md,Cy,Ey,Py,cc=!1,pl=[],Pr=null,Rr=null,Or=null,xa=new Map,va=new Map,pr=[],Cv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ah(e,t){switch(e){case"focusin":case"focusout":Pr=null;break;case"dragenter":case"dragleave":Rr=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":xa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":va.delete(t.pointerId)}}function Bi(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Ja(t),t!==null&&Md(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Ev(e,t,n,r,s){switch(t){case"focusin":return Pr=Bi(Pr,e,t,n,r,s),!0;case"dragenter":return Rr=Bi(Rr,e,t,n,r,s),!0;case"mouseover":return Or=Bi(Or,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return xa.set(i,Bi(xa.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,va.set(i,Bi(va.get(i)||null,e,t,n,r,s)),!0}return!1}function Ry(e){var t=Zr(e.target);if(t!==null){var n=Rs(t);if(n!==null){if(t=n.tag,t===13){if(t=xy(n),t!==null){e.blockedOn=t,Py(e.priority,function(){Cy(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Tl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=dc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ic=r,n.target.dispatchEvent(r),ic=null}else return t=Ja(n),t!==null&&Md(t),e.blockedOn=n,!1;t.shift()}return!0}function lh(e,t,n){Tl(e)&&n.delete(t)}function Pv(){cc=!1,Pr!==null&&Tl(Pr)&&(Pr=null),Rr!==null&&Tl(Rr)&&(Rr=null),Or!==null&&Tl(Or)&&(Or=null),xa.forEach(lh),va.forEach(lh)}function qi(e,t){e.blockedOn===t&&(e.blockedOn=null,cc||(cc=!0,Wt.unstable_scheduleCallback(Wt.unstable_NormalPriority,Pv)))}function wa(e){function t(s){return qi(s,e)}if(0<pl.length){qi(pl[0],e);for(var n=1;n<pl.length;n++){var r=pl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Pr!==null&&qi(Pr,e),Rr!==null&&qi(Rr,e),Or!==null&&qi(Or,e),xa.forEach(t),va.forEach(t),n=0;n<pr.length;n++)r=pr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<pr.length&&(n=pr[0],n.blockedOn===null);)Ry(n),n.blockedOn===null&&pr.shift()}var ei=Zn.ReactCurrentBatchConfig,Zl=!0;function Rv(e,t,n,r){var s=Ne,i=ei.transition;ei.transition=null;try{Ne=1,Ld(e,t,n,r)}finally{Ne=s,ei.transition=i}}function Ov(e,t,n,r){var s=Ne,i=ei.transition;ei.transition=null;try{Ne=4,Ld(e,t,n,r)}finally{Ne=s,ei.transition=i}}function Ld(e,t,n,r){if(Zl){var s=dc(e,t,n,r);if(s===null)_u(e,t,r,eo,n),ah(e,r);else if(Ev(s,e,t,n,r))r.stopPropagation();else if(ah(e,r),t&4&&-1<Cv.indexOf(e)){for(;s!==null;){var i=Ja(s);if(i!==null&&ky(i),i=dc(e,t,n,r),i===null&&_u(e,t,r,eo,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else _u(e,t,r,null,n)}}var eo=null;function dc(e,t,n,r){if(eo=null,e=Td(r),e=Zr(e),e!==null)if(t=Rs(e),t===null)e=null;else if(n=t.tag,n===13){if(e=xy(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return eo=e,null}function Oy(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xv()){case Ad:return 1;case jy:return 4;case Gl:case vv:return 16;case by:return 536870912;default:return 16}default:return 16}}var kr=null,Id=null,Al=null;function Fy(){if(Al)return Al;var e,t=Id,n=t.length,r,s="value"in kr?kr.value:kr.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[i-r];r++);return Al=s.slice(e,1<r?1-r:void 0)}function Dl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ml(){return!0}function oh(){return!1}function Kt(e){function t(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ml:oh,this.isPropagationStopped=oh,this}return Le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ml)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ml)},persist:function(){},isPersistent:ml}),t}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ud=Kt(Fi),Ga=Le({},Fi,{view:0,detail:0}),Fv=Kt(Ga),mu,yu,Wi,Ao=Le({},Ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wi&&(Wi&&e.type==="mousemove"?(mu=e.screenX-Wi.screenX,yu=e.screenY-Wi.screenY):yu=mu=0,Wi=e),mu)},movementY:function(e){return"movementY"in e?e.movementY:yu}}),uh=Kt(Ao),Tv=Le({},Ao,{dataTransfer:0}),Av=Kt(Tv),Dv=Le({},Ga,{relatedTarget:0}),gu=Kt(Dv),Mv=Le({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),Lv=Kt(Mv),Iv=Le({},Fi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Uv=Kt(Iv),zv=Le({},Fi,{data:0}),ch=Kt(zv),$v={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Bv[e])?!!t[e]:!1}function zd(){return qv}var Wv=Le({},Ga,{key:function(e){if(e.key){var t=$v[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Dl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Vv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(e){return e.type==="keypress"?Dl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Dl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Hv=Kt(Wv),Qv=Le({},Ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dh=Kt(Qv),Kv=Le({},Ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Yv=Kt(Kv),Xv=Le({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gv=Kt(Xv),Jv=Le({},Ao,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zv=Kt(Jv),ew=[9,13,27,32],$d=Kn&&"CompositionEvent"in window,aa=null;Kn&&"documentMode"in document&&(aa=document.documentMode);var tw=Kn&&"TextEvent"in window&&!aa,Ty=Kn&&(!$d||aa&&8<aa&&11>=aa),fh=" ",hh=!1;function Ay(e,t){switch(e){case"keyup":return ew.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $s=!1;function nw(e,t){switch(e){case"compositionend":return Dy(t);case"keypress":return t.which!==32?null:(hh=!0,fh);case"textInput":return e=t.data,e===fh&&hh?null:e;default:return null}}function rw(e,t){if($s)return e==="compositionend"||!$d&&Ay(e,t)?(e=Fy(),Al=Id=kr=null,$s=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ty&&t.locale!=="ko"?null:t.data;default:return null}}var sw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ph(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sw[e.type]:t==="textarea"}function My(e,t,n,r){hy(r),t=to(t,"onChange"),0<t.length&&(n=new Ud("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var la=null,Na=null;function iw(e){Qy(e,0)}function Do(e){var t=qs(e);if(ay(t))return e}function aw(e,t){if(e==="change")return t}var Ly=!1;if(Kn){var xu;if(Kn){var vu="oninput"in document;if(!vu){var mh=document.createElement("div");mh.setAttribute("oninput","return;"),vu=typeof mh.oninput=="function"}xu=vu}else xu=!1;Ly=xu&&(!document.documentMode||9<document.documentMode)}function yh(){la&&(la.detachEvent("onpropertychange",Iy),Na=la=null)}function Iy(e){if(e.propertyName==="value"&&Do(Na)){var t=[];My(t,Na,e,Td(e)),gy(iw,t)}}function lw(e,t,n){e==="focusin"?(yh(),la=t,Na=n,la.attachEvent("onpropertychange",Iy)):e==="focusout"&&yh()}function ow(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Do(Na)}function uw(e,t){if(e==="click")return Do(t)}function cw(e,t){if(e==="input"||e==="change")return Do(t)}function dw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wn=typeof Object.is=="function"?Object.is:dw;function ja(e,t){if(wn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Qu.call(t,s)||!wn(e[s],t[s]))return!1}return!0}function gh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xh(e,t){var n=gh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gh(n)}}function Uy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Uy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function zy(){for(var e=window,t=Kl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Kl(e.document)}return t}function Vd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function fw(e){var t=zy(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Uy(n.ownerDocument.documentElement,n)){if(r!==null&&Vd(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=xh(n,i);var a=xh(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hw=Kn&&"documentMode"in document&&11>=document.documentMode,Vs=null,fc=null,oa=null,hc=!1;function vh(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hc||Vs==null||Vs!==Kl(r)||(r=Vs,"selectionStart"in r&&Vd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),oa&&ja(oa,r)||(oa=r,r=to(fc,"onSelect"),0<r.length&&(t=new Ud("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Vs)))}function yl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Bs={animationend:yl("Animation","AnimationEnd"),animationiteration:yl("Animation","AnimationIteration"),animationstart:yl("Animation","AnimationStart"),transitionend:yl("Transition","TransitionEnd")},wu={},$y={};Kn&&($y=document.createElement("div").style,"AnimationEvent"in window||(delete Bs.animationend.animation,delete Bs.animationiteration.animation,delete Bs.animationstart.animation),"TransitionEvent"in window||delete Bs.transitionend.transition);function Mo(e){if(wu[e])return wu[e];if(!Bs[e])return e;var t=Bs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in $y)return wu[e]=t[n];return e}var Vy=Mo("animationend"),By=Mo("animationiteration"),qy=Mo("animationstart"),Wy=Mo("transitionend"),Hy=new Map,wh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qr(e,t){Hy.set(e,t),Ps(t,[e])}for(var Nu=0;Nu<wh.length;Nu++){var ju=wh[Nu],pw=ju.toLowerCase(),mw=ju[0].toUpperCase()+ju.slice(1);qr(pw,"on"+mw)}qr(Vy,"onAnimationEnd");qr(By,"onAnimationIteration");qr(qy,"onAnimationStart");qr("dblclick","onDoubleClick");qr("focusin","onFocus");qr("focusout","onBlur");qr(Wy,"onTransitionEnd");vi("onMouseEnter",["mouseout","mouseover"]);vi("onMouseLeave",["mouseout","mouseover"]);vi("onPointerEnter",["pointerout","pointerover"]);vi("onPointerLeave",["pointerout","pointerover"]);Ps("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ps("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ps("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ps("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ps("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ps("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var na="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yw=new Set("cancel close invalid load scroll toggle".split(" ").concat(na));function Nh(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,pv(r,t,void 0,e),e.currentTarget=null}function Qy(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],u=o.instance,c=o.currentTarget;if(o=o.listener,u!==i&&s.isPropagationStopped())break e;Nh(s,o,c),i=u}else for(a=0;a<r.length;a++){if(o=r[a],u=o.instance,c=o.currentTarget,o=o.listener,u!==i&&s.isPropagationStopped())break e;Nh(s,o,c),i=u}}}if(Xl)throw e=oc,Xl=!1,oc=null,e}function ke(e,t){var n=t[xc];n===void 0&&(n=t[xc]=new Set);var r=e+"__bubble";n.has(r)||(Ky(t,e,2,!1),n.add(r))}function bu(e,t,n){var r=0;t&&(r|=4),Ky(n,e,r,t)}var gl="_reactListening"+Math.random().toString(36).slice(2);function ba(e){if(!e[gl]){e[gl]=!0,ty.forEach(function(n){n!=="selectionchange"&&(yw.has(n)||bu(n,!1,e),bu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[gl]||(t[gl]=!0,bu("selectionchange",!1,t))}}function Ky(e,t,n,r){switch(Oy(t)){case 1:var s=Rv;break;case 4:s=Ov;break;default:s=Ld}n=s.bind(null,t,n,e),s=void 0,!lc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function _u(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;a=a.return}for(;o!==null;){if(a=Zr(o),a===null)return;if(u=a.tag,u===5||u===6){r=i=a;continue e}o=o.parentNode}}r=r.return}gy(function(){var c=i,f=Td(n),h=[];e:{var m=Hy.get(e);if(m!==void 0){var w=Ud,v=e;switch(e){case"keypress":if(Dl(n)===0)break e;case"keydown":case"keyup":w=Hv;break;case"focusin":v="focus",w=gu;break;case"focusout":v="blur",w=gu;break;case"beforeblur":case"afterblur":w=gu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=uh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=Av;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=Yv;break;case Vy:case By:case qy:w=Lv;break;case Wy:w=Gv;break;case"scroll":w=Fv;break;case"wheel":w=Zv;break;case"copy":case"cut":case"paste":w=Uv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=dh}var N=(t&4)!==0,x=!N&&e==="scroll",d=N?m!==null?m+"Capture":null:m;N=[];for(var p=c,y;p!==null;){y=p;var g=y.stateNode;if(y.tag===5&&g!==null&&(y=g,d!==null&&(g=ga(p,d),g!=null&&N.push(_a(p,g,y)))),x)break;p=p.return}0<N.length&&(m=new w(m,v,null,n,f),h.push({event:m,listeners:N}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",m&&n!==ic&&(v=n.relatedTarget||n.fromElement)&&(Zr(v)||v[Yn]))break e;if((w||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,w?(v=n.relatedTarget||n.toElement,w=c,v=v?Zr(v):null,v!==null&&(x=Rs(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(w=null,v=c),w!==v)){if(N=uh,g="onMouseLeave",d="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(N=dh,g="onPointerLeave",d="onPointerEnter",p="pointer"),x=w==null?m:qs(w),y=v==null?m:qs(v),m=new N(g,p+"leave",w,n,f),m.target=x,m.relatedTarget=y,g=null,Zr(f)===c&&(N=new N(d,p+"enter",v,n,f),N.target=y,N.relatedTarget=x,g=N),x=g,w&&v)t:{for(N=w,d=v,p=0,y=N;y;y=As(y))p++;for(y=0,g=d;g;g=As(g))y++;for(;0<p-y;)N=As(N),p--;for(;0<y-p;)d=As(d),y--;for(;p--;){if(N===d||d!==null&&N===d.alternate)break t;N=As(N),d=As(d)}N=null}else N=null;w!==null&&jh(h,m,w,N,!1),v!==null&&x!==null&&jh(h,x,v,N,!0)}}e:{if(m=c?qs(c):window,w=m.nodeName&&m.nodeName.toLowerCase(),w==="select"||w==="input"&&m.type==="file")var j=aw;else if(ph(m))if(Ly)j=cw;else{j=ow;var k=lw}else(w=m.nodeName)&&w.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(j=uw);if(j&&(j=j(e,c))){My(h,j,n,f);break e}k&&k(e,m,c),e==="focusout"&&(k=m._wrapperState)&&k.controlled&&m.type==="number"&&ec(m,"number",m.value)}switch(k=c?qs(c):window,e){case"focusin":(ph(k)||k.contentEditable==="true")&&(Vs=k,fc=c,oa=null);break;case"focusout":oa=fc=Vs=null;break;case"mousedown":hc=!0;break;case"contextmenu":case"mouseup":case"dragend":hc=!1,vh(h,n,f);break;case"selectionchange":if(hw)break;case"keydown":case"keyup":vh(h,n,f)}var E;if($d)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else $s?Ay(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Ty&&n.locale!=="ko"&&($s||T!=="onCompositionStart"?T==="onCompositionEnd"&&$s&&(E=Fy()):(kr=f,Id="value"in kr?kr.value:kr.textContent,$s=!0)),k=to(c,T),0<k.length&&(T=new ch(T,e,null,n,f),h.push({event:T,listeners:k}),E?T.data=E:(E=Dy(n),E!==null&&(T.data=E)))),(E=tw?nw(e,n):rw(e,n))&&(c=to(c,"onBeforeInput"),0<c.length&&(f=new ch("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:c}),f.data=E))}Qy(h,t)})}function _a(e,t,n){return{instance:e,listener:t,currentTarget:n}}function to(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ga(e,n),i!=null&&r.unshift(_a(e,i,s)),i=ga(e,t),i!=null&&r.push(_a(e,i,s))),e=e.return}return r}function As(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function jh(e,t,n,r,s){for(var i=t._reactName,a=[];n!==null&&n!==r;){var o=n,u=o.alternate,c=o.stateNode;if(u!==null&&u===r)break;o.tag===5&&c!==null&&(o=c,s?(u=ga(n,i),u!=null&&a.unshift(_a(n,u,o))):s||(u=ga(n,i),u!=null&&a.push(_a(n,u,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var gw=/\r\n?/g,xw=/\u0000|\uFFFD/g;function bh(e){return(typeof e=="string"?e:""+e).replace(gw,`
`).replace(xw,"")}function xl(e,t,n){if(t=bh(t),bh(e)!==t&&n)throw Error(I(425))}function no(){}var pc=null,mc=null;function yc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var gc=typeof setTimeout=="function"?setTimeout:void 0,vw=typeof clearTimeout=="function"?clearTimeout:void 0,_h=typeof Promise=="function"?Promise:void 0,ww=typeof queueMicrotask=="function"?queueMicrotask:typeof _h<"u"?function(e){return _h.resolve(null).then(e).catch(Nw)}:gc;function Nw(e){setTimeout(function(){throw e})}function Su(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),wa(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);wa(t)}function Fr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Sh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ti=Math.random().toString(36).slice(2),On="__reactFiber$"+Ti,Sa="__reactProps$"+Ti,Yn="__reactContainer$"+Ti,xc="__reactEvents$"+Ti,jw="__reactListeners$"+Ti,bw="__reactHandles$"+Ti;function Zr(e){var t=e[On];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Yn]||n[On]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Sh(e);e!==null;){if(n=e[On])return n;e=Sh(e)}return t}e=n,n=e.parentNode}return null}function Ja(e){return e=e[On]||e[Yn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function Lo(e){return e[Sa]||null}var vc=[],Ws=-1;function Wr(e){return{current:e}}function Ee(e){0>Ws||(e.current=vc[Ws],vc[Ws]=null,Ws--)}function _e(e,t){Ws++,vc[Ws]=e.current,e.current=t}var zr={},gt=Wr(zr),Tt=Wr(!1),gs=zr;function wi(e,t){var n=e.type.contextTypes;if(!n)return zr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function At(e){return e=e.childContextTypes,e!=null}function ro(){Ee(Tt),Ee(gt)}function kh(e,t,n){if(gt.current!==zr)throw Error(I(168));_e(gt,t),_e(Tt,n)}function Yy(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(I(108,lv(e)||"Unknown",s));return Le({},n,r)}function so(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||zr,gs=gt.current,_e(gt,e),_e(Tt,Tt.current),!0}function Ch(e,t,n){var r=e.stateNode;if(!r)throw Error(I(169));n?(e=Yy(e,t,gs),r.__reactInternalMemoizedMergedChildContext=e,Ee(Tt),Ee(gt),_e(gt,e)):Ee(Tt),_e(Tt,n)}var Un=null,Io=!1,ku=!1;function Xy(e){Un===null?Un=[e]:Un.push(e)}function _w(e){Io=!0,Xy(e)}function Hr(){if(!ku&&Un!==null){ku=!0;var e=0,t=Ne;try{var n=Un;for(Ne=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Un=null,Io=!1}catch(s){throw Un!==null&&(Un=Un.slice(e+1)),Ny(Ad,Hr),s}finally{Ne=t,ku=!1}}return null}var Hs=[],Qs=0,io=null,ao=0,Zt=[],en=0,xs=null,qn=1,Wn="";function Xr(e,t){Hs[Qs++]=ao,Hs[Qs++]=io,io=e,ao=t}function Gy(e,t,n){Zt[en++]=qn,Zt[en++]=Wn,Zt[en++]=xs,xs=e;var r=qn;e=Wn;var s=32-xn(r)-1;r&=~(1<<s),n+=1;var i=32-xn(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,qn=1<<32-xn(t)+s|n<<s|r,Wn=i+e}else qn=1<<i|n<<s|r,Wn=e}function Bd(e){e.return!==null&&(Xr(e,1),Gy(e,1,0))}function qd(e){for(;e===io;)io=Hs[--Qs],Hs[Qs]=null,ao=Hs[--Qs],Hs[Qs]=null;for(;e===xs;)xs=Zt[--en],Zt[en]=null,Wn=Zt[--en],Zt[en]=null,qn=Zt[--en],Zt[en]=null}var qt=null,Bt=null,Oe=!1,mn=null;function Jy(e,t){var n=tn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Eh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,qt=e,Bt=Fr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,qt=e,Bt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=xs!==null?{id:qn,overflow:Wn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=tn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,qt=e,Bt=null,!0):!1;default:return!1}}function wc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Nc(e){if(Oe){var t=Bt;if(t){var n=t;if(!Eh(e,t)){if(wc(e))throw Error(I(418));t=Fr(n.nextSibling);var r=qt;t&&Eh(e,t)?Jy(r,n):(e.flags=e.flags&-4097|2,Oe=!1,qt=e)}}else{if(wc(e))throw Error(I(418));e.flags=e.flags&-4097|2,Oe=!1,qt=e}}}function Ph(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;qt=e}function vl(e){if(e!==qt)return!1;if(!Oe)return Ph(e),Oe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!yc(e.type,e.memoizedProps)),t&&(t=Bt)){if(wc(e))throw Zy(),Error(I(418));for(;t;)Jy(e,t),t=Fr(t.nextSibling)}if(Ph(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Bt=Fr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Bt=null}}else Bt=qt?Fr(e.stateNode.nextSibling):null;return!0}function Zy(){for(var e=Bt;e;)e=Fr(e.nextSibling)}function Ni(){Bt=qt=null,Oe=!1}function Wd(e){mn===null?mn=[e]:mn.push(e)}var Sw=Zn.ReactCurrentBatchConfig;function Hi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var r=n.stateNode}if(!r)throw Error(I(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,e))}return e}function wl(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Rh(e){var t=e._init;return t(e._payload)}function eg(e){function t(d,p){if(e){var y=d.deletions;y===null?(d.deletions=[p],d.flags|=16):y.push(p)}}function n(d,p){if(!e)return null;for(;p!==null;)t(d,p),p=p.sibling;return null}function r(d,p){for(d=new Map;p!==null;)p.key!==null?d.set(p.key,p):d.set(p.index,p),p=p.sibling;return d}function s(d,p){return d=Mr(d,p),d.index=0,d.sibling=null,d}function i(d,p,y){return d.index=y,e?(y=d.alternate,y!==null?(y=y.index,y<p?(d.flags|=2,p):y):(d.flags|=2,p)):(d.flags|=1048576,p)}function a(d){return e&&d.alternate===null&&(d.flags|=2),d}function o(d,p,y,g){return p===null||p.tag!==6?(p=Tu(y,d.mode,g),p.return=d,p):(p=s(p,y),p.return=d,p)}function u(d,p,y,g){var j=y.type;return j===zs?f(d,p,y.props.children,g,y.key):p!==null&&(p.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===dr&&Rh(j)===p.type)?(g=s(p,y.props),g.ref=Hi(d,p,y),g.return=d,g):(g=Vl(y.type,y.key,y.props,null,d.mode,g),g.ref=Hi(d,p,y),g.return=d,g)}function c(d,p,y,g){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=Au(y,d.mode,g),p.return=d,p):(p=s(p,y.children||[]),p.return=d,p)}function f(d,p,y,g,j){return p===null||p.tag!==7?(p=ms(y,d.mode,g,j),p.return=d,p):(p=s(p,y),p.return=d,p)}function h(d,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Tu(""+p,d.mode,y),p.return=d,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ul:return y=Vl(p.type,p.key,p.props,null,d.mode,y),y.ref=Hi(d,null,p),y.return=d,y;case Us:return p=Au(p,d.mode,y),p.return=d,p;case dr:var g=p._init;return h(d,g(p._payload),y)}if(ea(p)||$i(p))return p=ms(p,d.mode,y,null),p.return=d,p;wl(d,p)}return null}function m(d,p,y,g){var j=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return j!==null?null:o(d,p,""+y,g);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ul:return y.key===j?u(d,p,y,g):null;case Us:return y.key===j?c(d,p,y,g):null;case dr:return j=y._init,m(d,p,j(y._payload),g)}if(ea(y)||$i(y))return j!==null?null:f(d,p,y,g,null);wl(d,y)}return null}function w(d,p,y,g,j){if(typeof g=="string"&&g!==""||typeof g=="number")return d=d.get(y)||null,o(p,d,""+g,j);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ul:return d=d.get(g.key===null?y:g.key)||null,u(p,d,g,j);case Us:return d=d.get(g.key===null?y:g.key)||null,c(p,d,g,j);case dr:var k=g._init;return w(d,p,y,k(g._payload),j)}if(ea(g)||$i(g))return d=d.get(y)||null,f(p,d,g,j,null);wl(p,g)}return null}function v(d,p,y,g){for(var j=null,k=null,E=p,T=p=0,F=null;E!==null&&T<y.length;T++){E.index>T?(F=E,E=null):F=E.sibling;var R=m(d,E,y[T],g);if(R===null){E===null&&(E=F);break}e&&E&&R.alternate===null&&t(d,E),p=i(R,p,T),k===null?j=R:k.sibling=R,k=R,E=F}if(T===y.length)return n(d,E),Oe&&Xr(d,T),j;if(E===null){for(;T<y.length;T++)E=h(d,y[T],g),E!==null&&(p=i(E,p,T),k===null?j=E:k.sibling=E,k=E);return Oe&&Xr(d,T),j}for(E=r(d,E);T<y.length;T++)F=w(E,d,T,y[T],g),F!==null&&(e&&F.alternate!==null&&E.delete(F.key===null?T:F.key),p=i(F,p,T),k===null?j=F:k.sibling=F,k=F);return e&&E.forEach(function(V){return t(d,V)}),Oe&&Xr(d,T),j}function N(d,p,y,g){var j=$i(y);if(typeof j!="function")throw Error(I(150));if(y=j.call(y),y==null)throw Error(I(151));for(var k=j=null,E=p,T=p=0,F=null,R=y.next();E!==null&&!R.done;T++,R=y.next()){E.index>T?(F=E,E=null):F=E.sibling;var V=m(d,E,R.value,g);if(V===null){E===null&&(E=F);break}e&&E&&V.alternate===null&&t(d,E),p=i(V,p,T),k===null?j=V:k.sibling=V,k=V,E=F}if(R.done)return n(d,E),Oe&&Xr(d,T),j;if(E===null){for(;!R.done;T++,R=y.next())R=h(d,R.value,g),R!==null&&(p=i(R,p,T),k===null?j=R:k.sibling=R,k=R);return Oe&&Xr(d,T),j}for(E=r(d,E);!R.done;T++,R=y.next())R=w(E,d,T,R.value,g),R!==null&&(e&&R.alternate!==null&&E.delete(R.key===null?T:R.key),p=i(R,p,T),k===null?j=R:k.sibling=R,k=R);return e&&E.forEach(function(D){return t(d,D)}),Oe&&Xr(d,T),j}function x(d,p,y,g){if(typeof y=="object"&&y!==null&&y.type===zs&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case ul:e:{for(var j=y.key,k=p;k!==null;){if(k.key===j){if(j=y.type,j===zs){if(k.tag===7){n(d,k.sibling),p=s(k,y.props.children),p.return=d,d=p;break e}}else if(k.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===dr&&Rh(j)===k.type){n(d,k.sibling),p=s(k,y.props),p.ref=Hi(d,k,y),p.return=d,d=p;break e}n(d,k);break}else t(d,k);k=k.sibling}y.type===zs?(p=ms(y.props.children,d.mode,g,y.key),p.return=d,d=p):(g=Vl(y.type,y.key,y.props,null,d.mode,g),g.ref=Hi(d,p,y),g.return=d,d=g)}return a(d);case Us:e:{for(k=y.key;p!==null;){if(p.key===k)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){n(d,p.sibling),p=s(p,y.children||[]),p.return=d,d=p;break e}else{n(d,p);break}else t(d,p);p=p.sibling}p=Au(y,d.mode,g),p.return=d,d=p}return a(d);case dr:return k=y._init,x(d,p,k(y._payload),g)}if(ea(y))return v(d,p,y,g);if($i(y))return N(d,p,y,g);wl(d,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(n(d,p.sibling),p=s(p,y),p.return=d,d=p):(n(d,p),p=Tu(y,d.mode,g),p.return=d,d=p),a(d)):n(d,p)}return x}var ji=eg(!0),tg=eg(!1),lo=Wr(null),oo=null,Ks=null,Hd=null;function Qd(){Hd=Ks=oo=null}function Kd(e){var t=lo.current;Ee(lo),e._currentValue=t}function jc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ti(e,t){oo=e,Hd=Ks=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ft=!0),e.firstContext=null)}function rn(e){var t=e._currentValue;if(Hd!==e)if(e={context:e,memoizedValue:t,next:null},Ks===null){if(oo===null)throw Error(I(308));Ks=e,oo.dependencies={lanes:0,firstContext:e}}else Ks=Ks.next=e;return t}var es=null;function Yd(e){es===null?es=[e]:es.push(e)}function ng(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Yd(t)):(n.next=s.next,s.next=n),t.interleaved=n,Xn(e,r)}function Xn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var fr=!1;function Xd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Hn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Tr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,me&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Xn(e,n)}return s=r.interleaved,s===null?(t.next=t,Yd(r)):(t.next=s.next,s.next=t),r.interleaved=t,Xn(e,n)}function Ml(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Dd(e,n)}}function Oh(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function uo(e,t,n,r){var s=e.updateQueue;fr=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var u=o,c=u.next;u.next=null,a===null?i=c:a.next=c,a=u;var f=e.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==a&&(o===null?f.firstBaseUpdate=c:o.next=c,f.lastBaseUpdate=u))}if(i!==null){var h=s.baseState;a=0,f=c=u=null,o=i;do{var m=o.lane,w=o.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:w,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=e,N=o;switch(m=t,w=n,N.tag){case 1:if(v=N.payload,typeof v=="function"){h=v.call(w,h,m);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=N.payload,m=typeof v=="function"?v.call(w,h,m):v,m==null)break e;h=Le({},h,m);break e;case 2:fr=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[o]:m.push(o))}else w={eventTime:w,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(c=f=w,u=h):f=f.next=w,a|=m;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;m=o,o=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(f===null&&(u=h),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);ws|=a,e.lanes=a,e.memoizedState=h}}function Fh(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(I(191,s));s.call(r)}}}var Za={},Tn=Wr(Za),ka=Wr(Za),Ca=Wr(Za);function ts(e){if(e===Za)throw Error(I(174));return e}function Gd(e,t){switch(_e(Ca,t),_e(ka,e),_e(Tn,Za),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:nc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=nc(t,e)}Ee(Tn),_e(Tn,t)}function bi(){Ee(Tn),Ee(ka),Ee(Ca)}function sg(e){ts(Ca.current);var t=ts(Tn.current),n=nc(t,e.type);t!==n&&(_e(ka,e),_e(Tn,n))}function Jd(e){ka.current===e&&(Ee(Tn),Ee(ka))}var Fe=Wr(0);function co(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Cu=[];function Zd(){for(var e=0;e<Cu.length;e++)Cu[e]._workInProgressVersionPrimary=null;Cu.length=0}var Ll=Zn.ReactCurrentDispatcher,Eu=Zn.ReactCurrentBatchConfig,vs=0,Te=null,Xe=null,et=null,fo=!1,ua=!1,Ea=0,kw=0;function ut(){throw Error(I(321))}function ef(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!wn(e[n],t[n]))return!1;return!0}function tf(e,t,n,r,s,i){if(vs=i,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ll.current=e===null||e.memoizedState===null?Rw:Ow,e=n(r,s),ua){i=0;do{if(ua=!1,Ea=0,25<=i)throw Error(I(301));i+=1,et=Xe=null,t.updateQueue=null,Ll.current=Fw,e=n(r,s)}while(ua)}if(Ll.current=ho,t=Xe!==null&&Xe.next!==null,vs=0,et=Xe=Te=null,fo=!1,t)throw Error(I(300));return e}function nf(){var e=Ea!==0;return Ea=0,e}function kn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?Te.memoizedState=et=e:et=et.next=e,et}function sn(){if(Xe===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=Xe.next;var t=et===null?Te.memoizedState:et.next;if(t!==null)et=t,Xe=e;else{if(e===null)throw Error(I(310));Xe=e,e={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},et===null?Te.memoizedState=et=e:et=et.next=e}return et}function Pa(e,t){return typeof t=="function"?t(e):t}function Pu(e){var t=sn(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=Xe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var o=a=null,u=null,c=i;do{var f=c.lane;if((vs&f)===f)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(o=u=h,a=r):u=u.next=h,Te.lanes|=f,ws|=f}c=c.next}while(c!==null&&c!==i);u===null?a=r:u.next=o,wn(r,t.memoizedState)||(Ft=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Te.lanes|=i,ws|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ru(e){var t=sn(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);wn(i,t.memoizedState)||(Ft=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function ig(){}function ag(e,t){var n=Te,r=sn(),s=t(),i=!wn(r.memoizedState,s);if(i&&(r.memoizedState=s,Ft=!0),r=r.queue,rf(ug.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||et!==null&&et.memoizedState.tag&1){if(n.flags|=2048,Ra(9,og.bind(null,n,r,s,t),void 0,null),nt===null)throw Error(I(349));vs&30||lg(n,t,s)}return s}function lg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function og(e,t,n,r){t.value=n,t.getSnapshot=r,cg(t)&&dg(e)}function ug(e,t,n){return n(function(){cg(t)&&dg(e)})}function cg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!wn(e,n)}catch{return!0}}function dg(e){var t=Xn(e,1);t!==null&&vn(t,e,1,-1)}function Th(e){var t=kn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:e},t.queue=e,e=e.dispatch=Pw.bind(null,Te,e),[t.memoizedState,e]}function Ra(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function fg(){return sn().memoizedState}function Il(e,t,n,r){var s=kn();Te.flags|=e,s.memoizedState=Ra(1|t,n,void 0,r===void 0?null:r)}function Uo(e,t,n,r){var s=sn();r=r===void 0?null:r;var i=void 0;if(Xe!==null){var a=Xe.memoizedState;if(i=a.destroy,r!==null&&ef(r,a.deps)){s.memoizedState=Ra(t,n,i,r);return}}Te.flags|=e,s.memoizedState=Ra(1|t,n,i,r)}function Ah(e,t){return Il(8390656,8,e,t)}function rf(e,t){return Uo(2048,8,e,t)}function hg(e,t){return Uo(4,2,e,t)}function pg(e,t){return Uo(4,4,e,t)}function mg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yg(e,t,n){return n=n!=null?n.concat([e]):null,Uo(4,4,mg.bind(null,t,e),n)}function sf(){}function gg(e,t){var n=sn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ef(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function xg(e,t){var n=sn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ef(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function vg(e,t,n){return vs&21?(wn(n,t)||(n=_y(),Te.lanes|=n,ws|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ft=!0),e.memoizedState=n)}function Cw(e,t){var n=Ne;Ne=n!==0&&4>n?n:4,e(!0);var r=Eu.transition;Eu.transition={};try{e(!1),t()}finally{Ne=n,Eu.transition=r}}function wg(){return sn().memoizedState}function Ew(e,t,n){var r=Dr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ng(e))jg(t,n);else if(n=ng(e,t,n,r),n!==null){var s=bt();vn(n,e,r,s),bg(n,t,r)}}function Pw(e,t,n){var r=Dr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ng(e))jg(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,wn(o,a)){var u=t.interleaved;u===null?(s.next=s,Yd(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}n=ng(e,t,s,r),n!==null&&(s=bt(),vn(n,e,r,s),bg(n,t,r))}}function Ng(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function jg(e,t){ua=fo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function bg(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Dd(e,n)}}var ho={readContext:rn,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useInsertionEffect:ut,useLayoutEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useMutableSource:ut,useSyncExternalStore:ut,useId:ut,unstable_isNewReconciler:!1},Rw={readContext:rn,useCallback:function(e,t){return kn().memoizedState=[e,t===void 0?null:t],e},useContext:rn,useEffect:Ah,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Il(4194308,4,mg.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Il(4194308,4,e,t)},useInsertionEffect:function(e,t){return Il(4,2,e,t)},useMemo:function(e,t){var n=kn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=kn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ew.bind(null,Te,e),[r.memoizedState,e]},useRef:function(e){var t=kn();return e={current:e},t.memoizedState=e},useState:Th,useDebugValue:sf,useDeferredValue:function(e){return kn().memoizedState=e},useTransition:function(){var e=Th(!1),t=e[0];return e=Cw.bind(null,e[1]),kn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Te,s=kn();if(Oe){if(n===void 0)throw Error(I(407));n=n()}else{if(n=t(),nt===null)throw Error(I(349));vs&30||lg(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Ah(ug.bind(null,r,i,e),[e]),r.flags|=2048,Ra(9,og.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=kn(),t=nt.identifierPrefix;if(Oe){var n=Wn,r=qn;n=(r&~(1<<32-xn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ea++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=kw++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ow={readContext:rn,useCallback:gg,useContext:rn,useEffect:rf,useImperativeHandle:yg,useInsertionEffect:hg,useLayoutEffect:pg,useMemo:xg,useReducer:Pu,useRef:fg,useState:function(){return Pu(Pa)},useDebugValue:sf,useDeferredValue:function(e){var t=sn();return vg(t,Xe.memoizedState,e)},useTransition:function(){var e=Pu(Pa)[0],t=sn().memoizedState;return[e,t]},useMutableSource:ig,useSyncExternalStore:ag,useId:wg,unstable_isNewReconciler:!1},Fw={readContext:rn,useCallback:gg,useContext:rn,useEffect:rf,useImperativeHandle:yg,useInsertionEffect:hg,useLayoutEffect:pg,useMemo:xg,useReducer:Ru,useRef:fg,useState:function(){return Ru(Pa)},useDebugValue:sf,useDeferredValue:function(e){var t=sn();return Xe===null?t.memoizedState=e:vg(t,Xe.memoizedState,e)},useTransition:function(){var e=Ru(Pa)[0],t=sn().memoizedState;return[e,t]},useMutableSource:ig,useSyncExternalStore:ag,useId:wg,unstable_isNewReconciler:!1};function dn(e,t){if(e&&e.defaultProps){t=Le({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function bc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Le({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var zo={isMounted:function(e){return(e=e._reactInternals)?Rs(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=bt(),s=Dr(e),i=Hn(r,s);i.payload=t,n!=null&&(i.callback=n),t=Tr(e,i,s),t!==null&&(vn(t,e,s,r),Ml(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=bt(),s=Dr(e),i=Hn(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Tr(e,i,s),t!==null&&(vn(t,e,s,r),Ml(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=bt(),r=Dr(e),s=Hn(n,r);s.tag=2,t!=null&&(s.callback=t),t=Tr(e,s,r),t!==null&&(vn(t,e,r,n),Ml(t,e,r))}};function Dh(e,t,n,r,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!ja(n,r)||!ja(s,i):!0}function _g(e,t,n){var r=!1,s=zr,i=t.contextType;return typeof i=="object"&&i!==null?i=rn(i):(s=At(t)?gs:gt.current,r=t.contextTypes,i=(r=r!=null)?wi(e,s):zr),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=zo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Mh(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&zo.enqueueReplaceState(t,t.state,null)}function _c(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Xd(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=rn(i):(i=At(t)?gs:gt.current,s.context=wi(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(bc(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&zo.enqueueReplaceState(s,s.state,null),uo(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function _i(e,t){try{var n="",r=t;do n+=av(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Ou(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Sc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Tw=typeof WeakMap=="function"?WeakMap:Map;function Sg(e,t,n){n=Hn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){mo||(mo=!0,Dc=r),Sc(e,t)},n}function kg(e,t,n){n=Hn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Sc(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Sc(e,t),typeof r!="function"&&(Ar===null?Ar=new Set([this]):Ar.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Lh(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Tw;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Qw.bind(null,e,t,n),t.then(e,e))}function Ih(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Uh(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Hn(-1,1),t.tag=2,Tr(n,t,1))),n.lanes|=1),e)}var Aw=Zn.ReactCurrentOwner,Ft=!1;function Nt(e,t,n,r){t.child=e===null?tg(t,null,n,r):ji(t,e.child,n,r)}function zh(e,t,n,r,s){n=n.render;var i=t.ref;return ti(t,s),r=tf(e,t,n,r,i,s),n=nf(),e!==null&&!Ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Gn(e,t,s)):(Oe&&n&&Bd(t),t.flags|=1,Nt(e,t,r,s),t.child)}function $h(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!hf(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Cg(e,t,i,r,s)):(e=Vl(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:ja,n(a,r)&&e.ref===t.ref)return Gn(e,t,s)}return t.flags|=1,e=Mr(i,r),e.ref=t.ref,e.return=t,t.child=e}function Cg(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(ja(i,r)&&e.ref===t.ref)if(Ft=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Ft=!0);else return t.lanes=e.lanes,Gn(e,t,s)}return kc(e,t,n,r,s)}function Eg(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(Xs,zt),zt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_e(Xs,zt),zt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,_e(Xs,zt),zt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,_e(Xs,zt),zt|=r;return Nt(e,t,s,n),t.child}function Pg(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function kc(e,t,n,r,s){var i=At(n)?gs:gt.current;return i=wi(t,i),ti(t,s),n=tf(e,t,n,r,i,s),r=nf(),e!==null&&!Ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Gn(e,t,s)):(Oe&&r&&Bd(t),t.flags|=1,Nt(e,t,n,s),t.child)}function Vh(e,t,n,r,s){if(At(n)){var i=!0;so(t)}else i=!1;if(ti(t,s),t.stateNode===null)Ul(e,t),_g(t,n,r),_c(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var u=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=rn(c):(c=At(n)?gs:gt.current,c=wi(t,c));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||u!==c)&&Mh(t,a,r,c),fr=!1;var m=t.memoizedState;a.state=m,uo(t,r,a,s),u=t.memoizedState,o!==r||m!==u||Tt.current||fr?(typeof f=="function"&&(bc(t,n,f,r),u=t.memoizedState),(o=fr||Dh(t,n,o,r,m,u,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,rg(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:dn(t.type,o),a.props=c,h=t.pendingProps,m=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=rn(u):(u=At(n)?gs:gt.current,u=wi(t,u));var w=n.getDerivedStateFromProps;(f=typeof w=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||m!==u)&&Mh(t,a,r,u),fr=!1,m=t.memoizedState,a.state=m,uo(t,r,a,s);var v=t.memoizedState;o!==h||m!==v||Tt.current||fr?(typeof w=="function"&&(bc(t,n,w,r),v=t.memoizedState),(c=fr||Dh(t,n,c,r,m,v,u)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),a.props=r,a.state=v,a.context=u,r=c):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Cc(e,t,n,r,i,s)}function Cc(e,t,n,r,s,i){Pg(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&Ch(t,n,!1),Gn(e,t,i);r=t.stateNode,Aw.current=t;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=ji(t,e.child,null,i),t.child=ji(t,null,o,i)):Nt(e,t,o,i),t.memoizedState=r.state,s&&Ch(t,n,!0),t.child}function Rg(e){var t=e.stateNode;t.pendingContext?kh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&kh(e,t.context,!1),Gd(e,t.containerInfo)}function Bh(e,t,n,r,s){return Ni(),Wd(s),t.flags|=256,Nt(e,t,n,r),t.child}var Ec={dehydrated:null,treeContext:null,retryLane:0};function Pc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Og(e,t,n){var r=t.pendingProps,s=Fe.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),_e(Fe,s&1),e===null)return Nc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Bo(a,r,0,null),e=ms(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Pc(n),t.memoizedState=Ec,e):af(t,a));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return Dw(e,t,a,r,o,s,n);if(i){i=r.fallback,a=t.mode,s=e.child,o=s.sibling;var u={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Mr(s,u),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Mr(o,i):(i=ms(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?Pc(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=Ec,r}return i=e.child,e=i.sibling,r=Mr(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function af(e,t){return t=Bo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Nl(e,t,n,r){return r!==null&&Wd(r),ji(t,e.child,null,n),e=af(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Dw(e,t,n,r,s,i,a){if(n)return t.flags&256?(t.flags&=-257,r=Ou(Error(I(422))),Nl(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Bo({mode:"visible",children:r.children},s,0,null),i=ms(i,s,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&ji(t,e.child,null,a),t.child.memoizedState=Pc(a),t.memoizedState=Ec,i);if(!(t.mode&1))return Nl(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(I(419)),r=Ou(i,r,void 0),Nl(e,t,a,r)}if(o=(a&e.childLanes)!==0,Ft||o){if(r=nt,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Xn(e,s),vn(r,e,s,-1))}return ff(),r=Ou(Error(I(421))),Nl(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Kw.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Bt=Fr(s.nextSibling),qt=t,Oe=!0,mn=null,e!==null&&(Zt[en++]=qn,Zt[en++]=Wn,Zt[en++]=xs,qn=e.id,Wn=e.overflow,xs=t),t=af(t,r.children),t.flags|=4096,t)}function qh(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),jc(e.return,t,n)}function Fu(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Fg(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Nt(e,t,r.children,n),r=Fe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qh(e,n,t);else if(e.tag===19)qh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_e(Fe,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&co(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Fu(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&co(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Fu(t,!0,n,null,i);break;case"together":Fu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ul(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ws|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,n=Mr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Mr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Mw(e,t,n){switch(t.tag){case 3:Rg(t),Ni();break;case 5:sg(t);break;case 1:At(t.type)&&so(t);break;case 4:Gd(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;_e(lo,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(_e(Fe,Fe.current&1),t.flags|=128,null):n&t.child.childLanes?Og(e,t,n):(_e(Fe,Fe.current&1),e=Gn(e,t,n),e!==null?e.sibling:null);_e(Fe,Fe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Fg(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),_e(Fe,Fe.current),r)break;return null;case 22:case 23:return t.lanes=0,Eg(e,t,n)}return Gn(e,t,n)}var Tg,Rc,Ag,Dg;Tg=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Rc=function(){};Ag=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,ts(Tn.current);var i=null;switch(n){case"input":s=Ju(e,s),r=Ju(e,r),i=[];break;case"select":s=Le({},s,{value:void 0}),r=Le({},r,{value:void 0}),i=[];break;case"textarea":s=tc(e,s),r=tc(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=no)}rc(n,r);var a;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var o=s[c];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ma.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(o=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==o&&(u!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&o[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,o=o?o.__html:void 0,u!=null&&o!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ma.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&ke("scroll",e),i||o===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Dg=function(e,t,n,r){n!==r&&(t.flags|=4)};function Qi(e,t){if(!Oe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ct(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Lw(e,t,n){var r=t.pendingProps;switch(qd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(t),null;case 1:return At(t.type)&&ro(),ct(t),null;case 3:return r=t.stateNode,bi(),Ee(Tt),Ee(gt),Zd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(vl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mn!==null&&(Ic(mn),mn=null))),Rc(e,t),ct(t),null;case 5:Jd(t);var s=ts(Ca.current);if(n=t.type,e!==null&&t.stateNode!=null)Ag(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(I(166));return ct(t),null}if(e=ts(Tn.current),vl(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[On]=t,r[Sa]=i,e=(t.mode&1)!==0,n){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(s=0;s<na.length;s++)ke(na[s],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":Zf(r,i),ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ke("invalid",r);break;case"textarea":th(r,i),ke("invalid",r)}rc(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&xl(r.textContent,o,e),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&xl(r.textContent,o,e),s=["children",""+o]):ma.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&ke("scroll",r)}switch(n){case"input":cl(r),eh(r,i,!0);break;case"textarea":cl(r),nh(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=no)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=uy(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[On]=t,e[Sa]=r,Tg(e,t,!1,!1),t.stateNode=e;e:{switch(a=sc(n,r),n){case"dialog":ke("cancel",e),ke("close",e),s=r;break;case"iframe":case"object":case"embed":ke("load",e),s=r;break;case"video":case"audio":for(s=0;s<na.length;s++)ke(na[s],e);s=r;break;case"source":ke("error",e),s=r;break;case"img":case"image":case"link":ke("error",e),ke("load",e),s=r;break;case"details":ke("toggle",e),s=r;break;case"input":Zf(e,r),s=Ju(e,r),ke("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Le({},r,{value:void 0}),ke("invalid",e);break;case"textarea":th(e,r),s=tc(e,r),ke("invalid",e);break;default:s=r}rc(n,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var u=o[i];i==="style"?fy(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&cy(e,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ya(e,u):typeof u=="number"&&ya(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ma.hasOwnProperty(i)?u!=null&&i==="onScroll"&&ke("scroll",e):u!=null&&Pd(e,i,u,a))}switch(n){case"input":cl(e),eh(e,r,!1);break;case"textarea":cl(e),nh(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ur(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Gs(e,!!r.multiple,i,!1):r.defaultValue!=null&&Gs(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=no)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ct(t),null;case 6:if(e&&t.stateNode!=null)Dg(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(I(166));if(n=ts(Ca.current),ts(Tn.current),vl(t)){if(r=t.stateNode,n=t.memoizedProps,r[On]=t,(i=r.nodeValue!==n)&&(e=qt,e!==null))switch(e.tag){case 3:xl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&xl(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[On]=t,t.stateNode=r}return ct(t),null;case 13:if(Ee(Fe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Oe&&Bt!==null&&t.mode&1&&!(t.flags&128))Zy(),Ni(),t.flags|=98560,i=!1;else if(i=vl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(I(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(I(317));i[On]=t}else Ni(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ct(t),i=!1}else mn!==null&&(Ic(mn),mn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Fe.current&1?Ge===0&&(Ge=3):ff())),t.updateQueue!==null&&(t.flags|=4),ct(t),null);case 4:return bi(),Rc(e,t),e===null&&ba(t.stateNode.containerInfo),ct(t),null;case 10:return Kd(t.type._context),ct(t),null;case 17:return At(t.type)&&ro(),ct(t),null;case 19:if(Ee(Fe),i=t.memoizedState,i===null)return ct(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)Qi(i,!1);else{if(Ge!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=co(e),a!==null){for(t.flags|=128,Qi(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _e(Fe,Fe.current&1|2),t.child}e=e.sibling}i.tail!==null&&Be()>Si&&(t.flags|=128,r=!0,Qi(i,!1),t.lanes=4194304)}else{if(!r)if(e=co(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Qi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Oe)return ct(t),null}else 2*Be()-i.renderingStartTime>Si&&n!==1073741824&&(t.flags|=128,r=!0,Qi(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Be(),t.sibling=null,n=Fe.current,_e(Fe,r?n&1|2:n&1),t):(ct(t),null);case 22:case 23:return df(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?zt&1073741824&&(ct(t),t.subtreeFlags&6&&(t.flags|=8192)):ct(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function Iw(e,t){switch(qd(t),t.tag){case 1:return At(t.type)&&ro(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return bi(),Ee(Tt),Ee(gt),Zd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Jd(t),null;case 13:if(Ee(Fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));Ni()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ee(Fe),null;case 4:return bi(),null;case 10:return Kd(t.type._context),null;case 22:case 23:return df(),null;case 24:return null;default:return null}}var jl=!1,ht=!1,Uw=typeof WeakSet=="function"?WeakSet:Set,X=null;function Ys(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ze(e,t,r)}else n.current=null}function Oc(e,t,n){try{n()}catch(r){ze(e,t,r)}}var Wh=!1;function zw(e,t){if(pc=Zl,e=zy(),Vd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,o=-1,u=-1,c=0,f=0,h=e,m=null;t:for(;;){for(var w;h!==n||s!==0&&h.nodeType!==3||(o=a+s),h!==i||r!==0&&h.nodeType!==3||(u=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(w=h.firstChild)!==null;)m=h,h=w;for(;;){if(h===e)break t;if(m===n&&++c===s&&(o=a),m===i&&++f===r&&(u=a),(w=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=w}n=o===-1||u===-1?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(mc={focusedElem:e,selectionRange:n},Zl=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var N=v.memoizedProps,x=v.memoizedState,d=t.stateNode,p=d.getSnapshotBeforeUpdate(t.elementType===t.type?N:dn(t.type,N),x);d.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(g){ze(t,t.return,g)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return v=Wh,Wh=!1,v}function ca(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Oc(t,n,i)}s=s.next}while(s!==r)}}function $o(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Fc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Mg(e){var t=e.alternate;t!==null&&(e.alternate=null,Mg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[On],delete t[Sa],delete t[xc],delete t[jw],delete t[bw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Lg(e){return e.tag===5||e.tag===3||e.tag===4}function Hh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Lg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Tc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=no));else if(r!==4&&(e=e.child,e!==null))for(Tc(e,t,n),e=e.sibling;e!==null;)Tc(e,t,n),e=e.sibling}function Ac(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ac(e,t,n),e=e.sibling;e!==null;)Ac(e,t,n),e=e.sibling}var rt=null,pn=!1;function or(e,t,n){for(n=n.child;n!==null;)Ig(e,t,n),n=n.sibling}function Ig(e,t,n){if(Fn&&typeof Fn.onCommitFiberUnmount=="function")try{Fn.onCommitFiberUnmount(To,n)}catch{}switch(n.tag){case 5:ht||Ys(n,t);case 6:var r=rt,s=pn;rt=null,or(e,t,n),rt=r,pn=s,rt!==null&&(pn?(e=rt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):rt.removeChild(n.stateNode));break;case 18:rt!==null&&(pn?(e=rt,n=n.stateNode,e.nodeType===8?Su(e.parentNode,n):e.nodeType===1&&Su(e,n),wa(e)):Su(rt,n.stateNode));break;case 4:r=rt,s=pn,rt=n.stateNode.containerInfo,pn=!0,or(e,t,n),rt=r,pn=s;break;case 0:case 11:case 14:case 15:if(!ht&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Oc(n,t,a),s=s.next}while(s!==r)}or(e,t,n);break;case 1:if(!ht&&(Ys(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){ze(n,t,o)}or(e,t,n);break;case 21:or(e,t,n);break;case 22:n.mode&1?(ht=(r=ht)||n.memoizedState!==null,or(e,t,n),ht=r):or(e,t,n);break;default:or(e,t,n)}}function Qh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Uw),t.forEach(function(r){var s=Yw.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function cn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:rt=o.stateNode,pn=!1;break e;case 3:rt=o.stateNode.containerInfo,pn=!0;break e;case 4:rt=o.stateNode.containerInfo,pn=!0;break e}o=o.return}if(rt===null)throw Error(I(160));Ig(i,a,s),rt=null,pn=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){ze(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ug(t,e),t=t.sibling}function Ug(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(cn(t,e),_n(e),r&4){try{ca(3,e,e.return),$o(3,e)}catch(N){ze(e,e.return,N)}try{ca(5,e,e.return)}catch(N){ze(e,e.return,N)}}break;case 1:cn(t,e),_n(e),r&512&&n!==null&&Ys(n,n.return);break;case 5:if(cn(t,e),_n(e),r&512&&n!==null&&Ys(n,n.return),e.flags&32){var s=e.stateNode;try{ya(s,"")}catch(N){ze(e,e.return,N)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,o=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&ly(s,i),sc(o,a);var c=sc(o,i);for(a=0;a<u.length;a+=2){var f=u[a],h=u[a+1];f==="style"?fy(s,h):f==="dangerouslySetInnerHTML"?cy(s,h):f==="children"?ya(s,h):Pd(s,f,h,c)}switch(o){case"input":Zu(s,i);break;case"textarea":oy(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var w=i.value;w!=null?Gs(s,!!i.multiple,w,!1):m!==!!i.multiple&&(i.defaultValue!=null?Gs(s,!!i.multiple,i.defaultValue,!0):Gs(s,!!i.multiple,i.multiple?[]:"",!1))}s[Sa]=i}catch(N){ze(e,e.return,N)}}break;case 6:if(cn(t,e),_n(e),r&4){if(e.stateNode===null)throw Error(I(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(N){ze(e,e.return,N)}}break;case 3:if(cn(t,e),_n(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{wa(t.containerInfo)}catch(N){ze(e,e.return,N)}break;case 4:cn(t,e),_n(e);break;case 13:cn(t,e),_n(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(uf=Be())),r&4&&Qh(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(ht=(c=ht)||f,cn(t,e),ht=c):cn(t,e),_n(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!f&&e.mode&1)for(X=e,f=e.child;f!==null;){for(h=X=f;X!==null;){switch(m=X,w=m.child,m.tag){case 0:case 11:case 14:case 15:ca(4,m,m.return);break;case 1:Ys(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(N){ze(r,n,N)}}break;case 5:Ys(m,m.return);break;case 22:if(m.memoizedState!==null){Yh(h);continue}}w!==null?(w.return=m,X=w):Yh(h)}f=f.sibling}e:for(f=null,h=e;;){if(h.tag===5){if(f===null){f=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,u=h.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,o.style.display=dy("display",a))}catch(N){ze(e,e.return,N)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(N){ze(e,e.return,N)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:cn(t,e),_n(e),r&4&&Qh(e);break;case 21:break;default:cn(t,e),_n(e)}}function _n(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Lg(n)){var r=n;break e}n=n.return}throw Error(I(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ya(s,""),r.flags&=-33);var i=Hh(e);Ac(e,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,o=Hh(e);Tc(e,o,a);break;default:throw Error(I(161))}}catch(u){ze(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $w(e,t,n){X=e,zg(e)}function zg(e,t,n){for(var r=(e.mode&1)!==0;X!==null;){var s=X,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||jl;if(!a){var o=s.alternate,u=o!==null&&o.memoizedState!==null||ht;o=jl;var c=ht;if(jl=a,(ht=u)&&!c)for(X=s;X!==null;)a=X,u=a.child,a.tag===22&&a.memoizedState!==null?Xh(s):u!==null?(u.return=a,X=u):Xh(s);for(;i!==null;)X=i,zg(i),i=i.sibling;X=s,jl=o,ht=c}Kh(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,X=i):Kh(e)}}function Kh(e){for(;X!==null;){var t=X;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ht||$o(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ht)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:dn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Fh(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Fh(t,a,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&wa(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}ht||t.flags&512&&Fc(t)}catch(m){ze(t,t.return,m)}}if(t===e){X=null;break}if(n=t.sibling,n!==null){n.return=t.return,X=n;break}X=t.return}}function Yh(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var n=t.sibling;if(n!==null){n.return=t.return,X=n;break}X=t.return}}function Xh(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{$o(4,t)}catch(u){ze(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(u){ze(t,s,u)}}var i=t.return;try{Fc(t)}catch(u){ze(t,i,u)}break;case 5:var a=t.return;try{Fc(t)}catch(u){ze(t,a,u)}}}catch(u){ze(t,t.return,u)}if(t===e){X=null;break}var o=t.sibling;if(o!==null){o.return=t.return,X=o;break}X=t.return}}var Vw=Math.ceil,po=Zn.ReactCurrentDispatcher,lf=Zn.ReactCurrentOwner,nn=Zn.ReactCurrentBatchConfig,me=0,nt=null,Qe=null,st=0,zt=0,Xs=Wr(0),Ge=0,Oa=null,ws=0,Vo=0,of=0,da=null,Ot=null,uf=0,Si=1/0,In=null,mo=!1,Dc=null,Ar=null,bl=!1,Cr=null,yo=0,fa=0,Mc=null,zl=-1,$l=0;function bt(){return me&6?Be():zl!==-1?zl:zl=Be()}function Dr(e){return e.mode&1?me&2&&st!==0?st&-st:Sw.transition!==null?($l===0&&($l=_y()),$l):(e=Ne,e!==0||(e=window.event,e=e===void 0?16:Oy(e.type)),e):1}function vn(e,t,n,r){if(50<fa)throw fa=0,Mc=null,Error(I(185));Xa(e,n,r),(!(me&2)||e!==nt)&&(e===nt&&(!(me&2)&&(Vo|=n),Ge===4&&mr(e,st)),Dt(e,r),n===1&&me===0&&!(t.mode&1)&&(Si=Be()+500,Io&&Hr()))}function Dt(e,t){var n=e.callbackNode;Sv(e,t);var r=Jl(e,e===nt?st:0);if(r===0)n!==null&&ih(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ih(n),t===1)e.tag===0?_w(Gh.bind(null,e)):Xy(Gh.bind(null,e)),ww(function(){!(me&6)&&Hr()}),n=null;else{switch(Sy(r)){case 1:n=Ad;break;case 4:n=jy;break;case 16:n=Gl;break;case 536870912:n=by;break;default:n=Gl}n=Kg(n,$g.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function $g(e,t){if(zl=-1,$l=0,me&6)throw Error(I(327));var n=e.callbackNode;if(ni()&&e.callbackNode!==n)return null;var r=Jl(e,e===nt?st:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=go(e,r);else{t=r;var s=me;me|=2;var i=Bg();(nt!==e||st!==t)&&(In=null,Si=Be()+500,ps(e,t));do try{Ww();break}catch(o){Vg(e,o)}while(!0);Qd(),po.current=i,me=s,Qe!==null?t=0:(nt=null,st=0,t=Ge)}if(t!==0){if(t===2&&(s=uc(e),s!==0&&(r=s,t=Lc(e,s))),t===1)throw n=Oa,ps(e,0),mr(e,r),Dt(e,Be()),n;if(t===6)mr(e,r);else{if(s=e.current.alternate,!(r&30)&&!Bw(s)&&(t=go(e,r),t===2&&(i=uc(e),i!==0&&(r=i,t=Lc(e,i))),t===1))throw n=Oa,ps(e,0),mr(e,r),Dt(e,Be()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(I(345));case 2:Gr(e,Ot,In);break;case 3:if(mr(e,r),(r&130023424)===r&&(t=uf+500-Be(),10<t)){if(Jl(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){bt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=gc(Gr.bind(null,e,Ot,In),t);break}Gr(e,Ot,In);break;case 4:if(mr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-xn(r);i=1<<a,a=t[a],a>s&&(s=a),r&=~i}if(r=s,r=Be()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Vw(r/1960))-r,10<r){e.timeoutHandle=gc(Gr.bind(null,e,Ot,In),r);break}Gr(e,Ot,In);break;case 5:Gr(e,Ot,In);break;default:throw Error(I(329))}}}return Dt(e,Be()),e.callbackNode===n?$g.bind(null,e):null}function Lc(e,t){var n=da;return e.current.memoizedState.isDehydrated&&(ps(e,t).flags|=256),e=go(e,t),e!==2&&(t=Ot,Ot=n,t!==null&&Ic(t)),e}function Ic(e){Ot===null?Ot=e:Ot.push.apply(Ot,e)}function Bw(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!wn(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function mr(e,t){for(t&=~of,t&=~Vo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-xn(t),r=1<<n;e[n]=-1,t&=~r}}function Gh(e){if(me&6)throw Error(I(327));ni();var t=Jl(e,0);if(!(t&1))return Dt(e,Be()),null;var n=go(e,t);if(e.tag!==0&&n===2){var r=uc(e);r!==0&&(t=r,n=Lc(e,r))}if(n===1)throw n=Oa,ps(e,0),mr(e,t),Dt(e,Be()),n;if(n===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Gr(e,Ot,In),Dt(e,Be()),null}function cf(e,t){var n=me;me|=1;try{return e(t)}finally{me=n,me===0&&(Si=Be()+500,Io&&Hr())}}function Ns(e){Cr!==null&&Cr.tag===0&&!(me&6)&&ni();var t=me;me|=1;var n=nn.transition,r=Ne;try{if(nn.transition=null,Ne=1,e)return e()}finally{Ne=r,nn.transition=n,me=t,!(me&6)&&Hr()}}function df(){zt=Xs.current,Ee(Xs)}function ps(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,vw(n)),Qe!==null)for(n=Qe.return;n!==null;){var r=n;switch(qd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ro();break;case 3:bi(),Ee(Tt),Ee(gt),Zd();break;case 5:Jd(r);break;case 4:bi();break;case 13:Ee(Fe);break;case 19:Ee(Fe);break;case 10:Kd(r.type._context);break;case 22:case 23:df()}n=n.return}if(nt=e,Qe=e=Mr(e.current,null),st=zt=t,Ge=0,Oa=null,of=Vo=ws=0,Ot=da=null,es!==null){for(t=0;t<es.length;t++)if(n=es[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}es=null}return e}function Vg(e,t){do{var n=Qe;try{if(Qd(),Ll.current=ho,fo){for(var r=Te.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}fo=!1}if(vs=0,et=Xe=Te=null,ua=!1,Ea=0,lf.current=null,n===null||n.return===null){Ge=1,Oa=t,Qe=null;break}e:{var i=e,a=n.return,o=n,u=t;if(t=st,o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,f=o,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var w=Ih(a);if(w!==null){w.flags&=-257,Uh(w,a,o,i,t),w.mode&1&&Lh(i,c,t),t=w,u=c;var v=t.updateQueue;if(v===null){var N=new Set;N.add(u),t.updateQueue=N}else v.add(u);break e}else{if(!(t&1)){Lh(i,c,t),ff();break e}u=Error(I(426))}}else if(Oe&&o.mode&1){var x=Ih(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Uh(x,a,o,i,t),Wd(_i(u,o));break e}}i=u=_i(u,o),Ge!==4&&(Ge=2),da===null?da=[i]:da.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var d=Sg(i,u,t);Oh(i,d);break e;case 1:o=u;var p=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ar===null||!Ar.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var g=kg(i,o,t);Oh(i,g);break e}}i=i.return}while(i!==null)}Wg(n)}catch(j){t=j,Qe===n&&n!==null&&(Qe=n=n.return);continue}break}while(!0)}function Bg(){var e=po.current;return po.current=ho,e===null?ho:e}function ff(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),nt===null||!(ws&268435455)&&!(Vo&268435455)||mr(nt,st)}function go(e,t){var n=me;me|=2;var r=Bg();(nt!==e||st!==t)&&(In=null,ps(e,t));do try{qw();break}catch(s){Vg(e,s)}while(!0);if(Qd(),me=n,po.current=r,Qe!==null)throw Error(I(261));return nt=null,st=0,Ge}function qw(){for(;Qe!==null;)qg(Qe)}function Ww(){for(;Qe!==null&&!yv();)qg(Qe)}function qg(e){var t=Qg(e.alternate,e,zt);e.memoizedProps=e.pendingProps,t===null?Wg(e):Qe=t,lf.current=null}function Wg(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Iw(n,t),n!==null){n.flags&=32767,Qe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ge=6,Qe=null;return}}else if(n=Lw(n,t,zt),n!==null){Qe=n;return}if(t=t.sibling,t!==null){Qe=t;return}Qe=t=e}while(t!==null);Ge===0&&(Ge=5)}function Gr(e,t,n){var r=Ne,s=nn.transition;try{nn.transition=null,Ne=1,Hw(e,t,n,r)}finally{nn.transition=s,Ne=r}return null}function Hw(e,t,n,r){do ni();while(Cr!==null);if(me&6)throw Error(I(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(kv(e,i),e===nt&&(Qe=nt=null,st=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||bl||(bl=!0,Kg(Gl,function(){return ni(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=nn.transition,nn.transition=null;var a=Ne;Ne=1;var o=me;me|=4,lf.current=null,zw(e,n),Ug(n,e),fw(mc),Zl=!!pc,mc=pc=null,e.current=n,$w(n),gv(),me=o,Ne=a,nn.transition=i}else e.current=n;if(bl&&(bl=!1,Cr=e,yo=s),i=e.pendingLanes,i===0&&(Ar=null),wv(n.stateNode),Dt(e,Be()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(mo)throw mo=!1,e=Dc,Dc=null,e;return yo&1&&e.tag!==0&&ni(),i=e.pendingLanes,i&1?e===Mc?fa++:(fa=0,Mc=e):fa=0,Hr(),null}function ni(){if(Cr!==null){var e=Sy(yo),t=nn.transition,n=Ne;try{if(nn.transition=null,Ne=16>e?16:e,Cr===null)var r=!1;else{if(e=Cr,Cr=null,yo=0,me&6)throw Error(I(331));var s=me;for(me|=4,X=e.current;X!==null;){var i=X,a=i.child;if(X.flags&16){var o=i.deletions;if(o!==null){for(var u=0;u<o.length;u++){var c=o[u];for(X=c;X!==null;){var f=X;switch(f.tag){case 0:case 11:case 15:ca(8,f,i)}var h=f.child;if(h!==null)h.return=f,X=h;else for(;X!==null;){f=X;var m=f.sibling,w=f.return;if(Mg(f),f===c){X=null;break}if(m!==null){m.return=w,X=m;break}X=w}}}var v=i.alternate;if(v!==null){var N=v.child;if(N!==null){v.child=null;do{var x=N.sibling;N.sibling=null,N=x}while(N!==null)}}X=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,X=a;else e:for(;X!==null;){if(i=X,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ca(9,i,i.return)}var d=i.sibling;if(d!==null){d.return=i.return,X=d;break e}X=i.return}}var p=e.current;for(X=p;X!==null;){a=X;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,X=y;else e:for(a=p;X!==null;){if(o=X,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:$o(9,o)}}catch(j){ze(o,o.return,j)}if(o===a){X=null;break e}var g=o.sibling;if(g!==null){g.return=o.return,X=g;break e}X=o.return}}if(me=s,Hr(),Fn&&typeof Fn.onPostCommitFiberRoot=="function")try{Fn.onPostCommitFiberRoot(To,e)}catch{}r=!0}return r}finally{Ne=n,nn.transition=t}}return!1}function Jh(e,t,n){t=_i(n,t),t=Sg(e,t,1),e=Tr(e,t,1),t=bt(),e!==null&&(Xa(e,1,t),Dt(e,t))}function ze(e,t,n){if(e.tag===3)Jh(e,e,n);else for(;t!==null;){if(t.tag===3){Jh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ar===null||!Ar.has(r))){e=_i(n,e),e=kg(t,e,1),t=Tr(t,e,1),e=bt(),t!==null&&(Xa(t,1,e),Dt(t,e));break}}t=t.return}}function Qw(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=bt(),e.pingedLanes|=e.suspendedLanes&n,nt===e&&(st&n)===n&&(Ge===4||Ge===3&&(st&130023424)===st&&500>Be()-uf?ps(e,0):of|=n),Dt(e,t)}function Hg(e,t){t===0&&(e.mode&1?(t=hl,hl<<=1,!(hl&130023424)&&(hl=4194304)):t=1);var n=bt();e=Xn(e,t),e!==null&&(Xa(e,t,n),Dt(e,n))}function Kw(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Hg(e,n)}function Yw(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(I(314))}r!==null&&r.delete(t),Hg(e,n)}var Qg;Qg=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Tt.current)Ft=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ft=!1,Mw(e,t,n);Ft=!!(e.flags&131072)}else Ft=!1,Oe&&t.flags&1048576&&Gy(t,ao,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ul(e,t),e=t.pendingProps;var s=wi(t,gt.current);ti(t,n),s=tf(null,t,r,e,s,n);var i=nf();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,At(r)?(i=!0,so(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Xd(t),s.updater=zo,t.stateNode=s,s._reactInternals=t,_c(t,r,e,n),t=Cc(null,t,r,!0,i,n)):(t.tag=0,Oe&&i&&Bd(t),Nt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ul(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Gw(r),e=dn(r,e),s){case 0:t=kc(null,t,r,e,n);break e;case 1:t=Vh(null,t,r,e,n);break e;case 11:t=zh(null,t,r,e,n);break e;case 14:t=$h(null,t,r,dn(r.type,e),n);break e}throw Error(I(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:dn(r,s),kc(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:dn(r,s),Vh(e,t,r,s,n);case 3:e:{if(Rg(t),e===null)throw Error(I(387));r=t.pendingProps,i=t.memoizedState,s=i.element,rg(e,t),uo(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=_i(Error(I(423)),t),t=Bh(e,t,r,n,s);break e}else if(r!==s){s=_i(Error(I(424)),t),t=Bh(e,t,r,n,s);break e}else for(Bt=Fr(t.stateNode.containerInfo.firstChild),qt=t,Oe=!0,mn=null,n=tg(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ni(),r===s){t=Gn(e,t,n);break e}Nt(e,t,r,n)}t=t.child}return t;case 5:return sg(t),e===null&&Nc(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,yc(r,s)?a=null:i!==null&&yc(r,i)&&(t.flags|=32),Pg(e,t),Nt(e,t,a,n),t.child;case 6:return e===null&&Nc(t),null;case 13:return Og(e,t,n);case 4:return Gd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ji(t,null,r,n):Nt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:dn(r,s),zh(e,t,r,s,n);case 7:return Nt(e,t,t.pendingProps,n),t.child;case 8:return Nt(e,t,t.pendingProps.children,n),t.child;case 12:return Nt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,_e(lo,r._currentValue),r._currentValue=a,i!==null)if(wn(i.value,a)){if(i.children===s.children&&!Tt.current){t=Gn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var u=o.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=Hn(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),jc(i.return,n,t),o.lanes|=n;break}u=u.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(I(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),jc(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Nt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,ti(t,n),s=rn(s),r=r(s),t.flags|=1,Nt(e,t,r,n),t.child;case 14:return r=t.type,s=dn(r,t.pendingProps),s=dn(r.type,s),$h(e,t,r,s,n);case 15:return Cg(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:dn(r,s),Ul(e,t),t.tag=1,At(r)?(e=!0,so(t)):e=!1,ti(t,n),_g(t,r,s),_c(t,r,s,n),Cc(null,t,r,!0,e,n);case 19:return Fg(e,t,n);case 22:return Eg(e,t,n)}throw Error(I(156,t.tag))};function Kg(e,t){return Ny(e,t)}function Xw(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tn(e,t,n,r){return new Xw(e,t,n,r)}function hf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Gw(e){if(typeof e=="function")return hf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Od)return 11;if(e===Fd)return 14}return 2}function Mr(e,t){var n=e.alternate;return n===null?(n=tn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Vl(e,t,n,r,s,i){var a=2;if(r=e,typeof e=="function")hf(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case zs:return ms(n.children,s,i,t);case Rd:a=8,s|=8;break;case Ku:return e=tn(12,n,t,s|2),e.elementType=Ku,e.lanes=i,e;case Yu:return e=tn(13,n,t,s),e.elementType=Yu,e.lanes=i,e;case Xu:return e=tn(19,n,t,s),e.elementType=Xu,e.lanes=i,e;case sy:return Bo(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ny:a=10;break e;case ry:a=9;break e;case Od:a=11;break e;case Fd:a=14;break e;case dr:a=16,r=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=tn(a,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function ms(e,t,n,r){return e=tn(7,e,r,t),e.lanes=n,e}function Bo(e,t,n,r){return e=tn(22,e,r,t),e.elementType=sy,e.lanes=n,e.stateNode={isHidden:!1},e}function Tu(e,t,n){return e=tn(6,e,null,t),e.lanes=n,e}function Au(e,t,n){return t=tn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Jw(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pu(0),this.expirationTimes=pu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pu(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function pf(e,t,n,r,s,i,a,o,u){return e=new Jw(e,t,n,o,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=tn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xd(i),e}function Zw(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Us,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Yg(e){if(!e)return zr;e=e._reactInternals;e:{if(Rs(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(At(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var n=e.type;if(At(n))return Yy(e,n,t)}return t}function Xg(e,t,n,r,s,i,a,o,u){return e=pf(n,r,!0,e,s,i,a,o,u),e.context=Yg(null),n=e.current,r=bt(),s=Dr(n),i=Hn(r,s),i.callback=t??null,Tr(n,i,s),e.current.lanes=s,Xa(e,s,r),Dt(e,r),e}function qo(e,t,n,r){var s=t.current,i=bt(),a=Dr(s);return n=Yg(n),t.context===null?t.context=n:t.pendingContext=n,t=Hn(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Tr(s,t,a),e!==null&&(vn(e,s,a,i),Ml(e,s,a)),a}function xo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Zh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function mf(e,t){Zh(e,t),(e=e.alternate)&&Zh(e,t)}function e1(){return null}var Gg=typeof reportError=="function"?reportError:function(e){console.error(e)};function yf(e){this._internalRoot=e}Wo.prototype.render=yf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));qo(e,t,null,null)};Wo.prototype.unmount=yf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ns(function(){qo(null,e,null,null)}),t[Yn]=null}};function Wo(e){this._internalRoot=e}Wo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ey();e={blockedOn:null,target:e,priority:t};for(var n=0;n<pr.length&&t!==0&&t<pr[n].priority;n++);pr.splice(n,0,e),n===0&&Ry(e)}};function gf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ho(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ep(){}function t1(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=xo(a);i.call(c)}}var a=Xg(t,r,e,0,null,!1,!1,"",ep);return e._reactRootContainer=a,e[Yn]=a.current,ba(e.nodeType===8?e.parentNode:e),Ns(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var c=xo(u);o.call(c)}}var u=pf(e,0,!1,null,null,!1,!1,"",ep);return e._reactRootContainer=u,e[Yn]=u.current,ba(e.nodeType===8?e.parentNode:e),Ns(function(){qo(t,u,n,r)}),u}function Qo(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var u=xo(a);o.call(u)}}qo(t,a,e,s)}else a=t1(n,t,e,s,r);return xo(a)}ky=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ta(t.pendingLanes);n!==0&&(Dd(t,n|1),Dt(t,Be()),!(me&6)&&(Si=Be()+500,Hr()))}break;case 13:Ns(function(){var r=Xn(e,1);if(r!==null){var s=bt();vn(r,e,1,s)}}),mf(e,1)}};Md=function(e){if(e.tag===13){var t=Xn(e,134217728);if(t!==null){var n=bt();vn(t,e,134217728,n)}mf(e,134217728)}};Cy=function(e){if(e.tag===13){var t=Dr(e),n=Xn(e,t);if(n!==null){var r=bt();vn(n,e,t,r)}mf(e,t)}};Ey=function(){return Ne};Py=function(e,t){var n=Ne;try{return Ne=e,t()}finally{Ne=n}};ac=function(e,t,n){switch(t){case"input":if(Zu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Lo(r);if(!s)throw Error(I(90));ay(r),Zu(r,s)}}}break;case"textarea":oy(e,n);break;case"select":t=n.value,t!=null&&Gs(e,!!n.multiple,t,!1)}};my=cf;yy=Ns;var n1={usingClientEntryPoint:!1,Events:[Ja,qs,Lo,hy,py,cf]},Ki={findFiberByHostInstance:Zr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},r1={bundleType:Ki.bundleType,version:Ki.version,rendererPackageName:Ki.rendererPackageName,rendererConfig:Ki.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=vy(e),e===null?null:e.stateNode},findFiberByHostInstance:Ki.findFiberByHostInstance||e1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _l=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_l.isDisabled&&_l.supportsFiber)try{To=_l.inject(r1),Fn=_l}catch{}}Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n1;Qt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gf(t))throw Error(I(200));return Zw(e,t,null,n)};Qt.createRoot=function(e,t){if(!gf(e))throw Error(I(299));var n=!1,r="",s=Gg;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=pf(e,1,!1,null,null,n,!1,r,s),e[Yn]=t.current,ba(e.nodeType===8?e.parentNode:e),new yf(t)};Qt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=vy(t),e=e===null?null:e.stateNode,e};Qt.flushSync=function(e){return Ns(e)};Qt.hydrate=function(e,t,n){if(!Ho(t))throw Error(I(200));return Qo(null,e,t,!0,n)};Qt.hydrateRoot=function(e,t,n){if(!gf(e))throw Error(I(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=Gg;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Xg(t,null,e,1,n??null,s,!1,i,a),e[Yn]=t.current,ba(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Wo(t)};Qt.render=function(e,t,n){if(!Ho(t))throw Error(I(200));return Qo(null,e,t,!1,n)};Qt.unmountComponentAtNode=function(e){if(!Ho(e))throw Error(I(40));return e._reactRootContainer?(Ns(function(){Qo(null,null,e,!1,function(){e._reactRootContainer=null,e[Yn]=null})}),!0):!1};Qt.unstable_batchedUpdates=cf;Qt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ho(n))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return Qo(e,t,n,!1,r)};Qt.version="18.3.1-next-f1338f8080-20240426";function Jg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Jg)}catch(e){console.error(e)}}Jg(),Jm.exports=Qt;var s1=Jm.exports,tp=s1;Hu.createRoot=tp.createRoot,Hu.hydrateRoot=tp.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fa(){return Fa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fa.apply(this,arguments)}var Er;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Er||(Er={}));const np="popstate";function i1(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:a,hash:o}=r.location;return Uc("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:vo(s)}return l1(t,n,null,e)}function Ae(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function xf(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function a1(){return Math.random().toString(36).substr(2,8)}function rp(e,t){return{usr:e.state,key:e.key,idx:t}}function Uc(e,t,n,r){return n===void 0&&(n=null),Fa({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ai(t):t,{state:n,key:t&&t.key||r||a1()})}function vo(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ai(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function l1(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,o=Er.Pop,u=null,c=f();c==null&&(c=0,a.replaceState(Fa({},a.state,{idx:c}),""));function f(){return(a.state||{idx:null}).idx}function h(){o=Er.Pop;let x=f(),d=x==null?null:x-c;c=x,u&&u({action:o,location:N.location,delta:d})}function m(x,d){o=Er.Push;let p=Uc(N.location,x,d);c=f()+1;let y=rp(p,c),g=N.createHref(p);try{a.pushState(y,"",g)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(g)}i&&u&&u({action:o,location:N.location,delta:1})}function w(x,d){o=Er.Replace;let p=Uc(N.location,x,d);c=f();let y=rp(p,c),g=N.createHref(p);a.replaceState(y,"",g),i&&u&&u({action:o,location:N.location,delta:0})}function v(x){let d=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof x=="string"?x:vo(x);return p=p.replace(/ $/,"%20"),Ae(d,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,d)}let N={get action(){return o},get location(){return e(s,a)},listen(x){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(np,h),u=x,()=>{s.removeEventListener(np,h),u=null}},createHref(x){return t(s,x)},createURL:v,encodeLocation(x){let d=v(x);return{pathname:d.pathname,search:d.search,hash:d.hash}},push:m,replace:w,go(x){return a.go(x)}};return N}var sp;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(sp||(sp={}));function o1(e,t,n){return n===void 0&&(n="/"),u1(e,t,n)}function u1(e,t,n,r){let s=typeof t=="string"?Ai(t):t,i=ki(s.pathname||"/",n);if(i==null)return null;let a=Zg(e);c1(a);let o=null;for(let u=0;o==null&&u<a.length;++u){let c=N1(i);o=v1(a[u],c)}return o}function Zg(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,o)=>{let u={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};u.relativePath.startsWith("/")&&(Ae(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Lr([r,u.relativePath]),f=n.concat(u);i.children&&i.children.length>0&&(Ae(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Zg(i.children,t,f,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:g1(c,i.index),routesMeta:f})};return e.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let u of e0(i.path))s(i,a,u)}),t}function e0(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=e0(r.join("/")),o=[];return o.push(...a.map(u=>u===""?i:[i,u].join("/"))),s&&o.push(...a),o.map(u=>e.startsWith("/")&&u===""?"/":u)}function c1(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:x1(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const d1=/^:[\w-]+$/,f1=3,h1=2,p1=1,m1=10,y1=-2,ip=e=>e==="*";function g1(e,t){let n=e.split("/"),r=n.length;return n.some(ip)&&(r+=y1),t&&(r+=h1),n.filter(s=>!ip(s)).reduce((s,i)=>s+(d1.test(i)?f1:i===""?p1:m1),r)}function x1(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function v1(e,t,n){let{routesMeta:r}=e,s={},i="/",a=[];for(let o=0;o<r.length;++o){let u=r[o],c=o===r.length-1,f=i==="/"?t:t.slice(i.length)||"/",h=zc({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),m=u.route;if(!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:Lr([i,h.pathname]),pathnameBase:k1(Lr([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=Lr([i,h.pathnameBase]))}return a}function zc(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=w1(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((c,f,h)=>{let{paramName:m,isOptional:w}=f;if(m==="*"){let N=o[h]||"";a=i.slice(0,i.length-N.length).replace(/(.)\/+$/,"$1")}const v=o[h];return w&&!v?c[m]=void 0:c[m]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:a,pattern:e}}function w1(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),xf(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,u)=>(r.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function N1(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return xf(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ki(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const j1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,b1=e=>j1.test(e);function _1(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Ai(e):e,i;if(n)if(b1(n))i=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),xf(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?i=ap(n.substring(1),"/"):i=ap(n,t)}else i=t;return{pathname:i,search:C1(r),hash:E1(s)}}function ap(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Du(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function S1(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function vf(e,t){let n=S1(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function wf(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Ai(e):(s=Fa({},e),Ae(!s.pathname||!s.pathname.includes("?"),Du("?","pathname","search",s)),Ae(!s.pathname||!s.pathname.includes("#"),Du("#","pathname","hash",s)),Ae(!s.search||!s.search.includes("#"),Du("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=n;else{let h=t.length-1;if(!r&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}o=h>=0?t[h]:"/"}let u=_1(s,o),c=a&&a!=="/"&&a.endsWith("/"),f=(i||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}const Lr=e=>e.join("/").replace(/\/\/+/g,"/"),k1=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),C1=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,E1=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function P1(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const t0=["post","put","patch","delete"];new Set(t0);const R1=["get",...t0];new Set(R1);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ta(){return Ta=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ta.apply(this,arguments)}const Ko=C.createContext(null),n0=C.createContext(null),er=C.createContext(null),Yo=C.createContext(null),tr=C.createContext({outlet:null,matches:[],isDataRoute:!1}),r0=C.createContext(null);function O1(e,t){let{relative:n}=t===void 0?{}:t;Di()||Ae(!1);let{basename:r,navigator:s}=C.useContext(er),{hash:i,pathname:a,search:o}=Xo(e,{relative:n}),u=a;return r!=="/"&&(u=a==="/"?r:Lr([r,a])),s.createHref({pathname:u,search:o,hash:i})}function Di(){return C.useContext(Yo)!=null}function nr(){return Di()||Ae(!1),C.useContext(Yo).location}function s0(e){C.useContext(er).static||C.useLayoutEffect(e)}function It(){let{isDataRoute:e}=C.useContext(tr);return e?q1():F1()}function F1(){Di()||Ae(!1);let e=C.useContext(Ko),{basename:t,future:n,navigator:r}=C.useContext(er),{matches:s}=C.useContext(tr),{pathname:i}=nr(),a=JSON.stringify(vf(s,n.v7_relativeSplatPath)),o=C.useRef(!1);return s0(()=>{o.current=!0}),C.useCallback(function(c,f){if(f===void 0&&(f={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let h=wf(c,JSON.parse(a),i,f.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Lr([t,h.pathname])),(f.replace?r.replace:r.push)(h,f.state,f)},[t,r,a,i,e])}function rr(){let{matches:e}=C.useContext(tr),t=e[e.length-1];return t?t.params:{}}function Xo(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=C.useContext(er),{matches:s}=C.useContext(tr),{pathname:i}=nr(),a=JSON.stringify(vf(s,r.v7_relativeSplatPath));return C.useMemo(()=>wf(e,JSON.parse(a),i,n==="path"),[e,a,i,n])}function T1(e,t){return A1(e,t)}function A1(e,t,n,r){Di()||Ae(!1);let{navigator:s}=C.useContext(er),{matches:i}=C.useContext(tr),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let c=nr(),f;if(t){var h;let x=typeof t=="string"?Ai(t):t;u==="/"||(h=x.pathname)!=null&&h.startsWith(u)||Ae(!1),f=x}else f=c;let m=f.pathname||"/",w=m;if(u!=="/"){let x=u.replace(/^\//,"").split("/");w="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=o1(e,{pathname:w}),N=U1(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:Lr([u,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:Lr([u,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return t&&N?C.createElement(Yo.Provider,{value:{location:Ta({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Er.Pop}},N):N}function D1(){let e=B1(),t=P1(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),n?C.createElement("pre",{style:s},n):null,null)}const M1=C.createElement(D1,null);class L1 extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?C.createElement(tr.Provider,{value:this.props.routeContext},C.createElement(r0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function I1(e){let{routeContext:t,match:n,children:r}=e,s=C.useContext(Ko);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(tr.Provider,{value:t},r)}function U1(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=(s=n)==null?void 0:s.errors;if(o!=null){let f=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);f>=0||Ae(!1),a=a.slice(0,Math.min(a.length,f+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<a.length;f++){let h=a[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=f),h.route.id){let{loaderData:m,errors:w}=n,v=h.route.loader&&m[h.route.id]===void 0&&(!w||w[h.route.id]===void 0);if(h.route.lazy||v){u=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((f,h,m)=>{let w,v=!1,N=null,x=null;n&&(w=o&&h.route.id?o[h.route.id]:void 0,N=h.route.errorElement||M1,u&&(c<0&&m===0?(W1("route-fallback"),v=!0,x=null):c===m&&(v=!0,x=h.route.hydrateFallbackElement||null)));let d=t.concat(a.slice(0,m+1)),p=()=>{let y;return w?y=N:v?y=x:h.route.Component?y=C.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=f,C.createElement(I1,{match:h,routeContext:{outlet:f,matches:d,isDataRoute:n!=null},children:y})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?C.createElement(L1,{location:n.location,revalidation:n.revalidation,component:N,error:w,children:p(),routeContext:{outlet:null,matches:d,isDataRoute:!0}}):p()},null)}var i0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(i0||{}),a0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(a0||{});function z1(e){let t=C.useContext(Ko);return t||Ae(!1),t}function $1(e){let t=C.useContext(n0);return t||Ae(!1),t}function V1(e){let t=C.useContext(tr);return t||Ae(!1),t}function l0(e){let t=V1(),n=t.matches[t.matches.length-1];return n.route.id||Ae(!1),n.route.id}function B1(){var e;let t=C.useContext(r0),n=$1(),r=l0();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function q1(){let{router:e}=z1(i0.UseNavigateStable),t=l0(a0.UseNavigateStable),n=C.useRef(!1);return s0(()=>{n.current=!0}),C.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ta({fromRouteId:t},i)))},[e,t])}const lp={};function W1(e,t,n){lp[e]||(lp[e]=!0)}function H1(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function o0(e){let{to:t,replace:n,state:r,relative:s}=e;Di()||Ae(!1);let{future:i,static:a}=C.useContext(er),{matches:o}=C.useContext(tr),{pathname:u}=nr(),c=It(),f=wf(t,vf(o,i.v7_relativeSplatPath),u,s==="path"),h=JSON.stringify(f);return C.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:s}),[c,h,s,n,r]),null}function Ce(e){Ae(!1)}function Q1(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Er.Pop,navigator:i,static:a=!1,future:o}=e;Di()&&Ae(!1);let u=t.replace(/^\/*/,"/"),c=C.useMemo(()=>({basename:u,navigator:i,static:a,future:Ta({v7_relativeSplatPath:!1},o)}),[u,o,i,a]);typeof r=="string"&&(r=Ai(r));let{pathname:f="/",search:h="",hash:m="",state:w=null,key:v="default"}=r,N=C.useMemo(()=>{let x=ki(f,u);return x==null?null:{location:{pathname:x,search:h,hash:m,state:w,key:v},navigationType:s}},[u,f,h,m,w,v,s]);return N==null?null:C.createElement(er.Provider,{value:c},C.createElement(Yo.Provider,{children:n,value:N}))}function op(e){let{children:t,location:n}=e;return T1($c(t),n)}new Promise(()=>{});function $c(e,t){t===void 0&&(t=[]);let n=[];return C.Children.forEach(e,(r,s)=>{if(!C.isValidElement(r))return;let i=[...t,s];if(r.type===C.Fragment){n.push.apply(n,$c(r.props.children,i));return}r.type!==Ce&&Ae(!1),!r.props.index||!r.props.children||Ae(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=$c(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wo(){return wo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wo.apply(this,arguments)}function u0(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function K1(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Y1(e,t){return e.button===0&&(!t||t==="_self")&&!K1(e)}function Vc(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function X1(e,t){let n=Vc(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(i=>{n.append(s,i)})}),n}const G1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],J1=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Z1="6";try{window.__reactRouterVersion=Z1}catch{}const eN=C.createContext({isTransitioning:!1}),tN="startTransition",up=Qx[tN];function nN(e){let{basename:t,children:n,future:r,window:s}=e,i=C.useRef();i.current==null&&(i.current=i1({window:s,v5Compat:!0}));let a=i.current,[o,u]=C.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},f=C.useCallback(h=>{c&&up?up(()=>u(h)):u(h)},[u,c]);return C.useLayoutEffect(()=>a.listen(f),[a,f]),C.useEffect(()=>H1(r),[r]),C.createElement(Q1,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const rN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ee=C.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:o,target:u,to:c,preventScrollReset:f,viewTransition:h}=t,m=u0(t,G1),{basename:w}=C.useContext(er),v,N=!1;if(typeof c=="string"&&sN.test(c)&&(v=c,rN))try{let y=new URL(window.location.href),g=c.startsWith("//")?new URL(y.protocol+c):new URL(c),j=ki(g.pathname,w);g.origin===y.origin&&j!=null?c=j+g.search+g.hash:N=!0}catch{}let x=O1(c,{relative:s}),d=lN(c,{replace:a,state:o,target:u,preventScrollReset:f,relative:s,viewTransition:h});function p(y){r&&r(y),y.defaultPrevented||d(y)}return C.createElement("a",wo({},m,{href:v||x,onClick:N||i?r:p,ref:n,target:u}))}),iN=C.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:a=!1,style:o,to:u,viewTransition:c,children:f}=t,h=u0(t,J1),m=Xo(u,{relative:h.relative}),w=nr(),v=C.useContext(n0),{navigator:N,basename:x}=C.useContext(er),d=v!=null&&uN(m)&&c===!0,p=N.encodeLocation?N.encodeLocation(m).pathname:m.pathname,y=w.pathname,g=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;s||(y=y.toLowerCase(),g=g?g.toLowerCase():null,p=p.toLowerCase()),g&&x&&(g=ki(g,x)||g);const j=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let k=y===p||!a&&y.startsWith(p)&&y.charAt(j)==="/",E=g!=null&&(g===p||!a&&g.startsWith(p)&&g.charAt(p.length)==="/"),T={isActive:k,isPending:E,isTransitioning:d},F=k?r:void 0,R;typeof i=="function"?R=i(T):R=[i,k?"active":null,E?"pending":null,d?"transitioning":null].filter(Boolean).join(" ");let V=typeof o=="function"?o(T):o;return C.createElement(ee,wo({},h,{"aria-current":F,className:R,ref:n,style:V,to:u,viewTransition:c}),typeof f=="function"?f(T):f)});var Bc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Bc||(Bc={}));var cp;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(cp||(cp={}));function aN(e){let t=C.useContext(Ko);return t||Ae(!1),t}function lN(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:o}=t===void 0?{}:t,u=It(),c=nr(),f=Xo(e,{relative:a});return C.useCallback(h=>{if(Y1(h,n)){h.preventDefault();let m=r!==void 0?r:vo(c)===vo(f);u(e,{replace:m,state:s,preventScrollReset:i,relative:a,viewTransition:o})}},[c,u,f,r,s,n,e,i,a,o])}function oN(e){let t=C.useRef(Vc(e)),n=C.useRef(!1),r=nr(),s=C.useMemo(()=>X1(r.search,n.current?null:t.current),[r.search]),i=It(),a=C.useCallback((o,u)=>{const c=Vc(typeof o=="function"?o(s):o);n.current=!0,i("?"+c,u)},[i,s]);return[s,a]}function uN(e,t){t===void 0&&(t={});let n=C.useContext(eN);n==null&&Ae(!1);let{basename:r}=aN(Bc.useViewTransitionState),s=Xo(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=ki(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=ki(n.nextLocation.pathname,r)||n.nextLocation.pathname;return zc(s.pathname,a)!=null||zc(s.pathname,i)!=null}var Os=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},cN={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},yr,jd,Pm,dN=(Pm=class{constructor(){Y(this,yr,cN);Y(this,jd,!1)}setTimeoutProvider(e){B(this,yr,e)}setTimeout(e,t){return b(this,yr).setTimeout(e,t)}clearTimeout(e){b(this,yr).clearTimeout(e)}setInterval(e,t){return b(this,yr).setInterval(e,t)}clearInterval(e){b(this,yr).clearInterval(e)}},yr=new WeakMap,jd=new WeakMap,Pm),ns=new dN;function fN(e){setTimeout(e,0)}var js=typeof window>"u"||"Deno"in globalThis;function dt(){}function hN(e,t){return typeof e=="function"?e(t):e}function qc(e){return typeof e=="number"&&e>=0&&e!==1/0}function c0(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ir(e,t){return typeof e=="function"?e(t):e}function Jt(e,t){return typeof e=="function"?e(t):e}function dp(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:o}=e;if(a){if(r){if(t.queryHash!==Nf(a,t.options))return!1}else if(!Aa(t.queryKey,a))return!1}if(n!=="all"){const u=t.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||s&&s!==t.state.fetchStatus||i&&!i(t))}function fp(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(bs(t.options.mutationKey)!==bs(i))return!1}else if(!Aa(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function Nf(e,t){return((t==null?void 0:t.queryKeyHashFn)||bs)(e)}function bs(e){return JSON.stringify(e,(t,n)=>Wc(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Aa(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Aa(e[n],t[n])):!1}var pN=Object.prototype.hasOwnProperty;function jf(e,t){if(e===t)return e;const n=hp(e)&&hp(t);if(!n&&!(Wc(e)&&Wc(t)))return t;const s=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),a=i.length,o=n?new Array(a):{};let u=0;for(let c=0;c<a;c++){const f=n?c:i[c],h=e[f],m=t[f];if(h===m){o[f]=h,(n?c<s:pN.call(e,f))&&u++;continue}if(h===null||m===null||typeof h!="object"||typeof m!="object"){o[f]=m;continue}const w=jf(h,m);o[f]=w,w===h&&u++}return s===a&&u===s?e:o}function Da(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function hp(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Wc(e){if(!pp(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!pp(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function pp(e){return Object.prototype.toString.call(e)==="[object Object]"}function mN(e){return new Promise(t=>{ns.setTimeout(t,e)})}function Hc(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?jf(e,t):t}function yN(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function gN(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var bf=Symbol();function d0(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===bf?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function _f(e,t){return typeof e=="function"?e(...t):!!e}function xN(e,t,n){let r=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??(s=t()),r||(r=!0,s.aborted?n():s.addEventListener("abort",n,{once:!0})),s)}),e}var is,gr,si,Rm,vN=(Rm=class extends Os{constructor(){super();Y(this,is);Y(this,gr);Y(this,si);B(this,si,t=>{if(!js&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){b(this,gr)||this.setEventListener(b(this,si))}onUnsubscribe(){var t;this.hasListeners()||((t=b(this,gr))==null||t.call(this),B(this,gr,void 0))}setEventListener(t){var n;B(this,si,t),(n=b(this,gr))==null||n.call(this),B(this,gr,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){b(this,is)!==t&&(B(this,is,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof b(this,is)=="boolean"?b(this,is):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},is=new WeakMap,gr=new WeakMap,si=new WeakMap,Rm),Sf=new vN;function Qc(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var wN=fN;function NN(){let e=[],t=0,n=o=>{o()},r=o=>{o()},s=wN;const i=o=>{t?e.push(o):s(()=>{n(o)})},a=()=>{const o=e;e=[],o.length&&s(()=>{r(()=>{o.forEach(u=>{n(u)})})})};return{batch:o=>{let u;t++;try{u=o()}finally{t--,t||a()}return u},batchCalls:o=>(...u)=>{i(()=>{o(...u)})},schedule:i,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{s=o}}}var Ve=NN(),ii,xr,ai,Om,jN=(Om=class extends Os{constructor(){super();Y(this,ii,!0);Y(this,xr);Y(this,ai);B(this,ai,t=>{if(!js&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){b(this,xr)||this.setEventListener(b(this,ai))}onUnsubscribe(){var t;this.hasListeners()||((t=b(this,xr))==null||t.call(this),B(this,xr,void 0))}setEventListener(t){var n;B(this,ai,t),(n=b(this,xr))==null||n.call(this),B(this,xr,t(this.setOnline.bind(this)))}setOnline(t){b(this,ii)!==t&&(B(this,ii,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return b(this,ii)}},ii=new WeakMap,xr=new WeakMap,ai=new WeakMap,Om),No=new jN;function bN(e){return Math.min(1e3*2**e,3e4)}function f0(e){return(e??"online")==="online"?No.isOnline():!0}var Kc=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function h0(e){let t=!1,n=0,r;const s=Qc(),i=()=>s.status!=="pending",a=N=>{var x;if(!i()){const d=new Kc(N);m(d),(x=e.onCancel)==null||x.call(e,d)}},o=()=>{t=!0},u=()=>{t=!1},c=()=>Sf.isFocused()&&(e.networkMode==="always"||No.isOnline())&&e.canRun(),f=()=>f0(e.networkMode)&&e.canRun(),h=N=>{i()||(r==null||r(),s.resolve(N))},m=N=>{i()||(r==null||r(),s.reject(N))},w=()=>new Promise(N=>{var x;r=d=>{(i()||c())&&N(d)},(x=e.onPause)==null||x.call(e)}).then(()=>{var N;r=void 0,i()||(N=e.onContinue)==null||N.call(e)}),v=()=>{if(i())return;let N;const x=n===0?e.initialPromise:void 0;try{N=x??e.fn()}catch(d){N=Promise.reject(d)}Promise.resolve(N).then(h).catch(d=>{var k;if(i())return;const p=e.retry??(js?0:3),y=e.retryDelay??bN,g=typeof y=="function"?y(n,d):y,j=p===!0||typeof p=="number"&&n<p||typeof p=="function"&&p(n,d);if(t||!j){m(d);return}n++,(k=e.onFail)==null||k.call(e,n,d),mN(g).then(()=>c()?void 0:w()).then(()=>{t?m(d):v()})})};return{promise:s,status:()=>s.status,cancel:a,continue:()=>(r==null||r(),s),cancelRetry:o,continueRetry:u,canStart:f,start:()=>(f()?v():w().then(v),s)}}var as,Fm,p0=(Fm=class{constructor(){Y(this,as)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),qc(this.gcTime)&&B(this,as,ns.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(js?1/0:5*60*1e3))}clearGcTimeout(){b(this,as)&&(ns.clearTimeout(b(this,as)),B(this,as,void 0))}},as=new WeakMap,Fm),ls,li,Xt,os,Ze,$a,us,fn,Ln,Tm,_N=(Tm=class extends p0{constructor(t){super();Y(this,fn);Y(this,ls);Y(this,li);Y(this,Xt);Y(this,os);Y(this,Ze);Y(this,$a);Y(this,us);B(this,us,!1),B(this,$a,t.defaultOptions),this.setOptions(t.options),this.observers=[],B(this,os,t.client),B(this,Xt,b(this,os).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,B(this,ls,yp(this.options)),this.state=t.state??b(this,ls),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=b(this,Ze))==null?void 0:t.promise}setOptions(t){if(this.options={...b(this,$a),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=yp(this.options);n.data!==void 0&&(this.setState(mp(n.data,n.dataUpdatedAt)),B(this,ls,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&b(this,Xt).remove(this)}setData(t,n){const r=Hc(this.state.data,t,this.options);return ne(this,fn,Ln).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){ne(this,fn,Ln).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=b(this,Ze))==null?void 0:r.promise;return(s=b(this,Ze))==null||s.cancel(t),n?n.then(dt).catch(dt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(b(this,ls))}isActive(){return this.observers.some(t=>Jt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===bf||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ir(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!c0(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=b(this,Ze))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=b(this,Ze))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),b(this,Xt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(b(this,Ze)&&(b(this,us)?b(this,Ze).cancel({revert:!0}):b(this,Ze).cancelRetry()),this.scheduleGc()),b(this,Xt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ne(this,fn,Ln).call(this,{type:"invalidate"})}async fetch(t,n){var u,c,f,h,m,w,v,N,x,d,p,y;if(this.state.fetchStatus!=="idle"&&((u=b(this,Ze))==null?void 0:u.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(b(this,Ze))return b(this,Ze).continueRetry(),b(this,Ze).promise}if(t&&this.setOptions(t),!this.options.queryFn){const g=this.observers.find(j=>j.options.queryFn);g&&this.setOptions(g.options)}const r=new AbortController,s=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(B(this,us,!0),r.signal)})},i=()=>{const g=d0(this.options,n),k=(()=>{const E={client:b(this,os),queryKey:this.queryKey,meta:this.meta};return s(E),E})();return B(this,us,!1),this.options.persister?this.options.persister(g,k,this):g(k)},o=(()=>{const g={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:b(this,os),state:this.state,fetchFn:i};return s(g),g})();(c=this.options.behavior)==null||c.onFetch(o,this),B(this,li,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=o.fetchOptions)==null?void 0:f.meta))&&ne(this,fn,Ln).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta}),B(this,Ze,h0({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,onCancel:g=>{g instanceof Kc&&g.revert&&this.setState({...b(this,li),fetchStatus:"idle"}),r.abort()},onFail:(g,j)=>{ne(this,fn,Ln).call(this,{type:"failed",failureCount:g,error:j})},onPause:()=>{ne(this,fn,Ln).call(this,{type:"pause"})},onContinue:()=>{ne(this,fn,Ln).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const g=await b(this,Ze).start();if(g===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(g),(w=(m=b(this,Xt).config).onSuccess)==null||w.call(m,g,this),(N=(v=b(this,Xt).config).onSettled)==null||N.call(v,g,this.state.error,this),g}catch(g){if(g instanceof Kc){if(g.silent)return b(this,Ze).promise;if(g.revert){if(this.state.data===void 0)throw g;return this.state.data}}throw ne(this,fn,Ln).call(this,{type:"error",error:g}),(d=(x=b(this,Xt).config).onError)==null||d.call(x,g,this),(y=(p=b(this,Xt).config).onSettled)==null||y.call(p,this.state.data,g,this),g}finally{this.scheduleGc()}}},ls=new WeakMap,li=new WeakMap,Xt=new WeakMap,os=new WeakMap,Ze=new WeakMap,$a=new WeakMap,us=new WeakMap,fn=new WeakSet,Ln=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...m0(r.data,this.options),fetchMeta:t.meta??null};case"success":const s={...r,...mp(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return B(this,li,t.manual?s:void 0),s;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Ve.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),b(this,Xt).notify({query:this,type:"updated",action:t})})},Tm);function m0(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:f0(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function mp(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function yp(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Et,fe,Va,xt,cs,oi,zn,vr,Ba,ui,ci,ds,fs,wr,di,ve,ra,Yc,Xc,Gc,Jc,Zc,ed,td,y0,Am,kf=(Am=class extends Os{constructor(t,n){super();Y(this,ve);Y(this,Et);Y(this,fe);Y(this,Va);Y(this,xt);Y(this,cs);Y(this,oi);Y(this,zn);Y(this,vr);Y(this,Ba);Y(this,ui);Y(this,ci);Y(this,ds);Y(this,fs);Y(this,wr);Y(this,di,new Set);this.options=n,B(this,Et,t),B(this,vr,null),B(this,zn,Qc()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(b(this,fe).addObserver(this),gp(b(this,fe),this.options)?ne(this,ve,ra).call(this):this.updateResult(),ne(this,ve,Jc).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return nd(b(this,fe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return nd(b(this,fe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ne(this,ve,Zc).call(this),ne(this,ve,ed).call(this),b(this,fe).removeObserver(this)}setOptions(t){const n=this.options,r=b(this,fe);if(this.options=b(this,Et).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Jt(this.options.enabled,b(this,fe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ne(this,ve,td).call(this),b(this,fe).setOptions(this.options),n._defaulted&&!Da(this.options,n)&&b(this,Et).getQueryCache().notify({type:"observerOptionsUpdated",query:b(this,fe),observer:this});const s=this.hasListeners();s&&xp(b(this,fe),r,this.options,n)&&ne(this,ve,ra).call(this),this.updateResult(),s&&(b(this,fe)!==r||Jt(this.options.enabled,b(this,fe))!==Jt(n.enabled,b(this,fe))||Ir(this.options.staleTime,b(this,fe))!==Ir(n.staleTime,b(this,fe)))&&ne(this,ve,Yc).call(this);const i=ne(this,ve,Xc).call(this);s&&(b(this,fe)!==r||Jt(this.options.enabled,b(this,fe))!==Jt(n.enabled,b(this,fe))||i!==b(this,wr))&&ne(this,ve,Gc).call(this,i)}getOptimisticResult(t){const n=b(this,Et).getQueryCache().build(b(this,Et),t),r=this.createResult(n,t);return kN(this,r)&&(B(this,xt,r),B(this,oi,this.options),B(this,cs,b(this,fe).state)),r}getCurrentResult(){return b(this,xt)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&b(this,zn).status==="pending"&&b(this,zn).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,s))})}trackProp(t){b(this,di).add(t)}getCurrentQuery(){return b(this,fe)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=b(this,Et).defaultQueryOptions(t),r=b(this,Et).getQueryCache().build(b(this,Et),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return ne(this,ve,ra).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),b(this,xt)))}createResult(t,n){var F;const r=b(this,fe),s=this.options,i=b(this,xt),a=b(this,cs),o=b(this,oi),c=t!==r?t.state:b(this,Va),{state:f}=t;let h={...f},m=!1,w;if(n._optimisticResults){const R=this.hasListeners(),V=!R&&gp(t,n),D=R&&xp(t,r,n,s);(V||D)&&(h={...h,...m0(f.data,t.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:v,errorUpdatedAt:N,status:x}=h;w=h.data;let d=!1;if(n.placeholderData!==void 0&&w===void 0&&x==="pending"){let R;i!=null&&i.isPlaceholderData&&n.placeholderData===(o==null?void 0:o.placeholderData)?(R=i.data,d=!0):R=typeof n.placeholderData=="function"?n.placeholderData((F=b(this,ci))==null?void 0:F.state.data,b(this,ci)):n.placeholderData,R!==void 0&&(x="success",w=Hc(i==null?void 0:i.data,R,n),m=!0)}if(n.select&&w!==void 0&&!d)if(i&&w===(a==null?void 0:a.data)&&n.select===b(this,Ba))w=b(this,ui);else try{B(this,Ba,n.select),w=n.select(w),w=Hc(i==null?void 0:i.data,w,n),B(this,ui,w),B(this,vr,null)}catch(R){B(this,vr,R)}b(this,vr)&&(v=b(this,vr),w=b(this,ui),N=Date.now(),x="error");const p=h.fetchStatus==="fetching",y=x==="pending",g=x==="error",j=y&&p,k=w!==void 0,T={status:x,fetchStatus:h.fetchStatus,isPending:y,isSuccess:x==="success",isError:g,isInitialLoading:j,isLoading:j,data:w,dataUpdatedAt:h.dataUpdatedAt,error:v,errorUpdatedAt:N,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>c.dataUpdateCount||h.errorUpdateCount>c.errorUpdateCount,isFetching:p,isRefetching:p&&!y,isLoadingError:g&&!k,isPaused:h.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:g&&k,isStale:Cf(t,n),refetch:this.refetch,promise:b(this,zn),isEnabled:Jt(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const R=L=>{T.status==="error"?L.reject(T.error):T.data!==void 0&&L.resolve(T.data)},V=()=>{const L=B(this,zn,T.promise=Qc());R(L)},D=b(this,zn);switch(D.status){case"pending":t.queryHash===r.queryHash&&R(D);break;case"fulfilled":(T.status==="error"||T.data!==D.value)&&V();break;case"rejected":(T.status!=="error"||T.error!==D.reason)&&V();break}}return T}updateResult(){const t=b(this,xt),n=this.createResult(b(this,fe),this.options);if(B(this,cs,b(this,fe).state),B(this,oi,this.options),b(this,cs).data!==void 0&&B(this,ci,b(this,fe)),Da(n,t))return;B(this,xt,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!b(this,di).size)return!0;const a=new Set(i??b(this,di));return this.options.throwOnError&&a.add("error"),Object.keys(b(this,xt)).some(o=>{const u=o;return b(this,xt)[u]!==t[u]&&a.has(u)})};ne(this,ve,y0).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ne(this,ve,Jc).call(this)}},Et=new WeakMap,fe=new WeakMap,Va=new WeakMap,xt=new WeakMap,cs=new WeakMap,oi=new WeakMap,zn=new WeakMap,vr=new WeakMap,Ba=new WeakMap,ui=new WeakMap,ci=new WeakMap,ds=new WeakMap,fs=new WeakMap,wr=new WeakMap,di=new WeakMap,ve=new WeakSet,ra=function(t){ne(this,ve,td).call(this);let n=b(this,fe).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(dt)),n},Yc=function(){ne(this,ve,Zc).call(this);const t=Ir(this.options.staleTime,b(this,fe));if(js||b(this,xt).isStale||!qc(t))return;const r=c0(b(this,xt).dataUpdatedAt,t)+1;B(this,ds,ns.setTimeout(()=>{b(this,xt).isStale||this.updateResult()},r))},Xc=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(b(this,fe)):this.options.refetchInterval)??!1},Gc=function(t){ne(this,ve,ed).call(this),B(this,wr,t),!(js||Jt(this.options.enabled,b(this,fe))===!1||!qc(b(this,wr))||b(this,wr)===0)&&B(this,fs,ns.setInterval(()=>{(this.options.refetchIntervalInBackground||Sf.isFocused())&&ne(this,ve,ra).call(this)},b(this,wr)))},Jc=function(){ne(this,ve,Yc).call(this),ne(this,ve,Gc).call(this,ne(this,ve,Xc).call(this))},Zc=function(){b(this,ds)&&(ns.clearTimeout(b(this,ds)),B(this,ds,void 0))},ed=function(){b(this,fs)&&(ns.clearInterval(b(this,fs)),B(this,fs,void 0))},td=function(){const t=b(this,Et).getQueryCache().build(b(this,Et),this.options);if(t===b(this,fe))return;const n=b(this,fe);B(this,fe,t),B(this,Va,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},y0=function(t){Ve.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(b(this,xt))}),b(this,Et).getQueryCache().notify({query:b(this,fe),type:"observerResultsUpdated"})})},Am);function SN(e,t){return Jt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function gp(e,t){return SN(e,t)||e.state.data!==void 0&&nd(e,t,t.refetchOnMount)}function nd(e,t,n){if(Jt(t.enabled,e)!==!1&&Ir(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Cf(e,t)}return!1}function xp(e,t,n,r){return(e!==t||Jt(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Cf(e,n)}function Cf(e,t){return Jt(t.enabled,e)!==!1&&e.isStaleByTime(Ir(t.staleTime,e))}function kN(e,t){return!Da(e.getCurrentResult(),t)}function vp(e){return{onFetch:(t,n)=>{var f,h,m,w,v;const r=t.options,s=(m=(h=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,i=((w=t.state.data)==null?void 0:w.pages)||[],a=((v=t.state.data)==null?void 0:v.pageParams)||[];let o={pages:[],pageParams:[]},u=0;const c=async()=>{let N=!1;const x=y=>{xN(y,()=>t.signal,()=>N=!0)},d=d0(t.options,t.fetchOptions),p=async(y,g,j)=>{if(N)return Promise.reject();if(g==null&&y.pages.length)return Promise.resolve(y);const E=(()=>{const V={client:t.client,queryKey:t.queryKey,pageParam:g,direction:j?"backward":"forward",meta:t.options.meta};return x(V),V})(),T=await d(E),{maxPages:F}=t.options,R=j?gN:yN;return{pages:R(y.pages,T,F),pageParams:R(y.pageParams,g,F)}};if(s&&i.length){const y=s==="backward",g=y?CN:wp,j={pages:i,pageParams:a},k=g(r,j);o=await p(j,k,y)}else{const y=e??i.length;do{const g=u===0?a[0]??r.initialPageParam:wp(r,o);if(u>0&&g==null)break;o=await p(o,g),u++}while(u<y)}return o};t.options.persister?t.fetchFn=()=>{var N,x;return(x=(N=t.options).persister)==null?void 0:x.call(N,c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=c}}}function wp(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function CN(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var qa,Cn,vt,hs,En,cr,Dm,EN=(Dm=class extends p0{constructor(t){super();Y(this,En);Y(this,qa);Y(this,Cn);Y(this,vt);Y(this,hs);B(this,qa,t.client),this.mutationId=t.mutationId,B(this,vt,t.mutationCache),B(this,Cn,[]),this.state=t.state||g0(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){b(this,Cn).includes(t)||(b(this,Cn).push(t),this.clearGcTimeout(),b(this,vt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){B(this,Cn,b(this,Cn).filter(n=>n!==t)),this.scheduleGc(),b(this,vt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){b(this,Cn).length||(this.state.status==="pending"?this.scheduleGc():b(this,vt).remove(this))}continue(){var t;return((t=b(this,hs))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,o,u,c,f,h,m,w,v,N,x,d,p,y,g,j,k,E,T,F;const n=()=>{ne(this,En,cr).call(this,{type:"continue"})},r={client:b(this,qa),meta:this.options.meta,mutationKey:this.options.mutationKey};B(this,hs,h0({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(R,V)=>{ne(this,En,cr).call(this,{type:"failed",failureCount:R,error:V})},onPause:()=>{ne(this,En,cr).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>b(this,vt).canRun(this)}));const s=this.state.status==="pending",i=!b(this,hs).canStart();try{if(s)n();else{ne(this,En,cr).call(this,{type:"pending",variables:t,isPaused:i}),await((o=(a=b(this,vt).config).onMutate)==null?void 0:o.call(a,t,this,r));const V=await((c=(u=this.options).onMutate)==null?void 0:c.call(u,t,r));V!==this.state.context&&ne(this,En,cr).call(this,{type:"pending",context:V,variables:t,isPaused:i})}const R=await b(this,hs).start();return await((h=(f=b(this,vt).config).onSuccess)==null?void 0:h.call(f,R,t,this.state.context,this,r)),await((w=(m=this.options).onSuccess)==null?void 0:w.call(m,R,t,this.state.context,r)),await((N=(v=b(this,vt).config).onSettled)==null?void 0:N.call(v,R,null,this.state.variables,this.state.context,this,r)),await((d=(x=this.options).onSettled)==null?void 0:d.call(x,R,null,t,this.state.context,r)),ne(this,En,cr).call(this,{type:"success",data:R}),R}catch(R){try{await((y=(p=b(this,vt).config).onError)==null?void 0:y.call(p,R,t,this.state.context,this,r))}catch(V){Promise.reject(V)}try{await((j=(g=this.options).onError)==null?void 0:j.call(g,R,t,this.state.context,r))}catch(V){Promise.reject(V)}try{await((E=(k=b(this,vt).config).onSettled)==null?void 0:E.call(k,void 0,R,this.state.variables,this.state.context,this,r))}catch(V){Promise.reject(V)}try{await((F=(T=this.options).onSettled)==null?void 0:F.call(T,void 0,R,t,this.state.context,r))}catch(V){Promise.reject(V)}throw ne(this,En,cr).call(this,{type:"error",error:R}),R}finally{b(this,vt).runNext(this)}}},qa=new WeakMap,Cn=new WeakMap,vt=new WeakMap,hs=new WeakMap,En=new WeakSet,cr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ve.batch(()=>{b(this,Cn).forEach(r=>{r.onMutationUpdate(t)}),b(this,vt).notify({mutation:this,type:"updated",action:t})})},Dm);function g0(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var $n,hn,Wa,Mm,PN=(Mm=class extends Os{constructor(t={}){super();Y(this,$n);Y(this,hn);Y(this,Wa);this.config=t,B(this,$n,new Set),B(this,hn,new Map),B(this,Wa,0)}build(t,n,r){const s=new EN({client:t,mutationCache:this,mutationId:++ll(this,Wa)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){b(this,$n).add(t);const n=Sl(t);if(typeof n=="string"){const r=b(this,hn).get(n);r?r.push(t):b(this,hn).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(b(this,$n).delete(t)){const n=Sl(t);if(typeof n=="string"){const r=b(this,hn).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&b(this,hn).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Sl(t);if(typeof n=="string"){const r=b(this,hn).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=Sl(t);if(typeof n=="string"){const s=(r=b(this,hn).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ve.batch(()=>{b(this,$n).forEach(t=>{this.notify({type:"removed",mutation:t})}),b(this,$n).clear(),b(this,hn).clear()})}getAll(){return Array.from(b(this,$n))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>fp(n,r))}findAll(t={}){return this.getAll().filter(n=>fp(t,n))}notify(t){Ve.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Ve.batch(()=>Promise.all(t.map(n=>n.continue().catch(dt))))}},$n=new WeakMap,hn=new WeakMap,Wa=new WeakMap,Mm);function Sl(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Vn,Nr,Pt,Bn,Qn,Bl,rd,Lm,RN=(Lm=class extends Os{constructor(t,n){super();Y(this,Qn);Y(this,Vn);Y(this,Nr);Y(this,Pt);Y(this,Bn);B(this,Vn,t),this.setOptions(n),this.bindMethods(),ne(this,Qn,Bl).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var r;const n=this.options;this.options=b(this,Vn).defaultMutationOptions(t),Da(this.options,n)||b(this,Vn).getMutationCache().notify({type:"observerOptionsUpdated",mutation:b(this,Pt),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&bs(n.mutationKey)!==bs(this.options.mutationKey)?this.reset():((r=b(this,Pt))==null?void 0:r.state.status)==="pending"&&b(this,Pt).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=b(this,Pt))==null||t.removeObserver(this)}onMutationUpdate(t){ne(this,Qn,Bl).call(this),ne(this,Qn,rd).call(this,t)}getCurrentResult(){return b(this,Nr)}reset(){var t;(t=b(this,Pt))==null||t.removeObserver(this),B(this,Pt,void 0),ne(this,Qn,Bl).call(this),ne(this,Qn,rd).call(this)}mutate(t,n){var r;return B(this,Bn,n),(r=b(this,Pt))==null||r.removeObserver(this),B(this,Pt,b(this,Vn).getMutationCache().build(b(this,Vn),this.options)),b(this,Pt).addObserver(this),b(this,Pt).execute(t)}},Vn=new WeakMap,Nr=new WeakMap,Pt=new WeakMap,Bn=new WeakMap,Qn=new WeakSet,Bl=function(){var n;const t=((n=b(this,Pt))==null?void 0:n.state)??g0();B(this,Nr,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},rd=function(t){Ve.batch(()=>{var n,r,s,i,a,o,u,c;if(b(this,Bn)&&this.hasListeners()){const f=b(this,Nr).variables,h=b(this,Nr).context,m={client:b(this,Vn),meta:this.options.meta,mutationKey:this.options.mutationKey};if((t==null?void 0:t.type)==="success"){try{(r=(n=b(this,Bn)).onSuccess)==null||r.call(n,t.data,f,h,m)}catch(w){Promise.reject(w)}try{(i=(s=b(this,Bn)).onSettled)==null||i.call(s,t.data,null,f,h,m)}catch(w){Promise.reject(w)}}else if((t==null?void 0:t.type)==="error"){try{(o=(a=b(this,Bn)).onError)==null||o.call(a,t.error,f,h,m)}catch(w){Promise.reject(w)}try{(c=(u=b(this,Bn)).onSettled)==null||c.call(u,void 0,t.error,f,h,m)}catch(w){Promise.reject(w)}}}this.listeners.forEach(f=>{f(b(this,Nr))})})},Lm);function Np(e,t){const n=new Set(t);return e.filter(r=>!n.has(r))}function ON(e,t,n){const r=e.slice(0);return r[t]=n,r}var fi,Ut,hi,pi,Gt,jr,Ha,Qa,Ka,ot,sd,id,ad,ld,od,Im,FN=(Im=class extends Os{constructor(t,n,r){super();Y(this,ot);Y(this,fi);Y(this,Ut);Y(this,hi);Y(this,pi);Y(this,Gt);Y(this,jr);Y(this,Ha);Y(this,Qa);Y(this,Ka,[]);B(this,fi,t),B(this,pi,r),B(this,hi,[]),B(this,Gt,[]),B(this,Ut,[]),this.setQueries(n)}onSubscribe(){this.listeners.size===1&&b(this,Gt).forEach(t=>{t.subscribe(n=>{ne(this,ot,ld).call(this,t,n)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,b(this,Gt).forEach(t=>{t.destroy()})}setQueries(t,n){B(this,hi,t),B(this,pi,n),Ve.batch(()=>{const r=b(this,Gt),s=ne(this,ot,ad).call(this,b(this,hi));s.forEach(h=>h.observer.setOptions(h.defaultedQueryOptions));const i=s.map(h=>h.observer),a=i.map(h=>h.getCurrentResult()),o=r.length!==i.length,u=i.some((h,m)=>h!==r[m]),c=o||u,f=c?!0:a.some((h,m)=>{const w=b(this,Ut)[m];return!w||!Da(h,w)});!c&&!f||(c&&(B(this,Ka,s),B(this,Gt,i)),B(this,Ut,a),this.hasListeners()&&(c&&(Np(r,i).forEach(h=>{h.destroy()}),Np(i,r).forEach(h=>{h.subscribe(m=>{ne(this,ot,ld).call(this,h,m)})})),ne(this,ot,od).call(this)))})}getCurrentResult(){return b(this,Ut)}getQueries(){return b(this,Gt).map(t=>t.getCurrentQuery())}getObservers(){return b(this,Gt)}getOptimisticResult(t,n){const r=ne(this,ot,ad).call(this,t),s=r.map(i=>i.observer.getOptimisticResult(i.defaultedQueryOptions));return[s,i=>ne(this,ot,id).call(this,i??s,n),()=>ne(this,ot,sd).call(this,s,r)]}},fi=new WeakMap,Ut=new WeakMap,hi=new WeakMap,pi=new WeakMap,Gt=new WeakMap,jr=new WeakMap,Ha=new WeakMap,Qa=new WeakMap,Ka=new WeakMap,ot=new WeakSet,sd=function(t,n){return n.map((r,s)=>{const i=t[s];return r.defaultedQueryOptions.notifyOnChangeProps?i:r.observer.trackResult(i,a=>{n.forEach(o=>{o.observer.trackProp(a)})})})},id=function(t,n){return n?((!b(this,jr)||b(this,Ut)!==b(this,Qa)||n!==b(this,Ha))&&(B(this,Ha,n),B(this,Qa,b(this,Ut)),B(this,jr,jf(b(this,jr),n(t)))),b(this,jr)):t},ad=function(t){const n=new Map;b(this,Gt).forEach(s=>{const i=s.options.queryHash;if(!i)return;const a=n.get(i);a?a.push(s):n.set(i,[s])});const r=[];return t.forEach(s=>{var u;const i=b(this,fi).defaultQueryOptions(s),o=((u=n.get(i.queryHash))==null?void 0:u.shift())??new kf(b(this,fi),i);r.push({defaultedQueryOptions:i,observer:o})}),r},ld=function(t,n){const r=b(this,Gt).indexOf(t);r!==-1&&(B(this,Ut,ON(b(this,Ut),r,n)),ne(this,ot,od).call(this))},od=function(){var t;if(this.hasListeners()){const n=b(this,jr),r=ne(this,ot,sd).call(this,b(this,Ut),b(this,Ka)),s=ne(this,ot,id).call(this,r,(t=b(this,pi))==null?void 0:t.combine);n!==s&&Ve.batch(()=>{this.listeners.forEach(i=>{i(b(this,Ut))})})}},Im),Pn,Um,TN=(Um=class extends Os{constructor(t={}){super();Y(this,Pn);this.config=t,B(this,Pn,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??Nf(s,n);let a=this.get(i);return a||(a=new _N({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){b(this,Pn).has(t.queryHash)||(b(this,Pn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=b(this,Pn).get(t.queryHash);n&&(t.destroy(),n===t&&b(this,Pn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ve.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return b(this,Pn).get(t)}getAll(){return[...b(this,Pn).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>dp(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>dp(t,r)):n}notify(t){Ve.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Ve.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ve.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Pn=new WeakMap,Um),Ue,br,_r,mi,yi,Sr,gi,xi,zm,AN=(zm=class{constructor(e={}){Y(this,Ue);Y(this,br);Y(this,_r);Y(this,mi);Y(this,yi);Y(this,Sr);Y(this,gi);Y(this,xi);B(this,Ue,e.queryCache||new TN),B(this,br,e.mutationCache||new PN),B(this,_r,e.defaultOptions||{}),B(this,mi,new Map),B(this,yi,new Map),B(this,Sr,0)}mount(){ll(this,Sr)._++,b(this,Sr)===1&&(B(this,gi,Sf.subscribe(async e=>{e&&(await this.resumePausedMutations(),b(this,Ue).onFocus())})),B(this,xi,No.subscribe(async e=>{e&&(await this.resumePausedMutations(),b(this,Ue).onOnline())})))}unmount(){var e,t;ll(this,Sr)._--,b(this,Sr)===0&&((e=b(this,gi))==null||e.call(this),B(this,gi,void 0),(t=b(this,xi))==null||t.call(this),B(this,xi,void 0))}isFetching(e){return b(this,Ue).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return b(this,br).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=b(this,Ue).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=b(this,Ue).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Ir(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return b(this,Ue).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=b(this,Ue).get(r.queryHash),i=s==null?void 0:s.state.data,a=hN(t,i);if(a!==void 0)return b(this,Ue).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return Ve.batch(()=>b(this,Ue).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=b(this,Ue).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=b(this,Ue);Ve.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=b(this,Ue);return Ve.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Ve.batch(()=>b(this,Ue).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(dt).catch(dt)}invalidateQueries(e,t={}){return Ve.batch(()=>(b(this,Ue).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Ve.batch(()=>b(this,Ue).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(dt)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(dt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=b(this,Ue).build(this,t);return n.isStaleByTime(Ir(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(dt).catch(dt)}fetchInfiniteQuery(e){return e.behavior=vp(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(dt).catch(dt)}ensureInfiniteQueryData(e){return e.behavior=vp(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return No.isOnline()?b(this,br).resumePausedMutations():Promise.resolve()}getQueryCache(){return b(this,Ue)}getMutationCache(){return b(this,br)}getDefaultOptions(){return b(this,_r)}setDefaultOptions(e){B(this,_r,e)}setQueryDefaults(e,t){b(this,mi).set(bs(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...b(this,mi).values()],n={};return t.forEach(r=>{Aa(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){b(this,yi).set(bs(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...b(this,yi).values()],n={};return t.forEach(r=>{Aa(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...b(this,_r).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Nf(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===bf&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...b(this,_r).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){b(this,Ue).clear(),b(this,br).clear()}},Ue=new WeakMap,br=new WeakMap,_r=new WeakMap,mi=new WeakMap,yi=new WeakMap,Sr=new WeakMap,gi=new WeakMap,xi=new WeakMap,zm),x0=C.createContext(void 0),Ct=e=>{const t=C.useContext(x0);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},DN=({client:e,children:t})=>(C.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(x0.Provider,{value:e,children:t})),v0=C.createContext(!1),w0=()=>C.useContext(v0);v0.Provider;function MN(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var LN=C.createContext(MN()),N0=()=>C.useContext(LN),j0=(e,t,n)=>{const r=n!=null&&n.state.error&&typeof e.throwOnError=="function"?_f(e.throwOnError,[n.state.error,n]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||r)&&(t.isReset()||(e.retryOnMount=!1))},b0=e=>{C.useEffect(()=>{e.clearReset()},[e])},_0=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||_f(n,[e.error,r])),S0=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},k0=(e,t)=>e.isLoading&&e.isFetching&&!t,ud=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,jo=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function cd({queries:e,...t},n){const r=Ct(),s=w0(),i=N0(),a=C.useMemo(()=>e.map(N=>{const x=r.defaultQueryOptions(N);return x._optimisticResults=s?"isRestoring":"optimistic",x}),[e,r,s]);a.forEach(N=>{S0(N);const x=r.getQueryCache().get(N.queryHash);j0(N,i,x)}),b0(i);const[o]=C.useState(()=>new FN(r,a,t)),[u,c,f]=o.getOptimisticResult(a,t.combine),h=!s&&t.subscribed!==!1;C.useSyncExternalStore(C.useCallback(N=>h?o.subscribe(Ve.batchCalls(N)):dt,[o,h]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),C.useEffect(()=>{o.setQueries(a,t)},[a,t,o]);const w=u.some((N,x)=>ud(a[x],N))?u.flatMap((N,x)=>{const d=a[x];if(d){const p=new kf(r,d);if(ud(d,N))return jo(d,p,i);k0(N,s)&&jo(d,p,i)}return[]}):[];if(w.length>0)throw Promise.all(w);const v=u.find((N,x)=>{const d=a[x];return d&&_0({result:N,errorResetBoundary:i,throwOnError:d.throwOnError,query:r.getQueryCache().get(d.queryHash),suspense:d.suspense})});if(v!=null&&v.error)throw v.error;return c(f())}function IN(e,t,n){var m,w,v,N;const r=w0(),s=N0(),i=Ct(),a=i.defaultQueryOptions(e);(w=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||w.call(m,a);const o=i.getQueryCache().get(a.queryHash);a._optimisticResults=r?"isRestoring":"optimistic",S0(a),j0(a,s,o),b0(s);const u=!i.getQueryCache().get(a.queryHash),[c]=C.useState(()=>new t(i,a)),f=c.getOptimisticResult(a),h=!r&&e.subscribed!==!1;if(C.useSyncExternalStore(C.useCallback(x=>{const d=h?c.subscribe(Ve.batchCalls(x)):dt;return c.updateResult(),d},[c,h]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),C.useEffect(()=>{c.setOptions(a)},[a,c]),ud(a,f))throw jo(a,c,s);if(_0({result:f,errorResetBoundary:s,throwOnError:a.throwOnError,query:o,suspense:a.suspense}))throw f.error;if((N=(v=i.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||N.call(v,a,f),a.experimental_prefetchInRender&&!js&&k0(f,r)){const x=u?jo(a,c,s):o==null?void 0:o.promise;x==null||x.catch(dt).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?f:c.trackResult(f)}function De(e,t){return IN(e,kf)}function yt(e,t){const n=Ct(),[r]=C.useState(()=>new RN(n,e));C.useEffect(()=>{r.setOptions(e)},[r,e]);const s=C.useSyncExternalStore(C.useCallback(a=>r.subscribe(Ve.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=C.useCallback((a,o)=>{r.mutate(a,o).catch(dt)},[r]);if(s.error&&_f(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function Go(){const e=window.prmConfig||{};return C.useMemo(()=>({isLoggedIn:e.isLoggedIn||!1,userId:e.userId||null,loginUrl:e.loginUrl||"/wp-login.php",logoutUrl:e.logoutUrl||"/wp-login.php?action=logout",isLoading:!1}),[e.isLoggedIn,e.userId,e.loginUrl,e.logoutUrl])}/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var UN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ae=(e,t)=>{const n=C.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:u,...c},f)=>C.createElement("svg",{ref:f,...UN,width:s,height:s,stroke:r,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${zN(e)}`,o].join(" "),...c},[...t.map(([h,m])=>C.createElement(h,m)),...Array.isArray(u)?u:[u]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=ae("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=ae("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=ae("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=ae("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=ae("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=ae("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=ae("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=ae("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=ae("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=ae("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=ae("FileCode",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=ae("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=ae("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=ae("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=ae("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=ae("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=ae("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=ae("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=ae("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=ae("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=ae("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=ae("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=ae("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=ae("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=ae("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=ae("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nj=ae("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=ae("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=ae("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=ae("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=ae("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=ae("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=ae("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=ae("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rj=ae("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=ae("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Ci="Koinastra";function An(e){C.useEffect(()=>{var t;if(e){const n=((t=window.prmConfig)==null?void 0:t.siteName)||Ci;document.title=`${e} - ${n}`}},[e])}function ij(e){const t=e.match(/\/(?:people|companies|dates)\/(\d+)/);return t?t[1]:null}function T0(e=null){const t=nr();C.useEffect(()=>{var s;let n=e;if(!n){const i=t.pathname,a=ij(i);i==="/"?n="Dashboard":i==="/login"?n="Login":i.startsWith("/people")?i==="/people"||i==="/people/"?n="People":i==="/people/new"?n="New Person":i.endsWith("/edit")?n="Edit Person":a?n="Person":n="People":i.startsWith("/companies")?i==="/companies"||i==="/companies/"?n="Companies":i==="/companies/new"?n="New Company":i.endsWith("/edit")?n="Edit Company":a?n="Company":n="Companies":i.startsWith("/dates")?i==="/dates"||i==="/dates/"?n="Important Dates":i==="/dates/new"?n="New Date":i.endsWith("/edit")?n="Edit Date":n="Important Dates":i.startsWith("/settings")?n="Settings":n=Ci}const r=((s=window.prmConfig)==null?void 0:s.siteName)||Ci;document.title=`${n} - ${r}`},[t.pathname,e])}function A0(e,t){return function(){return e.apply(t,arguments)}}const{toString:aj}=Object.prototype,{getPrototypeOf:Ef}=Object,{iterator:Jo,toStringTag:D0}=Symbol,Zo=(e=>t=>{const n=aj.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Nn=e=>(e=e.toLowerCase(),t=>Zo(t)===e),eu=e=>t=>typeof t===e,{isArray:Mi}=Array,Ei=eu("undefined");function el(e){return e!==null&&!Ei(e)&&e.constructor!==null&&!Ei(e.constructor)&&Mt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const M0=Nn("ArrayBuffer");function lj(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&M0(e.buffer),t}const oj=eu("string"),Mt=eu("function"),L0=eu("number"),tl=e=>e!==null&&typeof e=="object",uj=e=>e===!0||e===!1,Wl=e=>{if(Zo(e)!=="object")return!1;const t=Ef(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(D0 in e)&&!(Jo in e)},cj=e=>{if(!tl(e)||el(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},dj=Nn("Date"),fj=Nn("File"),hj=Nn("Blob"),pj=Nn("FileList"),mj=e=>tl(e)&&Mt(e.pipe),yj=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Mt(e.append)&&((t=Zo(e))==="formdata"||t==="object"&&Mt(e.toString)&&e.toString()==="[object FormData]"))},gj=Nn("URLSearchParams"),[xj,vj,wj,Nj]=["ReadableStream","Request","Response","Headers"].map(Nn),jj=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function nl(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),Mi(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(el(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),a=i.length;let o;for(r=0;r<a;r++)o=i[r],t.call(null,e[o],o,e)}}function I0(e,t){if(el(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const rs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,U0=e=>!Ei(e)&&e!==rs;function fd(){const{caseless:e,skipUndefined:t}=U0(this)&&this||{},n={},r=(s,i)=>{const a=e&&I0(n,i)||i;Wl(n[a])&&Wl(s)?n[a]=fd(n[a],s):Wl(s)?n[a]=fd({},s):Mi(s)?n[a]=s.slice():(!t||!Ei(s))&&(n[a]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&nl(arguments[s],r);return n}const bj=(e,t,n,{allOwnKeys:r}={})=>(nl(t,(s,i)=>{n&&Mt(s)?e[i]=A0(s,n):e[i]=s},{allOwnKeys:r}),e),_j=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Sj=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},kj=(e,t,n,r)=>{let s,i,a;const o={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)a=s[i],(!r||r(a,e,t))&&!o[a]&&(t[a]=e[a],o[a]=!0);e=n!==!1&&Ef(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Cj=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},Ej=e=>{if(!e)return null;if(Mi(e))return e;let t=e.length;if(!L0(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Pj=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Ef(Uint8Array)),Rj=(e,t)=>{const r=(e&&e[Jo]).call(e);let s;for(;(s=r.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},Oj=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},Fj=Nn("HTMLFormElement"),Tj=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Rp=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Aj=Nn("RegExp"),z0=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};nl(n,(s,i)=>{let a;(a=t(s,i,e))!==!1&&(r[i]=a||s)}),Object.defineProperties(e,r)},Dj=e=>{z0(e,(t,n)=>{if(Mt(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Mt(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Mj=(e,t)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Mi(e)?r(e):r(String(e).split(t)),n},Lj=()=>{},Ij=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Uj(e){return!!(e&&Mt(e.append)&&e[D0]==="FormData"&&e[Jo])}const zj=e=>{const t=new Array(10),n=(r,s)=>{if(tl(r)){if(t.indexOf(r)>=0)return;if(el(r))return r;if(!("toJSON"in r)){t[s]=r;const i=Mi(r)?[]:{};return nl(r,(a,o)=>{const u=n(a,s+1);!Ei(u)&&(i[o]=u)}),t[s]=void 0,i}}return r};return n(e,0)},$j=Nn("AsyncFunction"),Vj=e=>e&&(tl(e)||Mt(e))&&Mt(e.then)&&Mt(e.catch),$0=((e,t)=>e?setImmediate:t?((n,r)=>(rs.addEventListener("message",({source:s,data:i})=>{s===rs&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),rs.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Mt(rs.postMessage)),Bj=typeof queueMicrotask<"u"?queueMicrotask.bind(rs):typeof process<"u"&&process.nextTick||$0,qj=e=>e!=null&&Mt(e[Jo]),O={isArray:Mi,isArrayBuffer:M0,isBuffer:el,isFormData:yj,isArrayBufferView:lj,isString:oj,isNumber:L0,isBoolean:uj,isObject:tl,isPlainObject:Wl,isEmptyObject:cj,isReadableStream:xj,isRequest:vj,isResponse:wj,isHeaders:Nj,isUndefined:Ei,isDate:dj,isFile:fj,isBlob:hj,isRegExp:Aj,isFunction:Mt,isStream:mj,isURLSearchParams:gj,isTypedArray:Pj,isFileList:pj,forEach:nl,merge:fd,extend:bj,trim:jj,stripBOM:_j,inherits:Sj,toFlatObject:kj,kindOf:Zo,kindOfTest:Nn,endsWith:Cj,toArray:Ej,forEachEntry:Rj,matchAll:Oj,isHTMLForm:Fj,hasOwnProperty:Rp,hasOwnProp:Rp,reduceDescriptors:z0,freezeMethods:Dj,toObjectSet:Mj,toCamelCase:Tj,noop:Lj,toFiniteNumber:Ij,findKey:I0,global:rs,isContextDefined:U0,isSpecCompliantForm:Uj,toJSONObject:zj,isAsyncFn:$j,isThenable:Vj,setImmediate:$0,asap:Bj,isIterable:qj};function le(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}O.inherits(le,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:O.toJSONObject(this.config),code:this.code,status:this.status}}});const V0=le.prototype,B0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{B0[e]={value:e}});Object.defineProperties(le,B0);Object.defineProperty(V0,"isAxiosError",{value:!0});le.from=(e,t,n,r,s,i)=>{const a=Object.create(V0);O.toFlatObject(e,a,function(f){return f!==Error.prototype},c=>c!=="isAxiosError");const o=e&&e.message?e.message:"Error",u=t==null&&e?e.code:t;return le.call(a,o,u,n,r,s),e&&a.cause==null&&Object.defineProperty(a,"cause",{value:e,configurable:!0}),a.name=e&&e.name||"Error",i&&Object.assign(a,i),a};const Wj=null;function hd(e){return O.isPlainObject(e)||O.isArray(e)}function q0(e){return O.endsWith(e,"[]")?e.slice(0,-2):e}function Op(e,t,n){return e?e.concat(t).map(function(s,i){return s=q0(s),!n&&i?"["+s+"]":s}).join(n?".":""):t}function Hj(e){return O.isArray(e)&&!e.some(hd)}const Qj=O.toFlatObject(O,{},null,function(t){return/^is[A-Z]/.test(t)});function tu(e,t,n){if(!O.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=O.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,x){return!O.isUndefined(x[N])});const r=n.metaTokens,s=n.visitor||f,i=n.dots,a=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&O.isSpecCompliantForm(t);if(!O.isFunction(s))throw new TypeError("visitor must be a function");function c(v){if(v===null)return"";if(O.isDate(v))return v.toISOString();if(O.isBoolean(v))return v.toString();if(!u&&O.isBlob(v))throw new le("Blob is not supported. Use a Buffer instead.");return O.isArrayBuffer(v)||O.isTypedArray(v)?u&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function f(v,N,x){let d=v;if(v&&!x&&typeof v=="object"){if(O.endsWith(N,"{}"))N=r?N:N.slice(0,-2),v=JSON.stringify(v);else if(O.isArray(v)&&Hj(v)||(O.isFileList(v)||O.endsWith(N,"[]"))&&(d=O.toArray(v)))return N=q0(N),d.forEach(function(y,g){!(O.isUndefined(y)||y===null)&&t.append(a===!0?Op([N],g,i):a===null?N:N+"[]",c(y))}),!1}return hd(v)?!0:(t.append(Op(x,N,i),c(v)),!1)}const h=[],m=Object.assign(Qj,{defaultVisitor:f,convertValue:c,isVisitable:hd});function w(v,N){if(!O.isUndefined(v)){if(h.indexOf(v)!==-1)throw Error("Circular reference detected in "+N.join("."));h.push(v),O.forEach(v,function(d,p){(!(O.isUndefined(d)||d===null)&&s.call(t,d,O.isString(p)?p.trim():p,N,m))===!0&&w(d,N?N.concat(p):[p])}),h.pop()}}if(!O.isObject(e))throw new TypeError("data must be an object");return w(e),t}function Fp(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Pf(e,t){this._pairs=[],e&&tu(e,this,t)}const W0=Pf.prototype;W0.append=function(t,n){this._pairs.push([t,n])};W0.toString=function(t){const n=t?function(r){return t.call(this,r,Fp)}:Fp;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function Kj(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function H0(e,t,n){if(!t)return e;const r=n&&n.encode||Kj;O.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(t,n):i=O.isURLSearchParams(t)?t.toString():new Pf(t,n).toString(r),i){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Tp{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){O.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Q0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Yj=typeof URLSearchParams<"u"?URLSearchParams:Pf,Xj=typeof FormData<"u"?FormData:null,Gj=typeof Blob<"u"?Blob:null,Jj={isBrowser:!0,classes:{URLSearchParams:Yj,FormData:Xj,Blob:Gj},protocols:["http","https","file","blob","url","data"]},Rf=typeof window<"u"&&typeof document<"u",pd=typeof navigator=="object"&&navigator||void 0,Zj=Rf&&(!pd||["ReactNative","NativeScript","NS"].indexOf(pd.product)<0),e2=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",t2=Rf&&window.location.href||"http://localhost",n2=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Rf,hasStandardBrowserEnv:Zj,hasStandardBrowserWebWorkerEnv:e2,navigator:pd,origin:t2},Symbol.toStringTag,{value:"Module"})),mt={...n2,...Jj};function r2(e,t){return tu(e,new mt.classes.URLSearchParams,{visitor:function(n,r,s,i){return mt.isNode&&O.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function s2(e){return O.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function i2(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}function K0(e){function t(n,r,s,i){let a=n[i++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),u=i>=n.length;return a=!a&&O.isArray(s)?s.length:a,u?(O.hasOwnProp(s,a)?s[a]=[s[a],r]:s[a]=r,!o):((!s[a]||!O.isObject(s[a]))&&(s[a]=[]),t(n,r,s[a],i)&&O.isArray(s[a])&&(s[a]=i2(s[a])),!o)}if(O.isFormData(e)&&O.isFunction(e.entries)){const n={};return O.forEachEntry(e,(r,s)=>{t(s2(r),s,n,0)}),n}return null}function a2(e,t,n){if(O.isString(e))try{return(t||JSON.parse)(e),O.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const rl={transitional:Q0,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=O.isObject(t);if(i&&O.isHTMLForm(t)&&(t=new FormData(t)),O.isFormData(t))return s?JSON.stringify(K0(t)):t;if(O.isArrayBuffer(t)||O.isBuffer(t)||O.isStream(t)||O.isFile(t)||O.isBlob(t)||O.isReadableStream(t))return t;if(O.isArrayBufferView(t))return t.buffer;if(O.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return r2(t,this.formSerializer).toString();if((o=O.isFileList(t))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return tu(o?{"files[]":t}:t,u&&new u,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),a2(t)):t}],transformResponse:[function(t){const n=this.transitional||rl.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(O.isResponse(t)||O.isReadableStream(t))return t;if(t&&O.isString(t)&&(r&&!this.responseType||s)){const a=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(o){if(a)throw o.name==="SyntaxError"?le.from(o,le.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:mt.classes.FormData,Blob:mt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};O.forEach(["delete","get","head","post","put","patch"],e=>{rl.headers[e]={}});const l2=O.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),o2=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(a){s=a.indexOf(":"),n=a.substring(0,s).trim().toLowerCase(),r=a.substring(s+1).trim(),!(!n||t[n]&&l2[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Ap=Symbol("internals");function Yi(e){return e&&String(e).trim().toLowerCase()}function Hl(e){return e===!1||e==null?e:O.isArray(e)?e.map(Hl):String(e)}function u2(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const c2=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Mu(e,t,n,r,s){if(O.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!O.isString(t)){if(O.isString(r))return t.indexOf(r)!==-1;if(O.isRegExp(r))return r.test(t)}}function d2(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function f2(e,t){const n=O.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,i,a){return this[r].call(this,t,s,i,a)},configurable:!0})})}let Lt=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function i(o,u,c){const f=Yi(u);if(!f)throw new Error("header name must be a non-empty string");const h=O.findKey(s,f);(!h||s[h]===void 0||c===!0||c===void 0&&s[h]!==!1)&&(s[h||u]=Hl(o))}const a=(o,u)=>O.forEach(o,(c,f)=>i(c,f,u));if(O.isPlainObject(t)||t instanceof this.constructor)a(t,n);else if(O.isString(t)&&(t=t.trim())&&!c2(t))a(o2(t),n);else if(O.isObject(t)&&O.isIterable(t)){let o={},u,c;for(const f of t){if(!O.isArray(f))throw TypeError("Object iterator must return a key-value pair");o[c=f[0]]=(u=o[c])?O.isArray(u)?[...u,f[1]]:[u,f[1]]:f[1]}a(o,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=Yi(t),t){const r=O.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return u2(s);if(O.isFunction(n))return n.call(this,s,r);if(O.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Yi(t),t){const r=O.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Mu(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function i(a){if(a=Yi(a),a){const o=O.findKey(r,a);o&&(!n||Mu(r,r[o],o,n))&&(delete r[o],s=!0)}}return O.isArray(t)?t.forEach(i):i(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!t||Mu(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const n=this,r={};return O.forEach(this,(s,i)=>{const a=O.findKey(r,i);if(a){n[a]=Hl(s),delete n[i];return}const o=t?d2(i):String(i).trim();o!==i&&delete n[i],n[o]=Hl(s),r[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return O.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&O.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[Ap]=this[Ap]={accessors:{}}).accessors,s=this.prototype;function i(a){const o=Yi(a);r[o]||(f2(s,a),r[o]=!0)}return O.isArray(t)?t.forEach(i):i(t),this}};Lt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);O.reduceDescriptors(Lt.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});O.freezeMethods(Lt);function Lu(e,t){const n=this||rl,r=t||n,s=Lt.from(r.headers);let i=r.data;return O.forEach(e,function(o){i=o.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function Y0(e){return!!(e&&e.__CANCEL__)}function Li(e,t,n){le.call(this,e??"canceled",le.ERR_CANCELED,t,n),this.name="CanceledError"}O.inherits(Li,le,{__CANCEL__:!0});function X0(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new le("Request failed with status code "+n.status,[le.ERR_BAD_REQUEST,le.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function h2(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function p2(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,i=0,a;return t=t!==void 0?t:1e3,function(u){const c=Date.now(),f=r[i];a||(a=c),n[s]=u,r[s]=c;let h=i,m=0;for(;h!==s;)m+=n[h++],h=h%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),c-a<t)return;const w=f&&c-f;return w?Math.round(m*1e3/w):void 0}}function m2(e,t){let n=0,r=1e3/t,s,i;const a=(c,f=Date.now())=>{n=f,s=null,i&&(clearTimeout(i),i=null),e(...c)};return[(...c)=>{const f=Date.now(),h=f-n;h>=r?a(c,f):(s=c,i||(i=setTimeout(()=>{i=null,a(s)},r-h)))},()=>s&&a(s)]}const bo=(e,t,n=3)=>{let r=0;const s=p2(50,250);return m2(i=>{const a=i.loaded,o=i.lengthComputable?i.total:void 0,u=a-r,c=s(u),f=a<=o;r=a;const h={loaded:a,total:o,progress:o?a/o:void 0,bytes:u,rate:c||void 0,estimated:c&&o&&f?(o-a)/c:void 0,event:i,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(h)},n)},Dp=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Mp=e=>(...t)=>O.asap(()=>e(...t)),y2=mt.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,mt.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(mt.origin),mt.navigator&&/(msie|trident)/i.test(mt.navigator.userAgent)):()=>!0,g2=mt.hasStandardBrowserEnv?{write(e,t,n,r,s,i,a){if(typeof document>"u")return;const o=[`${e}=${encodeURIComponent(t)}`];O.isNumber(n)&&o.push(`expires=${new Date(n).toUTCString()}`),O.isString(r)&&o.push(`path=${r}`),O.isString(s)&&o.push(`domain=${s}`),i===!0&&o.push("secure"),O.isString(a)&&o.push(`SameSite=${a}`),document.cookie=o.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function x2(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function v2(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function G0(e,t,n){let r=!x2(t);return e&&(r||n==!1)?v2(e,t):t}const Lp=e=>e instanceof Lt?{...e}:e;function ks(e,t){t=t||{};const n={};function r(c,f,h,m){return O.isPlainObject(c)&&O.isPlainObject(f)?O.merge.call({caseless:m},c,f):O.isPlainObject(f)?O.merge({},f):O.isArray(f)?f.slice():f}function s(c,f,h,m){if(O.isUndefined(f)){if(!O.isUndefined(c))return r(void 0,c,h,m)}else return r(c,f,h,m)}function i(c,f){if(!O.isUndefined(f))return r(void 0,f)}function a(c,f){if(O.isUndefined(f)){if(!O.isUndefined(c))return r(void 0,c)}else return r(void 0,f)}function o(c,f,h){if(h in t)return r(c,f);if(h in e)return r(void 0,c)}const u={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(c,f,h)=>s(Lp(c),Lp(f),h,!0)};return O.forEach(Object.keys({...e,...t}),function(f){const h=u[f]||s,m=h(e[f],t[f],f);O.isUndefined(m)&&h!==o||(n[f]=m)}),n}const J0=e=>{const t=ks({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:a,auth:o}=t;if(t.headers=a=Lt.from(a),t.url=H0(G0(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),O.isFormData(n)){if(mt.hasStandardBrowserEnv||mt.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(O.isFunction(n.getHeaders)){const u=n.getHeaders(),c=["content-type","content-length"];Object.entries(u).forEach(([f,h])=>{c.includes(f.toLowerCase())&&a.set(f,h)})}}if(mt.hasStandardBrowserEnv&&(r&&O.isFunction(r)&&(r=r(t)),r||r!==!1&&y2(t.url))){const u=s&&i&&g2.read(i);u&&a.set(s,u)}return t},w2=typeof XMLHttpRequest<"u",N2=w2&&function(e){return new Promise(function(n,r){const s=J0(e);let i=s.data;const a=Lt.from(s.headers).normalize();let{responseType:o,onUploadProgress:u,onDownloadProgress:c}=s,f,h,m,w,v;function N(){w&&w(),v&&v(),s.cancelToken&&s.cancelToken.unsubscribe(f),s.signal&&s.signal.removeEventListener("abort",f)}let x=new XMLHttpRequest;x.open(s.method.toUpperCase(),s.url,!0),x.timeout=s.timeout;function d(){if(!x)return;const y=Lt.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),j={data:!o||o==="text"||o==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:y,config:e,request:x};X0(function(E){n(E),N()},function(E){r(E),N()},j),x=null}"onloadend"in x?x.onloadend=d:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(d)},x.onabort=function(){x&&(r(new le("Request aborted",le.ECONNABORTED,e,x)),x=null)},x.onerror=function(g){const j=g&&g.message?g.message:"Network Error",k=new le(j,le.ERR_NETWORK,e,x);k.event=g||null,r(k),x=null},x.ontimeout=function(){let g=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const j=s.transitional||Q0;s.timeoutErrorMessage&&(g=s.timeoutErrorMessage),r(new le(g,j.clarifyTimeoutError?le.ETIMEDOUT:le.ECONNABORTED,e,x)),x=null},i===void 0&&a.setContentType(null),"setRequestHeader"in x&&O.forEach(a.toJSON(),function(g,j){x.setRequestHeader(j,g)}),O.isUndefined(s.withCredentials)||(x.withCredentials=!!s.withCredentials),o&&o!=="json"&&(x.responseType=s.responseType),c&&([m,v]=bo(c,!0),x.addEventListener("progress",m)),u&&x.upload&&([h,w]=bo(u),x.upload.addEventListener("progress",h),x.upload.addEventListener("loadend",w)),(s.cancelToken||s.signal)&&(f=y=>{x&&(r(!y||y.type?new Li(null,e,x):y),x.abort(),x=null)},s.cancelToken&&s.cancelToken.subscribe(f),s.signal&&(s.signal.aborted?f():s.signal.addEventListener("abort",f)));const p=h2(s.url);if(p&&mt.protocols.indexOf(p)===-1){r(new le("Unsupported protocol "+p+":",le.ERR_BAD_REQUEST,e));return}x.send(i||null)})},j2=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const i=function(c){if(!s){s=!0,o();const f=c instanceof Error?c:this.reason;r.abort(f instanceof le?f:new Li(f instanceof Error?f.message:f))}};let a=t&&setTimeout(()=>{a=null,i(new le(`timeout ${t} of ms exceeded`,le.ETIMEDOUT))},t);const o=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),e=null)};e.forEach(c=>c.addEventListener("abort",i));const{signal:u}=r;return u.unsubscribe=()=>O.asap(o),u}},b2=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},_2=async function*(e,t){for await(const n of S2(e))yield*b2(n,t)},S2=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Ip=(e,t,n,r)=>{const s=_2(e,t);let i=0,a,o=u=>{a||(a=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:c,value:f}=await s.next();if(c){o(),u.close();return}let h=f.byteLength;if(n){let m=i+=h;n(m)}u.enqueue(new Uint8Array(f))}catch(c){throw o(c),c}},cancel(u){return o(u),s.return()}},{highWaterMark:2})},Up=64*1024,{isFunction:Cl}=O,k2=(({Request:e,Response:t})=>({Request:e,Response:t}))(O.global),{ReadableStream:zp,TextEncoder:$p}=O.global,Vp=(e,...t)=>{try{return!!e(...t)}catch{return!1}},C2=e=>{e=O.merge.call({skipUndefined:!0},k2,e);const{fetch:t,Request:n,Response:r}=e,s=t?Cl(t):typeof fetch=="function",i=Cl(n),a=Cl(r);if(!s)return!1;const o=s&&Cl(zp),u=s&&(typeof $p=="function"?(v=>N=>v.encode(N))(new $p):async v=>new Uint8Array(await new n(v).arrayBuffer())),c=i&&o&&Vp(()=>{let v=!1;const N=new n(mt.origin,{body:new zp,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!N}),f=a&&o&&Vp(()=>O.isReadableStream(new r("").body)),h={stream:f&&(v=>v.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!h[v]&&(h[v]=(N,x)=>{let d=N&&N[v];if(d)return d.call(N);throw new le(`Response type '${v}' is not supported`,le.ERR_NOT_SUPPORT,x)})});const m=async v=>{if(v==null)return 0;if(O.isBlob(v))return v.size;if(O.isSpecCompliantForm(v))return(await new n(mt.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(O.isArrayBufferView(v)||O.isArrayBuffer(v))return v.byteLength;if(O.isURLSearchParams(v)&&(v=v+""),O.isString(v))return(await u(v)).byteLength},w=async(v,N)=>{const x=O.toFiniteNumber(v.getContentLength());return x??m(N)};return async v=>{let{url:N,method:x,data:d,signal:p,cancelToken:y,timeout:g,onDownloadProgress:j,onUploadProgress:k,responseType:E,headers:T,withCredentials:F="same-origin",fetchOptions:R}=J0(v),V=t||fetch;E=E?(E+"").toLowerCase():"text";let D=j2([p,y&&y.toAbortSignal()],g),L=null;const G=D&&D.unsubscribe&&(()=>{D.unsubscribe()});let oe;try{if(k&&c&&x!=="get"&&x!=="head"&&(oe=await w(T,d))!==0){let K=new n(N,{method:"POST",body:d,duplex:"half"}),J;if(O.isFormData(d)&&(J=K.headers.get("content-type"))&&T.setContentType(J),K.body){const[ce,xe]=Dp(oe,bo(Mp(k)));d=Ip(K.body,Up,ce,xe)}}O.isString(F)||(F=F?"include":"omit");const ie=i&&"credentials"in n.prototype,ge={...R,signal:D,method:x.toUpperCase(),headers:T.normalize().toJSON(),body:d,duplex:"half",credentials:ie?F:void 0};L=i&&new n(N,ge);let z=await(i?V(L,R):V(N,ge));const Z=f&&(E==="stream"||E==="response");if(f&&(j||Z&&G)){const K={};["status","statusText","headers"].forEach(Pe=>{K[Pe]=z[Pe]});const J=O.toFiniteNumber(z.headers.get("content-length")),[ce,xe]=j&&Dp(J,bo(Mp(j),!0))||[];z=new r(Ip(z.body,Up,ce,()=>{xe&&xe(),G&&G()}),K)}E=E||"text";let U=await h[O.findKey(h,E)||"text"](z,v);return!Z&&G&&G(),await new Promise((K,J)=>{X0(K,J,{data:U,headers:Lt.from(z.headers),status:z.status,statusText:z.statusText,config:v,request:L})})}catch(ie){throw G&&G(),ie&&ie.name==="TypeError"&&/Load failed|fetch/i.test(ie.message)?Object.assign(new le("Network Error",le.ERR_NETWORK,v,L),{cause:ie.cause||ie}):le.from(ie,ie&&ie.code,v,L)}}},E2=new Map,Z0=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:s}=t,i=[r,s,n];let a=i.length,o=a,u,c,f=E2;for(;o--;)u=i[o],c=f.get(u),c===void 0&&f.set(u,c=o?new Map:C2(t)),f=c;return c};Z0();const Of={http:Wj,xhr:N2,fetch:{get:Z0}};O.forEach(Of,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Bp=e=>`- ${e}`,P2=e=>O.isFunction(e)||e===null||e===!1;function R2(e,t){e=O.isArray(e)?e:[e];const{length:n}=e;let r,s;const i={};for(let a=0;a<n;a++){r=e[a];let o;if(s=r,!P2(r)&&(s=Of[(o=String(r)).toLowerCase()],s===void 0))throw new le(`Unknown adapter '${o}'`);if(s&&(O.isFunction(s)||(s=s.get(t))))break;i[o||"#"+a]=s}if(!s){const a=Object.entries(i).map(([u,c])=>`adapter ${u} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=n?a.length>1?`since :
`+a.map(Bp).join(`
`):" "+Bp(a[0]):"as no adapter specified";throw new le("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s}const ex={getAdapter:R2,adapters:Of};function Iu(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Li(null,e)}function qp(e){return Iu(e),e.headers=Lt.from(e.headers),e.data=Lu.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),ex.getAdapter(e.adapter||rl.adapter,e)(e).then(function(r){return Iu(e),r.data=Lu.call(e,e.transformResponse,r),r.headers=Lt.from(r.headers),r},function(r){return Y0(r)||(Iu(e),r&&r.response&&(r.response.data=Lu.call(e,e.transformResponse,r.response),r.response.headers=Lt.from(r.response.headers))),Promise.reject(r)})}const tx="1.13.2",nu={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{nu[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Wp={};nu.transitional=function(t,n,r){function s(i,a){return"[Axios v"+tx+"] Transitional option '"+i+"'"+a+(r?". "+r:"")}return(i,a,o)=>{if(t===!1)throw new le(s(a," has been removed"+(n?" in "+n:"")),le.ERR_DEPRECATED);return n&&!Wp[a]&&(Wp[a]=!0,console.warn(s(a," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,a,o):!0}};nu.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function O2(e,t,n){if(typeof e!="object")throw new le("options must be an object",le.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],a=t[i];if(a){const o=e[i],u=o===void 0||a(o,i,e);if(u!==!0)throw new le("option "+i+" must be "+u,le.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new le("Unknown option "+i,le.ERR_BAD_OPTION)}}const Ql={assertOptions:O2,validators:nu},Sn=Ql.validators;let ys=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Tp,response:new Tp}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=ks(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Ql.assertOptions(r,{silentJSONParsing:Sn.transitional(Sn.boolean),forcedJSONParsing:Sn.transitional(Sn.boolean),clarifyTimeoutError:Sn.transitional(Sn.boolean)},!1),s!=null&&(O.isFunction(s)?n.paramsSerializer={serialize:s}:Ql.assertOptions(s,{encode:Sn.function,serialize:Sn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Ql.assertOptions(n,{baseUrl:Sn.spelling("baseURL"),withXsrfToken:Sn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=i&&O.merge(i.common,i[n.method]);i&&O.forEach(["delete","get","head","post","put","patch","common"],v=>{delete i[v]}),n.headers=Lt.concat(a,i);const o=[];let u=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(n)===!1||(u=u&&N.synchronous,o.unshift(N.fulfilled,N.rejected))});const c=[];this.interceptors.response.forEach(function(N){c.push(N.fulfilled,N.rejected)});let f,h=0,m;if(!u){const v=[qp.bind(this),void 0];for(v.unshift(...o),v.push(...c),m=v.length,f=Promise.resolve(n);h<m;)f=f.then(v[h++],v[h++]);return f}m=o.length;let w=n;for(;h<m;){const v=o[h++],N=o[h++];try{w=v(w)}catch(x){N.call(this,x);break}}try{f=qp.call(this,w)}catch(v){return Promise.reject(v)}for(h=0,m=c.length;h<m;)f=f.then(c[h++],c[h++]);return f}getUri(t){t=ks(this.defaults,t);const n=G0(t.baseURL,t.url,t.allowAbsoluteUrls);return H0(n,t.params,t.paramsSerializer)}};O.forEach(["delete","get","head","options"],function(t){ys.prototype[t]=function(n,r){return this.request(ks(r||{},{method:t,url:n,data:(r||{}).data}))}});O.forEach(["post","put","patch"],function(t){function n(r){return function(i,a,o){return this.request(ks(o||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}ys.prototype[t]=n(),ys.prototype[t+"Form"]=n(!0)});let F2=class nx{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const a=new Promise(o=>{r.subscribe(o),i=o}).then(s);return a.cancel=function(){r.unsubscribe(i)},a},t(function(i,a,o){r.reason||(r.reason=new Li(i,a,o),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new nx(function(s){t=s}),cancel:t}}};function T2(e){return function(n){return e.apply(null,n)}}function A2(e){return O.isObject(e)&&e.isAxiosError===!0}const md={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(md).forEach(([e,t])=>{md[t]=e});function rx(e){const t=new ys(e),n=A0(ys.prototype.request,t);return O.extend(n,ys.prototype,t,{allOwnKeys:!0}),O.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return rx(ks(e,s))},n}const qe=rx(rl);qe.Axios=ys;qe.CanceledError=Li;qe.CancelToken=F2;qe.isCancel=Y0;qe.VERSION=tx;qe.toFormData=tu;qe.AxiosError=le;qe.Cancel=qe.CanceledError;qe.all=function(t){return Promise.all(t)};qe.spread=T2;qe.isAxiosError=A2;qe.mergeConfig=ks;qe.AxiosHeaders=Lt;qe.formToJSON=e=>K0(O.isHTMLForm(e)?new FormData(e):e);qe.getAdapter=ex.getAdapter;qe.HttpStatusCode=md;qe.default=qe;const{Axios:ok,AxiosError:uk,CanceledError:ck,isCancel:dk,CancelToken:fk,VERSION:hk,all:pk,Cancel:mk,isAxiosError:yk,spread:gk,toFormData:xk,AxiosHeaders:vk,HttpStatusCode:wk,formToJSON:Nk,getAdapter:jk,mergeConfig:bk}=qe,yd=window.prmConfig||{},se=qe.create({baseURL:yd.apiUrl||"/wp-json",headers:{"Content-Type":"application/json","X-WP-Nonce":yd.nonce||""}});se.interceptors.request.use(e=>{var t;return(t=window.prmConfig)!=null&&t.nonce&&(e.headers["X-WP-Nonce"]=window.prmConfig.nonce),e});se.interceptors.response.use(e=>e,e=>{var t,n;return((t=e.response)==null?void 0:t.status)===401&&(window.location.href=yd.loginUrl||"/wp-login.php"),((n=e.response)==null?void 0:n.status)===403&&console.error("Access denied:",e.response.data),Promise.reject(e)});const ye={getPeople:e=>se.get("/wp/v2/people",{params:e}),getPerson:(e,t={})=>se.get(`/wp/v2/people/${e}`,{params:t}),createPerson:e=>se.post("/wp/v2/people",e),updatePerson:(e,t)=>se.put(`/wp/v2/people/${e}`,t),deletePerson:e=>se.delete(`/wp/v2/people/${e}`),getCompanies:e=>se.get("/wp/v2/companies",{params:e}),getCompany:(e,t={})=>se.get(`/wp/v2/companies/${e}`,{params:t}),createCompany:e=>se.post("/wp/v2/companies",e),updateCompany:(e,t)=>se.put(`/wp/v2/companies/${e}`,t),deleteCompany:e=>se.delete(`/wp/v2/companies/${e}`),getDates:e=>se.get("/wp/v2/important-dates",{params:e}),getDate:e=>se.get(`/wp/v2/important-dates/${e}`),createDate:e=>se.post("/wp/v2/important-dates",e),updateDate:(e,t)=>se.put(`/wp/v2/important-dates/${e}`,t),deleteDate:e=>se.delete(`/wp/v2/important-dates/${e}`),getPersonLabels:()=>se.get("/wp/v2/person_label"),getCompanyLabels:()=>se.get("/wp/v2/company_label"),getRelationshipTypes:()=>se.get("/wp/v2/relationship_type",{params:{per_page:100,_fields:"id,name,slug,acf"}}),createRelationshipType:e=>se.post("/wp/v2/relationship_type",e),updateRelationshipType:(e,t)=>se.post(`/wp/v2/relationship_type/${e}`,t),deleteRelationshipType:e=>se.delete(`/wp/v2/relationship_type/${e}?force=true`),restoreRelationshipTypeDefaults:()=>se.post("/prm/v1/relationship-types/restore-defaults"),getDateTypes:()=>se.get("/wp/v2/date_type",{params:{per_page:100}}),uploadMedia:e=>{const t=new FormData;return t.append("file",e),se.post("/wp/v2/media",t,{headers:{"Content-Type":"multipart/form-data"}})}},an={getDashboard:()=>se.get("/prm/v1/dashboard"),sideloadGravatar:(e,t)=>se.post(`/prm/v1/people/${e}/gravatar`,{email:t}),getCurrentUser:()=>se.get("/prm/v1/user/me"),search:e=>se.get("/prm/v1/search",{params:{q:e}}),getReminders:(e=30)=>se.get("/prm/v1/reminders",{params:{days_ahead:e}}),getPersonDates:e=>se.get(`/prm/v1/people/${e}/dates`),getPersonTimeline:e=>se.get(`/prm/v1/people/${e}/timeline`),getPersonNotes:e=>se.get(`/prm/v1/people/${e}/notes`),createNote:(e,t)=>se.post(`/prm/v1/people/${e}/notes`,{content:t}),updateNote:(e,t)=>se.put(`/prm/v1/notes/${e}`,{content:t}),deleteNote:e=>se.delete(`/prm/v1/notes/${e}`),getPersonActivities:e=>se.get(`/prm/v1/people/${e}/activities`),createActivity:(e,t)=>se.post(`/prm/v1/people/${e}/activities`,t),updateActivity:(e,t)=>se.put(`/prm/v1/activities/${e}`,t),deleteActivity:e=>se.delete(`/prm/v1/activities/${e}`),getCompanyPeople:e=>se.get(`/prm/v1/companies/${e}/people`),setCompanyLogo:(e,t)=>se.post(`/prm/v1/companies/${e}/logo`,{media_id:t})};function D2(){return De({queryKey:["dashboard"],queryFn:async()=>(await an.getDashboard()).data})}function M2(e=30){return De({queryKey:["reminders",e],queryFn:async()=>(await an.getReminders(e)).data})}function L2(e){const t=typeof e=="string"?e:"",n=t.length>=2;return De({queryKey:["search",t],queryFn:async()=>n?(await an.search(t)).data:{people:[],companies:[],dates:[]},enabled:n})}const I2=[{name:"Dashboard",href:"/",icon:KN},{name:"People",href:"/people",icon:La},{name:"Companies",href:"/companies",icon:_s},{name:"Dates",href:"/dates",icon:Ss},{name:"Settings",href:"/settings",icon:P0}];function Hp({mobile:e=!1,onClose:t}){const{logoutUrl:n}=Go();return l.jsxs("div",{className:"flex flex-col h-full bg-white border-r border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:[l.jsxs(ee,{to:"/",className:"flex items-center gap-2 text-xl font-bold text-primary-600",children:[l.jsx(R0,{className:"w-5 h-5"}),Ci]}),e&&l.jsx("button",{onClick:t,className:"p-2 -mr-2",children:l.jsx(Vr,{className:"w-5 h-5"})})]}),l.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1 overflow-y-auto",children:I2.map(r=>l.jsxs(iN,{to:r.href,onClick:e?t:void 0,className:({isActive:s})=>`flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${s?"bg-primary-50 text-primary-700":"text-gray-700 hover:bg-gray-50"}`,children:[l.jsx(r.icon,{className:"w-5 h-5 mr-3"}),r.name]},r.name))}),l.jsx("div",{className:"p-4 border-t border-gray-200",children:l.jsxs("a",{href:n,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[l.jsx(XN,{className:"w-5 h-5 mr-3"}),"Log Out"]})})]})}function U2(){var a;const[e,t]=C.useState(!1),n=C.useRef(null),{data:r,isLoading:s}=De({queryKey:["current-user"],queryFn:async()=>(await an.getCurrentUser()).data});if(C.useEffect(()=>{const o=u=>{n.current&&!n.current.contains(u.target)&&t(!1)};if(e)return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[e]),s||!r)return l.jsx("div",{className:"flex items-center ml-auto",children:l.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full animate-pulse"})});const i=((a=r.name)==null?void 0:a.split(" ").map(o=>o[0]).join("").toUpperCase().slice(0,2))||"?";return l.jsxs("div",{className:"relative ml-auto",ref:n,children:[l.jsxs("button",{onClick:()=>t(!e),className:"flex items-center gap-2 p-1 rounded-full hover:bg-gray-100 transition-colors","aria-label":"User menu",children:[r.avatar_url?l.jsx("img",{src:r.avatar_url,alt:r.name,className:"w-8 h-8 rounded-full object-cover"}):l.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-sm font-medium text-primary-700",children:i})}),l.jsx(qN,{className:`w-4 h-4 text-gray-500 transition-transform ${e?"rotate-180":""}`})]}),e&&l.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:l.jsxs("div",{className:"py-1",children:[l.jsxs("a",{href:r.profile_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>t(!1),children:[l.jsx(F0,{className:"w-4 h-4 mr-2"}),"Edit profile"]}),r.is_admin&&l.jsxs("a",{href:r.admin_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>t(!1),children:[l.jsx(P0,{className:"w-4 h-4 mr-2"}),"WordPress admin"]})]})})]})}function z2({onMenuClick:e}){const[t,n]=C.useState(""),[r,s]=C.useState(!1),i=nr(),a=It(),o=C.useRef(null),u=C.useRef(null),c=t.trim(),{data:f,isLoading:h}=L2(c),m=()=>{const d=i.pathname;return d==="/"?"Dashboard":d.startsWith("/people")?"People":d.startsWith("/companies")?"Companies":d.startsWith("/dates")?"Important Dates":d.startsWith("/settings")?"Settings":""};C.useEffect(()=>{const d=p=>{u.current&&!u.current.contains(p.target)&&o.current&&!o.current.contains(p.target)&&s(!1)};return document.addEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}},[]);const w=(d,p)=>{s(!1),n(""),d==="person"?a(`/people/${p}`):d==="company"?a(`/companies/${p}`):d==="date"&&a(`/dates/${p}/edit`)},v=f||{people:[],companies:[],dates:[]},N=v.people&&v.people.length>0||v.companies&&v.companies.length>0||v.dates&&v.dates.length>0,x=r&&t.trim().length>=2;return l.jsxs("header",{className:"sticky top-0 z-10 flex items-center h-16 px-4 bg-white border-b border-gray-200 lg:px-6",children:[l.jsx("button",{onClick:e,className:"p-2 -ml-2 lg:hidden",children:l.jsx(ZN,{className:"w-5 h-5"})}),l.jsx("h1",{className:"ml-2 text-lg font-semibold lg:ml-0",children:m()}),l.jsx("div",{className:"flex-1 flex justify-center max-w-2xl mx-4 lg:mx-8",children:l.jsxs("div",{className:"relative w-full",ref:o,children:[l.jsx(E0,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),l.jsx("input",{type:"search",placeholder:"Search people, companies, dates...",value:t,onChange:d=>n(d.target.value),onFocus:()=>s(!0),className:"input pl-9 w-full"}),x&&l.jsx("div",{ref:u,className:"absolute top-full left-0 right-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg max-h-96 overflow-y-auto z-50",children:h?l.jsxs("div",{className:"p-4 text-center text-gray-500",children:[l.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600 mx-auto"}),l.jsx("p",{className:"mt-2 text-sm",children:"Searching..."})]}):N?l.jsxs("div",{className:"py-2",children:[v.people&&v.people.length>0&&l.jsxs("div",{className:"px-3 py-2",children:[l.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 px-2",children:"People"}),v.people.map(d=>l.jsxs("button",{onClick:()=>w("person",d.id),className:"w-full flex items-center gap-3 px-2 py-2 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[l.jsx(F0,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),l.jsx("span",{className:"text-sm font-medium text-gray-900 flex-1 truncate",children:d.name})]},d.id))]}),v.companies&&v.companies.length>0&&l.jsxs("div",{className:"px-3 py-2 border-t border-gray-100",children:[l.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 px-2",children:"Companies"}),v.companies.map(d=>l.jsxs("button",{onClick:()=>w("company",d.id),className:"w-full flex items-center gap-3 px-2 py-2 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[l.jsx(BN,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),l.jsx("span",{className:"text-sm font-medium text-gray-900 flex-1 truncate",children:d.name})]},d.id))]}),v.dates&&v.dates.length>0&&l.jsxs("div",{className:"px-3 py-2 border-t border-gray-100",children:[l.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 px-2",children:"Dates"}),v.dates.map(d=>l.jsxs("button",{onClick:()=>w("date",d.id),className:"w-full flex items-center gap-3 px-2 py-2 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[l.jsx(Ss,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),l.jsx("span",{className:"text-sm font-medium text-gray-900 flex-1 truncate",children:d.title})]},d.id))]})]}):l.jsx("div",{className:"p-4 text-center text-gray-500",children:l.jsx("p",{className:"text-sm",children:"No results found"})})})]})}),l.jsx(U2,{})]})}function $2({children:e}){const[t,n]=C.useState(!1);return T0(),l.jsxs("div",{className:"flex h-screen bg-gray-50",children:[l.jsx("div",{className:"hidden lg:flex lg:w-64 lg:flex-col",children:l.jsx(Hp,{})}),t&&l.jsxs("div",{className:"fixed inset-0 z-40 lg:hidden",children:[l.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>n(!1)}),l.jsx("div",{className:"fixed inset-y-0 left-0 flex flex-col w-64 bg-white",children:l.jsx(Hp,{mobile:!0,onClose:()=>n(!1)})})]}),l.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[l.jsx(z2,{onMenuClick:()=>n(!0)}),l.jsx("main",{className:"flex-1 overflow-y-auto p-4 lg:p-6",children:e})]})]})}function lt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Cs(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const sx=6048e5,V2=864e5;let B2={};function ru(){return B2}function Ia(e,t){var o,u,c,f;const n=ru(),r=(t==null?void 0:t.weekStartsOn)??((u=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:u.weekStartsOn)??n.weekStartsOn??((f=(c=n.locale)==null?void 0:c.options)==null?void 0:f.weekStartsOn)??0,s=lt(e),i=s.getDay(),a=(i<r?7:0)+i-r;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function _o(e){return Ia(e,{weekStartsOn:1})}function ix(e){const t=lt(e),n=t.getFullYear(),r=Cs(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=_o(r),i=Cs(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const a=_o(i);return t.getTime()>=s.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function Qp(e){const t=lt(e);return t.setHours(0,0,0,0),t}function Kp(e){const t=lt(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function q2(e,t){const n=Qp(e),r=Qp(t),s=+n-Kp(n),i=+r-Kp(r);return Math.round((s-i)/V2)}function W2(e){const t=ix(e),n=Cs(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),_o(n)}function Yp(e,t){const n=lt(e),r=lt(t),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function H2(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Q2(e){if(!H2(e)&&typeof e!="number")return!1;const t=lt(e);return!isNaN(Number(t))}function K2(e,t){const n=lt(e),r=lt(t);return n.getFullYear()-r.getFullYear()}function Uu(e,t){const n=lt(e),r=lt(t),s=Yp(n,r),i=Math.abs(K2(n,r));n.setFullYear(1584),r.setFullYear(1584);const a=Yp(n,r)===-s,o=s*(i-+a);return o===0?0:o}function Y2(e){const t=lt(e),n=Cs(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const X2={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},G2=(e,t,n)=>{let r;const s=X2[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function zu(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const J2={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Z2={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},eb={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},tb={date:zu({formats:J2,defaultWidth:"full"}),time:zu({formats:Z2,defaultWidth:"full"}),dateTime:zu({formats:eb,defaultWidth:"full"})},nb={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},rb=(e,t,n,r)=>nb[e];function Xi(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,o=n!=null&&n.width?String(n.width):a;s=e.formattingValues[o]||e.formattingValues[a]}else{const a=e.defaultWidth,o=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[o]||e.values[a]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const sb={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ib={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ab={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},lb={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ob={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ub={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},cb=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},db={ordinalNumber:cb,era:Xi({values:sb,defaultWidth:"wide"}),quarter:Xi({values:ib,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Xi({values:ab,defaultWidth:"wide"}),day:Xi({values:lb,defaultWidth:"wide"}),dayPeriod:Xi({values:ob,defaultWidth:"wide",formattingValues:ub,defaultFormattingWidth:"wide"})};function Gi(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const a=i[0],o=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(o)?hb(o,h=>h.test(a)):fb(o,h=>h.test(a));let c;c=e.valueCallback?e.valueCallback(u):u,c=n.valueCallback?n.valueCallback(c):c;const f=t.slice(a.length);return{value:c,rest:f}}}function fb(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function hb(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function pb(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],i=t.match(e.parsePattern);if(!i)return null;let a=e.valueCallback?e.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const o=t.slice(s.length);return{value:a,rest:o}}}const mb=/^(\d+)(th|st|nd|rd)?/i,yb=/\d+/i,gb={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},xb={any:[/^b/i,/^(a|c)/i]},vb={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},wb={any:[/1/i,/2/i,/3/i,/4/i]},Nb={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},jb={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},bb={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},_b={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Sb={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},kb={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Cb={ordinalNumber:pb({matchPattern:mb,parsePattern:yb,valueCallback:e=>parseInt(e,10)}),era:Gi({matchPatterns:gb,defaultMatchWidth:"wide",parsePatterns:xb,defaultParseWidth:"any"}),quarter:Gi({matchPatterns:vb,defaultMatchWidth:"wide",parsePatterns:wb,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Gi({matchPatterns:Nb,defaultMatchWidth:"wide",parsePatterns:jb,defaultParseWidth:"any"}),day:Gi({matchPatterns:bb,defaultMatchWidth:"wide",parsePatterns:_b,defaultParseWidth:"any"}),dayPeriod:Gi({matchPatterns:Sb,defaultMatchWidth:"any",parsePatterns:kb,defaultParseWidth:"any"})},Eb={code:"en-US",formatDistance:G2,formatLong:tb,formatRelative:rb,localize:db,match:Cb,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Pb(e){const t=lt(e);return q2(t,Y2(t))+1}function Rb(e){const t=lt(e),n=+_o(t)-+W2(t);return Math.round(n/sx)+1}function ax(e,t){var f,h,m,w;const n=lt(e),r=n.getFullYear(),s=ru(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((w=(m=s.locale)==null?void 0:m.options)==null?void 0:w.firstWeekContainsDate)??1,a=Cs(e,0);a.setFullYear(r+1,0,i),a.setHours(0,0,0,0);const o=Ia(a,t),u=Cs(e,0);u.setFullYear(r,0,i),u.setHours(0,0,0,0);const c=Ia(u,t);return n.getTime()>=o.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function Ob(e,t){var o,u,c,f;const n=ru(),r=(t==null?void 0:t.firstWeekContainsDate)??((u=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:u.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(c=n.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??1,s=ax(e,t),i=Cs(e,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Ia(i,t)}function Fb(e,t){const n=lt(e),r=+Ia(n,t)-+Ob(n,t);return Math.round(r/sx)+1}function we(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const ur={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return we(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):we(n+1,2)},d(e,t){return we(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return we(e.getHours()%12||12,t.length)},H(e,t){return we(e.getHours(),t.length)},m(e,t){return we(e.getMinutes(),t.length)},s(e,t){return we(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return we(s,t.length)}},Ds={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Xp={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return ur.y(e,t)},Y:function(e,t,n,r){const s=ax(e,r),i=s>0?s:1-s;if(t==="YY"){const a=i%100;return we(a,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):we(i,t.length)},R:function(e,t){const n=ix(e);return we(n,t.length)},u:function(e,t){const n=e.getFullYear();return we(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return we(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return we(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return ur.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return we(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=Fb(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):we(s,t.length)},I:function(e,t,n){const r=Rb(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):we(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):ur.d(e,t)},D:function(e,t,n){const r=Pb(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):we(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return we(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return we(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return we(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=Ds.noon:r===0?s=Ds.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=Ds.evening:r>=12?s=Ds.afternoon:r>=4?s=Ds.morning:s=Ds.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ur.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):ur.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):we(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):we(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):ur.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):ur.s(e,t)},S:function(e,t){return ur.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return Jp(r);case"XXXX":case"XX":return Jr(r);case"XXXXX":case"XXX":default:return Jr(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Jp(r);case"xxxx":case"xx":return Jr(r);case"xxxxx":case"xxx":default:return Jr(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Gp(r,":");case"OOOO":default:return"GMT"+Jr(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Gp(r,":");case"zzzz":default:return"GMT"+Jr(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return we(r,t.length)},T:function(e,t,n){const r=e.getTime();return we(r,t.length)}};function Gp(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+t+we(i,2)}function Jp(e,t){return e%60===0?(e>0?"-":"+")+we(Math.abs(e)/60,2):Jr(e,t)}function Jr(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=we(Math.trunc(r/60),2),i=we(r%60,2);return n+s+t+i}const Zp=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},lx=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Tb=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return Zp(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",Zp(r,t)).replace("{{time}}",lx(s,t))},Ab={p:lx,P:Tb},Db=/^D+$/,Mb=/^Y+$/,Lb=["D","DD","YY","YYYY"];function Ib(e){return Db.test(e)}function Ub(e){return Mb.test(e)}function zb(e,t,n){const r=$b(e,t,n);if(console.warn(r),Lb.includes(e))throw new RangeError(r)}function $b(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Vb=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Bb=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,qb=/^'([^]*?)'?$/,Wb=/''/g,Hb=/[a-zA-Z]/;function Rn(e,t,n){var f,h,m,w;const r=ru(),s=r.locale??Eb,i=r.firstWeekContainsDate??((h=(f=r.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,a=r.weekStartsOn??((w=(m=r.locale)==null?void 0:m.options)==null?void 0:w.weekStartsOn)??0,o=lt(e);if(!Q2(o))throw new RangeError("Invalid time value");let u=t.match(Bb).map(v=>{const N=v[0];if(N==="p"||N==="P"){const x=Ab[N];return x(v,s.formatLong)}return v}).join("").match(Vb).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const N=v[0];if(N==="'")return{isToken:!1,value:Qb(v)};if(Xp[N])return{isToken:!0,value:v};if(N.match(Hb))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return{isToken:!1,value:v}});s.localize.preprocessor&&(u=s.localize.preprocessor(o,u));const c={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return u.map(v=>{if(!v.isToken)return v.value;const N=v.value;(Ub(N)||Ib(N))&&zb(N,t,String(e));const x=Xp[N[0]];return x(o,N,s.localize,c)}).join("")}function Qb(e){const t=e.match(qb);return t?t[1].replace(Wb,"'"):e}function Ms({title:e,value:t,icon:n,href:r}){return l.jsx(ee,{to:r,className:"card p-6 hover:shadow-md transition-shadow",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:e}),l.jsx("p",{className:"mt-1 text-3xl font-semibold",children:t})]}),l.jsx("div",{className:"p-3 bg-primary-50 rounded-lg",children:l.jsx(n,{className:"w-6 h-6 text-primary-600"})})]})})}function em({person:e}){var t,n;return l.jsxs(ee,{to:`/people/${e.id}`,className:"flex items-center p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[e.thumbnail?l.jsx("img",{src:e.thumbnail,alt:e.name,loading:"lazy",className:"w-10 h-10 rounded-full object-cover"}):l.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-sm font-medium text-gray-500",children:((t=e.first_name)==null?void 0:t[0])||"?"})}),l.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),((n=e.labels)==null?void 0:n.length)>0&&l.jsx("p",{className:"text-xs text-gray-500 truncate",children:e.labels.join(", ")})]}),e.is_favorite&&l.jsx(Ma,{className:"w-4 h-4 text-yellow-400 fill-current"})]})}function Kb({reminder:e}){var o,u,c,f,h;const t=e.days_until;let n="bg-gray-100 text-gray-700";t===0?n="bg-green-100 text-green-700":t<=3?n="bg-orange-100 text-orange-700":t<=7&&(n="bg-yellow-100 text-yellow-700");const r=((u=(o=e.related_people)==null?void 0:o[0])==null?void 0:u.name)||e.title,s=(f=(c=e.related_people)==null?void 0:c[0])==null?void 0:f.id,i=((h=e.related_people)==null?void 0:h.length)>0,a=l.jsxs(l.Fragment,{children:[l.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${n}`,children:t===0?"Today":`${t}d`}),l.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:r}),l.jsx("p",{className:"text-xs text-gray-500",children:Rn(new Date(e.next_occurrence),"MMMM d, yyyy")}),i&&l.jsx("div",{className:"flex -space-x-2 mt-1",children:e.related_people.slice(0,3).map(m=>{var w;return m.thumbnail?l.jsx("img",{src:m.thumbnail,alt:m.name,loading:"lazy",className:"w-10 h-10 rounded-full border-2 border-white object-cover"},m.id):l.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full border-2 border-white flex items-center justify-center",children:l.jsx("span",{className:"text-sm",children:(w=m.name)==null?void 0:w[0]})},m.id)})})]})]});return i&&s?l.jsx(ee,{to:`/people/${s}`,className:"flex items-start p-3 rounded-lg hover:bg-gray-50 transition-colors",children:a}):l.jsx("div",{className:"flex items-start p-3 rounded-lg hover:bg-gray-50 transition-colors",children:a})}function Yb(){return l.jsxs("div",{className:"card p-12 text-center",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx("div",{className:"p-4 bg-primary-50 rounded-full",children:l.jsx(R0,{className:"w-12 h-12 text-primary-600"})})}),l.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:["Welcome to ",Ci,"!"]}),l.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"Get started by adding your first contact, company, or important date. Your dashboard will populate as you add more information."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsxs(ee,{to:"/people/new",className:"inline-flex items-center px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[l.jsx(pt,{className:"w-5 h-5 mr-2"}),"Add Your First Person"]}),l.jsxs(ee,{to:"/companies/new",className:"inline-flex items-center px-6 py-3 bg-white text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[l.jsx(pt,{className:"w-5 h-5 mr-2"}),"Add Your First Company"]})]})]})}function Xb(){var c,f,h;const{data:e,isLoading:t,error:n}=D2();if(t)return l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(n){const m=((c=n==null?void 0:n.response)==null?void 0:c.status)>=500||!(n!=null&&n.response);return l.jsx("div",{className:"card p-8 text-center",children:l.jsx("div",{className:"text-red-600 mb-2",children:m?l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"font-medium mb-1",children:"Failed to load dashboard data"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Please check your connection and try refreshing the page."})]}):l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"font-medium mb-1",children:"Unable to load dashboard"}),l.jsx("p",{className:"text-sm text-gray-600",children:((h=(f=n==null?void 0:n.response)==null?void 0:f.data)==null?void 0:h.message)||"An error occurred while loading your data."})]})})})}const{stats:r,recent_people:s,upcoming_reminders:i,favorites:a}=e||{};return((r==null?void 0:r.total_people)||0)+((r==null?void 0:r.total_companies)||0)+((r==null?void 0:r.total_dates)||0)===0?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[l.jsx(Ms,{title:"Total People",value:0,icon:La,href:"/people"}),l.jsx(Ms,{title:"Companies",value:0,icon:_s,href:"/companies"}),l.jsx(Ms,{title:"Important Dates",value:0,icon:Ss,href:"/dates"})]}),l.jsx(Yb,{})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[l.jsx(Ms,{title:"Total People",value:(r==null?void 0:r.total_people)||0,icon:La,href:"/people"}),l.jsx(Ms,{title:"Companies",value:(r==null?void 0:r.total_companies)||0,icon:_s,href:"/companies"}),l.jsx(Ms,{title:"Important Dates",value:(r==null?void 0:r.total_dates)||0,icon:Ss,href:"/dates"})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[l.jsx("h2",{className:"font-semibold",children:"Upcoming Reminders"}),l.jsxs(ee,{to:"/dates",className:"text-sm text-primary-600 hover:text-primary-700 flex items-center",children:["View all",l.jsx(bp,{className:"w-4 h-4 ml-1"})]})]}),l.jsx("div",{className:"divide-y divide-gray-100",children:(i==null?void 0:i.length)>0?i.map(m=>l.jsx(Kb,{reminder:m},m.id)):l.jsx("p",{className:"p-4 text-sm text-gray-500 text-center",children:"No upcoming reminders"})})]}),l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[l.jsx("h2",{className:"font-semibold",children:"Recent People"}),l.jsxs(ee,{to:"/people",className:"text-sm text-primary-600 hover:text-primary-700 flex items-center",children:["View all",l.jsx(bp,{className:"w-4 h-4 ml-1"})]})]}),l.jsx("div",{className:"divide-y divide-gray-100",children:(s==null?void 0:s.length)>0?s.map(m=>l.jsx(em,{person:m},m.id)):l.jsxs("p",{className:"p-4 text-sm text-gray-500 text-center",children:["No people yet. ",l.jsx(ee,{to:"/people/new",className:"text-primary-600",children:"Add someone"})]})})]})]}),(a==null?void 0:a.length)>0&&l.jsxs("div",{className:"card",children:[l.jsx("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:l.jsx("h2",{className:"font-semibold",children:"Favorites"})}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 p-2",children:a.map(m=>l.jsx(em,{person:m},m.id))})]})]})}const tt={all:["people"],lists:()=>[...tt.all,"list"],list:e=>[...tt.lists(),e],details:()=>[...tt.all,"detail"],detail:e=>[...tt.details(),e],timeline:e=>[...tt.detail(e),"timeline"],dates:e=>[...tt.detail(e),"dates"]};function Gb(e){if(!e)return"";const t=document.createElement("textarea");return t.innerHTML=e,t.value}function ox(e){var s,i,a,o,u,c,f,h,m,w,v,N,x,d,p,y,g;const t=((a=(i=(s=e._embedded)==null?void 0:s["wp:featuredmedia"])==null?void 0:i[0])==null?void 0:a.source_url)||((m=(h=(f=(c=(u=(o=e._embedded)==null?void 0:o["wp:featuredmedia"])==null?void 0:u[0])==null?void 0:c.media_details)==null?void 0:f.sizes)==null?void 0:h.thumbnail)==null?void 0:m.source_url)||null,n=((x=(N=(v=(w=e._embedded)==null?void 0:w["wp:term"])==null?void 0:v.flat())==null?void 0:N.filter(j=>(j==null?void 0:j.taxonomy)==="person_label"))==null?void 0:x.map(j=>j.name))||[],r=Gb(((d=e.title)==null?void 0:d.rendered)||"");return{...e,id:e.id,name:r,first_name:((p=e.acf)==null?void 0:p.first_name)||"",last_name:((y=e.acf)==null?void 0:y.last_name)||"",is_favorite:((g=e.acf)==null?void 0:g.is_favorite)||!1,thumbnail:t,labels:n}}function su(e={}){return De({queryKey:tt.list(e),queryFn:async()=>{const t=[];let n=1;const r=100;for(;;){const s=await ye.getPeople({per_page:r,page:n,_embed:!0,...e}),i=s.data.map(ox);if(t.push(...i),i.length<r)break;const a=parseInt(s.headers["x-wp-totalpages"]||s.headers["X-WP-TotalPages"]||"0",10);if(a>0&&n>=a)break;n++}return t}})}function Ii(e){return De({queryKey:tt.detail(e),queryFn:async()=>{const t=await ye.getPerson(e,{_embed:!0});return ox(t.data)},enabled:!!e})}function Jb(e){return De({queryKey:tt.timeline(e),queryFn:async()=>(await an.getPersonTimeline(e)).data,enabled:!!e})}function Zb(e){return De({queryKey:tt.dates(e),queryFn:async()=>(await an.getPersonDates(e)).data,enabled:!!e})}function e_(){const e=Ct();return yt({mutationFn:t=>ye.createPerson(t),onSuccess:()=>{e.invalidateQueries({queryKey:tt.lists()})}})}function sl(){const e=Ct();return yt({mutationFn:({id:t,data:n})=>ye.updatePerson(t,n),onSuccess:(t,{id:n,data:r})=>{var s;e.invalidateQueries({queryKey:tt.detail(n)}),e.invalidateQueries({queryKey:tt.lists()}),(s=r==null?void 0:r.acf)!=null&&s.relationships&&(Array.isArray(r.acf.relationships)?r.acf.relationships:[]).forEach(a=>{const o=a.related_person;o&&e.invalidateQueries({queryKey:tt.detail(o)})})}})}function t_(){const e=Ct();return yt({mutationFn:t=>ye.deletePerson(t),onSuccess:()=>{e.invalidateQueries({queryKey:tt.lists()})}})}function n_(){const e=Ct();return yt({mutationFn:({noteId:t,personId:n})=>an.deleteNote(t),onSuccess:(t,{personId:n})=>{e.invalidateQueries({queryKey:tt.timeline(n)})}})}function r_(){const e=Ct();return yt({mutationFn:({dateId:t,personId:n})=>ye.deleteDate(t),onSuccess:(t,{personId:n})=>{n&&(e.invalidateQueries({queryKey:tt.dates(n)}),e.invalidateQueries({queryKey:tt.detail(n)})),e.invalidateQueries({queryKey:["reminders"]})}})}function tm(e){var s;const t=((s=e.acf)==null?void 0:s.work_history)||[];if(t.length===0)return null;const n=t.find(i=>i.is_current&&i.company);if(n)return n.company;const r=t.filter(i=>i.company).sort((i,a)=>{const o=i.start_date?new Date(i.start_date):new Date(0);return(a.start_date?new Date(a.start_date):new Date(0))-o});return r.length>0?r[0].company:null}function s_({person:e,companyName:t,isDeceased:n}){var r,s;return l.jsx(ee,{to:`/people/${e.id}`,className:"card p-4 hover:shadow-md transition-shadow",children:l.jsxs("div",{className:"flex items-start",children:[e.thumbnail?l.jsx("img",{src:e.thumbnail,alt:e.name,loading:"lazy",className:"w-12 h-12 rounded-full object-cover"}):l.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-lg font-medium text-gray-500",children:((r=e.first_name)==null?void 0:r[0])||"?"})}),l.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsxs("h3",{className:"text-sm font-medium text-gray-900 truncate",children:[e.name,n&&l.jsx("span",{className:"ml-1 text-gray-500",children:""})]}),e.is_favorite&&l.jsx(Ma,{className:"w-4 h-4 ml-1 text-yellow-400 fill-current flex-shrink-0"})]}),t&&l.jsx("p",{className:"text-xs text-gray-500 mt-0.5 truncate",children:t}),((s=e.labels)==null?void 0:s.length)>0&&l.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:e.labels.slice(0,3).map(i=>l.jsx("span",{className:"inline-flex px-2 py-0.5 text-xs rounded-full bg-gray-100 text-gray-600",children:i},i))})]})]})})}function i_(){const[e,t]=C.useState(!1),[n,r]=C.useState(!1),[s,i]=C.useState([]),[a,o]=C.useState("first_name"),[u,c]=C.useState("asc"),f=C.useRef(null),h=C.useRef(null),{data:m,isLoading:w,error:v}=su(),{data:N}=De({queryKey:["person-labels"],queryFn:async()=>(await ye.getPersonLabels()).data}),x=(N==null?void 0:N.map(D=>D.name))||[];C.useEffect(()=>{const D=L=>{h.current&&!h.current.contains(L.target)&&f.current&&!f.current.contains(L.target)&&t(!1)};return document.addEventListener("mousedown",D),()=>{document.removeEventListener("mousedown",D)}},[]);const d=C.useMemo(()=>{if(!m)return[];let D=[...m];return n&&(D=D.filter(L=>L.is_favorite)),s.length>0&&(D=D.filter(L=>{const G=L.labels||[];return s.some(oe=>G.includes(oe))})),D.sort((L,G)=>{var z,Z,U,K,J,ce,xe,Pe;let oe,ie;if(a==="first_name"?(oe=(((z=L.acf)==null?void 0:z.first_name)||L.first_name||"").toLowerCase(),ie=(((Z=G.acf)==null?void 0:Z.first_name)||G.first_name||"").toLowerCase()):(oe=(((U=L.acf)==null?void 0:U.last_name)||L.last_name||"").toLowerCase(),ie=(((K=G.acf)==null?void 0:K.last_name)||G.last_name||"").toLowerCase()),oe===ie){const je=a==="first_name"?(((J=L.acf)==null?void 0:J.last_name)||L.last_name||"").toLowerCase():(((ce=L.acf)==null?void 0:ce.first_name)||L.first_name||"").toLowerCase(),pe=a==="first_name"?(((xe=G.acf)==null?void 0:xe.last_name)||G.last_name||"").toLowerCase():(((Pe=G.acf)==null?void 0:Pe.first_name)||G.first_name||"").toLowerCase(),Se=je.localeCompare(pe);return u==="asc"?Se:-Se}const ge=oe.localeCompare(ie);return u==="asc"?ge:-ge})},[m,n,s,a,u]),p=n||s.length>0,y=D=>{i(L=>L.includes(D)?L.filter(G=>G!==D):[...L,D])},g=()=>{r(!1),i([])},j=C.useMemo(()=>{if(!d)return[];const D=d.map(L=>tm(L)).filter(Boolean);return[...new Set(D)]},[d]),{data:k}=De({queryKey:["companies","batch",j.sort().join(",")],queryFn:async()=>j.length===0?[]:(await ye.getCompanies({per_page:100,include:j.join(",")})).data,enabled:j.length>0}),E=C.useMemo(()=>{const D={};return k&&k.forEach(L=>{var G;D[L.id]=((G=L.title)==null?void 0:G.rendered)||L.title||""}),D},[k]),T=C.useMemo(()=>{const D={};return d.forEach(L=>{const G=tm(L);G&&E[G]&&(D[L.id]=E[G])}),D},[d,E]),F=C.useMemo(()=>d.map(D=>D.id).filter(Boolean),[d]),R=cd({queries:F.map(D=>({queryKey:["person-dates",D],queryFn:async()=>(await an.getPersonDates(D)).data,enabled:!!D}))}),V=C.useMemo(()=>{const D={};return R.forEach((L,G)=>{if(L.data&&F[G]){const oe=F[G],ie=L.data.some(ge=>{const z=Array.isArray(ge.date_type)?ge.date_type[0]:ge.date_type;return(z==null?void 0:z.toLowerCase())==="died"});D[oe]=ie}}),D},[R,F]);return l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2 border border-gray-200 rounded-lg p-1",children:[l.jsxs("select",{value:a,onChange:D=>o(D.target.value),className:"text-sm border-0 bg-transparent focus:ring-0 focus:outline-none cursor-pointer",children:[l.jsx("option",{value:"first_name",children:"First Name"}),l.jsx("option",{value:"last_name",children:"Last Name"})]}),l.jsx("div",{className:"h-4 w-px bg-gray-300"}),l.jsx("button",{onClick:()=>c(u==="asc"?"desc":"asc"),className:"p-1 hover:bg-gray-100 rounded transition-colors",title:`Sort ${u==="asc"?"descending":"ascending"}`,children:u==="asc"?l.jsx(VN,{className:"w-4 h-4 text-gray-600"}):l.jsx($N,{className:"w-4 h-4 text-gray-600"})})]}),l.jsxs("div",{className:"relative",ref:f,children:[l.jsxs("button",{onClick:()=>t(!e),className:`btn-secondary ${p?"bg-primary-50 text-primary-700 border-primary-200":""}`,children:[l.jsx(kp,{className:"w-4 h-4 mr-2"}),"Filter",p&&l.jsx("span",{className:"ml-2 px-1.5 py-0.5 bg-primary-600 text-white text-xs rounded-full",children:s.length+(n?1:0)})]}),e&&l.jsx("div",{ref:h,className:"absolute top-full left-0 mt-2 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:l.jsxs("div",{className:"p-4 space-y-4",children:[l.jsx("div",{children:l.jsxs("label",{className:"flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:n,onChange:D=>r(D.target.checked),className:"sr-only"}),l.jsx("div",{className:`flex items-center justify-center w-5 h-5 border-2 rounded mr-3 ${n?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:n&&l.jsx(Sp,{className:"w-3 h-3 text-white"})}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Ma,{className:"w-4 h-4 mr-2 text-yellow-400 fill-current"}),l.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Favorites only"})]})]})}),x.length>0&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Labels"}),l.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:x.map(D=>l.jsxs("label",{className:"flex items-center cursor-pointer hover:bg-gray-50 p-1 rounded",children:[l.jsx("input",{type:"checkbox",checked:s.includes(D),onChange:()=>y(D),className:"sr-only"}),l.jsx("div",{className:`flex items-center justify-center w-5 h-5 border-2 rounded mr-3 ${s.includes(D)?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:s.includes(D)&&l.jsx(Sp,{className:"w-3 h-3 text-white"})}),l.jsx("span",{className:"text-sm text-gray-700",children:D})]},D))})]}),p&&l.jsx("button",{onClick:g,className:"w-full text-sm text-primary-600 hover:text-primary-700 font-medium pt-2 border-t border-gray-200",children:"Clear all filters"})]})})]}),p&&l.jsxs("div",{className:"flex flex-wrap gap-2",children:[n&&l.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-primary-100 text-primary-800 rounded-full text-xs",children:[l.jsx(Ma,{className:"w-3 h-3"}),"Favorites",l.jsx("button",{onClick:()=>r(!1),className:"hover:text-primary-600",children:l.jsx(Vr,{className:"w-3 h-3"})})]}),s.map(D=>l.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 text-gray-800 rounded-full text-xs",children:[D,l.jsx("button",{onClick:()=>y(D),className:"hover:text-gray-600",children:l.jsx(Vr,{className:"w-3 h-3"})})]},D))]}),l.jsxs(ee,{to:"/people/new",className:"btn-primary",children:[l.jsx(pt,{className:"w-4 h-4 mr-2"}),"Add Person"]})]})}),w&&l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),v&&l.jsx("div",{className:"card p-6 text-center",children:l.jsx("p",{className:"text-red-600",children:"Failed to load people."})}),!w&&!v&&(m==null?void 0:m.length)===0&&l.jsxs("div",{className:"card p-12 text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(pt,{className:"w-6 h-6 text-gray-400"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No people found"}),l.jsx("p",{className:"text-gray-500 mb-4",children:"Get started by adding your first person."}),l.jsxs(ee,{to:"/people/new",className:"btn-primary",children:[l.jsx(pt,{className:"w-4 h-4 mr-2"}),"Add Person"]})]}),!w&&!v&&(d==null?void 0:d.length)>0&&l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:d.map(D=>l.jsx(s_,{person:D,companyName:T[D.id],isDeceased:V[D.id]||!1},D.id))}),!w&&!v&&(m==null?void 0:m.length)>0&&(d==null?void 0:d.length)===0&&l.jsxs("div",{className:"card p-12 text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(kp,{className:"w-6 h-6 text-gray-400"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No people match your filters"}),l.jsx("p",{className:"text-gray-500 mb-4",children:"Try adjusting your filters to see more results."}),l.jsx("button",{onClick:g,className:"btn-secondary",children:"Clear filters"})]})]})}function El(e){if(!e)return"";const t=document.createElement("textarea");return t.innerHTML=e,t.value}function Pl(e){if(!e)return null;switch(e){case"male":return"";case"female":return"";case"non_binary":case"other":case"prefer_not_to_say":return"";default:return null}}function a_(){var Qr,ir,ar,Kr,Yr,Ts,on,_,P,A,Q,q,$;const{id:e}=rr(),t=It(),n=Ct(),{data:r,isLoading:s,error:i}=Ii(e),{data:a}=Jb(e),{data:o}=Zb(e),u=t_(),c=n_(),f=r_(),h=sl(),[m,w]=C.useState(!1),[v,N]=C.useState(""),[x,d]=C.useState(!1),p=C.useRef(null),{data:y}=De({queryKey:["person-labels"],queryFn:async()=>(await ye.getPersonLabels()).data}),g=y||[],j=(r==null?void 0:r.labels)||[],k=((Kr=(ar=(ir=(Qr=r==null?void 0:r._embedded)==null?void 0:Qr["wp:term"])==null?void 0:ir.flat())==null?void 0:ar.filter(S=>(S==null?void 0:S.taxonomy)==="person_label"))==null?void 0:Kr.map(S=>S.id))||[],E=g.filter(S=>!j.includes(S.name));An((r==null?void 0:r.name)||((Yr=r==null?void 0:r.title)==null?void 0:Yr.rendered)||(r==null?void 0:r.title)||"Person");const T=o==null?void 0:o.find(S=>{const M=Array.isArray(S.date_type)?S.date_type[0]:S.date_type;return(M==null?void 0:M.toLowerCase())==="birthday"}),F=T!=null&&T.date_value?new Date(T.date_value):null,R=o==null?void 0:o.find(S=>{const M=Array.isArray(S.date_type)?S.date_type[0]:S.date_type;return(M==null?void 0:M.toLowerCase())==="died"}),V=R!=null&&R.date_value?new Date(R.date_value):null,D=!!V,L=F?Uu(D?V:new Date,F):null,G=o?[...o].sort((S,M)=>{const W=S.date_value?new Date(S.date_value):new Date(0),te=M.date_value?new Date(M.date_value):new Date(0);return W-te}):[],oe=async()=>{window.confirm("Are you sure you want to delete this person?")&&(await u.mutateAsync(e),t("/people"))},ie=S=>{if(!S)return"";let M=S.replace(/[\u200B-\u200D\uFEFF\u200E\u200F\u202A-\u202E]/g,"");const W=M.startsWith("+");return M=M.replace(/\D/g,""),W?`+${M}`:M},ge=async S=>{var te,ue,he;if(!window.confirm("Are you sure you want to delete this contact detail?"))return;const M=[...((te=r.acf)==null?void 0:te.contact_info)||[]];M.splice(S,1);const W={...r.acf,contact_info:M,work_history:Array.isArray((ue=r.acf)==null?void 0:ue.work_history)?r.acf.work_history:[],relationships:Array.isArray((he=r.acf)==null?void 0:he.relationships)?r.acf.relationships:[]};await h.mutateAsync({id:e,data:{acf:W}})},z=async S=>{var te,ue,he;if(!window.confirm("Are you sure you want to delete this relationship?"))return;const M=[...((te=r.acf)==null?void 0:te.relationships)||[]];M.splice(S,1);const W={...r.acf,relationships:M,contact_info:Array.isArray((ue=r.acf)==null?void 0:ue.contact_info)?r.acf.contact_info:[],work_history:Array.isArray((he=r.acf)==null?void 0:he.work_history)?r.acf.work_history:[]};await h.mutateAsync({id:e,data:{acf:W}})},Z=async S=>{window.confirm("Are you sure you want to delete this important date?")&&await f.mutateAsync({dateId:S,personId:e})},U=async S=>{window.confirm("Are you sure you want to delete this note?")&&await c.mutateAsync({noteId:S,personId:e})},K=async S=>{var te,ue,he;if(!window.confirm("Are you sure you want to delete this work history item?"))return;const M=[...((te=r.acf)==null?void 0:te.work_history)||[]];M.splice(S,1);const W={...r.acf,work_history:M,contact_info:Array.isArray((ue=r.acf)==null?void 0:ue.contact_info)?r.acf.contact_info:[],relationships:Array.isArray((he=r.acf)==null?void 0:he.relationships)?r.acf.relationships:[]};await h.mutateAsync({id:e,data:{acf:W}})},J=async S=>{var te,ue,he;const M=(he=(ue=(te=r==null?void 0:r._embedded)==null?void 0:te["wp:term"])==null?void 0:ue.flat())==null?void 0:he.find(Ie=>(Ie==null?void 0:Ie.taxonomy)==="person_label"&&(Ie==null?void 0:Ie.name)===S);if(!M)return;const W=k.filter(Ie=>Ie!==M.id);await h.mutateAsync({id:e,data:{person_label:W}})},ce=async()=>{if(!v)return;const S=g.find(W=>W.id.toString()===v);if(!S)return;const M=[...k,S.id];await h.mutateAsync({id:e,data:{person_label:M}}),N(""),w(!1)},xe=async S=>{var W;const M=(W=S.target.files)==null?void 0:W[0];if(M){if(!M.type.startsWith("image/")){alert("Please select an image file");return}if(M.size>5*1024*1024){alert("Image size must be less than 5MB");return}d(!0);try{const ue=(await ye.uploadMedia(M)).data.id;await h.mutateAsync({id:e,data:{featured_media:ue}}),n.invalidateQueries({queryKey:["person",e]}),n.invalidateQueries({queryKey:["people"]})}catch(te){console.error("Failed to upload photo:",te),alert("Failed to upload photo. Please try again.")}finally{d(!1),p.current&&(p.current.value="")}}},Pe=((on=(Ts=r==null?void 0:r.acf)==null?void 0:Ts.work_history)==null?void 0:on.map(S=>S.company).filter(Boolean))||[],je=cd({queries:Pe.map(S=>({queryKey:["company",S],queryFn:async()=>(await ye.getCompany(S,{_embed:!0})).data,enabled:!!S}))}),pe=((P=(_=r==null?void 0:r.acf)==null?void 0:_.relationships)==null?void 0:P.map(S=>S.related_person).filter(Boolean))||[],Se=cd({queries:pe.map(S=>({queryKey:["person-dates",S],queryFn:async()=>(await an.getPersonDates(S)).data,enabled:!!S}))}),Je=C.useMemo(()=>{const S={};return Se.forEach((M,W)=>{if(M.data&&pe[W]){const te=pe[W],ue=M.data.find(he=>{const Ie=Array.isArray(he.date_type)?he.date_type[0]:he.date_type;return(Ie==null?void 0:Ie.toLowerCase())==="birthday"});if(ue!=null&&ue.date_value){const he=new Date(ue.date_value);S[te]=Uu(new Date,he)}else S[te]=-1}}),S},[Se,pe]),Re=C.useMemo(()=>{var S;return(S=r==null?void 0:r.acf)!=null&&S.relationships?[...r.acf.relationships].sort((M,W)=>{const te=Je[M.related_person]??-1,ue=Je[W.related_person]??-1;return te===-1&&ue===-1?0:te===-1?1:ue===-1?-1:ue-te}):[]},[(A=r==null?void 0:r.acf)==null?void 0:A.relationships,Je]),Yt={};je.forEach((S,M)=>{var W,te,ue,he,Ie,lr,Dn,un,jn,bn;if(S.data){const al=Pe[M];Yt[al]={name:((W=S.data.title)==null?void 0:W.rendered)||S.data.title||"",logo:((he=(ue=(te=S.data._embedded)==null?void 0:te["wp:featuredmedia"])==null?void 0:ue[0])==null?void 0:he.source_url)||((bn=(jn=(un=(Dn=(lr=(Ie=S.data._embedded)==null?void 0:Ie["wp:featuredmedia"])==null?void 0:lr[0])==null?void 0:Dn.media_details)==null?void 0:un.sizes)==null?void 0:jn.thumbnail)==null?void 0:bn.source_url)||null}}});const ln=C.useMemo(()=>{var S;return(S=r==null?void 0:r.acf)!=null&&S.work_history?[...r.acf.work_history].map((M,W)=>({...M,originalIndex:W})).sort((M,W)=>{if(M.is_current&&!W.is_current)return-1;if(!M.is_current&&W.is_current)return 1;const te=M.start_date?new Date(M.start_date):new Date(0);return(W.start_date?new Date(W.start_date):new Date(0))-te}):[]},[(Q=r==null?void 0:r.acf)==null?void 0:Q.work_history]);if(s)return l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(i||!r)return l.jsxs("div",{className:"card p-6 text-center",children:[l.jsx("p",{className:"text-red-600",children:"Failed to load person."}),l.jsx(ee,{to:"/people",className:"btn-secondary mt-4",children:"Back to People"})]});const We=r.acf||{};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(ee,{to:"/people",className:"flex items-center text-gray-600 hover:text-gray-900",children:[l.jsx(sr,{className:"w-4 h-4 mr-2"}),"Back to People"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(ee,{to:`/people/${e}/edit`,className:"btn-secondary",children:[l.jsx(O0,{className:"w-4 h-4 mr-2"}),"Edit"]}),l.jsxs("button",{onClick:oe,className:"btn-danger",children:[l.jsx(hr,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]}),l.jsx("div",{className:"card p-6",children:l.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[l.jsxs("div",{className:"relative group",children:[r.thumbnail?l.jsx("img",{src:r.thumbnail,alt:r.name,className:"w-24 h-24 rounded-full object-cover"}):l.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-3xl font-medium text-gray-500",children:((q=r.first_name)==null?void 0:q[0])||"?"})}),l.jsx("div",{className:"absolute inset-0 rounded-full bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var S;return(S=p.current)==null?void 0:S.click()},children:x?l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):l.jsx(ql,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})}),l.jsx("input",{ref:p,type:"file",accept:"image/*",onChange:xe,className:"hidden",disabled:x})]}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("h1",{className:"text-2xl font-bold",children:[r.name,D&&l.jsx("span",{className:"ml-1 text-gray-500",children:""})]}),r.is_favorite&&l.jsx(Ma,{className:"w-5 h-5 text-yellow-400 fill-current"})]}),We.nickname&&l.jsxs("p",{className:"text-gray-500",children:['"',We.nickname,'"']}),D&&V&&L!==null&&l.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:[Pl(We.gender)&&l.jsx("span",{className:"mr-1",children:Pl(We.gender)}),"Died ",Rn(V,"MMMM d, yyyy")," at age ",L]}),!D&&L!==null&&l.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:[Pl(We.gender)&&l.jsx("span",{className:"mr-1",children:Pl(We.gender)}),L," years old"]}),l.jsx("div",{className:"mt-2",children:l.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[r.labels&&r.labels.length>0&&r.labels.map((S,M)=>l.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 group/label",children:[S,l.jsx("button",{onClick:()=>J(S),className:"opacity-0 group-hover/label:opacity-100 transition-opacity hover:bg-gray-200 rounded-full p-0.5",title:"Remove label",children:l.jsx(Vr,{className:"w-3 h-3"})})]},M)),m?l.jsxs("div",{className:"inline-flex items-center gap-2",children:[l.jsxs("select",{value:v,onChange:S=>N(S.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1",autoFocus:!0,disabled:E.length===0,children:[l.jsx("option",{value:"",children:"Select a label..."}),E.map(S=>l.jsx("option",{value:S.id,children:S.name},S.id))]}),l.jsx("button",{onClick:ce,disabled:!v,className:"text-xs px-2 py-1 bg-primary-600 text-white rounded hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add"}),l.jsx("button",{onClick:()=>{w(!1),N("")},className:"text-xs px-2 py-1 bg-gray-200 text-gray-700 rounded hover:bg-gray-300",children:"Cancel"})]}):E.length>0&&l.jsxs("button",{onClick:()=>w(!0),className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors",children:[l.jsx(pt,{className:"w-3 h-3 mr-1"}),"Add label"]})]})})]})]})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[!D&&l.jsxs("div",{className:"card p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"font-semibold",children:"Contact Information"}),l.jsxs(ee,{to:`/people/${e}/contact/new`,className:"btn-secondary text-sm",children:[l.jsx(pt,{className:"w-4 h-4 mr-1"}),"Add contact detail"]})]}),(($=We.contact_info)==null?void 0:$.length)>0?l.jsx("div",{className:"space-y-3",children:We.contact_info.map((S,M)=>{const W=S.contact_type==="email"?GN:S.contact_type==="phone"||S.contact_type==="mobile"?nj:S.contact_type==="address"?JN:S.contact_type==="linkedin"?Cp:(S.contact_type==="website",dd),te=S.contact_type==="email",ue=S.contact_type==="phone"||S.contact_type==="mobile",he=S.contact_type==="mobile",Ie=S.contact_type==="website"||S.contact_type==="linkedin"||S.contact_type==="twitter"||S.contact_type==="instagram"||S.contact_type==="facebook",lr=S.contact_type==="address",Dn=S.contact_type==="linkedin";let un=null,jn=null;if(te)un=`mailto:${S.contact_value}`;else if(ue)un=`tel:${ie(S.contact_value)}`;else if(Ie){let bn=S.contact_value;bn.match(/^https?:\/\//i)||(bn=`https://${bn}`),un=bn,jn="_blank"}else lr&&(un=`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(S.contact_value)}`,jn="_blank");return l.jsxs("div",{className:"flex items-center group",children:[!Dn&&l.jsx(W,{className:"w-4 h-4 text-gray-400 mr-3 flex-shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[Dn?l.jsx(Cp,{className:"w-4 h-4 text-blue-600 inline-block mr-2 align-middle"}):l.jsxs("span",{className:"text-sm text-gray-500",children:[S.contact_label||S.contact_type,": "]}),un?l.jsx("a",{href:un,target:jn||void 0,rel:jn==="_blank"?"noopener noreferrer":void 0,className:"text-primary-600 hover:text-primary-700 hover:underline",children:S.contact_value}):l.jsx("span",{children:S.contact_value})]}),l.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[he&&l.jsx("a",{href:`whatsapp:${ie(S.contact_value)}`,className:"p-1 hover:bg-green-50 rounded",title:"Open WhatsApp",children:l.jsx(ej,{className:"w-4 h-4 text-gray-400 hover:text-green-600"})}),l.jsx(ee,{to:`/people/${e}/contact/${M}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit contact detail",children:l.jsx(kl,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),l.jsx("button",{onClick:()=>ge(M),className:"p-1 hover:bg-red-50 rounded",title:"Delete contact detail",children:l.jsx(hr,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},M)})}):l.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No contact information yet."})]}),l.jsxs("div",{className:"card p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"font-semibold",children:"Important Dates"}),l.jsxs(ee,{to:`/dates/new?person=${e}`,className:"btn-secondary text-sm",children:[l.jsx(pt,{className:"w-4 h-4 mr-1"}),"Add Important Date"]})]}),G.length>0?l.jsx("div",{className:"space-y-3",children:G.map(S=>{const M=Array.isArray(S.date_type)?S.date_type[0]:S.date_type,W=(M==null?void 0:M.toLowerCase())||"",te=W.includes("died"),ue=W.includes("wedding")||W.includes("marriage")?QN:W.includes("birthday")?HN:Ss;return l.jsxs("div",{className:"flex items-start group",children:[l.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center mr-3",children:te?l.jsx("span",{className:"text-gray-500 text-lg font-semibold",children:""}):l.jsx(ue,{className:"w-4 h-4 text-gray-500"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-medium",children:S.title}),l.jsx("p",{className:"text-xs text-gray-500",children:S.date_value&&Rn(new Date(S.date_value),"MMMM d, yyyy")}),M&&l.jsx("p",{className:"text-xs text-gray-400 capitalize",children:M})]}),l.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[l.jsx(ee,{to:`/dates/${S.id}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit date",children:l.jsx(kl,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),l.jsx("button",{onClick:()=>Z(S.id),className:"p-1 hover:bg-red-50 rounded",title:"Delete date",children:l.jsx(hr,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},S.id)})}):l.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No important dates yet."})]}),l.jsxs("div",{className:"card p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"font-semibold",children:"Work History"}),l.jsxs(ee,{to:`/people/${e}/work-history/new`,className:"btn-secondary text-sm",children:[l.jsx(pt,{className:"w-4 h-4 mr-1"}),"Add Work History"]})]}),(ln==null?void 0:ln.length)>0?l.jsx("div",{className:"space-y-4",children:ln.map((S,M)=>{const W=S.company?Yt[S.company]:null,te=S.originalIndex;return l.jsxs("div",{className:"flex items-start group",children:[W!=null&&W.logo?l.jsx("img",{src:W.logo,alt:W.name,className:"w-10 h-10 rounded-lg object-cover mr-3 flex-shrink-0"}):l.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center mr-3 flex-shrink-0",children:l.jsx(_s,{className:"w-5 h-5 text-gray-500"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-medium",children:S.job_title}),S.company&&W&&l.jsx(ee,{to:`/companies/${S.company}`,className:"text-sm text-primary-600 hover:underline",children:W.name}),l.jsxs("p",{className:"text-sm text-gray-500",children:[S.start_date&&Rn(new Date(S.start_date),"MMM yyyy")," - ",S.is_current?"Present":S.end_date?Rn(new Date(S.end_date),"MMM yyyy"):""]}),S.description&&l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:S.description})]}),l.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[l.jsx(ee,{to:`/people/${e}/work-history/${te}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit work history",children:l.jsx(kl,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),l.jsx("button",{onClick:()=>K(te),className:"p-1 hover:bg-red-50 rounded",title:"Delete work history",children:l.jsx(hr,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},te)})}):l.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No work history yet."})]}),l.jsxs("div",{className:"card p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"font-semibold",children:"Timeline"}),l.jsxs("button",{className:"btn-secondary text-sm",children:[l.jsx(pt,{className:"w-4 h-4 mr-1"}),"Add Note"]})]}),(a==null?void 0:a.length)>0?l.jsx("div",{className:"space-y-4",children:a.map(S=>l.jsxs("div",{className:"border-l-2 border-gray-200 pl-4 pb-4 group",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[l.jsx("span",{className:"capitalize",children:S.type}),l.jsx("span",{children:""}),l.jsx("span",{children:Rn(new Date(S.created),"MMM d, yyyy")})]}),l.jsx("button",{onClick:()=>U(S.id),className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-red-50 rounded",title:"Delete note",children:l.jsx(hr,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]}),l.jsx("p",{className:"mt-1",children:S.content})]},S.id))}):l.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No notes or activities yet."})]})]}),l.jsxs("div",{className:"space-y-6",children:[(We.how_we_met||We.met_date)&&l.jsxs("div",{className:"card p-6",children:[l.jsx("h2",{className:"font-semibold mb-3",children:"How We Met"}),We.met_date&&l.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:[l.jsx(Ss,{className:"w-4 h-4 inline mr-1"}),Rn(new Date(We.met_date),"MMMM d, yyyy")]}),We.how_we_met&&l.jsx("p",{className:"text-sm",children:We.how_we_met})]}),l.jsxs("div",{className:"card p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h2",{className:"font-semibold",children:"Relationships"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ee,{to:`/people/${e}/family-tree`,className:"btn-secondary text-sm",children:"View Family Tree"}),l.jsxs(ee,{to:`/people/${e}/relationship/new`,className:"btn-secondary text-sm",children:[l.jsx(pt,{className:"w-4 h-4 mr-1"}),"Add Relationship"]})]})]}),(Re==null?void 0:Re.length)>0?l.jsx("div",{className:"space-y-2",children:Re.map((S,M)=>{var te,ue,he;const W=((ue=(te=r==null?void 0:r.acf)==null?void 0:te.relationships)==null?void 0:ue.findIndex(Ie=>Ie.related_person===S.related_person&&Ie.relationship_type===S.relationship_type))??M;return l.jsxs("div",{className:"flex items-center p-2 rounded hover:bg-gray-50 group",children:[l.jsxs(ee,{to:`/people/${S.related_person}`,className:"flex items-center flex-1 min-w-0",children:[S.person_thumbnail?l.jsx("img",{src:S.person_thumbnail,alt:El(S.person_name)||"",className:"w-8 h-8 rounded-full object-cover mr-2"}):l.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full mr-2 flex items-center justify-center",children:l.jsx("span",{className:"text-xs font-medium text-gray-500",children:((he=El(S.person_name))==null?void 0:he[0])||"?"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:El(S.person_name)||`Person #${S.related_person}`}),l.jsx("p",{className:"text-xs text-gray-500",children:El(S.relationship_name||S.relationship_label)})]})]}),l.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[l.jsx(ee,{to:`/people/${e}/relationship/${W}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit relationship",children:l.jsx(kl,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),l.jsx("button",{onClick:()=>z(W),className:"p-1 hover:bg-red-50 rounded",title:"Delete relationship",children:l.jsx(hr,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},M)})}):l.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No relationships yet."})]})]})]})]})}var il=e=>e.type==="checkbox",ss=e=>e instanceof Date,Rt=e=>e==null;const ux=e=>typeof e=="object";var Ke=e=>!Rt(e)&&!Array.isArray(e)&&ux(e)&&!ss(e),cx=e=>Ke(e)&&e.target?il(e.target)?e.target.checked:e.target.value:e,l_=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,dx=(e,t)=>e.has(l_(t)),o_=e=>{const t=e.constructor&&e.constructor.prototype;return Ke(t)&&t.hasOwnProperty("isPrototypeOf")},Ff=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ye(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(Ff&&(e instanceof Blob||t))return e;const n=Array.isArray(e);if(!n&&!(Ke(e)&&o_(e)))return e;const r=n?[]:Object.create(Object.getPrototypeOf(e));for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=Ye(e[s]));return r}var iu=e=>/^\w*$/.test(e),$e=e=>e===void 0,Tf=e=>Array.isArray(e)?e.filter(Boolean):[],Af=e=>Tf(e.replace(/["|']|\]/g,"").split(/\.|\[/)),H=(e,t,n)=>{if(!t||!Ke(e))return n;const r=(iu(t)?[t]:Af(t)).reduce((s,i)=>Rt(s)?s:s[i],e);return $e(r)||r===e?$e(e[t])?n:e[t]:r},$t=e=>typeof e=="boolean",jt=e=>typeof e=="function",be=(e,t,n)=>{let r=-1;const s=iu(t)?[t]:Af(t),i=s.length,a=i-1;for(;++r<i;){const o=s[r];let u=n;if(r!==a){const c=e[o];u=Ke(c)||Array.isArray(c)?c:isNaN(+s[r+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;e[o]=u,e=e[o]}};const So={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},yn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Mn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},fx=re.createContext(null);fx.displayName="HookFormContext";const Df=()=>re.useContext(fx);var hx=(e,t,n,r=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const a=i;return t._proxyFormState[a]!==yn.all&&(t._proxyFormState[a]=!r||yn.all),n&&(n[a]=!0),e[a]}});return s};const Mf=typeof window<"u"?re.useLayoutEffect:re.useEffect;function u_(e){const t=Df(),{control:n=t.control,disabled:r,name:s,exact:i}=e||{},[a,o]=re.useState(n._formState),u=re.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Mf(()=>n._subscribe({name:s,formState:u.current,exact:i,callback:c=>{!r&&o({...n._formState,...c})}}),[s,r,i]),re.useEffect(()=>{u.current.isValid&&n._setValid(!0)},[n]),re.useMemo(()=>hx(a,n,u.current,!1),[a,n])}var Vt=e=>typeof e=="string",gd=(e,t,n,r,s)=>Vt(e)?(r&&t.watch.add(e),H(n,e,s)):Array.isArray(e)?e.map(i=>(r&&t.watch.add(i),H(n,i))):(r&&(t.watchAll=!0),n),xd=e=>Rt(e)||!ux(e);function gn(e,t,n=new WeakSet){if(xd(e)||xd(t))return Object.is(e,t);if(ss(e)&&ss(t))return e.getTime()===t.getTime();const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const i of r){const a=e[i];if(!s.includes(i))return!1;if(i!=="ref"){const o=t[i];if(ss(a)&&ss(o)||Ke(a)&&Ke(o)||Array.isArray(a)&&Array.isArray(o)?!gn(a,o,n):!Object.is(a,o))return!1}}return!0}function c_(e){const t=Df(),{control:n=t.control,name:r,defaultValue:s,disabled:i,exact:a,compute:o}=e||{},u=re.useRef(s),c=re.useRef(o),f=re.useRef(void 0),h=re.useRef(n),m=re.useRef(r);c.current=o;const[w,v]=re.useState(()=>{const g=n._getWatch(r,u.current);return c.current?c.current(g):g}),N=re.useCallback(g=>{const j=gd(r,n._names,g||n._formValues,!1,u.current);return c.current?c.current(j):j},[n._formValues,n._names,r]),x=re.useCallback(g=>{if(!i){const j=gd(r,n._names,g||n._formValues,!1,u.current);if(c.current){const k=c.current(j);gn(k,f.current)||(v(k),f.current=k)}else v(j)}},[n._formValues,n._names,i,r]);Mf(()=>((h.current!==n||!gn(m.current,r))&&(h.current=n,m.current=r,x()),n._subscribe({name:r,formState:{values:!0},exact:a,callback:g=>{x(g.values)}})),[n,a,r,x]),re.useEffect(()=>n._removeUnmounted());const d=h.current!==n,p=m.current,y=re.useMemo(()=>{if(i)return null;const g=!d&&!gn(p,r);return d||g?N():null},[i,d,r,p,N]);return y!==null?y:w}function d_(e){const t=Df(),{name:n,disabled:r,control:s=t.control,shouldUnregister:i,defaultValue:a,exact:o=!0}=e,u=dx(s._names.array,n),c=re.useMemo(()=>H(s._formValues,n,H(s._defaultValues,n,a)),[s,n,a]),f=c_({control:s,name:n,defaultValue:c,exact:o}),h=u_({control:s,name:n,exact:o}),m=re.useRef(e),w=re.useRef(void 0),v=re.useRef(s.register(n,{...e.rules,value:f,...$t(e.disabled)?{disabled:e.disabled}:{}}));m.current=e;const N=re.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!H(h.errors,n)},isDirty:{enumerable:!0,get:()=>!!H(h.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!H(h.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!H(h.validatingFields,n)},error:{enumerable:!0,get:()=>H(h.errors,n)}}),[h,n]),x=re.useCallback(g=>v.current.onChange({target:{value:cx(g),name:n},type:So.CHANGE}),[n]),d=re.useCallback(()=>v.current.onBlur({target:{value:H(s._formValues,n),name:n},type:So.BLUR}),[n,s._formValues]),p=re.useCallback(g=>{const j=H(s._fields,n);j&&j._f&&g&&(j._f.ref={focus:()=>jt(g.focus)&&g.focus(),select:()=>jt(g.select)&&g.select(),setCustomValidity:k=>jt(g.setCustomValidity)&&g.setCustomValidity(k),reportValidity:()=>jt(g.reportValidity)&&g.reportValidity()})},[s._fields,n]),y=re.useMemo(()=>({name:n,value:f,...$t(r)||h.disabled?{disabled:h.disabled||r}:{},onChange:x,onBlur:d,ref:p}),[n,r,h.disabled,x,d,p,f]);return re.useEffect(()=>{const g=s._options.shouldUnregister||i,j=w.current;j&&j!==n&&!u&&s.unregister(j),s.register(n,{...m.current.rules,...$t(m.current.disabled)?{disabled:m.current.disabled}:{}});const k=(E,T)=>{const F=H(s._fields,E);F&&F._f&&(F._f.mount=T)};if(k(n,!0),g){const E=Ye(H(s._options.defaultValues,n,m.current.defaultValue));be(s._defaultValues,n,E),$e(H(s._formValues,n))&&be(s._formValues,n,E)}return!u&&s.register(n),w.current=n,()=>{(u?g&&!s._state.action:g)?s.unregister(n):k(n,!1)}},[n,s,u,i]),re.useEffect(()=>{s._setDisabledField({disabled:r,name:n})},[r,n,s]),re.useMemo(()=>({field:y,formState:h,fieldState:N}),[y,h,N])}const ko=e=>e.render(d_(e));var f_=(e,t,n,r,s)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:s||!0}}:{},ha=e=>Array.isArray(e)?e:[e],nm=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}};function px(e,t){const n={};for(const r in e)if(e.hasOwnProperty(r)){const s=e[r],i=t[r];if(s&&Ke(s)&&i){const a=px(s,i);Ke(a)&&(n[r]=a)}else e[r]&&(n[r]=i)}return n}var wt=e=>Ke(e)&&!Object.keys(e).length,Lf=e=>e.type==="file",Co=e=>{if(!Ff)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},mx=e=>e.type==="select-multiple",If=e=>e.type==="radio",h_=e=>If(e)||il(e),$u=e=>Co(e)&&e.isConnected;function p_(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=$e(e)?r++:e[t[r++]];return e}function m_(e){for(const t in e)if(e.hasOwnProperty(t)&&!$e(e[t]))return!1;return!0}function He(e,t){const n=Array.isArray(t)?t:iu(t)?[t]:Af(t),r=n.length===1?e:p_(e,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(Ke(r)&&wt(r)||Array.isArray(r)&&m_(r))&&He(e,n.slice(0,-1)),e}var y_=e=>{for(const t in e)if(jt(e[t]))return!0;return!1};function yx(e){return Array.isArray(e)||Ke(e)&&!y_(e)}function vd(e,t={}){for(const n in e){const r=e[n];yx(r)?(t[n]=Array.isArray(r)?[]:{},vd(r,t[n])):$e(r)||(t[n]=!0)}return t}function Is(e,t,n){n||(n=vd(t));for(const r in e){const s=e[r];if(yx(s))$e(t)||xd(n[r])?n[r]=vd(s,Array.isArray(s)?[]:{}):Is(s,Rt(t)?{}:t[r],n[r]);else{const i=t[r];n[r]=!gn(s,i)}}return n}const rm={value:!1,isValid:!1},sm={value:!0,isValid:!0};var gx=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!$e(e[0].attributes.value)?$e(e[0].value)||e[0].value===""?sm:{value:e[0].value,isValid:!0}:sm:rm}return rm},xx=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>$e(e)?e:t?e===""?NaN:e&&+e:n&&Vt(e)?new Date(e):r?r(e):e;const im={isValid:!1,value:null};var vx=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,im):im;function am(e){const t=e.ref;return Lf(t)?t.files:If(t)?vx(e.refs).value:mx(t)?[...t.selectedOptions].map(({value:n})=>n):il(t)?gx(e.refs).value:xx($e(t.value)?e.ref.value:t.value,e)}var g_=(e,t,n,r)=>{const s={};for(const i of e){const a=H(t,i);a&&be(s,i,a._f)}return{criteriaMode:n,names:[...e],fields:s,shouldUseNativeValidation:r}},Eo=e=>e instanceof RegExp,Ji=e=>$e(e)?e:Eo(e)?e.source:Ke(e)?Eo(e.value)?e.value.source:e.value:e,lm=e=>({isOnSubmit:!e||e===yn.onSubmit,isOnBlur:e===yn.onBlur,isOnChange:e===yn.onChange,isOnAll:e===yn.all,isOnTouch:e===yn.onTouched});const om="AsyncFunction";var x_=e=>!!e&&!!e.validate&&!!(jt(e.validate)&&e.validate.constructor.name===om||Ke(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===om)),v_=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),um=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const pa=(e,t,n,r)=>{for(const s of n||Object.keys(e)){const i=H(e,s);if(i){const{_f:a,...o}=i;if(a){if(a.refs&&a.refs[0]&&t(a.refs[0],s)&&!r)return!0;if(a.ref&&t(a.ref,a.name)&&!r)return!0;if(pa(o,t))break}else if(Ke(o)&&pa(o,t))break}}};function cm(e,t,n){const r=H(e,n);if(r||iu(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),a=H(t,i),o=H(e,i);if(a&&!Array.isArray(a)&&n!==i)return{name:n};if(o&&o.type)return{name:i,error:o};if(o&&o.root&&o.root.type)return{name:`${i}.root`,error:o.root};s.pop()}return{name:n}}var w_=(e,t,n,r)=>{n(e);const{name:s,...i}=e;return wt(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(a=>t[a]===(!r||yn.all))},N_=(e,t,n)=>!e||!t||e===t||ha(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),j_=(e,t,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(t||e):(n?r.isOnBlur:s.isOnBlur)?!e:(n?r.isOnChange:s.isOnChange)?e:!0,b_=(e,t)=>!Tf(H(e,t)).length&&He(e,t),__=(e,t,n)=>{const r=ha(H(e,n));return be(r,"root",t[n]),be(e,n,r),e};function dm(e,t,n="validate"){if(Vt(e)||Array.isArray(e)&&e.every(Vt)||$t(e)&&!e)return{type:n,message:Vt(e)?e:"",ref:t}}var Ls=e=>Ke(e)&&!Eo(e)?e:{value:e,message:""},fm=async(e,t,n,r,s,i)=>{const{ref:a,refs:o,required:u,maxLength:c,minLength:f,min:h,max:m,pattern:w,validate:v,name:N,valueAsNumber:x,mount:d}=e._f,p=H(n,N);if(!d||t.has(N))return{};const y=o?o[0]:a,g=D=>{s&&y.reportValidity&&(y.setCustomValidity($t(D)?"":D||""),y.reportValidity())},j={},k=If(a),E=il(a),T=k||E,F=(x||Lf(a))&&$e(a.value)&&$e(p)||Co(a)&&a.value===""||p===""||Array.isArray(p)&&!p.length,R=f_.bind(null,N,r,j),V=(D,L,G,oe=Mn.maxLength,ie=Mn.minLength)=>{const ge=D?L:G;j[N]={type:D?oe:ie,message:ge,ref:a,...R(D?oe:ie,ge)}};if(i?!Array.isArray(p)||!p.length:u&&(!T&&(F||Rt(p))||$t(p)&&!p||E&&!gx(o).isValid||k&&!vx(o).isValid)){const{value:D,message:L}=Vt(u)?{value:!!u,message:u}:Ls(u);if(D&&(j[N]={type:Mn.required,message:L,ref:y,...R(Mn.required,L)},!r))return g(L),j}if(!F&&(!Rt(h)||!Rt(m))){let D,L;const G=Ls(m),oe=Ls(h);if(!Rt(p)&&!isNaN(p)){const ie=a.valueAsNumber||p&&+p;Rt(G.value)||(D=ie>G.value),Rt(oe.value)||(L=ie<oe.value)}else{const ie=a.valueAsDate||new Date(p),ge=U=>new Date(new Date().toDateString()+" "+U),z=a.type=="time",Z=a.type=="week";Vt(G.value)&&p&&(D=z?ge(p)>ge(G.value):Z?p>G.value:ie>new Date(G.value)),Vt(oe.value)&&p&&(L=z?ge(p)<ge(oe.value):Z?p<oe.value:ie<new Date(oe.value))}if((D||L)&&(V(!!D,G.message,oe.message,Mn.max,Mn.min),!r))return g(j[N].message),j}if((c||f)&&!F&&(Vt(p)||i&&Array.isArray(p))){const D=Ls(c),L=Ls(f),G=!Rt(D.value)&&p.length>+D.value,oe=!Rt(L.value)&&p.length<+L.value;if((G||oe)&&(V(G,D.message,L.message),!r))return g(j[N].message),j}if(w&&!F&&Vt(p)){const{value:D,message:L}=Ls(w);if(Eo(D)&&!p.match(D)&&(j[N]={type:Mn.pattern,message:L,ref:a,...R(Mn.pattern,L)},!r))return g(L),j}if(v){if(jt(v)){const D=await v(p,n),L=dm(D,y);if(L&&(j[N]={...L,...R(Mn.validate,L.message)},!r))return g(L.message),j}else if(Ke(v)){let D={};for(const L in v){if(!wt(D)&&!r)break;const G=dm(await v[L](p,n),y,L);G&&(D={...G,...R(L,G.message)},g(G.message),r&&(j[N]=D))}if(!wt(D)&&(j[N]={ref:y,...D},!r))return j}}return g(!0),j};const S_={mode:yn.onSubmit,reValidateMode:yn.onChange,shouldFocusError:!0};function k_(e={}){let t={...S_,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:jt(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},s=Ke(t.defaultValues)||Ke(t.values)?Ye(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Ye(s),a={action:!1,mount:!1,watch:!1,keepIsValid:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={...f};let m={...h};const w={array:nm(),state:nm()},v=t.criteriaMode===yn.all,N=_=>P=>{clearTimeout(c),c=setTimeout(_,P)},x=async _=>{if(!a.keepIsValid&&!t.disabled&&(h.isValid||m.isValid||_)){let P;t.resolver?(P=wt((await T()).errors),d()):P=await R(r,!0),P!==n.isValid&&w.state.next({isValid:P})}},d=(_,P)=>{!t.disabled&&(h.isValidating||h.validatingFields||m.isValidating||m.validatingFields)&&((_||Array.from(o.mount)).forEach(A=>{A&&(P?be(n.validatingFields,A,P):He(n.validatingFields,A))}),w.state.next({validatingFields:n.validatingFields,isValidating:!wt(n.validatingFields)}))},p=(_,P=[],A,Q,q=!0,$=!0)=>{if(Q&&A&&!t.disabled){if(a.action=!0,$&&Array.isArray(H(r,_))){const S=A(H(r,_),Q.argA,Q.argB);q&&be(r,_,S)}if($&&Array.isArray(H(n.errors,_))){const S=A(H(n.errors,_),Q.argA,Q.argB);q&&be(n.errors,_,S),b_(n.errors,_)}if((h.touchedFields||m.touchedFields)&&$&&Array.isArray(H(n.touchedFields,_))){const S=A(H(n.touchedFields,_),Q.argA,Q.argB);q&&be(n.touchedFields,_,S)}(h.dirtyFields||m.dirtyFields)&&(n.dirtyFields=Is(s,i)),w.state.next({name:_,isDirty:D(_,P),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else be(i,_,P)},y=(_,P)=>{be(n.errors,_,P),w.state.next({errors:n.errors})},g=_=>{n.errors=_,w.state.next({errors:n.errors,isValid:!1})},j=(_,P,A,Q)=>{const q=H(r,_);if(q){const $=H(i,_,$e(A)?H(s,_):A);$e($)||Q&&Q.defaultChecked||P?be(i,_,P?$:am(q._f)):oe(_,$),a.mount&&!a.action&&x()}},k=(_,P,A,Q,q)=>{let $=!1,S=!1;const M={name:_};if(!t.disabled){if(!A||Q){(h.isDirty||m.isDirty)&&(S=n.isDirty,n.isDirty=M.isDirty=D(),$=S!==M.isDirty);const W=gn(H(s,_),P);S=!!H(n.dirtyFields,_),W?He(n.dirtyFields,_):be(n.dirtyFields,_,!0),M.dirtyFields=n.dirtyFields,$=$||(h.dirtyFields||m.dirtyFields)&&S!==!W}if(A){const W=H(n.touchedFields,_);W||(be(n.touchedFields,_,A),M.touchedFields=n.touchedFields,$=$||(h.touchedFields||m.touchedFields)&&W!==A)}$&&q&&w.state.next(M)}return $?M:{}},E=(_,P,A,Q)=>{const q=H(n.errors,_),$=(h.isValid||m.isValid)&&$t(P)&&n.isValid!==P;if(t.delayError&&A?(u=N(()=>y(_,A)),u(t.delayError)):(clearTimeout(c),u=null,A?be(n.errors,_,A):He(n.errors,_)),(A?!gn(q,A):q)||!wt(Q)||$){const S={...Q,...$&&$t(P)?{isValid:P}:{},errors:n.errors,name:_};n={...n,...S},w.state.next(S)}},T=async _=>(d(_,!0),await t.resolver(i,t.context,g_(_||o.mount,r,t.criteriaMode,t.shouldUseNativeValidation))),F=async _=>{const{errors:P}=await T(_);if(d(_),_)for(const A of _){const Q=H(P,A);Q?be(n.errors,A,Q):He(n.errors,A)}else n.errors=P;return P},R=async(_,P,A={valid:!0})=>{for(const Q in _){const q=_[Q];if(q){const{_f:$,...S}=q;if($){const M=o.array.has($.name),W=q._f&&x_(q._f);W&&h.validatingFields&&d([$.name],!0);const te=await fm(q,o.disabled,i,v,t.shouldUseNativeValidation&&!P,M);if(W&&h.validatingFields&&d([$.name]),te[$.name]&&(A.valid=!1,P))break;!P&&(H(te,$.name)?M?__(n.errors,te,$.name):be(n.errors,$.name,te[$.name]):He(n.errors,$.name))}!wt(S)&&await R(S,P,A)}}return A.valid},V=()=>{for(const _ of o.unMount){const P=H(r,_);P&&(P._f.refs?P._f.refs.every(A=>!$u(A)):!$u(P._f.ref))&&Se(_)}o.unMount=new Set},D=(_,P)=>!t.disabled&&(_&&P&&be(i,_,P),!gn(K(),s)),L=(_,P,A)=>gd(_,o,{...a.mount?i:$e(P)?s:Vt(_)?{[_]:P}:P},A,P),G=_=>Tf(H(a.mount?i:s,_,t.shouldUnregister?H(s,_,[]):[])),oe=(_,P,A={})=>{const Q=H(r,_);let q=P;if(Q){const $=Q._f;$&&(!$.disabled&&be(i,_,xx(P,$)),q=Co($.ref)&&Rt(P)?"":P,mx($.ref)?[...$.ref.options].forEach(S=>S.selected=q.includes(S.value)):$.refs?il($.ref)?$.refs.forEach(S=>{(!S.defaultChecked||!S.disabled)&&(Array.isArray(q)?S.checked=!!q.find(M=>M===S.value):S.checked=q===S.value||!!q)}):$.refs.forEach(S=>S.checked=S.value===q):Lf($.ref)?$.ref.value="":($.ref.value=q,$.ref.type||w.state.next({name:_,values:Ye(i)})))}(A.shouldDirty||A.shouldTouch)&&k(_,q,A.shouldTouch,A.shouldDirty,!0),A.shouldValidate&&U(_)},ie=(_,P,A)=>{for(const Q in P){if(!P.hasOwnProperty(Q))return;const q=P[Q],$=_+"."+Q,S=H(r,$);(o.array.has(_)||Ke(q)||S&&!S._f)&&!ss(q)?ie($,q,A):oe($,q,A)}},ge=(_,P,A={})=>{const Q=H(r,_),q=o.array.has(_),$=Ye(P);be(i,_,$),q?(w.array.next({name:_,values:Ye(i)}),(h.isDirty||h.dirtyFields||m.isDirty||m.dirtyFields)&&A.shouldDirty&&w.state.next({name:_,dirtyFields:Is(s,i),isDirty:D(_,$)})):Q&&!Q._f&&!Rt($)?ie(_,$,A):oe(_,$,A),um(_,o)&&w.state.next({...n,name:_}),w.state.next({name:a.mount?_:void 0,values:Ye(i)})},z=async _=>{a.mount=!0;const P=_.target;let A=P.name,Q=!0;const q=H(r,A),$=W=>{Q=Number.isNaN(W)||ss(W)&&isNaN(W.getTime())||gn(W,H(i,A,W))},S=lm(t.mode),M=lm(t.reValidateMode);if(q){let W,te;const ue=P.type?am(q._f):cx(_),he=_.type===So.BLUR||_.type===So.FOCUS_OUT,Ie=!v_(q._f)&&!t.resolver&&!H(n.errors,A)&&!q._f.deps||j_(he,H(n.touchedFields,A),n.isSubmitted,M,S),lr=um(A,o,he);be(i,A,ue),he?(!P||!P.readOnly)&&(q._f.onBlur&&q._f.onBlur(_),u&&u(0)):q._f.onChange&&q._f.onChange(_);const Dn=k(A,ue,he),un=!wt(Dn)||lr;if(!he&&w.state.next({name:A,type:_.type,values:Ye(i)}),Ie)return(h.isValid||m.isValid)&&(t.mode==="onBlur"?he&&x():he||x()),un&&w.state.next({name:A,...lr?{}:Dn});if(!he&&lr&&w.state.next({...n}),t.resolver){const{errors:jn}=await T([A]);if(d([A]),$(ue),Q){const bn=cm(n.errors,r,A),al=cm(jn,r,bn.name||A);W=al.error,A=al.name,te=wt(jn)}}else d([A],!0),W=(await fm(q,o.disabled,i,v,t.shouldUseNativeValidation))[A],d([A]),$(ue),Q&&(W?te=!1:(h.isValid||m.isValid)&&(te=await R(r,!0)));Q&&(q._f.deps&&(!Array.isArray(q._f.deps)||q._f.deps.length>0)&&U(q._f.deps),E(A,te,W,Dn))}},Z=(_,P)=>{if(H(n.errors,P)&&_.focus)return _.focus(),1},U=async(_,P={})=>{let A,Q;const q=ha(_);if(t.resolver){const $=await F($e(_)?_:q);A=wt($),Q=_?!q.some(S=>H($,S)):A}else _?(Q=(await Promise.all(q.map(async $=>{const S=H(r,$);return await R(S&&S._f?{[$]:S}:S)}))).every(Boolean),!(!Q&&!n.isValid)&&x()):Q=A=await R(r);return w.state.next({...!Vt(_)||(h.isValid||m.isValid)&&A!==n.isValid?{}:{name:_},...t.resolver||!_?{isValid:A}:{},errors:n.errors}),P.shouldFocus&&!Q&&pa(r,Z,_?q:o.mount),Q},K=(_,P)=>{let A={...a.mount?i:s};return P&&(A=px(P.dirtyFields?n.dirtyFields:n.touchedFields,A)),$e(_)?A:Vt(_)?H(A,_):_.map(Q=>H(A,Q))},J=(_,P)=>({invalid:!!H((P||n).errors,_),isDirty:!!H((P||n).dirtyFields,_),error:H((P||n).errors,_),isValidating:!!H(n.validatingFields,_),isTouched:!!H((P||n).touchedFields,_)}),ce=_=>{_&&ha(_).forEach(P=>He(n.errors,P)),w.state.next({errors:_?n.errors:{}})},xe=(_,P,A)=>{const Q=(H(r,_,{_f:{}})._f||{}).ref,q=H(n.errors,_)||{},{ref:$,message:S,type:M,...W}=q;be(n.errors,_,{...W,...P,ref:Q}),w.state.next({name:_,errors:n.errors,isValid:!1}),A&&A.shouldFocus&&Q&&Q.focus&&Q.focus()},Pe=(_,P)=>jt(_)?w.state.subscribe({next:A=>"values"in A&&_(L(void 0,P),A)}):L(_,P,!0),je=_=>w.state.subscribe({next:P=>{N_(_.name,P.name,_.exact)&&w_(P,_.formState||h,Yr,_.reRenderRoot)&&_.callback({values:{...i},...n,...P,defaultValues:s})}}).unsubscribe,pe=_=>(a.mount=!0,m={...m,..._.formState},je({..._,formState:{...f,..._.formState}})),Se=(_,P={})=>{for(const A of _?ha(_):o.mount)o.mount.delete(A),o.array.delete(A),P.keepValue||(He(r,A),He(i,A)),!P.keepError&&He(n.errors,A),!P.keepDirty&&He(n.dirtyFields,A),!P.keepTouched&&He(n.touchedFields,A),!P.keepIsValidating&&He(n.validatingFields,A),!t.shouldUnregister&&!P.keepDefaultValue&&He(s,A);w.state.next({values:Ye(i)}),w.state.next({...n,...P.keepDirty?{isDirty:D()}:{}}),!P.keepIsValid&&x()},Je=({disabled:_,name:P})=>{($t(_)&&a.mount||_||o.disabled.has(P))&&(_?o.disabled.add(P):o.disabled.delete(P))},Re=(_,P={})=>{let A=H(r,_);const Q=$t(P.disabled)||$t(t.disabled);return be(r,_,{...A||{},_f:{...A&&A._f?A._f:{ref:{name:_}},name:_,mount:!0,...P}}),o.mount.add(_),A?Je({disabled:$t(P.disabled)?P.disabled:t.disabled,name:_}):j(_,!0,P.value),{...Q?{disabled:P.disabled||t.disabled}:{},...t.progressive?{required:!!P.required,min:Ji(P.min),max:Ji(P.max),minLength:Ji(P.minLength),maxLength:Ji(P.maxLength),pattern:Ji(P.pattern)}:{},name:_,onChange:z,onBlur:z,ref:q=>{if(q){Re(_,P),A=H(r,_);const $=$e(q.value)&&q.querySelectorAll&&q.querySelectorAll("input,select,textarea")[0]||q,S=h_($),M=A._f.refs||[];if(S?M.find(W=>W===$):$===A._f.ref)return;be(r,_,{_f:{...A._f,...S?{refs:[...M.filter($u),$,...Array.isArray(H(s,_))?[{}]:[]],ref:{type:$.type,name:_}}:{ref:$}}}),j(_,!1,void 0,$)}else A=H(r,_,{}),A._f&&(A._f.mount=!1),(t.shouldUnregister||P.shouldUnregister)&&!(dx(o.array,_)&&a.action)&&o.unMount.add(_)}}},Yt=()=>t.shouldFocusError&&pa(r,Z,o.mount),ln=_=>{$t(_)&&(w.state.next({disabled:_}),pa(r,(P,A)=>{const Q=H(r,A);Q&&(P.disabled=Q._f.disabled||_,Array.isArray(Q._f.refs)&&Q._f.refs.forEach(q=>{q.disabled=Q._f.disabled||_}))},0,!1))},We=(_,P)=>async A=>{let Q;A&&(A.preventDefault&&A.preventDefault(),A.persist&&A.persist());let q=Ye(i);if(w.state.next({isSubmitting:!0}),t.resolver){const{errors:$,values:S}=await T();d(),n.errors=$,q=Ye(S)}else await R(r);if(o.disabled.size)for(const $ of o.disabled)He(q,$);if(He(n.errors,"root"),wt(n.errors)){w.state.next({errors:{}});try{await _(q,A)}catch($){Q=$}}else P&&await P({...n.errors},A),Yt(),setTimeout(Yt);if(w.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:wt(n.errors)&&!Q,submitCount:n.submitCount+1,errors:n.errors}),Q)throw Q},Qr=(_,P={})=>{H(r,_)&&($e(P.defaultValue)?ge(_,Ye(H(s,_))):(ge(_,P.defaultValue),be(s,_,Ye(P.defaultValue))),P.keepTouched||He(n.touchedFields,_),P.keepDirty||(He(n.dirtyFields,_),n.isDirty=P.defaultValue?D(_,Ye(H(s,_))):D()),P.keepError||(He(n.errors,_),h.isValid&&x()),w.state.next({...n}))},ir=(_,P={})=>{const A=_?Ye(_):s,Q=Ye(A),q=wt(_),$=q?s:Q;if(P.keepDefaultValues||(s=A),!P.keepValues){if(P.keepDirtyValues){const S=new Set([...o.mount,...Object.keys(Is(s,i))]);for(const M of Array.from(S))H(n.dirtyFields,M)?be($,M,H(i,M)):ge(M,H($,M))}else{if(Ff&&$e(_))for(const S of o.mount){const M=H(r,S);if(M&&M._f){const W=Array.isArray(M._f.refs)?M._f.refs[0]:M._f.ref;if(Co(W)){const te=W.closest("form");if(te){te.reset();break}}}}if(P.keepFieldsRef)for(const S of o.mount)ge(S,H($,S));else r={}}i=t.shouldUnregister?P.keepDefaultValues?Ye(s):{}:Ye($),w.array.next({values:{...$}}),w.state.next({values:{...$}})}o={mount:P.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!h.isValid||!!P.keepIsValid||!!P.keepDirtyValues||!t.shouldUnregister&&!wt($),a.watch=!!t.shouldUnregister,a.keepIsValid=!!P.keepIsValid,a.action=!1,P.keepErrors||(n.errors={}),w.state.next({submitCount:P.keepSubmitCount?n.submitCount:0,isDirty:q?!1:P.keepDirty?n.isDirty:!!(P.keepDefaultValues&&!gn(_,s)),isSubmitted:P.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:q?{}:P.keepDirtyValues?P.keepDefaultValues&&i?Is(s,i):n.dirtyFields:P.keepDefaultValues&&_?Is(s,_):P.keepDirty?n.dirtyFields:{},touchedFields:P.keepTouched?n.touchedFields:{},errors:P.keepErrors?n.errors:{},isSubmitSuccessful:P.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},ar=(_,P)=>ir(jt(_)?_(i):_,{...t.resetOptions,...P}),Kr=(_,P={})=>{const A=H(r,_),Q=A&&A._f;if(Q){const q=Q.refs?Q.refs[0]:Q.ref;q.focus&&setTimeout(()=>{q.focus(),P.shouldSelect&&jt(q.select)&&q.select()})}},Yr=_=>{n={...n,..._}},on={control:{register:Re,unregister:Se,getFieldState:J,handleSubmit:We,setError:xe,_subscribe:je,_runSchema:T,_updateIsValidating:d,_focusError:Yt,_getWatch:L,_getDirty:D,_setValid:x,_setFieldArray:p,_setDisabledField:Je,_setErrors:g,_getFieldArray:G,_reset:ir,_resetDefaultValues:()=>jt(t.defaultValues)&&t.defaultValues().then(_=>{ar(_,t.resetOptions),w.state.next({isLoading:!1})}),_removeUnmounted:V,_disableForm:ln,_subjects:w,_proxyFormState:h,get _fields(){return r},get _formValues(){return i},get _state(){return a},set _state(_){a=_},get _defaultValues(){return s},get _names(){return o},set _names(_){o=_},get _formState(){return n},get _options(){return t},set _options(_){t={...t,..._}}},subscribe:pe,trigger:U,register:Re,handleSubmit:We,watch:Pe,setValue:ge,getValues:K,reset:ar,resetField:Qr,clearErrors:ce,unregister:Se,setError:xe,setFocus:Kr,getFieldState:J};return{...on,formControl:on}}function Ui(e={}){const t=re.useRef(void 0),n=re.useRef(void 0),[r,s]=re.useState({isDirty:!1,isValidating:!1,isLoading:jt(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:jt(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!jt(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:a,...o}=k_(e);t.current={...o,formState:r}}const i=t.current.control;return i._options=e,Mf(()=>{const a=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(o=>({...o,isReady:!0})),i._formState.isReady=!0,a},[i]),re.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),re.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),re.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),re.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),re.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==r.isDirty&&i._subjects.state.next({isDirty:a})}},[i,r.isDirty]),re.useEffect(()=>{var a;e.values&&!gn(e.values,n.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((a=i._options.resetOptions)===null||a===void 0)&&a.keepIsValid||i._setValid(),n.current=e.values,s(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),re.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=hx(r,i),t.current}function hm(){var N;const{id:e}=rr(),t=It(),n=!!e,{data:r,isLoading:s}=Ii(e),i=e_(),a=sl(),{data:o=[]}=De({queryKey:["date-types"],queryFn:async()=>(await ye.getDateTypes()).data}),u=o.find(x=>x.slug==="birthday"||x.name.toLowerCase()==="birthday"),{register:c,handleSubmit:f,reset:h,formState:{errors:m,isSubmitting:w}}=Ui({defaultValues:{first_name:"",last_name:"",nickname:"",gender:"",email:"",how_we_met:"",is_favorite:!1,birthday:""}});C.useEffect(()=>{var x,d,p,y,g,j,k,E;if(r){const T=(d=(x=r.acf)==null?void 0:x.contact_info)==null?void 0:d.find(R=>R.contact_type==="email"),F=(T==null?void 0:T.contact_value)||"";h({first_name:((p=r.acf)==null?void 0:p.first_name)||"",last_name:((y=r.acf)==null?void 0:y.last_name)||"",nickname:((g=r.acf)==null?void 0:g.nickname)||"",gender:((j=r.acf)==null?void 0:j.gender)||"",email:F,how_we_met:((k=r.acf)==null?void 0:k.how_we_met)||"",is_favorite:((E=r.acf)==null?void 0:E.is_favorite)||!1,birthday:""})}},[r,h]),An(n&&r?`Edit ${((N=r.title)==null?void 0:N.rendered)||r.title||"Person"}`:"New Person");const v=async x=>{try{const p=`${x.first_name||""} ${x.last_name||""}`.trim()||"Unnamed Person",y={title:p,status:"publish",acf:{first_name:x.first_name,last_name:x.last_name,nickname:x.nickname,gender:x.gender||"",how_we_met:x.how_we_met,is_favorite:x.is_favorite}};if(!n&&x.email&&(y.acf.contact_info=[{contact_type:"email",contact_value:x.email,contact_label:""}]),n)y.title=p,await a.mutateAsync({id:e,data:y}),t(`/people/${e}`);else{const j=(await i.mutateAsync(y)).data.id;if(x.email)try{await an.sideloadGravatar(j,x.email)}catch(k){console.error("Failed to load Gravatar:",k)}if(x.birthday&&u)try{const k=x.first_name||"Person";await ye.createDate({title:`${k}'s Birthday`,status:"publish",date_type:[u.id],acf:{date_value:x.birthday,is_recurring:!0,related_people:[j],reminder_days_before:7}})}catch(k){console.error("Failed to create birthday:",k)}t(`/people/${j}`)}}catch(d){console.error("Failed to save person:",d)}};return n&&s?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):l.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs(ee,{to:"/people",className:"flex items-center text-gray-600 hover:text-gray-900",children:[l.jsx(sr,{className:"w-4 h-4 mr-2"}),"Back to People"]})}),l.jsxs("div",{className:"card p-6",children:[l.jsx("h1",{className:"text-xl font-bold mb-6",children:n?"Edit Person":"Add New Person"}),l.jsxs("form",{onSubmit:f(v),className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"First Name *"}),l.jsx("input",{...c("first_name",{required:"First name is required"}),className:"input",placeholder:"John"}),m.first_name&&l.jsx("p",{className:"text-sm text-red-600 mt-1",children:m.first_name.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Last Name"}),l.jsx("input",{...c("last_name"),className:"input",placeholder:"Doe"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Nickname"}),l.jsx("input",{...c("nickname"),className:"input",placeholder:"Johnny"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Gender"}),l.jsxs("select",{...c("gender"),className:"input",children:[l.jsx("option",{value:"",children:"Select gender..."}),l.jsx("option",{value:"male",children:"Male"}),l.jsx("option",{value:"female",children:"Female"}),l.jsx("option",{value:"non_binary",children:"Non-binary"}),l.jsx("option",{value:"other",children:"Other"}),l.jsx("option",{value:"prefer_not_to_say",children:"Prefer not to say"})]})]}),!n&&l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Email"}),l.jsx("input",{type:"email",...c("email"),className:"input",placeholder:"john@example.com"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: If a Gravatar is associated with this email, it will be automatically set as the profile photo"})]}),!n&&l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Birthday"}),l.jsx("input",{type:"date",...c("birthday"),className:"input"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Set their birthday when creating a new person"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"How We Met"}),l.jsx("textarea",{...c("how_we_met"),className:"input",rows:4,placeholder:"We met at..."})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",...c("is_favorite"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),l.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Mark as favorite"})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[l.jsx(ee,{to:"/people",className:"btn-secondary",children:"Cancel"}),l.jsxs("button",{type:"submit",className:"btn-primary",disabled:w,children:[w?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):l.jsx($r,{className:"w-4 h-4 mr-2"}),n?"Save Changes":"Create Person"]})]})]})]})]})}function C_({value:e,onChange:t,companies:n,isLoading:r}){return l.jsxs("select",{value:e||"",onChange:s=>t(s.target.value?parseInt(s.target.value,10):null),className:"input",disabled:r,children:[l.jsx("option",{value:"",children:"Select a company..."}),n.map(s=>{var i;return l.jsx("option",{value:s.id,children:((i=s.title)==null?void 0:i.rendered)||s.title},s.id)})]})}function pm(){var p,y;const{personId:e,index:t}=rr(),n=It();Ct();const r=parseInt(t,10),s=!isNaN(r),{data:i,isLoading:a}=Ii(e),o=sl(),{data:u=[],isLoading:c}=De({queryKey:["companies","all"],queryFn:async()=>(await ye.getCompanies({per_page:100,orderby:"title",order:"asc"})).data}),{register:f,handleSubmit:h,reset:m,watch:w,control:v,formState:{errors:N,isSubmitting:x}}=Ui({defaultValues:{company:null,job_title:"",description:"",start_date:"",end_date:"",is_current:!1}});C.useEffect(()=>{var g;if(i&&s){const k=(((g=i.acf)==null?void 0:g.work_history)||[])[r];k&&m({company:k.company||null,job_title:k.job_title||"",description:k.description||"",start_date:k.start_date||"",end_date:k.end_date||"",is_current:k.is_current||!1})}},[i,r,s,m]),An(s?`Edit Work History - ${((p=i==null?void 0:i.title)==null?void 0:p.rendered)||(i==null?void 0:i.title)||"Person"}`:`Add Work History - ${((y=i==null?void 0:i.title)==null?void 0:y.rendered)||(i==null?void 0:i.title)||"Person"}`);const d=async g=>{var j,k,E;try{const T=[...((j=i.acf)==null?void 0:j.work_history)||[]],F={company:g.company||null,job_title:g.job_title||"",description:g.description||"",start_date:g.start_date||"",end_date:g.end_date||"",is_current:g.is_current||!1};s?T[r]=F:T.push(F);const R={...i.acf,work_history:T,contact_info:Array.isArray((k=i.acf)==null?void 0:k.contact_info)?i.acf.contact_info:[],relationships:Array.isArray((E=i.acf)==null?void 0:E.relationships)?i.acf.relationships:[]};await o.mutateAsync({id:e,data:{acf:R}}),n(`/people/${e}`)}catch(T){console.error("Failed to save work history:",T)}};return w("is_current"),a?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):i?l.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs(ee,{to:`/people/${e}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[l.jsx(sr,{className:"w-4 h-4 mr-2"}),"Back to Person"]})}),l.jsxs("div",{className:"card p-6",children:[l.jsx("h1",{className:"text-xl font-bold mb-6",children:s?"Edit Work History":"Add Work History"}),l.jsxs("form",{onSubmit:h(d),className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Company"}),l.jsx(ko,{name:"company",control:v,render:({field:g})=>l.jsx(C_,{value:g.value,onChange:g.onChange,companies:u,isLoading:c})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Job Title"}),l.jsx("input",{...f("job_title"),className:"input",placeholder:"e.g., Software Engineer"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Description"}),l.jsx("textarea",{...f("description"),className:"input",rows:4,placeholder:"Job description, responsibilities, achievements..."})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Start Date"}),l.jsx("input",{type:"date",...f("start_date"),className:"input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"End Date"}),l.jsx("input",{type:"date",...f("end_date"),className:"input"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Set a future end date to automatically mark as former when it passes"})]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",...f("is_current"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),l.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Currently works here"})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[l.jsx(ee,{to:`/people/${e}`,className:"btn-secondary",children:"Cancel"}),l.jsxs("button",{type:"submit",className:"btn-primary",disabled:x,children:[x?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):l.jsx($r,{className:"w-4 h-4 mr-2"}),s?"Save Changes":"Add Work History"]})]})]})]})]}):l.jsxs("div",{className:"card p-6 text-center",children:[l.jsx("p",{className:"text-red-600",children:"Failed to load person."}),l.jsx(ee,{to:"/people",className:"btn-secondary mt-4",children:"Back to People"})]})}const E_=[{value:"email",label:"Email"},{value:"phone",label:"Phone"},{value:"mobile",label:"Mobile"},{value:"address",label:"Address"},{value:"website",label:"Website"},{value:"linkedin",label:"LinkedIn"},{value:"twitter",label:"Twitter"},{value:"instagram",label:"Instagram"},{value:"facebook",label:"Facebook"},{value:"other",label:"Other"}];function mm(){var v,N;const{personId:e,index:t}=rr(),n=It(),r=parseInt(t,10),s=!isNaN(r),{data:i,isLoading:a}=Ii(e),o=sl(),{register:u,handleSubmit:c,reset:f,formState:{errors:h,isSubmitting:m}}=Ui({defaultValues:{contact_type:"",contact_label:"",contact_value:""}});C.useEffect(()=>{var x;if(i&&s){const p=(((x=i.acf)==null?void 0:x.contact_info)||[])[r];p&&f({contact_type:p.contact_type||"",contact_label:p.contact_label||"",contact_value:p.contact_value||""})}},[i,r,s,f]),An(s?`Edit Contact Detail - ${((v=i==null?void 0:i.title)==null?void 0:v.rendered)||(i==null?void 0:i.title)||"Person"}`:`Add Contact Detail - ${((N=i==null?void 0:i.title)==null?void 0:N.rendered)||(i==null?void 0:i.title)||"Person"}`);const w=async x=>{var d,p,y;try{const g=[...((d=i.acf)==null?void 0:d.contact_info)||[]],j={contact_type:x.contact_type||"",contact_label:x.contact_label||"",contact_value:x.contact_value||""};s?g[r]=j:g.push(j);const k={...i.acf,contact_info:g,work_history:Array.isArray((p=i.acf)==null?void 0:p.work_history)?i.acf.work_history:[],relationships:Array.isArray((y=i.acf)==null?void 0:y.relationships)?i.acf.relationships:[]};await o.mutateAsync({id:e,data:{acf:k}}),n(`/people/${e}`)}catch(g){console.error("Failed to save contact detail:",g)}};return a?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):i?l.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs(ee,{to:`/people/${e}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[l.jsx(sr,{className:"w-4 h-4 mr-2"}),"Back to Person"]})}),l.jsxs("div",{className:"card p-6",children:[l.jsx("h1",{className:"text-xl font-bold mb-6",children:s?"Edit Contact Detail":"Add Contact Detail"}),l.jsxs("form",{onSubmit:c(w),className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Contact Type *"}),l.jsxs("select",{...u("contact_type",{required:"Please select a contact type"}),className:"input",children:[l.jsx("option",{value:"",children:"Select a type..."}),E_.map(x=>l.jsx("option",{value:x.value,children:x.label},x.value))]}),h.contact_type&&l.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.contact_type.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Label"}),l.jsx("input",{...u("contact_label"),className:"input",placeholder:"e.g., Work, Personal, Home"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Add a label to distinguish multiple entries of the same type"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Value *"}),l.jsx("input",{...u("contact_value",{required:"Please enter a contact value"}),className:"input",placeholder:"e.g., john@example.com, +1 234 567 8900"}),h.contact_value&&l.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.contact_value.message})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[l.jsx(ee,{to:`/people/${e}`,className:"btn-secondary",children:"Cancel"}),l.jsxs("button",{type:"submit",className:"btn-primary",disabled:m,children:[m?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):l.jsx($r,{className:"w-4 h-4 mr-2"}),s?"Save Changes":"Add Contact Detail"]})]})]})]})]}):l.jsxs("div",{className:"card p-6 text-center",children:[l.jsx("p",{className:"text-red-600",children:"Failed to load person."}),l.jsx(ee,{to:"/people",className:"btn-secondary mt-4",children:"Back to People"})]})}function Vu(e){if(!e)return"";const t=document.createElement("textarea");return t.innerHTML=e,t.value}function P_({value:e,onChange:t,people:n,isLoading:r,excludePersonId:s}){var d;const[i,a]=C.useState(""),[o,u]=C.useState(!1),c=C.useRef(null),f=C.useRef(null),h=C.useMemo(()=>n.filter(y=>y.id!==s).sort((y,g)=>{var E,T;const j=(y.first_name||((E=y.acf)==null?void 0:E.first_name)||"").toLowerCase(),k=(g.first_name||((T=g.acf)==null?void 0:T.first_name)||"").toLowerCase();return j<k?-1:j>k?1:0}),[n,s]),m=C.useMemo(()=>{if(!i)return h.slice(0,10);const p=i.toLowerCase();return h.filter(y=>{var E,T,F;const g=Vu(((E=y.title)==null?void 0:E.rendered)||y.title||"").toLowerCase(),j=(y.first_name||((T=y.acf)==null?void 0:T.first_name)||"").toLowerCase(),k=(y.last_name||((F=y.acf)==null?void 0:F.last_name)||"").toLowerCase();return g.includes(p)||j.includes(p)||k.includes(p)}).slice(0,10)},[h,i]),w=C.useMemo(()=>h.find(p=>p.id===e),[h,e]);C.useEffect(()=>{const p=y=>{f.current&&!f.current.contains(y.target)&&c.current&&!c.current.contains(y.target)&&u(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]);const v=p=>{t(p),a(""),u(!1)},N=()=>{t(null),a(""),u(!1)},x=w?Vu(((d=w.title)==null?void 0:d.rendered)||w.title):"";return l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"relative",children:w&&!o?l.jsxs("div",{className:"flex items-center justify-between input pr-8 cursor-text",onClick:()=>u(!0),children:[l.jsx("span",{children:x}),l.jsx("button",{type:"button",onClick:p=>{p.stopPropagation(),N()},className:"absolute right-2 text-gray-400 hover:text-gray-600",children:l.jsx(Vr,{className:"w-4 h-4"})})]}):l.jsx("input",{ref:c,type:"text",value:i,onChange:p=>{a(p.target.value),u(!0)},onFocus:()=>u(!0),placeholder:"Search for a person...",className:"input",disabled:r})}),o&&(i||!w)&&l.jsx("div",{ref:f,className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:m.length>0?m.map(p=>{var y;return l.jsx("button",{type:"button",onClick:()=>v(p.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${e===p.id?"bg-primary-50":""}`,children:Vu(((y=p.title)==null?void 0:y.rendered)||p.title)},p.id)}):l.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No people found"})})]})}function ym(){var y,g;const{personId:e,index:t}=rr(),n=It(),r=parseInt(t,10),s=!isNaN(r),{data:i,isLoading:a}=Ii(e),o=sl(),{data:u=[],isLoading:c}=su(),{data:f=[],isLoading:h}=De({queryKey:["relationship-types"],queryFn:async()=>(await ye.getRelationshipTypes()).data}),{register:m,handleSubmit:w,reset:v,control:N,formState:{errors:x,isSubmitting:d}}=Ui({defaultValues:{related_person:null,relationship_type:"",relationship_label:""}});C.useEffect(()=>{var j;if(i&&s){const E=(((j=i.acf)==null?void 0:j.relationships)||[])[r];E&&v({related_person:E.related_person||null,relationship_type:E.relationship_type?String(E.relationship_type):"",relationship_label:E.relationship_label||""})}},[i,r,s,v]),An(s?`Edit Relationship - ${((y=i==null?void 0:i.title)==null?void 0:y.rendered)||(i==null?void 0:i.title)||"Person"}`:`Add Relationship - ${((g=i==null?void 0:i.title)==null?void 0:g.rendered)||(i==null?void 0:i.title)||"Person"}`);const p=async j=>{var k,E,T;try{const F=[...((k=i.acf)==null?void 0:k.relationships)||[]],R={related_person:j.related_person||null,relationship_type:j.relationship_type||null,relationship_label:j.relationship_label||""};s?F[r]=R:F.push(R);const V={...i.acf,relationships:F,contact_info:Array.isArray((E=i.acf)==null?void 0:E.contact_info)?i.acf.contact_info:[],work_history:Array.isArray((T=i.acf)==null?void 0:T.work_history)?i.acf.work_history:[]};await o.mutateAsync({id:e,data:{acf:V}}),n(`/people/${e}`)}catch(F){console.error("Failed to save relationship:",F)}};return a?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):i?l.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs(ee,{to:`/people/${e}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[l.jsx(sr,{className:"w-4 h-4 mr-2"}),"Back to Person"]})}),l.jsxs("div",{className:"card p-6",children:[l.jsx("h1",{className:"text-xl font-bold mb-6",children:s?"Edit Relationship":"Add Relationship"}),l.jsxs("form",{onSubmit:w(p),className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Related Person *"}),l.jsx(ko,{name:"related_person",control:N,rules:{required:"Please select a person"},render:({field:j})=>l.jsx(P_,{value:j.value,onChange:j.onChange,people:u,isLoading:c,excludePersonId:parseInt(e,10)})}),x.related_person&&l.jsx("p",{className:"text-sm text-red-600 mt-1",children:x.related_person.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Relationship Type"}),l.jsxs("select",{...m("relationship_type",{setValueAs:j=>j?parseInt(j,10):null}),className:"input",disabled:h,children:[l.jsx("option",{value:"",children:"Select a type..."}),f.map(j=>l.jsx("option",{value:j.id,children:j.name},j.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Custom Label"}),l.jsx("input",{...m("relationship_label"),className:"input",placeholder:"e.g., Brother-in-law"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Override the relationship type with a custom label"})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[l.jsx(ee,{to:`/people/${e}`,className:"btn-secondary",children:"Cancel"}),l.jsxs("button",{type:"submit",className:"btn-primary",disabled:d,children:[d?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):l.jsx($r,{className:"w-4 h-4 mr-2"}),s?"Save Changes":"Add Relationship"]})]})]})]})]}):l.jsxs("div",{className:"card p-6 text-center",children:[l.jsx("p",{className:"text-red-600",children:"Failed to load person."}),l.jsx(ee,{to:"/people",className:"btn-secondary mt-4",children:"Back to People"})]})}function R_({company:e}){var t,n,r,s,i;return l.jsx(ee,{to:`/companies/${e.id}`,className:"card p-4 hover:shadow-md transition-shadow",children:l.jsxs("div",{className:"flex items-start",children:[(r=(n=(t=e._embedded)==null?void 0:t["wp:featuredmedia"])==null?void 0:n[0])!=null&&r.source_url?l.jsx("img",{src:e._embedded["wp:featuredmedia"][0].source_url,alt:e.title.rendered,className:"w-12 h-12 rounded-lg object-cover"}):l.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center",children:l.jsx(_s,{className:"w-6 h-6 text-gray-400"})}),l.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:e.title.rendered}),((s=e.acf)==null?void 0:s.industry)&&l.jsx("p",{className:"text-sm text-gray-500",children:e.acf.industry}),((i=e.acf)==null?void 0:i.website)&&l.jsx("p",{className:"text-xs text-primary-600 truncate",children:e.acf.website})]})]})})}function O_(){const[e,t]=C.useState(""),{data:n,isLoading:r,error:s}=De({queryKey:["companies",e],queryFn:async()=>(await ye.getCompanies({search:e,per_page:100,_embed:!0})).data}),i=C.useMemo(()=>n?[...n].sort((a,o)=>{var f,h;const u=(((f=a.title)==null?void 0:f.rendered)||a.title||"").toLowerCase(),c=(((h=o.title)==null?void 0:h.rendered)||o.title||"").toLowerCase();return u.localeCompare(c)}):[],[n]);return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{className:"relative flex-1 max-w-md",children:[l.jsx(E0,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),l.jsx("input",{type:"search",placeholder:"Search companies...",value:e,onChange:a=>t(a.target.value),className:"input pl-9"})]}),l.jsxs(ee,{to:"/companies/new",className:"btn-primary",children:[l.jsx(pt,{className:"w-4 h-4 mr-2"}),"Add Company"]})]}),r&&l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),s&&l.jsx("div",{className:"card p-6 text-center",children:l.jsx("p",{className:"text-red-600",children:"Failed to load companies."})}),!r&&!s&&(i==null?void 0:i.length)===0&&l.jsxs("div",{className:"card p-12 text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(_s,{className:"w-6 h-6 text-gray-400"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No companies found"}),l.jsx("p",{className:"text-gray-500 mb-4",children:e?"Try a different search.":"Add your first company."}),!e&&l.jsxs(ee,{to:"/companies/new",className:"btn-primary",children:[l.jsx(pt,{className:"w-4 h-4 mr-2"}),"Add Company"]})]}),!r&&!s&&(i==null?void 0:i.length)>0&&l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(a=>l.jsx(R_,{company:a},a.id))})]})}function F_(){var f,h,m,w,v,N,x;const{id:e}=rr(),t=It(),n=Ct(),{data:r,isLoading:s,error:i}=De({queryKey:["company",e],queryFn:async()=>(await ye.getCompany(e,{_embed:!0})).data}),{data:a}=De({queryKey:["company-people",e],queryFn:async()=>(await an.getCompanyPeople(e)).data}),o=yt({mutationFn:()=>ye.deleteCompany(e),onSuccess:()=>{n.invalidateQueries({queryKey:["companies"]}),t("/companies")}});An(((f=r==null?void 0:r.title)==null?void 0:f.rendered)||(r==null?void 0:r.title)||"Company");const u=()=>{window.confirm("Are you sure you want to delete this company?")&&o.mutate()};if(s)return l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(i||!r)return l.jsxs("div",{className:"card p-6 text-center",children:[l.jsx("p",{className:"text-red-600",children:"Failed to load company."}),l.jsx(ee,{to:"/companies",className:"btn-secondary mt-4",children:"Back to Companies"})]});const c=r.acf||{};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(ee,{to:"/companies",className:"flex items-center text-gray-600 hover:text-gray-900",children:[l.jsx(sr,{className:"w-4 h-4 mr-2"}),"Back to Companies"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(ee,{to:`/companies/${e}/edit`,className:"btn-secondary",children:[l.jsx(O0,{className:"w-4 h-4 mr-2"}),"Edit"]}),l.jsxs("button",{onClick:u,className:"btn-danger",children:[l.jsx(hr,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]}),l.jsx("div",{className:"card p-6",children:l.jsxs("div",{className:"flex items-center gap-4",children:[(w=(m=(h=r._embedded)==null?void 0:h["wp:featuredmedia"])==null?void 0:m[0])!=null&&w.source_url?l.jsx("img",{src:r._embedded["wp:featuredmedia"][0].source_url,alt:r.title.rendered,className:"w-16 h-16 rounded-lg object-cover"}):l.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-lg flex items-center justify-center",children:l.jsx(_s,{className:"w-8 h-8 text-gray-400"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold",children:r.title.rendered}),c.industry&&l.jsx("p",{className:"text-gray-500",children:c.industry}),c.website&&l.jsxs("a",{href:c.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline flex items-center mt-1",children:[l.jsx(dd,{className:"w-4 h-4 mr-1"}),c.website]})]})]})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"card p-6",children:[l.jsxs("h2",{className:"font-semibold mb-4 flex items-center",children:[l.jsx(La,{className:"w-5 h-5 mr-2"}),"Current Employees"]}),((v=a==null?void 0:a.current)==null?void 0:v.length)>0?l.jsx("div",{className:"space-y-2",children:a.current.map(d=>{var p;return l.jsxs(ee,{to:`/people/${d.id}`,className:"flex items-center p-2 rounded hover:bg-gray-50",children:[d.thumbnail?l.jsx("img",{src:d.thumbnail,alt:"",loading:"lazy",className:"w-8 h-8 rounded-full"}):l.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-xs text-gray-500",children:((p=d.name)==null?void 0:p[0])||"?"})}),l.jsxs("div",{className:"ml-2",children:[l.jsx("p",{className:"text-sm font-medium",children:d.name}),d.job_title&&l.jsx("p",{className:"text-xs text-gray-500",children:d.job_title})]})]},d.id)})}):l.jsx("p",{className:"text-sm text-gray-500",children:"No current employees."})]}),l.jsxs("div",{className:"card p-6",children:[l.jsxs("h2",{className:"font-semibold mb-4 flex items-center",children:[l.jsx(La,{className:"w-5 h-5 mr-2"}),"Former Employees"]}),((N=a==null?void 0:a.former)==null?void 0:N.length)>0?l.jsx("div",{className:"space-y-2",children:a.former.map(d=>{var p;return l.jsxs(ee,{to:`/people/${d.id}`,className:"flex items-center p-2 rounded hover:bg-gray-50",children:[d.thumbnail?l.jsx("img",{src:d.thumbnail,alt:"",loading:"lazy",className:"w-8 h-8 rounded-full opacity-75"}):l.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center opacity-75",children:l.jsx("span",{className:"text-xs text-gray-500",children:((p=d.name)==null?void 0:p[0])||"?"})}),l.jsxs("div",{className:"ml-2",children:[l.jsx("p",{className:"text-sm font-medium text-gray-700",children:d.name}),d.job_title&&l.jsx("p",{className:"text-xs text-gray-500",children:d.job_title})]})]},d.id)})}):l.jsx("p",{className:"text-sm text-gray-500",children:"No former employees."})]})]}),((x=c.contact_info)==null?void 0:x.length)>0&&l.jsxs("div",{className:"card p-6",children:[l.jsx("h2",{className:"font-semibold mb-4",children:"Contact Information"}),l.jsx("div",{className:"space-y-3",children:c.contact_info.map((d,p)=>l.jsxs("div",{children:[l.jsxs("span",{className:"text-sm text-gray-500",children:[d.contact_label||d.contact_type,":"]}),l.jsx("span",{className:"ml-2",children:d.contact_value})]},p))})]})]})}function gm(){var p,y,g,j,k,E,T,F;const{id:e}=rr(),t=It(),n=Ct(),r=!!e,{data:s,isLoading:i}=De({queryKey:["company",e],queryFn:async()=>(await ye.getCompany(e,{_embed:!0})).data,enabled:r}),[a,o]=C.useState(!1),u=C.useRef(null),c=yt({mutationFn:R=>ye.createCompany(R),onSuccess:R=>{n.invalidateQueries({queryKey:["companies"]}),t(`/companies/${R.data.id}`)}}),f=yt({mutationFn:R=>ye.updateCompany(e,R),onSuccess:()=>{n.invalidateQueries({queryKey:["company",e]}),n.invalidateQueries({queryKey:["companies"]}),n.invalidateQueries({queryKey:["people"]}),t(`/companies/${e}`)}}),h=async R=>{var D;const V=(D=R.target.files)==null?void 0:D[0];if(V){if(!V.type.startsWith("image/")){alert("Please select an image file");return}if(V.size>5*1024*1024){alert("Image size must be less than 5MB");return}o(!0);try{const G=(await ye.uploadMedia(V)).data.id;await an.setCompanyLogo(e,G),n.invalidateQueries({queryKey:["company",e]}),n.invalidateQueries({queryKey:["companies"]}),n.invalidateQueries({queryKey:["people"]}),n.refetchQueries({queryKey:["company",e]}),n.refetchQueries({queryKey:["companies"]}),n.refetchQueries({queryKey:["people"]})}catch(L){console.error("Failed to upload logo:",L),alert("Failed to upload logo. Please try again.")}finally{o(!1),u.current&&(u.current.value="")}}},{register:m,handleSubmit:w,reset:v,formState:{errors:N,isSubmitting:x}}=Ui();C.useEffect(()=>{var R,V;s&&v({title:s.title.rendered||"",website:((R=s.acf)==null?void 0:R.website)||"",industry:((V=s.acf)==null?void 0:V.industry)||""})},[s,v]),An(r&&s?`Edit ${((p=s.title)==null?void 0:p.rendered)||s.title||"Company"}`:"New Company");const d=async R=>{const V={title:R.title,status:"publish",acf:{website:R.website,industry:R.industry}};r?f.mutate(V):c.mutate(V)};return r&&i?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):l.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs(ee,{to:"/companies",className:"flex items-center text-gray-600 hover:text-gray-900",children:[l.jsx(sr,{className:"w-4 h-4 mr-2"}),"Back to Companies"]})}),l.jsxs("div",{className:"card p-6",children:[l.jsx("h1",{className:"text-xl font-bold mb-6",children:r?"Edit Company":"Add New Company"}),l.jsxs("form",{onSubmit:w(d),className:"space-y-6",children:[r&&l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Logo"}),l.jsxs("div",{className:"flex items-center gap-4",children:[(j=(g=(y=s==null?void 0:s._embedded)==null?void 0:y["wp:featuredmedia"])==null?void 0:g[0])!=null&&j.source_url?l.jsxs("div",{className:"relative group",children:[l.jsx("img",{src:s._embedded["wp:featuredmedia"][0].source_url,alt:((k=s.title)==null?void 0:k.rendered)||"Company logo",className:"w-20 h-20 rounded-lg object-cover"}),l.jsx("div",{className:"absolute inset-0 rounded-lg bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var R;return(R=u.current)==null?void 0:R.click()},children:a?l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):l.jsx(ql,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}):l.jsxs("div",{className:"relative group",children:[l.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-lg flex items-center justify-center",children:l.jsx(ql,{className:"w-8 h-8 text-gray-400"})}),l.jsx("div",{className:"absolute inset-0 rounded-lg bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var R;return(R=u.current)==null?void 0:R.click()},children:a?l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):l.jsx(ql,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}),l.jsxs("div",{children:[l.jsx("button",{type:"button",onClick:()=>{var R;return(R=u.current)==null?void 0:R.click()},className:"btn-secondary text-sm",disabled:a,children:(F=(T=(E=s==null?void 0:s._embedded)==null?void 0:E["wp:featuredmedia"])==null?void 0:T[0])!=null&&F.source_url?"Change Logo":"Upload Logo"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click the logo or button to upload a new logo"})]}),l.jsx("input",{ref:u,type:"file",accept:"image/*",onChange:h,className:"hidden",disabled:a})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Company Name *"}),l.jsx("input",{...m("title",{required:"Company name is required"}),className:"input",placeholder:"Acme Inc."}),N.title&&l.jsx("p",{className:"text-sm text-red-600 mt-1",children:N.title.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Website"}),l.jsx("input",{...m("website"),type:"url",className:"input",placeholder:"https://example.com"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Industry"}),l.jsx("input",{...m("industry"),className:"input",placeholder:"Technology"})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[l.jsx(ee,{to:"/companies",className:"btn-secondary",children:"Cancel"}),l.jsxs("button",{type:"submit",className:"btn-primary",disabled:x,children:[l.jsx($r,{className:"w-4 h-4 mr-2"}),r?"Save Changes":"Create Company"]})]})]})]})]})}function T_({person:e,dateType:t}){var n;return l.jsx("div",{className:"flex items-center gap-3 py-2",children:l.jsxs(ee,{to:`/people/${e.id}`,className:"flex items-center gap-3 flex-1 min-w-0 hover:opacity-80",children:[e.thumbnail?l.jsx("img",{src:e.thumbnail,alt:e.name,loading:"lazy",className:"w-10 h-10 rounded-full object-cover flex-shrink-0"}):l.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center flex-shrink-0",children:l.jsx("span",{className:"text-sm font-medium text-gray-500",children:(n=e.name)==null?void 0:n[0]})}),l.jsx("span",{className:"font-medium truncate",children:e.name}),l.jsx("span",{className:"text-sm text-gray-500 capitalize flex-shrink-0",children:t})]})})}function A_({dates:e}){const t=e[0],r=t.days_until===0?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600",s=[];return e.forEach(i=>{var o,u;const a=((o=i.date_type)==null?void 0:o[0])||"Date";((u=i.related_people)==null?void 0:u.length)>0?i.related_people.forEach(c=>{s.push({person:c,dateType:a})}):s.push({person:{id:null,name:i.title,thumbnail:null},dateType:a})}),l.jsx("div",{className:"card p-4 break-inside-avoid mb-4",children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:`w-14 h-14 rounded-lg ${r} flex items-center justify-center flex-shrink-0`,children:l.jsx("span",{className:"text-2xl font-bold leading-none",children:Rn(new Date(t.next_occurrence),"d")})}),l.jsx("div",{className:"flex-1 min-w-0 divide-y divide-gray-100",children:s.map(({person:i,dateType:a},o)=>l.jsx(T_,{person:i,dateType:a},i.id?`${i.id}-${a}`:`${o}-${a}`))})]})})}function D_(){const{data:e,isLoading:t,error:n}=M2(365),r=(e==null?void 0:e.reduce((i,a)=>{const o=Rn(new Date(a.next_occurrence),"yyyy-MM-dd");return i[o]||(i[o]=[]),i[o].push(a),i},{}))||{},s=Object.entries(r).reduce((i,[a,o])=>{const u=Rn(new Date(a),"MMMM yyyy");return i[u]||(i[u]=[]),i[u].push(o),i},{});return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("p",{className:"text-gray-600",children:[(e==null?void 0:e.length)||0," upcoming dates"]}),l.jsxs(ee,{to:"/dates/new",className:"btn-primary",children:[l.jsx(pt,{className:"w-4 h-4 mr-2"}),"Add Date"]})]}),t&&l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),n&&l.jsx("div",{className:"card p-6 text-center",children:l.jsx("p",{className:"text-red-600",children:"Failed to load dates."})}),!t&&!n&&(e==null?void 0:e.length)===0&&l.jsxs("div",{className:"card p-12 text-center",children:[l.jsx(Ss,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium mb-1",children:"No important dates"}),l.jsx("p",{className:"text-gray-500 mb-4",children:"Add birthdays, anniversaries, and more."}),l.jsxs(ee,{to:"/dates/new",className:"btn-primary",children:[l.jsx(pt,{className:"w-4 h-4 mr-2"}),"Add Date"]})]}),Object.entries(s).map(([i,a])=>l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:i}),l.jsx("div",{className:"columns-1 md:columns-2 lg:columns-3 gap-4",children:a.map(o=>l.jsx(A_,{dates:o},o[0].next_occurrence))})]},i))]})}function ri(e){if(!e)return"";const t=document.createElement("textarea");return t.innerHTML=e,t.value}function M_({value:e=[],onChange:t,people:n=[],isLoading:r}){const[s,i]=C.useState(""),a=C.useMemo(()=>{if(!s)return n.slice(0,10);const f=s.toLowerCase();return n.filter(h=>{var m,w;return(w=ri((m=h.title)==null?void 0:m.rendered))==null?void 0:w.toLowerCase().includes(f)}).slice(0,10)},[n,s]),o=C.useMemo(()=>e.map(f=>n.find(h=>h.id===f)).filter(Boolean),[e,n]),u=f=>{e.includes(f)||t([...e,f]),i("")},c=f=>{t(e.filter(h=>h!==f))};return l.jsxs("div",{className:"space-y-2",children:[o.length>0&&l.jsx("div",{className:"flex flex-wrap gap-2",children:o.map(f=>{var h;return l.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-primary-100 text-primary-800 rounded-full text-sm",children:[ri((h=f.title)==null?void 0:h.rendered),l.jsx("button",{type:"button",onClick:()=>c(f.id),className:"hover:text-primary-600",children:l.jsx(Vr,{className:"w-3 h-3"})})]},f.id)})}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",value:s,onChange:f=>i(f.target.value),placeholder:"Search for people...",className:"input",disabled:r}),s&&l.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:a.length>0?a.map(f=>{var h;return l.jsx("button",{type:"button",onClick:()=>u(f.id),disabled:e.includes(f.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${e.includes(f.id)?"opacity-50 cursor-not-allowed":""}`,children:ri((h=f.title)==null?void 0:h.rendered)},f.id)}):l.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No people found"})})]})]})}function xm(){var Z;const{id:e}=rr(),[t]=oN(),n=It(),r=Ct(),s=!!e,i=t.get("person"),a=t.get("type"),{data:o,isLoading:u}=De({queryKey:["important-date",e],queryFn:async()=>(await ye.getDate(e)).data,enabled:s}),c=C.useMemo(()=>{var K;if(!((K=o==null?void 0:o.acf)!=null&&K.related_people))return[];const U=o.acf.related_people;return Array.isArray(U)?U.map(J=>parseInt(typeof J=="object"&&J!==null?J.ID||J.id||J.post_id:J,10)).filter(J=>!isNaN(J)&&J>0):[]},[o]),{data:f=[],isLoading:h}=su({orderby:"title",order:"asc"}),{data:m=[]}=De({queryKey:["people","specific",c],queryFn:async()=>{const U=c.map(J=>ye.getPerson(J,{_embed:!0}).then(ce=>ce.data).catch(()=>null));return(await Promise.all(U)).filter(Boolean)},enabled:c.length>0}),w=C.useMemo(()=>{const U=new Map;return f.forEach(K=>U.set(K.id,K)),m.forEach(K=>{var ce,xe,Pe,je,pe,Se,Je,Re,Yt,ln,We,Qr,ir,ar,Kr,Yr,Ts;const J={...K,id:K.id,name:ri(((ce=K.title)==null?void 0:ce.rendered)||K.title||""),first_name:((xe=K.acf)==null?void 0:xe.first_name)||"",last_name:((Pe=K.acf)==null?void 0:Pe.last_name)||"",is_favorite:((je=K.acf)==null?void 0:je.is_favorite)||!1,thumbnail:((Je=(Se=(pe=K._embedded)==null?void 0:pe["wp:featuredmedia"])==null?void 0:Se[0])==null?void 0:Je.source_url)||((ir=(Qr=(We=(ln=(Yt=(Re=K._embedded)==null?void 0:Re["wp:featuredmedia"])==null?void 0:Yt[0])==null?void 0:ln.media_details)==null?void 0:We.sizes)==null?void 0:Qr.thumbnail)==null?void 0:ir.source_url)||null,labels:((Ts=(Yr=(Kr=(ar=K._embedded)==null?void 0:ar["wp:term"])==null?void 0:Kr.flat())==null?void 0:Yr.filter(on=>(on==null?void 0:on.taxonomy)==="person_label"))==null?void 0:Ts.map(on=>on.name))||[]};U.set(J.id,J)}),Array.from(U.values())},[f,m]),{data:v=[]}=De({queryKey:["date-types"],queryFn:async()=>((await ye.getDateTypes()).data||[]).sort((J,ce)=>{const xe=J.name||"",Pe=ce.name||"";return xe.localeCompare(Pe)})}),N=yt({mutationFn:U=>ye.createDate(U),onSuccess:()=>{r.invalidateQueries({queryKey:["reminders"]}),n(i?`/people/${i}`:"/dates")}}),x=yt({mutationFn:U=>ye.updateDate(e,U),onSuccess:()=>{r.invalidateQueries({queryKey:["reminders"]}),r.invalidateQueries({queryKey:["important-date",e]}),r.invalidateQueries({queryKey:["people"]});const U=g("related_people");(U==null?void 0:U.length)>0?n(`/people/${U[0]}`):n("/dates")}}),{register:d,handleSubmit:p,reset:y,watch:g,setValue:j,control:k,formState:{errors:E,isSubmitting:T}}=Ui({defaultValues:{title:"",date_value:"",date_type:"",related_people:[],is_recurring:!0,reminder_days_before:7}}),F=g("related_people"),R=g("date_type"),V=g("title");C.useEffect(()=>{var J;if((!V||["'s Birthday","Wedding of "].some(ce=>V.endsWith(ce)||V.startsWith(ce)))&&(F==null?void 0:F.length)>0&&R){const ce=v.find(pe=>pe.id===parseInt(R)),xe=(ce==null?void 0:ce.name)||"",Pe=((J=ce==null?void 0:ce.slug)==null?void 0:J.toLowerCase())||xe.toLowerCase(),je=F.map(pe=>{var Je,Re,Yt;const Se=w.find(ln=>ln.id===pe);return Se?ri(((Je=Se.acf)==null?void 0:Je.first_name)||((Yt=(Re=Se.title)==null?void 0:Re.rendered)==null?void 0:Yt.split(" ")[0])||""):null}).filter(Boolean);if(je.length>0&&xe){let pe;Pe==="wedding"?je.length>=2?pe=`Wedding of ${je[0]} & ${je[1]}`:pe=`Wedding of ${je[0]}`:pe=`${je[0]}'s ${xe}`,j("title",pe)}}},[F,R,w,v,j,V]);const[D,L]=C.useState(!1);C.useEffect(()=>{var K,J,ce,xe,Pe,je;if(D&&!s)return;const U=c.length===0||m.length>0;if(o&&w.length>0&&U){let pe=[];const Se=(K=o.acf)==null?void 0:K.related_people;Se&&(Array.isArray(Se)?pe=Se.map(Re=>parseInt(typeof Re=="object"&&Re!==null?Re.ID||Re.id||Re.post_id:Re,10)).filter(Re=>!isNaN(Re)&&Re>0):typeof Se=="number"&&(pe=[Se]));let Je="";((J=o.date_type)==null?void 0:J.length)>0&&(Je=o.date_type[0].toString()),y({title:ri(((ce=o.title)==null?void 0:ce.rendered)||""),date_value:((xe=o.acf)==null?void 0:xe.date_value)||"",date_type:Je,related_people:pe,is_recurring:((Pe=o.acf)==null?void 0:Pe.is_recurring)??!0,reminder_days_before:((je=o.acf)==null?void 0:je.reminder_days_before)||7}),L(!0)}else if(!s&&w.length>0&&v.length>0){const pe={title:"",date_value:"",date_type:"",related_people:[],is_recurring:!0,reminder_days_before:7};if(i&&(pe.related_people=[parseInt(i)]),a){const Se=v.find(Je=>Je.slug===a||Je.name.toLowerCase()===a.toLowerCase());Se&&(pe.date_type=Se.id.toString())}y(pe),L(!0)}},[o,y,s,i,a,v,w,c,m,D]),An(s&&o?`Edit ${((Z=o.title)==null?void 0:Z.rendered)||o.title||"Date"}`:"New Date");const G=async U=>{const K={title:U.title,status:"publish",date_type:U.date_type?[parseInt(U.date_type)]:[],acf:{date_value:U.date_value,related_people:U.related_people,is_recurring:U.is_recurring,reminder_days_before:parseInt(U.reminder_days_before,10)}};s?x.mutate(K):N.mutate(K)};if(s&&u)return l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});const oe=g("related_people"),ie=s&&(oe==null?void 0:oe.length)>0?oe[0]:i,ge=ie?`/people/${ie}`:"/dates",z=ie?"Back to Person":"Back to Dates";return l.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs(ee,{to:ge,className:"flex items-center text-gray-600 hover:text-gray-900",children:[l.jsx(sr,{className:"w-4 h-4 mr-2"}),z]})}),l.jsxs("div",{className:"card p-6",children:[l.jsx("h1",{className:"text-xl font-bold mb-6",children:s?"Edit Date":"Add New Date"}),l.jsxs("form",{onSubmit:p(G),className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Related People"}),l.jsx(ko,{name:"related_people",control:k,render:({field:U})=>l.jsx(M_,{value:U.value,onChange:U.onChange,people:w,isLoading:h})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Date Type *"}),l.jsx(ko,{name:"date_type",control:k,rules:{required:"Please select a date type"},render:({field:U})=>{const K=U.value?String(U.value):"";return l.jsxs("select",{value:K,onChange:J=>{const ce=J.target.value;U.onChange(ce)},onBlur:U.onBlur,name:U.name,ref:U.ref,className:"input",children:[l.jsx("option",{value:"",children:"Select a type..."}),v.map(J=>l.jsx("option",{value:String(J.id),children:J.name},J.id))]})}}),E.date_type&&l.jsx("p",{className:"text-sm text-red-600 mt-1",children:E.date_type.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Label"}),l.jsx("input",{...d("title"),className:"input",placeholder:"e.g., Mom's Birthday, Wedding Anniversary"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-generated from person and date type. You can customize it."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Date *"}),l.jsx("input",{...d("date_value",{required:"Date is required"}),type:"date",className:"input"}),E.date_value&&l.jsx("p",{className:"text-sm text-red-600 mt-1",children:E.date_value.message})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",...d("is_recurring"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),l.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Repeats every year"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Remind me"}),l.jsxs("select",{...d("reminder_days_before"),className:"input",children:[l.jsx("option",{value:"0",children:"On the day"}),l.jsx("option",{value:"1",children:"1 day before"}),l.jsx("option",{value:"3",children:"3 days before"}),l.jsx("option",{value:"7",children:"1 week before"}),l.jsx("option",{value:"14",children:"2 weeks before"}),l.jsx("option",{value:"30",children:"1 month before"})]})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[l.jsx(ee,{to:ge,className:"btn-secondary",children:"Cancel"}),l.jsxs("button",{type:"submit",className:"btn-primary",disabled:T,children:[l.jsx($r,{className:"w-4 h-4 mr-2"}),s?"Save Changes":"Create Date"]})]})]})]})]})}function L_(){var d,p,y;const[e,t]=C.useState(null),[n,r]=C.useState(""),[s,i]=C.useState(!1),[a,o]=C.useState(null),u=Ct(),c=yt({mutationFn:async g=>{const j=new FormData;return j.append("file",g),(await se.post("/prm/v1/import/monica/validate",j,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:g=>{o(g)},onError:g=>{var j,k;o({valid:!1,error:((k=(j=g.response)==null?void 0:j.data)==null?void 0:k.message)||"Failed to validate file"})}}),f=yt({mutationFn:async({file:g,monicaUrl:j})=>{const k=new FormData;return k.append("file",g),k.append("monica_url",j),(await se.post("/prm/v1/import/monica",k,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{u.invalidateQueries({queryKey:["people"]}),u.invalidateQueries({queryKey:["companies"]}),u.invalidateQueries({queryKey:["dates"]}),u.invalidateQueries({queryKey:["dashboard"]})}}),h=C.useCallback(g=>{g.preventDefault(),g.stopPropagation(),g.type==="dragenter"||g.type==="dragover"?i(!0):g.type==="dragleave"&&i(!1)},[]),m=C.useCallback(g=>{g.preventDefault(),g.stopPropagation(),i(!1),g.dataTransfer.files&&g.dataTransfer.files[0]&&v(g.dataTransfer.files[0])},[]),w=g=>{g.target.files&&g.target.files[0]&&v(g.target.files[0])},v=g=>{if(!g.name.endsWith(".sql")){o({valid:!1,error:"Please select a SQL file"});return}t(g),o(null),f.reset(),c.mutate(g)},N=()=>{if(!n.trim()){o(g=>({...g,urlError:"Please enter your Monica instance URL"}));return}e&&(a!=null&&a.valid)&&f.mutate({file:e,monicaUrl:n.trim()})},x=()=>{t(null),r(""),o(null),c.reset(),f.reset()};return l.jsxs("div",{className:"space-y-4",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Import from Monica"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Import contacts, relationships, notes, and photos from a Monica CRM SQL export file. Reimporting the same file will update existing contacts instead of creating duplicates."}),f.isSuccess?l.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(_p,{className:"h-5 w-5 text-green-600 mt-0.5"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-medium text-green-900",children:"Import Complete"}),l.jsxs("div",{className:"mt-2 text-sm text-green-800 space-y-1",children:[l.jsxs("p",{children:["Contacts imported: ",f.data.stats.contacts_imported]}),l.jsxs("p",{children:["Contacts updated: ",f.data.stats.contacts_updated]}),l.jsxs("p",{children:["Contacts skipped (partial): ",f.data.stats.contacts_skipped]}),l.jsxs("p",{children:["Photos imported: ",f.data.stats.photos_imported]}),l.jsxs("p",{children:["Companies created: ",f.data.stats.companies_created]}),l.jsxs("p",{children:["Relationships created: ",f.data.stats.relationships_created]}),l.jsxs("p",{children:["Important dates created: ",f.data.stats.dates_created]}),l.jsxs("p",{children:["Notes created: ",f.data.stats.notes_created]}),((d=f.data.stats.errors)==null?void 0:d.length)>0&&l.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[l.jsx("p",{className:"font-medium",children:"Errors:"}),l.jsx("ul",{className:"list-disc list-inside",children:f.data.stats.errors.map((g,j)=>l.jsx("li",{children:g},j))})]})]}),l.jsx("button",{onClick:x,className:"mt-3 text-sm text-green-700 hover:text-green-800 font-medium",children:"Import another file"})]})]})}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${s?"border-primary-500 bg-primary-50":e?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:h,onDragLeave:h,onDragOver:h,onDrop:m,children:[l.jsx("input",{type:"file",accept:".sql",onChange:w,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),c.isPending?l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx(Ep,{className:"h-8 w-8 text-primary-600 animate-spin"}),l.jsx("p",{className:"text-gray-600",children:"Validating file..."})]}):e?l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx(WN,{className:"h-8 w-8 text-green-600"}),l.jsx("p",{className:"font-medium text-gray-900",children:e.name}),l.jsxs("p",{className:"text-sm text-gray-500",children:[(e.size/1024/1024).toFixed(2)," MB"]})]}):l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx(Pp,{className:"h-8 w-8 text-gray-400"}),l.jsx("p",{className:"text-gray-600",children:"Drag and drop your Monica SQL export file here, or click to browse"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Supports SQL export files"})]})]}),a&&l.jsx("div",{className:`rounded-lg border p-4 ${a.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:a.valid?l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(_p,{className:"h-5 w-5 text-green-600 mt-0.5"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-medium text-green-900",children:"File validated successfully"}),l.jsxs("div",{className:"mt-2 text-sm text-green-800",children:[l.jsxs("p",{children:["Export format: ",a.version]}),l.jsxs("p",{children:["Contacts to import: ",a.summary.contacts]}),l.jsxs("p",{children:["Relationships: ",a.summary.relationships]}),l.jsxs("p",{children:["Notes: ",a.summary.notes]}),l.jsxs("p",{children:["Dates: ",a.summary.reminders]}),l.jsxs("p",{children:["Photos: ",a.summary.photos]}),l.jsxs("p",{children:["Companies: ",a.summary.companies_count]})]})]})]}):l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(jp,{className:"h-5 w-5 text-red-600 mt-0.5"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-red-900",children:"Validation failed"}),l.jsx("p",{className:"text-sm text-red-700 mt-1",children:a.error})]})]})}),(a==null?void 0:a.valid)&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"monica-url",className:"block text-sm font-medium text-gray-700",children:"Monica Instance URL"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(YN,{className:"h-4 w-4 text-gray-400"})}),l.jsx("input",{type:"url",id:"monica-url",value:n,onChange:g=>r(g.target.value),placeholder:"https://your-monica-instance.com",className:`block w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ${a.urlError?"border-red-300":"border-gray-300"}`})]}),a.urlError&&l.jsx("p",{className:"text-sm text-red-600",children:a.urlError}),l.jsx("p",{className:"text-xs text-gray-500",children:"Enter the URL of your Monica instance to import photos. Photos will be downloaded from this URL."})]}),(a==null?void 0:a.valid)&&l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:N,disabled:f.isPending,className:"btn-primary flex items-center gap-2",children:f.isPending?l.jsxs(l.Fragment,{children:[l.jsx(Ep,{className:"h-4 w-4 animate-spin"}),"Importing..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Pp,{className:"h-4 w-4"}),"Start Import"]})}),l.jsx("button",{onClick:x,disabled:f.isPending,className:"btn-secondary",children:"Cancel"})]}),f.isError&&l.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(jp,{className:"h-5 w-5 text-red-600 mt-0.5"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-red-900",children:"Import failed"}),l.jsx("p",{className:"text-sm text-red-700 mt-1",children:((y=(p=f.error.response)==null?void 0:p.data)==null?void 0:y.message)||"An error occurred during import"})]})]})})]})]})}function I_(){const{logoutUrl:e}=Go(),t=window.prmConfig||{};return l.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[l.jsx("div",{className:"card p-6",children:l.jsx(L_,{})}),l.jsxs("div",{className:"card p-6",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Account"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"User ID"}),l.jsx("p",{className:"text-gray-600",children:t.userId||"N/A"})]}),l.jsx("div",{children:l.jsx("a",{href:t.adminUrl+"profile.php",className:"btn-secondary",target:"_blank",rel:"noopener noreferrer",children:"Edit Profile in WordPress"})})]})]}),l.jsxs("div",{className:"card p-6",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Configuration"}),l.jsx("div",{className:"space-y-3",children:l.jsxs(ee,{to:"/settings/relationship-types",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[l.jsx("p",{className:"font-medium",children:"Relationship Types"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Manage relationship types and their inverse mappings"})]})})]}),l.jsxs("div",{className:"card p-6",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Administration"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("a",{href:t.adminUrl,className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",target:"_blank",rel:"noopener noreferrer",children:[l.jsx("p",{className:"font-medium",children:"WordPress Admin"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Manage all settings, users, and content"})]}),l.jsxs("a",{href:t.adminUrl+"edit.php?post_type=person",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",target:"_blank",rel:"noopener noreferrer",children:[l.jsx("p",{className:"font-medium",children:"Manage People"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Edit people with all ACF fields"})]}),l.jsxs("a",{href:t.adminUrl+"edit.php?post_type=company",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",target:"_blank",rel:"noopener noreferrer",children:[l.jsx("p",{className:"font-medium",children:"Manage Companies"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Edit companies with all ACF fields"})]}),l.jsxs("a",{href:t.adminUrl+"edit.php?post_type=important_date",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",target:"_blank",rel:"noopener noreferrer",children:[l.jsx("p",{className:"font-medium",children:"Manage Important Dates"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Edit dates and link people"})]})]})]}),l.jsxs("div",{className:"card p-6",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Session"}),l.jsx("a",{href:e,className:"btn-danger",children:"Log Out"})]}),l.jsxs("div",{className:"card p-6",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"About"}),l.jsxs("p",{className:"text-sm text-gray-600",children:[Ci," v1.0.0",l.jsx("br",{}),"Built with WordPress, React, and Tailwind CSS."]})]})]})}function vm({value:e,onChange:t,relationshipTypes:n,currentTypeId:r=null}){const[s,i]=C.useState(""),[a,o]=C.useState(!1),u=C.useRef(null),c=C.useRef(null),f=C.useMemo(()=>n.sort((x,d)=>{const p=(x.name||"").toLowerCase(),y=(d.name||"").toLowerCase();return p<y?-1:p>y?1:0}),[n]),h=C.useMemo(()=>{if(!s)return f.slice(0,10);const x=s.toLowerCase();return f.filter(d=>(d.name||"").toLowerCase().includes(x)).slice(0,10)},[f,s]),m=C.useMemo(()=>f.find(x=>x.id===parseInt(e,10)),[f,e]);C.useEffect(()=>{const x=d=>{c.current&&!c.current.contains(d.target)&&u.current&&!u.current.contains(d.target)&&o(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]);const w=x=>{t(x?x.toString():""),i(""),o(!1)},v=()=>{t(""),i(""),o(!1)},N=m?m.name:"";return l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"relative",children:m&&!a?l.jsxs("div",{className:"flex items-center justify-between input pr-8 cursor-text",onClick:()=>o(!0),children:[l.jsx("span",{children:N}),l.jsx("button",{type:"button",onClick:x=>{x.stopPropagation(),v()},className:"absolute right-2 text-gray-400 hover:text-gray-600",children:l.jsx(Vr,{className:"w-4 h-4"})})]}):l.jsx("input",{ref:u,type:"text",value:s,onChange:x=>{i(x.target.value),o(!0)},onFocus:()=>o(!0),placeholder:"Search for a relationship type...",className:"input"})}),a&&(s||!m)&&l.jsx("div",{ref:c,className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:h.length>0?l.jsxs(l.Fragment,{children:[l.jsx("button",{type:"button",onClick:()=>w(null),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${e?"":"bg-primary-50"}`,children:l.jsx("span",{className:"text-gray-500 italic",children:"None (no inverse)"})}),h.map(x=>l.jsx("button",{type:"button",onClick:()=>w(x.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${e===x.id.toString()?"bg-primary-50":""}`,children:x.name},x.id))]}):l.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No relationship types found"})})]})}function U_(){An("Relationship Types - Settings");const e=Ct(),{data:t=[],isLoading:n}=De({queryKey:["relationship-types"],queryFn:async()=>(await ye.getRelationshipTypes()).data}),[r,s]=C.useState(null),[i,a]=C.useState(""),[o,u]=C.useState(""),[c,f]=C.useState(""),[h,m]=C.useState(""),[w,v]=C.useState(!1),N=yt({mutationFn:async({id:F,name:R,inverseId:V})=>{const D={name:R};return V&&(D.acf={inverse_relationship_type:parseInt(V,10)}),ye.updateRelationshipType(F,D)},onSuccess:()=>{e.invalidateQueries({queryKey:["relationship-types"]}),s(null),a(""),u("")}}),x=yt({mutationFn:async({name:F,inverseId:R})=>{const V={name:F};return R&&(V.acf={inverse_relationship_type:parseInt(R,10)}),ye.createRelationshipType(V)},onSuccess:()=>{e.invalidateQueries({queryKey:["relationship-types"]}),f(""),m(""),v(!1)}}),d=yt({mutationFn:F=>ye.deleteRelationshipType(F),onSuccess:()=>{e.invalidateQueries({queryKey:["relationship-types"]})}}),p=yt({mutationFn:()=>ye.restoreRelationshipTypeDefaults(),onSuccess:()=>{e.invalidateQueries({queryKey:["relationship-types"]}),alert("Default relationship type configurations have been restored.")},onError:()=>{alert("Failed to restore defaults. Please try again.")}});function y(){return l.jsxs("button",{onClick:()=>{window.confirm("This will restore all default inverse mappings and gender-dependent settings. Continue?")&&p.mutate()},disabled:p.isPending,className:"btn-secondary flex items-center gap-2",title:"Restore default inverse mappings and gender-dependent settings",children:[p.isPending?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600"}):l.jsx(C0,{className:"w-4 h-4"}),"Restore Defaults"]})}const g=F=>{var V;s(F.id),a(F.name);const R=(V=F.acf)==null?void 0:V.inverse_relationship_type;u(R?R.toString():"")},j=()=>{s(null),a(""),u("")},k=()=>{if(!i.trim()){alert("Name is required");return}N.mutate({id:r,name:i.trim(),inverseId:o||null})},E=()=>{if(!c.trim()){alert("Name is required");return}x.mutate({name:c.trim(),inverseId:h||null})},T=(F,R)=>{window.confirm(`Are you sure you want to delete "${R}"? This cannot be undone.`)&&d.mutate(F)};return n?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):l.jsx("div",{className:"max-w-4xl mx-auto space-y-6",children:l.jsxs("div",{className:"card p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Relationship Types"}),l.jsx("div",{className:"flex gap-2",children:!w&&l.jsxs(l.Fragment,{children:[l.jsx(y,{}),l.jsxs("button",{onClick:()=>v(!0),className:"btn-primary flex items-center gap-2",children:[l.jsx(pt,{className:"w-4 h-4"}),"Add Relationship Type"]})]})})]}),w&&l.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[l.jsx("h3",{className:"font-semibold mb-4",children:"Add New Relationship Type"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Name *"}),l.jsx("input",{type:"text",value:c,onChange:F=>f(F.target.value),className:"input",placeholder:"e.g., Parent, Spouse, Colleague"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Inverse Relationship Type"}),l.jsx(vm,{value:h,onChange:m,relationshipTypes:t}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Select the inverse relationship type. For example, if this is "Parent", select "Child". If this is "Spouse" or "Acquaintance", select the same type (e.g., "Spouse"  "Spouse").'})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:E,disabled:x.isPending,className:"btn-primary flex items-center gap-2",children:[x.isPending?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):l.jsx($r,{className:"w-4 h-4"}),"Save"]}),l.jsx("button",{onClick:()=>{v(!1),f(""),m("")},className:"btn-secondary",children:"Cancel"})]})]})]}),l.jsx("div",{className:"space-y-2",children:t.length===0?l.jsx("p",{className:"text-gray-500 text-center py-8",children:"No relationship types found."}):t.map(F=>{var G,oe;const R=r===F.id,V=(G=F.acf)==null?void 0:G.inverse_relationship_type,D=typeof V=="object"&&(V!=null&&V.ID)?V.ID:typeof V=="object"&&(V!=null&&V.id)?V.id:V,L=D?t.find(ie=>ie.id===D):null;return l.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:R?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Name *"}),l.jsx("input",{type:"text",value:i,onChange:ie=>a(ie.target.value),className:"input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Inverse Relationship Type"}),l.jsx(vm,{value:o,onChange:u,relationshipTypes:t,currentTypeId:F.id}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Select the inverse relationship type. For example, if this is "Parent", select "Child". If this is "Spouse" or "Acquaintance", select the same type (e.g., "Spouse"  "Spouse").'})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:k,disabled:N.isPending,className:"btn-primary flex items-center gap-2",children:[N.isPending?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):l.jsx($r,{className:"w-4 h-4"}),"Save"]}),l.jsxs("button",{onClick:j,className:"btn-secondary flex items-center gap-2",children:[l.jsx(Vr,{className:"w-4 h-4"}),"Cancel"]})]})]}):l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-medium",children:F.name}),L&&l.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Inverse: ",l.jsx("span",{className:"font-medium",children:L.name})]}),!L&&((oe=F.acf)==null?void 0:oe.inverse_relationship_type)===null&&l.jsx("div",{className:"text-sm text-gray-400 mt-1 italic",children:"No inverse relationship"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>g(F),className:"p-2 text-gray-600 hover:text-primary-600 hover:bg-primary-50 rounded",title:"Edit",children:l.jsx(tj,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>T(F.id,F.name),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded",title:"Delete",children:l.jsx(hr,{className:"w-4 h-4"})})]})]})},F.id)})})]})})}const Uf=e=>e+1,Ht=e=>t=>t[e],Fs=e=>t=>t.id===e,Es=(e,t=!0)=>n=>e.includes(n.id)===t,z_=(e,t,n)=>n.indexOf(e)===t,wx=(e,t)=>e-t,$_=(...e)=>t=>e.reduce((n,r)=>r(n),t),zf=e=>Math.min.apply(null,e),Po=e=>Math.max.apply(null,e),V_=e=>new Map(e.map(t=>[t.id,Object.assign({},t)])),B_=e=>e.parents.map(Ht("type")).filter(z_).length>1,$f=e=>(t,n)=>n.gender!==e?-1:1,au=e=>t=>e.getNode(t.id),Nx=(...e)=>t=>e.includes(t.type),_t=2,ft=_t/2,Pi=2,lu=(e,t,n=!1)=>({fid:e,child:n,nodes:[...t],pos:0}),Ri=e=>e.nodes.map(Ht("id")),Jn=e=>e.nodes.length,q_=e=>e.nodes.some(t=>t.children.length),jx=e=>e.pos+Jn(e)*_t,bx=e=>t=>Ri(e).join("")===Ri(t).join(""),it=(e,t)=>e.X+t.pos,Vf=e=>e.map(Ht("nodes")).flat(),wd=e=>{e.forEach((t,n,r)=>t.pos=n===0?0:jx(r[n-1]))},Ua=(e,t)=>e.forEach(n=>n.pos+=t),Bf=(e,t,n=!1)=>({id:e,type:t,main:n,Y:0,X:0,parents:[],children:[]}),zi=(...e)=>t=>e.includes(t.type),_x=e=>Po([...e.parents,...e.children].map(jx)),Sx=e=>[e.parents.length,e.children.length].filter(Boolean).length*_t,za=e=>e.X+_x(e),W_=e=>e.Y+Sx(e),Ro=e=>e.reduce((t,n)=>t+Jn(n),0),kx=(e,t)=>t?it(e,t)+Jn(t):0;var Oo;(function(e){e.male="male",e.female="female"})(Oo||(Oo={}));var Br;(function(e){e.blood="blood",e.married="married",e.divorced="divorced",e.adopted="adopted",e.half="half"})(Br||(Br={}));var Me;(function(e){e.root="root",e.child="child",e.parent="parent"})(Me||(Me={}));class H_{constructor(t,n){if(!t.find(Fs(n)))throw new ReferenceError;this.nextId=0,this.families=new Map,this.nodes=V_(t),this.root=this.nodes.get(n)}getNextId(){return++this.nextId}getNode(t){return this.nodes.get(t)}getNodes(t){return t.map(n=>this.getNode(n))}getFamily(t){return this.families.get(t)}get familiesArray(){return[...this.families.values()]}get rootFamilies(){return this.familiesArray.filter(zi(Me.root))}get rootFamily(){return this.rootFamilies.find(t=>t.main)}}const Rl=(e,t=Br.blood)=>({id:e,type:t}),wm=e=>({id:`${e}-ph`,placeholder:!0,gender:e,parents:[],siblings:[],spouses:[],children:[]}),Q_=e=>{const t=wm(Oo.male),n=wm(Oo.female);return t.spouses=[Rl(n.id,Br.married)],n.spouses=[Rl(t.id,Br.married)],[t,n].map(r=>(r.children=e.root.siblings.concat(Rl(e.root.id)),e.nodes.set(r.id,r),Rl(r.id)))},K_=e=>t=>t.parents=e.slice(),Y_=e=>{if(!e.root.parents.length){const t=K_(Q_(e));t(e.root),e.root.siblings.map(au(e)).forEach(t)}return e},X_=(e,t)=>t.children.length-e.children.length,G_=(e,t)=>{const n=au(e),r=t.find(Nx(Br.married));if(r)return n(r);if(t.length>=1)return t.map(n).sort(X_)[0]},J_=(e,t)=>[t,G_(e,t.spouses)].filter(n=>!!n).sort($f(e.root.gender)),Nm=e=>t=>t.id!==e.id,Cx=e=>{const t=au(e);return n=>{let r=n;r.length!==Pi&&(r=J_(e,r[0]));const s={left:[],middle:r,right:[]};if(r.length===Pi){const[i,a]=r;s.left=i.spouses.filter(Nm(a)).map(t),s.right=a.spouses.filter(Nm(i)).map(t)}return s}},jm=e=>e.map(t=>Array.of(t)),Ex=e=>{const t=Cx(e);return(n,r)=>{const{left:s,middle:i,right:a}=t([r]);return[...jm(s),i,...jm(a)].map(o=>lu(n,o,!0))}},Z_=e=>{const t=Ro(e.parents)-Ro(e.children);t!==0&&(t>0?Ua(e.children,t):Ua(e.parents,Math.abs(t)))},qf=e=>{const t=[e.parents,e.children];t.forEach(wd),Z_(e);const n=zf(t.flat().map(Ht("pos")));n!==0&&t.forEach(r=>Ua(r,n*-1))},eS=e=>t=>!e||e.children.some(Fs(t.id)),tS=e=>{const t=au(e),n=Ex(e);return(r,s)=>{const[i,a]=s;return i.children.filter(eS(a)).flatMap(o=>n(r,t(o)))}},Wf=e=>{const t=tS(e);return(n,r=Me.root,s=!1)=>{const i=Bf(e.getNextId(),r,s),a=n.map(o=>e.getNode(o)).sort($f(e.root.gender));return i.parents=[lu(i.id,a)],i.children=t(i.id,a),qf(i),i}},nS=e=>(t,n)=>{const r=t.nodes.some(Es(e)),s=n.nodes.some(Es(e));return r&&!s?1:!r&&s?-1:0},rS=e=>{const t=Vf(e);return n=>t.some(Fs(n.id))},sS=(e,t)=>{const n=Vf(e.children).filter(rS(t.children)).map(Ht("id")),r=e.children.map(Ht("pos"));e.children=[...e.children].sort(nS(n)),e.children.forEach((s,i)=>s.pos=r[i]),t.children=t.children.filter(s=>s.nodes.some(Es(n,!1))),qf(t)},iS=e=>{const t=Bf(e.getNextId(),Me.root,!0);return t.children=Ex(e)(t.id,e.root),qf(t),[t]},bm=(e,t)=>e.parents.filter(Nx(t)).map(Ht("id")),aS=e=>{const t=Wf(e),n=t(bm(e.root,Br.blood),Me.root,!0),r=t(bm(e.root,Br.adopted));return sS(n,r),[n,r]},lS=e=>{const t=Wf(e),n=t(e.root.parents.map(Ht("id")),Me.root,!0),r=Vf(n.parents);if(r.length===Pi){const{left:s,right:i}=Cx(e)(r);return[s.map(a=>t([a.id])),n,i.map(a=>t([a.id]))].flat()}return[n]},oS=e=>{for(let t=1;t<e.length;t++)e[t].X=za(e[t-1])},uS=e=>{const t=e.root.parents.length?B_(e.root)?aS(e):lS(e):iS(e);return oS(t),t.forEach(n=>e.families.set(n.id,n)),e},cS=(e,t)=>t.nodes.reduce((n,r)=>{const s=e.getNodes(r.parents.map(Ht("id"))).sort($f(e.root.gender));return s.length&&n.push(lu(t.fid,s)),n},[]),dS=e=>{wd(e.children),wd(e.parents)},fS=e=>t=>{const n=Bf(e.getNextId(),Me.parent),r=lu(n.id,e.getNodes(t),!0);return n.children=[r],n.parents=cS(e,r),dS(n),n},hS=e=>(t,n)=>{const r=e.getFamily(n.fid);t.cid=r.id,t.Y=r.Y-_t,t.X=it(r,n)},pS=(e,t,n)=>{const r=e.children[0],s=t.parents.findIndex(bx(r));s===0&&t.parents[s].pos===0?t.X=it(e,r):t.parents[s].pos=it(e,r)-t.X;const i=Uf(s);t.parents[i]&&Ua(t.parents.slice(i),n-it(t,t.parents[i]))},mS=e=>t=>{let n=0;for(;t.cid;){n=Math.max(n,za(t));const r=e.getFamily(t.cid),s=t.children[0];r.cid?(t.parents.length===2&&Ro(t.parents)>2&&(s.pos=Math.floor(t.parents[1].pos/2)),pS(t,r,n)):s.pos=(_x(t)-Jn(s)*_t)/2,t=r}},_m=e=>e.parents.filter(t=>t.nodes.some(n=>!!n.parents.length)),yS=e=>{const t=fS(e),n=hS(e),r=mS(e);let s=_m(e.rootFamily);for(;s.length;){const i=s.pop(),a=t(Ri(i));n(a,i),r(a),e.families.set(a.id,a),s=s.concat(_m(a).reverse())}return e},gS=e=>(t,n)=>{const r=e.getFamily(n.fid);t.pid=r.id,t.Y=r.Y+Sx(r)-_t,t.X=it(r,n)},xS=(e,t)=>e.reduce((n,r)=>{const s=r.nodes.findIndex(Es(t));return s!==-1&&n.push(r.pos+s*_t),n},[]),vS=e=>{const t=(e[0]+e[e.length-1])/2;return Number.isNaN(t)?0:t},wS=e=>{!e.parents.length||e.children.length<=1||e.parents.forEach(t=>{const n=t.nodes[0].children.map(Ht("id"));t.pos=Math.floor(vS(xS(e.children,n))-(Ro(e.parents)-1))})},NS=(e,t,n)=>{const r=e.parents[0],s=t.children.findIndex(bx(r));s===0?t.X=it(e,r)-t.children[s].pos:t.children[s].pos=it(e,r)-t.X;const i=Uf(s);t.children[i]&&Ua(t.children.slice(i),n-it(t,t.children[i]))},jS=(e,t,n)=>{const r=Uf(e.findIndex(Fs(t))),s=e[r];if(s){const i=n-s.X;for(let a=r;a<e.length;a++)e[a].X+=i}},bS=e=>t=>{let n=0;for(;t.pid;){n=Math.max(n,za(t));const r=e.getFamily(t.pid);NS(t,r,n),wS(r),r.pid||jS(e.rootFamilies,r.id,Math.max(n,za(r))),t=r}},Sm=e=>e.children.filter(q_).reverse(),_S=e=>{const t=Wf(e),n=gS(e),r=bS(e);return e.familiesArray.filter(zi(Me.root)).forEach(s=>{let i=Sm(s);for(;i.length;){const a=i.pop(),o=t(Ri(a),Me.child);n(o,a),r(o),e.families.set(o.id,o),i=i.concat(Sm(o))}}),e},SS=e=>e.nodes.map(Ht("children")).flat().map(Ht("id")),kS=e=>(t,n)=>{const r=kx(e,n),s=e.Y+ft,i=e.Y+_t;Jn(n)===Pi&&t.push([r-ft,s,r+ft,s]),t.push([r,s,r,i]);const a=e.children[0],o=it(e,a)+a.nodes.findIndex(Es(SS(n)))*_t+ft;return t.push([o,i,o,i+ft]),r!==o&&t.push([Math.min(r,o),i,Math.max(r,o),i]),t},CS=e=>e.filter(zi(Me.parent)).reduce((t,n)=>t.concat(n.parents.reduce(kS(n),[])),[]),ES=(e,t)=>(n,r)=>{const s=it(e,r)+ft,i=e.Y+ft;return Jn(r)===Pi?n.push([s,i,s+_t,i]):Jn(r)===1&&r.nodes[0].spouses.length&&t.filter(a=>a.id!==e.id).forEach(a=>{a.parents.forEach(o=>{if(o.nodes.some(Fs(r.nodes[0].spouses[0].id))){const u=[s,it(a,o)+ft].sort(wx);n.push([u[0],i,u[1],i])}})}),n},PS=e=>{const t=e.filter(zi(Me.root));return t.reduce((n,r)=>n.concat(r.parents.reduce(ES(r,t),[])),[])},RS=e=>e.filter(zi(Me.root,Me.child)).reduce((t,n)=>{const r=n.parents[0],s=kx(n,r),i=n.Y+(r?_t:0);if(r&&r.nodes.every(u=>!!u.children.length)){const u=n.Y+ft;t.push([s,u,s,i])}const a=n.parents.map(Ri).flat(),o=[];return n.children.forEach(u=>{const c=it(n,u)+ft;u.nodes.forEach((f,h)=>{if(f.parents.some(Es(a))){const m=c+h*_t;o.push(m),t.push([m,i,m,i+ft])}}),Jn(u)===Pi?t.push([c,i+ft,c+_t,i+ft]):Jn(u)===1&&u.nodes[0].spouses.length&&n.children.forEach(f=>{if(f.nodes.some(Fs(u.nodes[0].spouses[0].id))){const h=[c,it(n,f)+ft].sort(wx);t.push([h[0],i+ft,h[1],i+ft])}})}),o.length>1?t.push([zf(o),i,Po(o),i]):o.length===1&&s!==o[0]&&t.push([Math.min(s,o[0]),i,Math.max(s,o[0]),i]),t},[]),OS=e=>t=>t(e),FS=e=>[CS,PS,RS].map(OS(e)).flat(),TS=(e,t)=>{const n=e.find(r=>r.cid===t.id);if(n){const r=it(n,n.children[0])-it(t,t.parents[0]);e.filter(zi(Me.child,Me.root)).forEach(s=>s.X+=r)}},km=(e,t)=>{const n=zf(e.map(Ht(t)))*-1;n!==0&&e.forEach(r=>r[t]+=n)},AS=e=>{const t=e.familiesArray;return TS(t,e.rootFamily),km(t,"Y"),km(t,"X"),e},DS=e=>({width:Po(e.map(za)),height:Po(e.map(W_))}),Cm=(e,t)=>e.some(n=>n.nodes.some(Fs(t))),MS=(e,t)=>{if(e.type!==Me.child&&Cm(e.parents,t.id))return e.type===Me.parent&&(t.children.length>1||t.spouses.length>1)||!t.parents.length&&!!t.siblings.length;if(e.type!==Me.parent&&Cm(e.children,t.id)){const n=e.parents.length?Ri(e.parents[0]):[];return!t.parents.some(Es(n))&&(!!t.parents.length||!!t.siblings.length)}return!1},Px=e=>t=>t.nodes.map((n,r)=>Object.assign(Object.assign({},n),{top:e.Y+(t.child&&e.parents.length?_t:0),left:it(e,t)+r*_t,hasSubTree:MS(e,n)})),LS=e=>([Me.root,Me.parent].includes(e.type)?e.parents:[]).map(Px(e)),IS=e=>([Me.root,Me.child].includes(e.type)?e.children:[]).map(Px(e)),US=e=>[LS(e),IS(e)].flat(2),zS=e=>e.map(US).flat(),$S=$_(uS,yS,_S,AS),VS=(e,t)=>{const n=new H_(e,t.rootId);t.placeholders&&Y_(n);const r=$S(n).familiesArray;return{families:r,canvas:DS(r),nodes:zS(r),connectors:FS(r)}},BS=re.memo(function({connector:t,width:n,height:r}){const[s,i,a,o]=t;return re.createElement("i",{style:{position:"absolute",width:Math.max(1,(a-s)*n+1),height:Math.max(1,(o-i)*r+1),background:"#999",transform:`translate(${s*n}px, ${i*r}px)`,pointerEvents:"none"}})}),qS=re.memo(function(t){const n=VS(t.nodes,{rootId:t.rootId,placeholders:t.placeholders}),r=t.width/2,s=t.height/2;return re.createElement("div",{className:t.className,style:{position:"relative",width:n.canvas.width*r,height:n.canvas.height*s}},n.connectors.map((i,a)=>re.createElement(BS,{key:a,connector:i,width:r,height:s})),n.nodes.map(t.renderNode))});function WS({node:e,onClick:t,style:n}){const r=It(),{id:s,_name:i,gender:a,_photo:o,_age:u,_birthDate:c}=e||{},f=i||`Person ${s}`,h=o,m=u,w=c,v=()=>{t?t(e):s&&r(`/people/${s}`)};function N(j){if(!j)return null;switch(j){case"male":return"";case"female":return"";case"non_binary":case"other":case"prefer_not_to_say":return"";default:return null}}function x(j){if(!j)return null;try{let k;if(typeof j=="string"){if(k=new Date(j),isNaN(k.getTime())&&j.match(/^\d{4}-\d{2}-\d{2}/)){const R=j.split("T")[0].split("-");k=new Date(parseInt(R[0]),parseInt(R[1])-1,parseInt(R[2]))}}else k=new Date(j);if(isNaN(k.getTime()))return null;const E=String(k.getDate()).padStart(2,"0"),T=String(k.getMonth()+1).padStart(2,"0"),F=k.getFullYear();return`${E}-${T}-${F}`}catch(k){return console.warn("Error formatting date:",j,k),null}}const d=N(a),p=f||"Unknown",y=p.split(" ").map(j=>j[0]).join("").toUpperCase().slice(0,2)||"?",g=w?x(w):null;return l.jsxs("div",{onClick:v,style:n,className:"bg-white border-2 border-gray-300 rounded-lg shadow-md p-2 cursor-pointer hover:border-primary-500 hover:shadow-lg transition-all",children:[l.jsx("div",{className:"flex justify-center mb-1",children:h?l.jsx("img",{src:h,alt:p,className:"w-10 h-10 rounded-full object-cover"}):l.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-xs font-medium text-gray-600",children:y})})}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-xs font-semibold text-gray-900 break-words",title:p,children:p}),(d||m!=null||g)&&l.jsxs("p",{className:"text-xs text-gray-500 mt-0.5 leading-tight",children:[d&&l.jsx("span",{className:"mr-1",children:d}),m!=null&&l.jsx("span",{className:"mr-1",children:m}),g&&l.jsx("span",{children:g})]})]})]})}const Bu=160,qu=100;function HS({treeData:e,onNodeClick:t}){const[n,r]=C.useState(1),s=C.useRef(null);C.useMemo(()=>[],[]);const i=C.useMemo(()=>{if(!e||!e.attributes||!e.attributes.id)return[];const m=new Map,w=[];function v(x){if(!x||!x.attributes||!x.attributes.id)return;const d=String(x.attributes.id);if(m.has(d))return;let p="male";x.attributes.gender==="female"&&(p="female");const y={id:d,gender:p,parents:[],children:[],siblings:[],spouses:[],_name:x.name||`Person ${d}`,_photo:x.attributes.photo||null,_age:x.attributes.age!==null&&x.attributes.age!==void 0?x.attributes.age:null,_birthDate:x.attributes.birthDate||null};Array.isArray(y.parents)||(y.parents=[]),Array.isArray(y.children)||(y.children=[]),Array.isArray(y.siblings)||(y.siblings=[]),Array.isArray(y.spouses)||(y.spouses=[]),m.set(d,y),w.push(y);const g=x.children||[];Array.isArray(g)&&g.length>0&&g.forEach(j=>{j&&j.attributes&&j.attributes.id&&v(j)})}function N(x){if(!x||!x.attributes||!x.attributes.id)return;const d=String(x.attributes.id),p=m.get(d);if(!p)return;const y=x.children||[];Array.isArray(y)&&y.length>0&&y.forEach(g=>{if(g&&g.attributes&&g.attributes.id){const j=String(g.attributes.id);Array.isArray(p.children)||(p.children=[]),p.children.some(T=>T.id===j)||p.children.push({id:j,type:"blood"});const E=m.get(j);E?(Array.isArray(E.parents)||(E.parents=[]),E.parents.some(F=>F.id===d)||E.parents.push({id:d,type:"blood"})):console.warn(`Child node ${j} not found in nodeMap when building relationships`)}}),y.forEach(g=>{g&&g.attributes&&g.attributes.id&&N(g)})}try{v(e),N(e),w.forEach(y=>{if(Array.isArray(y.parents)||(y.parents=[]),Array.isArray(y.siblings)||(y.siblings=[]),y.parents.length>0){const g=new Set;y.parents.forEach(j=>{if(j&&j.id){const k=m.get(j.id);k&&Array.isArray(k.children)&&k.children.forEach(E=>{E&&E.id&&E.id!==y.id&&g.add(E.id)})}}),g.forEach(j=>{y.siblings.some(E=>E.id===j)||y.siblings.push({id:j,type:"blood"})})}});const x=new Set(w.map(y=>String(y.id))),d=w.map(y=>{if(!y.id)return console.warn("Node missing id:",y),null;const g=String(y.id),j=Array.isArray(y.parents)?y.parents.map(F=>({id:String(F.id||F),type:F.type||"blood"})).filter(F=>x.has(F.id)):[],k=Array.isArray(y.children)?y.children.map(F=>({id:String(F.id||F),type:F.type||"blood"})).filter(F=>x.has(F.id)):[],E=Array.isArray(y.siblings)?y.siblings.map(F=>({id:String(F.id||F),type:F.type||"blood"})).filter(F=>x.has(F.id)):[],T=Array.isArray(y.spouses)?y.spouses.map(F=>({id:String(F.id||F),type:F.type||"married"})).filter(F=>x.has(F.id)):[];return{id:g,gender:y.gender||"male",parents:j,children:k,siblings:E,spouses:T,_name:y._name,_photo:y._photo,_age:y._age,_birthDate:y._birthDate}}).filter(y=>y!==null);console.log("Converted nodes for react-family-tree:",d),console.log("Number of nodes:",d.length),console.log("Node IDs:",d.map(y=>y.id)),d.length>0&&(console.log("First node structure:",JSON.stringify(d[0],null,2)),console.log("First node parents:",d[0].parents),console.log("First node children:",d[0].children),console.log("First node siblings:",d[0].siblings));const p=d.filter(y=>!y.id||!y.gender||!Array.isArray(y.parents)||!Array.isArray(y.children)||!Array.isArray(y.siblings));return p.length>0&&console.error("Invalid nodes found:",p),d.forEach(y=>{const j=[...y.parents.map(k=>k.id),...y.children.map(k=>k.id),...y.siblings.map(k=>k.id)].filter(k=>!x.has(k));j.length>0&&console.warn(`Node ${y.id} has relations to non-existent nodes:`,j)}),d}catch(x){return console.error("Error converting tree to nodes:",x),[]}},[e]),a=C.useMemo(()=>{if(!e||!e.attributes||!e.attributes.id)return null;const m=String(e.attributes.id);return console.log("Root ID:",m),i&&Array.isArray(i)&&console.log("Root ID exists in nodes:",i.some(w=>w&&w.id===m)),m},[e,i]),o=C.useMemo(()=>!i||!Array.isArray(i)?(console.warn("Nodes is not a valid array:",i),[]):i,[i]),u=()=>{r(m=>Math.min(m+.2,2))},c=()=>{r(m=>Math.max(m-.2,.5))},f=()=>{r(1)},h=m=>{t&&t({attributes:{id:parseInt(m.id,10)}})};return!e||!o||o.length===0?l.jsx("div",{className:"flex items-center justify-center h-96",children:l.jsx("p",{className:"text-gray-500",children:"No family tree data available"})}):l.jsxs("div",{className:"relative w-full h-full",children:[l.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2 bg-white rounded-lg shadow-lg p-2",children:[l.jsx("button",{onClick:u,className:"p-2 hover:bg-gray-100 rounded",title:"Zoom In",children:l.jsx(rj,{className:"w-4 h-4"})}),l.jsx("button",{onClick:c,className:"p-2 hover:bg-gray-100 rounded",title:"Zoom Out",children:l.jsx(sj,{className:"w-4 h-4"})}),l.jsx("button",{onClick:f,className:"p-2 hover:bg-gray-100 rounded",title:"Reset View",children:l.jsx(C0,{className:"w-4 h-4"})})]}),l.jsx("div",{ref:s,className:"w-full h-full min-h-[600px] relative overflow-auto",style:{transform:`scale(${n})`,transformOrigin:"top left"},children:(()=>{try{const m=o||[];if(!m||m.length===0)return l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsx("p",{className:"text-gray-500",children:"No nodes to display"})});if(!a)return l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsx("p",{className:"text-gray-500",children:"No root node found"})});if(!m.some(d=>d&&d.id===a))return console.error("Root ID not found in nodes:",{rootId:a,nodeIds:m.map(d=>d==null?void 0:d.id)}),l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsx("p",{className:"text-gray-500",children:"Root node not found in nodes array"})});const N=JSON.parse(JSON.stringify(m)).map(d=>(Array.isArray(d.parents)||(d.parents=[]),Array.isArray(d.children)||(d.children=[]),Array.isArray(d.siblings)||(d.siblings=[]),Array.isArray(d.spouses)||(d.spouses=[]),d)).filter(d=>{const p=d&&d.id&&d.gender&&Array.isArray(d.parents)&&Array.isArray(d.children)&&Array.isArray(d.siblings)&&Array.isArray(d.spouses);return p||console.warn("Filtering out invalid node:",d),p});return N.length===0?l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsx("p",{className:"text-red-500",children:"No valid nodes after filtering"})}):N.some(d=>d.id===a)?(console.log("Final nodes being passed to ReactFamilyTree:",N.length),l.jsx(qS,{nodes:N,rootId:a,width:Bu,height:qu,renderNode:d=>{if(!d||d.id===void 0||d.id===null)return console.warn("Invalid node in renderNode:",d),null;const p=d.left!==void 0?d.left*(Bu/2):0,y=d.top!==void 0?d.top*(qu/2):0;return l.jsx(WS,{node:d,onClick:h,style:{width:`${Bu}px`,height:`${qu}px`,transform:`translate(${p}px, ${y}px)`}},d.id)}})):(console.error("Root node filtered out:",a),l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsx("p",{className:"text-red-500",children:"Root node was filtered out"})}))}catch(m){return console.error("Error rendering ReactFamilyTree:",m),l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsxs("p",{className:"text-red-500",children:["Error rendering family tree: ",m.message]})})}})()})]})}const QS=["parent","child"];function KS(e){return QS.includes(e==null?void 0:e.toLowerCase())}function YS(e,t,n){var c,f,h,m,w,v,N,x;const r=new Map,s=[],i=new Set,a=new Map;t.forEach(d=>{a.set(d.id,d)});const o=[{personId:e,depth:0}];i.add(e);const u=a.get(e);if(u){let d=u.name;if(d||(d=((c=u.title)==null?void 0:c.rendered)||u.title),d&&typeof d=="string"&&typeof document<"u"){const y=document.createElement("textarea");y.innerHTML=d,d=y.value}d||(d=`Person ${e}`);let p=null;if((f=u.acf)!=null&&f.birth_date){const y=new Date(u.acf.birth_date);isNaN(y.getTime())||(p=Math.floor((new Date-y)/(365.25*24*60*60*1e3)))}r.set(e,{id:e,name:d,gender:((h=u.acf)==null?void 0:h.gender)||"",photo:u.thumbnail||null,age:p,birthDate:((m=u.acf)==null?void 0:m.birth_date)||null,person:u})}for(;o.length>0;){const{personId:d,depth:p}=o.shift(),y=n.get(d)||[];for(const g of y){if(g.relationship_type_slug&&!KS(g.relationship_type_slug))continue;const j=g.related_person;if(j&&a.has(j)){if(!r.has(j)){const k=a.get(j);if(k){let E=k.name;if(E||(E=((w=k.title)==null?void 0:w.rendered)||k.title),E&&typeof E=="string"&&typeof document<"u"){const F=document.createElement("textarea");F.innerHTML=E,E=F.value}E||(E=`Person ${j}`);let T=null;if((v=k.acf)!=null&&v.birth_date){const F=new Date(k.acf.birth_date);isNaN(F.getTime())||(T=Math.floor((new Date-F)/(365.25*24*60*60*1e3)))}r.set(j,{id:j,name:E,gender:((N=k.acf)==null?void 0:N.gender)||"",photo:k.thumbnail||null,age:T,birthDate:((x=k.acf)==null?void 0:x.birth_date)||null,person:k})}}s.some(k=>k.from===d&&k.to===j||k.from===j&&k.to===d)||s.push({from:d,to:j,type:g.relationship_type_slug,label:g.relationship_name||g.relationship_label||""}),i.has(j)||(i.add(j),o.push({personId:j,depth:p+1}))}}}return{nodes:Array.from(r.values()),edges:s}}function Em(e){return(e==null?void 0:e.toLowerCase())==="parent"}function Nd(e){return(e==null?void 0:e.toLowerCase())==="child"}function XS(e,t,n){const r=new Set;let s=e;for(;;){if(r.has(s))return s;r.add(s);const a=(t.get(s)||[]).filter(o=>{var c;const u=(c=o.type)==null?void 0:c.toLowerCase();return Nd(u)});if(a.length===0)return s;s=a[0].nodeId}}function GS(e,t){const{nodes:n,edges:r}=e;if(!n.find(f=>f.id===t))return null;const i=new Map;n.forEach(f=>{i.set(f.id,[])}),r.forEach(f=>{var h,m;(h=i.get(f.from))==null||h.push({nodeId:f.to,type:f.type,label:f.label}),(m=i.get(f.to))==null||m.push({nodeId:f.from,type:f.type,label:f.label})});const a=XS(t,i),o=new Set;function u(f,h=null){var x;if(o.has(f))return null;o.add(f);const m=n.find(d=>d.id===f);if(!m)return null;const w=[],v=i.get(f)||[];for(const d of v){if(d.nodeId===h)continue;const p=(x=d.type)==null?void 0:x.toLowerCase();if(!Em(p)&&!Nd(p))continue;let y=!1;if(Em(p)?y=!0:Nd(p)&&(y=!1),y){const g=u(d.nodeId,f);g&&w.push({...g,relationshipType:d.type,relationshipLabel:d.label})}}const N={name:m.name||`Person ${m.id}`,attributes:{id:m.id,gender:m.gender||"",photo:m.photo||null,age:m.age!==null&&m.age!==void 0?m.age:null,birthDate:m.birthDate||null}};return N.children=w.length>0?w:[],N}return o.clear(),u(a)}function JS(e){const t=new Map;return e.forEach(n=>{var i;const s=(((i=n.acf)==null?void 0:i.relationships)||[]).map(a=>{var c,f,h,m,w,v;let o="";a.relationship_slug?o=a.relationship_slug.toLowerCase():typeof a.relationship_type=="object"?o=((c=a.relationship_type)==null?void 0:c.slug)||((h=(f=a.relationship_type)==null?void 0:f.name)==null?void 0:h.toLowerCase())||"":typeof a.relationship_type=="string"?o=a.relationship_type.toLowerCase():typeof a.relationship_type=="number"&&(o="");let u=null;return typeof a.related_person=="object"?u=((m=a.related_person)==null?void 0:m.ID)||((w=a.related_person)==null?void 0:w.id)||((v=a.related_person)==null?void 0:v.term_id):(typeof a.related_person=="number"||typeof a.related_person=="string")&&(u=parseInt(a.related_person,10)),{related_person:u,relationship_type:a.relationship_type,relationship_type_slug:o,relationship_name:a.relationship_name||"",relationship_label:a.relationship_label||""}}).filter(a=>a.related_person);t.set(n.id,s)}),t}function ZS(e,t){const n=new Map;t.forEach(r=>{var s;n.set(r.id,r.slug||((s=r.name)==null?void 0:s.toLowerCase()))}),e.forEach((r,s)=>{r.forEach(i=>{if(!i.relationship_type_slug&&i.relationship_type){const a=typeof i.relationship_type=="object"?i.relationship_type.term_id||i.relationship_type.id:i.relationship_type;i.relationship_type_slug=n.get(a)||""}})})}function ek(){var c,f;const{id:e}=rr(),t=It(),{data:n,isLoading:r}=Ii(e),{data:s=[],isLoading:i}=su(),{data:a=[]}=De({queryKey:["relationship-types"],queryFn:async()=>(await ye.getRelationshipTypes()).data});An(n?`Family Tree - ${n.name||((c=n.title)==null?void 0:c.rendered)||n.title||"Person"}`:"Family Tree");const o=C.useMemo(()=>{if(!n||!s.length)return null;try{const h=JS(s);a.length>0&&ZS(h,a);const m=YS(parseInt(e,10),s,h);console.log("Family tree graph:",m);const w=GS(m,parseInt(e,10));return console.log("Family tree structure:",w),w}catch(h){return console.error("Error building family tree:",h),null}},[n,s,a,e]),u=h=>{var w;const m=(w=h.attributes)==null?void 0:w.id;m&&t(`/people/${m}`)};return r||i?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):n?l.jsxs("div",{className:"max-w-full mx-auto space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(ee,{to:`/people/${e}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[l.jsx(sr,{className:"w-4 h-4 mr-2"}),"Back to Person"]}),l.jsxs("h1",{className:"text-2xl font-bold",children:["Family Tree: ",n.name||((f=n.title)==null?void 0:f.rendered)||n.title||`Person ${e}`]})]})}),l.jsx("div",{className:"card p-6",children:l.jsx("div",{className:"w-full",style:{height:"800px"},children:o?l.jsxs(l.Fragment,{children:[!1,l.jsx(HS,{treeData:o,onNodeClick:u})]}):l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-gray-500 mb-2",children:"No family relationships found."}),l.jsx("p",{className:"text-sm text-gray-400",children:"Add family relationships to see the family tree."}),!1]})})})})]}):l.jsxs("div",{className:"card p-6 text-center",children:[l.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load person."}),l.jsx(ee,{to:"/people",className:"btn-secondary",children:"Back to People"})]})}function tk(){const{loginUrl:e,isLoggedIn:t}=Go();return T0(),C.useEffect(()=>{t||(window.location.href=e)},[t,e]),l.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Redirecting to login..."})]})})}function nk({children:e}){const{isLoggedIn:t,isLoading:n}=Go();return n?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):t?e:l.jsx(o0,{to:"/login",replace:!0})}function rk(){return l.jsxs(op,{children:[l.jsx(Ce,{path:"/login",element:l.jsx(tk,{})}),l.jsx(Ce,{path:"/*",element:l.jsx(nk,{children:l.jsx($2,{children:l.jsxs(op,{children:[l.jsx(Ce,{path:"/",element:l.jsx(Xb,{})}),l.jsx(Ce,{path:"/people",element:l.jsx(i_,{})}),l.jsx(Ce,{path:"/people/new",element:l.jsx(hm,{})}),l.jsx(Ce,{path:"/people/:personId/contact/new",element:l.jsx(mm,{})}),l.jsx(Ce,{path:"/people/:personId/contact/:index/edit",element:l.jsx(mm,{})}),l.jsx(Ce,{path:"/people/:personId/work-history/new",element:l.jsx(pm,{})}),l.jsx(Ce,{path:"/people/:personId/work-history/:index/edit",element:l.jsx(pm,{})}),l.jsx(Ce,{path:"/people/:personId/relationship/new",element:l.jsx(ym,{})}),l.jsx(Ce,{path:"/people/:personId/relationship/:index/edit",element:l.jsx(ym,{})}),l.jsx(Ce,{path:"/people/:id/family-tree",element:l.jsx(ek,{})}),l.jsx(Ce,{path:"/people/:id/edit",element:l.jsx(hm,{})}),l.jsx(Ce,{path:"/people/:id",element:l.jsx(a_,{})}),l.jsx(Ce,{path:"/companies",element:l.jsx(O_,{})}),l.jsx(Ce,{path:"/companies/new",element:l.jsx(gm,{})}),l.jsx(Ce,{path:"/companies/:id",element:l.jsx(F_,{})}),l.jsx(Ce,{path:"/companies/:id/edit",element:l.jsx(gm,{})}),l.jsx(Ce,{path:"/dates",element:l.jsx(D_,{})}),l.jsx(Ce,{path:"/dates/new",element:l.jsx(xm,{})}),l.jsx(Ce,{path:"/dates/:id/edit",element:l.jsx(xm,{})}),l.jsx(Ce,{path:"/settings",element:l.jsx(I_,{})}),l.jsx(Ce,{path:"/settings/relationship-types",element:l.jsx(U_,{})}),l.jsx(Ce,{path:"*",element:l.jsx(o0,{to:"/",replace:!0})})]})})})})]})}const sk=new AN({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1}}}),Wu=document.getElementById("root");if(!Wu)console.error('Root element not found! Make sure there is a <div id="root"></div> in your HTML.');else try{Hu.createRoot(Wu).render(l.jsx(re.StrictMode,{children:l.jsx(DN,{client:sk,children:l.jsx(nN,{children:l.jsx(rk,{})})})}))}catch(e){console.error("Error mounting React app:",e),Wu.innerHTML='<div style="padding: 20px; color: red;"><h1>Error Loading Application</h1><p>Please check the browser console for details.</p></div>'}
