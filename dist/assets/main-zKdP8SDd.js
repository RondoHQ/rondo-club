var VP=t=>{throw TypeError(t)};var Gm=(t,e,r)=>e.has(t)||VP("Cannot "+r);var R=(t,e,r)=>(Gm(t,e,"read from private field"),r?r.call(t):e.get(t)),me=(t,e,r)=>e.has(t)?VP("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),ie=(t,e,r,n)=>(Gm(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Ce=(t,e,r)=>(Gm(t,e,"access private method"),r);var zh=(t,e,r,n)=>({set _(i){ie(t,e,i,r)},get _(){return R(t,e,n)}});function YQ(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}function QQ(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var YW={exports:{}},Fp={},QW={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vd=Symbol.for("react.element"),XQ=Symbol.for("react.portal"),JQ=Symbol.for("react.fragment"),ZQ=Symbol.for("react.strict_mode"),eX=Symbol.for("react.profiler"),tX=Symbol.for("react.provider"),rX=Symbol.for("react.context"),nX=Symbol.for("react.forward_ref"),iX=Symbol.for("react.suspense"),sX=Symbol.for("react.memo"),aX=Symbol.for("react.lazy"),HP=Symbol.iterator;function oX(t){return t===null||typeof t!="object"?null:(t=HP&&t[HP]||t["@@iterator"],typeof t=="function"?t:null)}var XW={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},JW=Object.assign,ZW={};function Pu(t,e,r){this.props=t,this.context=e,this.refs=ZW,this.updater=r||XW}Pu.prototype.isReactComponent={};Pu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Pu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function e9(){}e9.prototype=Pu.prototype;function Xj(t,e,r){this.props=t,this.context=e,this.refs=ZW,this.updater=r||XW}var Jj=Xj.prototype=new e9;Jj.constructor=Xj;JW(Jj,Pu.prototype);Jj.isPureReactComponent=!0;var KP=Array.isArray,t9=Object.prototype.hasOwnProperty,Zj={current:null},r9={key:!0,ref:!0,__self:!0,__source:!0};function n9(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)t9.call(e,n)&&!r9.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Vd,type:t,key:s,ref:a,props:i,_owner:Zj.current}}function lX(t,e){return{$$typeof:Vd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function eC(t){return typeof t=="object"&&t!==null&&t.$$typeof===Vd}function uX(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var GP=/\/+/g;function Ym(t,e){return typeof t=="object"&&t!==null&&t.key!=null?uX(""+t.key):e.toString(36)}function xf(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Vd:case XQ:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+Ym(a,0):n,KP(i)?(r="",t!=null&&(r=t.replace(GP,"$&/")+"/"),xf(i,e,r,"",function(c){return c})):i!=null&&(eC(i)&&(i=lX(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(GP,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",KP(t))for(var o=0;o<t.length;o++){s=t[o];var l=n+Ym(s,o);a+=xf(s,e,r,l,i)}else if(l=oX(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=n+Ym(s,o++),a+=xf(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Uh(t,e,r){if(t==null)return t;var n=[],i=0;return xf(t,n,"","",function(s){return e.call(r,s,i++)}),n}function cX(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Hr={current:null},wf={transition:null},dX={ReactCurrentDispatcher:Hr,ReactCurrentBatchConfig:wf,ReactCurrentOwner:Zj};function i9(){throw Error("act(...) is not supported in production builds of React.")}Fe.Children={map:Uh,forEach:function(t,e,r){Uh(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Uh(t,function(){e++}),e},toArray:function(t){return Uh(t,function(e){return e})||[]},only:function(t){if(!eC(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Fe.Component=Pu;Fe.Fragment=JQ;Fe.Profiler=eX;Fe.PureComponent=Xj;Fe.StrictMode=ZQ;Fe.Suspense=iX;Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dX;Fe.act=i9;Fe.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=JW({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=Zj.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)t9.call(e,l)&&!r9.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:Vd,type:t.type,key:i,ref:s,props:n,_owner:a}};Fe.createContext=function(t){return t={$$typeof:rX,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:tX,_context:t},t.Consumer=t};Fe.createElement=n9;Fe.createFactory=function(t){var e=n9.bind(null,t);return e.type=t,e};Fe.createRef=function(){return{current:null}};Fe.forwardRef=function(t){return{$$typeof:nX,render:t}};Fe.isValidElement=eC;Fe.lazy=function(t){return{$$typeof:aX,_payload:{_status:-1,_result:t},_init:cX}};Fe.memo=function(t,e){return{$$typeof:sX,type:t,compare:e===void 0?null:e}};Fe.startTransition=function(t){var e=wf.transition;wf.transition={};try{t()}finally{wf.transition=e}};Fe.unstable_act=i9;Fe.useCallback=function(t,e){return Hr.current.useCallback(t,e)};Fe.useContext=function(t){return Hr.current.useContext(t)};Fe.useDebugValue=function(){};Fe.useDeferredValue=function(t){return Hr.current.useDeferredValue(t)};Fe.useEffect=function(t,e){return Hr.current.useEffect(t,e)};Fe.useId=function(){return Hr.current.useId()};Fe.useImperativeHandle=function(t,e,r){return Hr.current.useImperativeHandle(t,e,r)};Fe.useInsertionEffect=function(t,e){return Hr.current.useInsertionEffect(t,e)};Fe.useLayoutEffect=function(t,e){return Hr.current.useLayoutEffect(t,e)};Fe.useMemo=function(t,e){return Hr.current.useMemo(t,e)};Fe.useReducer=function(t,e,r){return Hr.current.useReducer(t,e,r)};Fe.useRef=function(t){return Hr.current.useRef(t)};Fe.useState=function(t){return Hr.current.useState(t)};Fe.useSyncExternalStore=function(t,e,r){return Hr.current.useSyncExternalStore(t,e,r)};Fe.useTransition=function(){return Hr.current.useTransition()};Fe.version="18.3.1";QW.exports=Fe;var T=QW.exports;const Ie=QQ(T),hX=YQ({__proto__:null,default:Ie},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fX=T,pX=Symbol.for("react.element"),mX=Symbol.for("react.fragment"),vX=Object.prototype.hasOwnProperty,gX=fX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yX={key:!0,ref:!0,__self:!0,__source:!0};function s9(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)vX.call(e,n)&&!yX.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:pX,type:t,key:s,ref:a,props:i,_owner:gX.current}}Fp.Fragment=mX;Fp.jsx=s9;Fp.jsxs=s9;YW.exports=Fp;var u=YW.exports,nN={},a9={exports:{}},Cn={},o9={exports:{}},l9={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(A,G){var W=A.length;A.push(G);e:for(;0<W;){var z=W-1>>>1,F=A[z];if(0<i(F,G))A[z]=G,A[W]=F,W=z;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var G=A[0],W=A.pop();if(W!==G){A[0]=W;e:for(var z=0,F=A.length,ee=F>>>1;z<ee;){var oe=2*(z+1)-1,Ne=A[oe],ye=oe+1,Ee=A[ye];if(0>i(Ne,W))ye<F&&0>i(Ee,Ne)?(A[z]=Ee,A[ye]=W,z=ye):(A[z]=Ne,A[oe]=W,z=oe);else if(ye<F&&0>i(Ee,W))A[z]=Ee,A[ye]=W,z=ye;else break e}}return G}function i(A,G){var W=A.sortIndex-G.sortIndex;return W!==0?W:A.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],d=1,h=null,f=3,p=!1,v=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(A){for(var G=r(c);G!==null;){if(G.callback===null)n(c);else if(G.startTime<=A)n(c),G.sortIndex=G.expirationTime,e(l,G);else break;G=r(c)}}function b(A){if(y=!1,w(A),!v)if(r(l)!==null)v=!0,K(_);else{var G=r(c);G!==null&&H(b,G.startTime-A)}}function _(A,G){v=!1,y&&(y=!1,g(S),S=-1),p=!0;var W=f;try{for(w(G),h=r(l);h!==null&&(!(h.expirationTime>G)||A&&!P());){var z=h.callback;if(typeof z=="function"){h.callback=null,f=h.priorityLevel;var F=z(h.expirationTime<=G);G=t.unstable_now(),typeof F=="function"?h.callback=F:h===r(l)&&n(l),w(G)}else n(l);h=r(l)}if(h!==null)var ee=!0;else{var oe=r(c);oe!==null&&H(b,oe.startTime-G),ee=!1}return ee}finally{h=null,f=W,p=!1}}var E=!1,N=null,S=-1,j=5,C=-1;function P(){return!(t.unstable_now()-C<j)}function O(){if(N!==null){var A=t.unstable_now();C=A;var G=!0;try{G=N(!0,A)}finally{G?I():(E=!1,N=null)}}else E=!1}var I;if(typeof m=="function")I=function(){m(O)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,k=M.port2;M.port1.onmessage=O,I=function(){k.postMessage(null)}}else I=function(){x(O,0)};function K(A){N=A,E||(E=!0,I())}function H(A,G){S=x(function(){A(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,K(_))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(A){switch(f){case 1:case 2:case 3:var G=3;break;default:G=f}var W=f;f=G;try{return A()}finally{f=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,G){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var W=f;f=A;try{return G()}finally{f=W}},t.unstable_scheduleCallback=function(A,G,W){var z=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?z+W:z):W=z,A){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=W+F,A={id:d++,callback:G,priorityLevel:A,startTime:W,expirationTime:F,sortIndex:-1},W>z?(A.sortIndex=W,e(c,A),r(l)===null&&A===r(c)&&(y?(g(S),S=-1):y=!0,H(b,W-z))):(A.sortIndex=F,e(l,A),v||p||(v=!0,K(_))),A},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(A){var G=f;return function(){var W=f;f=G;try{return A.apply(this,arguments)}finally{f=W}}}})(l9);o9.exports=l9;var bX=o9.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xX=T,Nn=bX;function Z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u9=new Set,nd={};function Fo(t,e){au(t,e),au(t+"Capture",e)}function au(t,e){for(nd[t]=e,t=0;t<e.length;t++)u9.add(e[t])}var fs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),iN=Object.prototype.hasOwnProperty,wX=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,YP={},QP={};function _X(t){return iN.call(QP,t)?!0:iN.call(YP,t)?!1:wX.test(t)?QP[t]=!0:(YP[t]=!0,!1)}function SX(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function EX(t,e,r,n){if(e===null||typeof e>"u"||SX(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Kr(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var br={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){br[t]=new Kr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];br[e]=new Kr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){br[t]=new Kr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){br[t]=new Kr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){br[t]=new Kr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){br[t]=new Kr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){br[t]=new Kr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){br[t]=new Kr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){br[t]=new Kr(t,5,!1,t.toLowerCase(),null,!1,!1)});var tC=/[\-:]([a-z])/g;function rC(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(tC,rC);br[e]=new Kr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(tC,rC);br[e]=new Kr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(tC,rC);br[e]=new Kr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){br[t]=new Kr(t,1,!1,t.toLowerCase(),null,!1,!1)});br.xlinkHref=new Kr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){br[t]=new Kr(t,1,!1,t.toLowerCase(),null,!0,!0)});function nC(t,e,r,n){var i=br.hasOwnProperty(e)?br[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(EX(e,r,i,n)&&(r=null),n||i===null?_X(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var bs=xX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wh=Symbol.for("react.element"),vl=Symbol.for("react.portal"),gl=Symbol.for("react.fragment"),iC=Symbol.for("react.strict_mode"),sN=Symbol.for("react.profiler"),c9=Symbol.for("react.provider"),d9=Symbol.for("react.context"),sC=Symbol.for("react.forward_ref"),aN=Symbol.for("react.suspense"),oN=Symbol.for("react.suspense_list"),aC=Symbol.for("react.memo"),ks=Symbol.for("react.lazy"),h9=Symbol.for("react.offscreen"),XP=Symbol.iterator;function mc(t){return t===null||typeof t!="object"?null:(t=XP&&t[XP]||t["@@iterator"],typeof t=="function"?t:null)}var jt=Object.assign,Qm;function Rc(t){if(Qm===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Qm=e&&e[1]||""}return`
`+Qm+t}var Xm=!1;function Jm(t,e){if(!t||Xm)return"";Xm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{Xm=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Rc(t):""}function NX(t){switch(t.tag){case 5:return Rc(t.type);case 16:return Rc("Lazy");case 13:return Rc("Suspense");case 19:return Rc("SuspenseList");case 0:case 2:case 15:return t=Jm(t.type,!1),t;case 11:return t=Jm(t.type.render,!1),t;case 1:return t=Jm(t.type,!0),t;default:return""}}function lN(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case gl:return"Fragment";case vl:return"Portal";case sN:return"Profiler";case iC:return"StrictMode";case aN:return"Suspense";case oN:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case d9:return(t.displayName||"Context")+".Consumer";case c9:return(t._context.displayName||"Context")+".Provider";case sC:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case aC:return e=t.displayName||null,e!==null?e:lN(t.type)||"Memo";case ks:e=t._payload,t=t._init;try{return lN(t(e))}catch{}}return null}function jX(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return lN(e);case 8:return e===iC?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ya(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function f9(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function CX(t){var e=f9(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Vh(t){t._valueTracker||(t._valueTracker=CX(t))}function p9(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=f9(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function zf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function uN(t,e){var r=e.checked;return jt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function JP(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ya(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function m9(t,e){e=e.checked,e!=null&&nC(t,"checked",e,!1)}function cN(t,e){m9(t,e);var r=ya(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?dN(t,e.type,r):e.hasOwnProperty("defaultValue")&&dN(t,e.type,ya(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ZP(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function dN(t,e,r){(e!=="number"||zf(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var $c=Array.isArray;function kl(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ya(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function hN(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Z(91));return jt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function eT(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Z(92));if($c(r)){if(1<r.length)throw Error(Z(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ya(r)}}function v9(t,e){var r=ya(e.value),n=ya(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function tT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function g9(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fN(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?g9(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Hh,y9=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Hh=Hh||document.createElement("div"),Hh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Hh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function id(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Fc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},OX=["Webkit","ms","Moz","O"];Object.keys(Fc).forEach(function(t){OX.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Fc[e]=Fc[t]})});function b9(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Fc.hasOwnProperty(t)&&Fc[t]?(""+e).trim():e+"px"}function x9(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=b9(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var PX=jt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pN(t,e){if(e){if(PX[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Z(62))}}function mN(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vN=null;function oC(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gN=null,Dl=null,Ml=null;function rT(t){if(t=Gd(t)){if(typeof gN!="function")throw Error(Z(280));var e=t.stateNode;e&&(e=Wp(e),gN(t.stateNode,t.type,e))}}function w9(t){Dl?Ml?Ml.push(t):Ml=[t]:Dl=t}function _9(){if(Dl){var t=Dl,e=Ml;if(Ml=Dl=null,rT(t),e)for(t=0;t<e.length;t++)rT(e[t])}}function S9(t,e){return t(e)}function E9(){}var Zm=!1;function N9(t,e,r){if(Zm)return t(e,r);Zm=!0;try{return S9(t,e,r)}finally{Zm=!1,(Dl!==null||Ml!==null)&&(E9(),_9())}}function sd(t,e){var r=t.stateNode;if(r===null)return null;var n=Wp(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Z(231,e,typeof r));return r}var yN=!1;if(fs)try{var vc={};Object.defineProperty(vc,"passive",{get:function(){yN=!0}}),window.addEventListener("test",vc,vc),window.removeEventListener("test",vc,vc)}catch{yN=!1}function TX(t,e,r,n,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(d){this.onError(d)}}var Lc=!1,Uf=null,Wf=!1,bN=null,IX={onError:function(t){Lc=!0,Uf=t}};function RX(t,e,r,n,i,s,a,o,l){Lc=!1,Uf=null,TX.apply(IX,arguments)}function $X(t,e,r,n,i,s,a,o,l){if(RX.apply(this,arguments),Lc){if(Lc){var c=Uf;Lc=!1,Uf=null}else throw Error(Z(198));Wf||(Wf=!0,bN=c)}}function Lo(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function j9(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function nT(t){if(Lo(t)!==t)throw Error(Z(188))}function kX(t){var e=t.alternate;if(!e){if(e=Lo(t),e===null)throw Error(Z(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return nT(i),t;if(s===n)return nT(i),e;s=s.sibling}throw Error(Z(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(Z(189))}}if(r.alternate!==n)throw Error(Z(190))}if(r.tag!==3)throw Error(Z(188));return r.stateNode.current===r?t:e}function C9(t){return t=kX(t),t!==null?O9(t):null}function O9(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=O9(t);if(e!==null)return e;t=t.sibling}return null}var P9=Nn.unstable_scheduleCallback,iT=Nn.unstable_cancelCallback,DX=Nn.unstable_shouldYield,MX=Nn.unstable_requestPaint,qt=Nn.unstable_now,qX=Nn.unstable_getCurrentPriorityLevel,lC=Nn.unstable_ImmediatePriority,T9=Nn.unstable_UserBlockingPriority,Vf=Nn.unstable_NormalPriority,AX=Nn.unstable_LowPriority,I9=Nn.unstable_IdlePriority,Lp=null,$i=null;function FX(t){if($i&&typeof $i.onCommitFiberRoot=="function")try{$i.onCommitFiberRoot(Lp,t,void 0,(t.current.flags&128)===128)}catch{}}var hi=Math.clz32?Math.clz32:zX,LX=Math.log,BX=Math.LN2;function zX(t){return t>>>=0,t===0?32:31-(LX(t)/BX|0)|0}var Kh=64,Gh=4194304;function kc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Hf(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=kc(o):(s&=a,s!==0&&(n=kc(s)))}else a=r&~i,a!==0?n=kc(a):s!==0&&(n=kc(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-hi(e),i=1<<r,n|=t[r],e&=~i;return n}function UX(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function WX(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-hi(s),o=1<<a,l=i[a];l===-1?(!(o&r)||o&n)&&(i[a]=UX(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function xN(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function R9(){var t=Kh;return Kh<<=1,!(Kh&4194240)&&(Kh=64),t}function ev(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Hd(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-hi(e),t[e]=r}function VX(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-hi(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function uC(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-hi(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var tt=0;function $9(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var k9,cC,D9,M9,q9,wN=!1,Yh=[],ta=null,ra=null,na=null,ad=new Map,od=new Map,As=[],HX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sT(t,e){switch(t){case"focusin":case"focusout":ta=null;break;case"dragenter":case"dragleave":ra=null;break;case"mouseover":case"mouseout":na=null;break;case"pointerover":case"pointerout":ad.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":od.delete(e.pointerId)}}function gc(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Gd(e),e!==null&&cC(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function KX(t,e,r,n,i){switch(e){case"focusin":return ta=gc(ta,t,e,r,n,i),!0;case"dragenter":return ra=gc(ra,t,e,r,n,i),!0;case"mouseover":return na=gc(na,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return ad.set(s,gc(ad.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,od.set(s,gc(od.get(s)||null,t,e,r,n,i)),!0}return!1}function A9(t){var e=Ua(t.target);if(e!==null){var r=Lo(e);if(r!==null){if(e=r.tag,e===13){if(e=j9(r),e!==null){t.blockedOn=e,q9(t.priority,function(){D9(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _f(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=_N(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);vN=n,r.target.dispatchEvent(n),vN=null}else return e=Gd(r),e!==null&&cC(e),t.blockedOn=r,!1;e.shift()}return!0}function aT(t,e,r){_f(t)&&r.delete(e)}function GX(){wN=!1,ta!==null&&_f(ta)&&(ta=null),ra!==null&&_f(ra)&&(ra=null),na!==null&&_f(na)&&(na=null),ad.forEach(aT),od.forEach(aT)}function yc(t,e){t.blockedOn===e&&(t.blockedOn=null,wN||(wN=!0,Nn.unstable_scheduleCallback(Nn.unstable_NormalPriority,GX)))}function ld(t){function e(i){return yc(i,t)}if(0<Yh.length){yc(Yh[0],t);for(var r=1;r<Yh.length;r++){var n=Yh[r];n.blockedOn===t&&(n.blockedOn=null)}}for(ta!==null&&yc(ta,t),ra!==null&&yc(ra,t),na!==null&&yc(na,t),ad.forEach(e),od.forEach(e),r=0;r<As.length;r++)n=As[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<As.length&&(r=As[0],r.blockedOn===null);)A9(r),r.blockedOn===null&&As.shift()}var ql=bs.ReactCurrentBatchConfig,Kf=!0;function YX(t,e,r,n){var i=tt,s=ql.transition;ql.transition=null;try{tt=1,dC(t,e,r,n)}finally{tt=i,ql.transition=s}}function QX(t,e,r,n){var i=tt,s=ql.transition;ql.transition=null;try{tt=4,dC(t,e,r,n)}finally{tt=i,ql.transition=s}}function dC(t,e,r,n){if(Kf){var i=_N(t,e,r,n);if(i===null)cv(t,e,n,Gf,r),sT(t,n);else if(KX(i,t,e,r,n))n.stopPropagation();else if(sT(t,n),e&4&&-1<HX.indexOf(t)){for(;i!==null;){var s=Gd(i);if(s!==null&&k9(s),s=_N(t,e,r,n),s===null&&cv(t,e,n,Gf,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else cv(t,e,n,null,r)}}var Gf=null;function _N(t,e,r,n){if(Gf=null,t=oC(n),t=Ua(t),t!==null)if(e=Lo(t),e===null)t=null;else if(r=e.tag,r===13){if(t=j9(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Gf=t,null}function F9(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qX()){case lC:return 1;case T9:return 4;case Vf:case AX:return 16;case I9:return 536870912;default:return 16}default:return 16}}var Xs=null,hC=null,Sf=null;function L9(){if(Sf)return Sf;var t,e=hC,r=e.length,n,i="value"in Xs?Xs.value:Xs.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return Sf=i.slice(t,1<n?1-n:void 0)}function Ef(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Qh(){return!0}function oT(){return!1}function On(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Qh:oT,this.isPropagationStopped=oT,this}return jt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qh)},persist:function(){},isPersistent:Qh}),e}var Tu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fC=On(Tu),Kd=jt({},Tu,{view:0,detail:0}),XX=On(Kd),tv,rv,bc,Bp=jt({},Kd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pC,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bc&&(bc&&t.type==="mousemove"?(tv=t.screenX-bc.screenX,rv=t.screenY-bc.screenY):rv=tv=0,bc=t),tv)},movementY:function(t){return"movementY"in t?t.movementY:rv}}),lT=On(Bp),JX=jt({},Bp,{dataTransfer:0}),ZX=On(JX),eJ=jt({},Kd,{relatedTarget:0}),nv=On(eJ),tJ=jt({},Tu,{animationName:0,elapsedTime:0,pseudoElement:0}),rJ=On(tJ),nJ=jt({},Tu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),iJ=On(nJ),sJ=jt({},Tu,{data:0}),uT=On(sJ),aJ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oJ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lJ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uJ(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=lJ[t])?!!e[t]:!1}function pC(){return uJ}var cJ=jt({},Kd,{key:function(t){if(t.key){var e=aJ[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ef(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?oJ[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pC,charCode:function(t){return t.type==="keypress"?Ef(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ef(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),dJ=On(cJ),hJ=jt({},Bp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cT=On(hJ),fJ=jt({},Kd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pC}),pJ=On(fJ),mJ=jt({},Tu,{propertyName:0,elapsedTime:0,pseudoElement:0}),vJ=On(mJ),gJ=jt({},Bp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),yJ=On(gJ),bJ=[9,13,27,32],mC=fs&&"CompositionEvent"in window,Bc=null;fs&&"documentMode"in document&&(Bc=document.documentMode);var xJ=fs&&"TextEvent"in window&&!Bc,B9=fs&&(!mC||Bc&&8<Bc&&11>=Bc),dT=" ",hT=!1;function z9(t,e){switch(t){case"keyup":return bJ.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function U9(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var yl=!1;function wJ(t,e){switch(t){case"compositionend":return U9(e);case"keypress":return e.which!==32?null:(hT=!0,dT);case"textInput":return t=e.data,t===dT&&hT?null:t;default:return null}}function _J(t,e){if(yl)return t==="compositionend"||!mC&&z9(t,e)?(t=L9(),Sf=hC=Xs=null,yl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return B9&&e.locale!=="ko"?null:e.data;default:return null}}var SJ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!SJ[t.type]:e==="textarea"}function W9(t,e,r,n){w9(n),e=Yf(e,"onChange"),0<e.length&&(r=new fC("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var zc=null,ud=null;function EJ(t){tV(t,0)}function zp(t){var e=wl(t);if(p9(e))return t}function NJ(t,e){if(t==="change")return e}var V9=!1;if(fs){var iv;if(fs){var sv="oninput"in document;if(!sv){var pT=document.createElement("div");pT.setAttribute("oninput","return;"),sv=typeof pT.oninput=="function"}iv=sv}else iv=!1;V9=iv&&(!document.documentMode||9<document.documentMode)}function mT(){zc&&(zc.detachEvent("onpropertychange",H9),ud=zc=null)}function H9(t){if(t.propertyName==="value"&&zp(ud)){var e=[];W9(e,ud,t,oC(t)),N9(EJ,e)}}function jJ(t,e,r){t==="focusin"?(mT(),zc=e,ud=r,zc.attachEvent("onpropertychange",H9)):t==="focusout"&&mT()}function CJ(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zp(ud)}function OJ(t,e){if(t==="click")return zp(e)}function PJ(t,e){if(t==="input"||t==="change")return zp(e)}function TJ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var pi=typeof Object.is=="function"?Object.is:TJ;function cd(t,e){if(pi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!iN.call(e,i)||!pi(t[i],e[i]))return!1}return!0}function vT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gT(t,e){var r=vT(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=vT(r)}}function K9(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?K9(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function G9(){for(var t=window,e=zf();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=zf(t.document)}return e}function vC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function IJ(t){var e=G9(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&K9(r.ownerDocument.documentElement,r)){if(n!==null&&vC(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=gT(r,s);var a=gT(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var RJ=fs&&"documentMode"in document&&11>=document.documentMode,bl=null,SN=null,Uc=null,EN=!1;function yT(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;EN||bl==null||bl!==zf(n)||(n=bl,"selectionStart"in n&&vC(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Uc&&cd(Uc,n)||(Uc=n,n=Yf(SN,"onSelect"),0<n.length&&(e=new fC("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=bl)))}function Xh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var xl={animationend:Xh("Animation","AnimationEnd"),animationiteration:Xh("Animation","AnimationIteration"),animationstart:Xh("Animation","AnimationStart"),transitionend:Xh("Transition","TransitionEnd")},av={},Y9={};fs&&(Y9=document.createElement("div").style,"AnimationEvent"in window||(delete xl.animationend.animation,delete xl.animationiteration.animation,delete xl.animationstart.animation),"TransitionEvent"in window||delete xl.transitionend.transition);function Up(t){if(av[t])return av[t];if(!xl[t])return t;var e=xl[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Y9)return av[t]=e[r];return t}var Q9=Up("animationend"),X9=Up("animationiteration"),J9=Up("animationstart"),Z9=Up("transitionend"),eV=new Map,bT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ea(t,e){eV.set(t,e),Fo(e,[t])}for(var ov=0;ov<bT.length;ov++){var lv=bT[ov],$J=lv.toLowerCase(),kJ=lv[0].toUpperCase()+lv.slice(1);Ea($J,"on"+kJ)}Ea(Q9,"onAnimationEnd");Ea(X9,"onAnimationIteration");Ea(J9,"onAnimationStart");Ea("dblclick","onDoubleClick");Ea("focusin","onFocus");Ea("focusout","onBlur");Ea(Z9,"onTransitionEnd");au("onMouseEnter",["mouseout","mouseover"]);au("onMouseLeave",["mouseout","mouseover"]);au("onPointerEnter",["pointerout","pointerover"]);au("onPointerLeave",["pointerout","pointerover"]);Fo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DJ=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dc));function xT(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,$X(n,e,void 0,t),t.currentTarget=null}function tV(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;xT(i,o,c),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;xT(i,o,c),s=l}}}if(Wf)throw t=bN,Wf=!1,bN=null,t}function vt(t,e){var r=e[PN];r===void 0&&(r=e[PN]=new Set);var n=t+"__bubble";r.has(n)||(rV(e,t,2,!1),r.add(n))}function uv(t,e,r){var n=0;e&&(n|=4),rV(r,t,n,e)}var Jh="_reactListening"+Math.random().toString(36).slice(2);function dd(t){if(!t[Jh]){t[Jh]=!0,u9.forEach(function(r){r!=="selectionchange"&&(DJ.has(r)||uv(r,!1,t),uv(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Jh]||(e[Jh]=!0,uv("selectionchange",!1,e))}}function rV(t,e,r,n){switch(F9(e)){case 1:var i=YX;break;case 4:i=QX;break;default:i=dC}r=i.bind(null,e,r,t),i=void 0,!yN||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function cv(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Ua(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}N9(function(){var c=s,d=oC(r),h=[];e:{var f=eV.get(t);if(f!==void 0){var p=fC,v=t;switch(t){case"keypress":if(Ef(r)===0)break e;case"keydown":case"keyup":p=dJ;break;case"focusin":v="focus",p=nv;break;case"focusout":v="blur",p=nv;break;case"beforeblur":case"afterblur":p=nv;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=lT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=ZX;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=pJ;break;case Q9:case X9:case J9:p=rJ;break;case Z9:p=vJ;break;case"scroll":p=XX;break;case"wheel":p=yJ;break;case"copy":case"cut":case"paste":p=iJ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=cT}var y=(e&4)!==0,x=!y&&t==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var m=c,w;m!==null;){w=m;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,g!==null&&(b=sd(m,g),b!=null&&y.push(hd(m,b,w)))),x)break;m=m.return}0<y.length&&(f=new p(f,v,null,r,d),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&r!==vN&&(v=r.relatedTarget||r.fromElement)&&(Ua(v)||v[ps]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=r.relatedTarget||r.toElement,p=c,v=v?Ua(v):null,v!==null&&(x=Lo(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=c),p!==v)){if(y=lT,b="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(y=cT,b="onPointerLeave",g="onPointerEnter",m="pointer"),x=p==null?f:wl(p),w=v==null?f:wl(v),f=new y(b,m+"leave",p,r,d),f.target=x,f.relatedTarget=w,b=null,Ua(d)===c&&(y=new y(g,m+"enter",v,r,d),y.target=w,y.relatedTarget=x,b=y),x=b,p&&v)t:{for(y=p,g=v,m=0,w=y;w;w=ul(w))m++;for(w=0,b=g;b;b=ul(b))w++;for(;0<m-w;)y=ul(y),m--;for(;0<w-m;)g=ul(g),w--;for(;m--;){if(y===g||g!==null&&y===g.alternate)break t;y=ul(y),g=ul(g)}y=null}else y=null;p!==null&&wT(h,f,p,y,!1),v!==null&&x!==null&&wT(h,x,v,y,!0)}}e:{if(f=c?wl(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var _=NJ;else if(fT(f))if(V9)_=PJ;else{_=CJ;var E=jJ}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=OJ);if(_&&(_=_(t,c))){W9(h,_,r,d);break e}E&&E(t,f,c),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&dN(f,"number",f.value)}switch(E=c?wl(c):window,t){case"focusin":(fT(E)||E.contentEditable==="true")&&(bl=E,SN=c,Uc=null);break;case"focusout":Uc=SN=bl=null;break;case"mousedown":EN=!0;break;case"contextmenu":case"mouseup":case"dragend":EN=!1,yT(h,r,d);break;case"selectionchange":if(RJ)break;case"keydown":case"keyup":yT(h,r,d)}var N;if(mC)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else yl?z9(t,r)&&(S="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(B9&&r.locale!=="ko"&&(yl||S!=="onCompositionStart"?S==="onCompositionEnd"&&yl&&(N=L9()):(Xs=d,hC="value"in Xs?Xs.value:Xs.textContent,yl=!0)),E=Yf(c,S),0<E.length&&(S=new uT(S,t,null,r,d),h.push({event:S,listeners:E}),N?S.data=N:(N=U9(r),N!==null&&(S.data=N)))),(N=xJ?wJ(t,r):_J(t,r))&&(c=Yf(c,"onBeforeInput"),0<c.length&&(d=new uT("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=N))}tV(h,e)})}function hd(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Yf(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=sd(t,r),s!=null&&n.unshift(hd(t,s,i)),s=sd(t,e),s!=null&&n.push(hd(t,s,i))),t=t.return}return n}function ul(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function wT(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,i?(l=sd(r,s),l!=null&&a.unshift(hd(r,l,o))):i||(l=sd(r,s),l!=null&&a.push(hd(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var MJ=/\r\n?/g,qJ=/\u0000|\uFFFD/g;function _T(t){return(typeof t=="string"?t:""+t).replace(MJ,`
`).replace(qJ,"")}function Zh(t,e,r){if(e=_T(e),_T(t)!==e&&r)throw Error(Z(425))}function Qf(){}var NN=null,jN=null;function CN(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ON=typeof setTimeout=="function"?setTimeout:void 0,AJ=typeof clearTimeout=="function"?clearTimeout:void 0,ST=typeof Promise=="function"?Promise:void 0,FJ=typeof queueMicrotask=="function"?queueMicrotask:typeof ST<"u"?function(t){return ST.resolve(null).then(t).catch(LJ)}:ON;function LJ(t){setTimeout(function(){throw t})}function dv(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),ld(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);ld(e)}function ia(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ET(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Iu=Math.random().toString(36).slice(2),Oi="__reactFiber$"+Iu,fd="__reactProps$"+Iu,ps="__reactContainer$"+Iu,PN="__reactEvents$"+Iu,BJ="__reactListeners$"+Iu,zJ="__reactHandles$"+Iu;function Ua(t){var e=t[Oi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ps]||r[Oi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=ET(t);t!==null;){if(r=t[Oi])return r;t=ET(t)}return e}t=r,r=t.parentNode}return null}function Gd(t){return t=t[Oi]||t[ps],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function wl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Z(33))}function Wp(t){return t[fd]||null}var TN=[],_l=-1;function Na(t){return{current:t}}function yt(t){0>_l||(t.current=TN[_l],TN[_l]=null,_l--)}function mt(t,e){_l++,TN[_l]=t.current,t.current=e}var ba={},Tr=Na(ba),an=Na(!1),xo=ba;function ou(t,e){var r=t.type.contextTypes;if(!r)return ba;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function on(t){return t=t.childContextTypes,t!=null}function Xf(){yt(an),yt(Tr)}function NT(t,e,r){if(Tr.current!==ba)throw Error(Z(168));mt(Tr,e),mt(an,r)}function nV(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Z(108,jX(t)||"Unknown",i));return jt({},r,n)}function Jf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ba,xo=Tr.current,mt(Tr,t),mt(an,an.current),!0}function jT(t,e,r){var n=t.stateNode;if(!n)throw Error(Z(169));r?(t=nV(t,e,xo),n.__reactInternalMemoizedMergedChildContext=t,yt(an),yt(Tr),mt(Tr,t)):yt(an),mt(an,r)}var Ki=null,Vp=!1,hv=!1;function iV(t){Ki===null?Ki=[t]:Ki.push(t)}function UJ(t){Vp=!0,iV(t)}function ja(){if(!hv&&Ki!==null){hv=!0;var t=0,e=tt;try{var r=Ki;for(tt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Ki=null,Vp=!1}catch(i){throw Ki!==null&&(Ki=Ki.slice(t+1)),P9(lC,ja),i}finally{tt=e,hv=!1}}return null}var Sl=[],El=0,Zf=null,ep=0,An=[],Fn=0,wo=null,Ji=1,Zi="";function Fa(t,e){Sl[El++]=ep,Sl[El++]=Zf,Zf=t,ep=e}function sV(t,e,r){An[Fn++]=Ji,An[Fn++]=Zi,An[Fn++]=wo,wo=t;var n=Ji;t=Zi;var i=32-hi(n)-1;n&=~(1<<i),r+=1;var s=32-hi(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Ji=1<<32-hi(e)+i|r<<i|n,Zi=s+t}else Ji=1<<s|r<<i|n,Zi=t}function gC(t){t.return!==null&&(Fa(t,1),sV(t,1,0))}function yC(t){for(;t===Zf;)Zf=Sl[--El],Sl[El]=null,ep=Sl[--El],Sl[El]=null;for(;t===wo;)wo=An[--Fn],An[Fn]=null,Zi=An[--Fn],An[Fn]=null,Ji=An[--Fn],An[Fn]=null}var En=null,Sn=null,wt=!1,ai=null;function aV(t,e){var r=zn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function CT(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,En=t,Sn=ia(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,En=t,Sn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=wo!==null?{id:Ji,overflow:Zi}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=zn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,En=t,Sn=null,!0):!1;default:return!1}}function IN(t){return(t.mode&1)!==0&&(t.flags&128)===0}function RN(t){if(wt){var e=Sn;if(e){var r=e;if(!CT(t,e)){if(IN(t))throw Error(Z(418));e=ia(r.nextSibling);var n=En;e&&CT(t,e)?aV(n,r):(t.flags=t.flags&-4097|2,wt=!1,En=t)}}else{if(IN(t))throw Error(Z(418));t.flags=t.flags&-4097|2,wt=!1,En=t}}}function OT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;En=t}function ef(t){if(t!==En)return!1;if(!wt)return OT(t),wt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!CN(t.type,t.memoizedProps)),e&&(e=Sn)){if(IN(t))throw oV(),Error(Z(418));for(;e;)aV(t,e),e=ia(e.nextSibling)}if(OT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Sn=ia(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Sn=null}}else Sn=En?ia(t.stateNode.nextSibling):null;return!0}function oV(){for(var t=Sn;t;)t=ia(t.nextSibling)}function lu(){Sn=En=null,wt=!1}function bC(t){ai===null?ai=[t]:ai.push(t)}var WJ=bs.ReactCurrentBatchConfig;function xc(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Z(309));var n=r.stateNode}if(!n)throw Error(Z(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(Z(284));if(!r._owner)throw Error(Z(290,t))}return t}function tf(t,e){throw t=Object.prototype.toString.call(e),Error(Z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function PT(t){var e=t._init;return e(t._payload)}function lV(t){function e(g,m){if(t){var w=g.deletions;w===null?(g.deletions=[m],g.flags|=16):w.push(m)}}function r(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function n(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function i(g,m){return g=la(g,m),g.index=0,g.sibling=null,g}function s(g,m,w){return g.index=w,t?(w=g.alternate,w!==null?(w=w.index,w<m?(g.flags|=2,m):w):(g.flags|=2,m)):(g.flags|=1048576,m)}function a(g){return t&&g.alternate===null&&(g.flags|=2),g}function o(g,m,w,b){return m===null||m.tag!==6?(m=bv(w,g.mode,b),m.return=g,m):(m=i(m,w),m.return=g,m)}function l(g,m,w,b){var _=w.type;return _===gl?d(g,m,w.props.children,b,w.key):m!==null&&(m.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ks&&PT(_)===m.type)?(b=i(m,w.props),b.ref=xc(g,m,w),b.return=g,b):(b=If(w.type,w.key,w.props,null,g.mode,b),b.ref=xc(g,m,w),b.return=g,b)}function c(g,m,w,b){return m===null||m.tag!==4||m.stateNode.containerInfo!==w.containerInfo||m.stateNode.implementation!==w.implementation?(m=xv(w,g.mode,b),m.return=g,m):(m=i(m,w.children||[]),m.return=g,m)}function d(g,m,w,b,_){return m===null||m.tag!==7?(m=co(w,g.mode,b,_),m.return=g,m):(m=i(m,w),m.return=g,m)}function h(g,m,w){if(typeof m=="string"&&m!==""||typeof m=="number")return m=bv(""+m,g.mode,w),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Wh:return w=If(m.type,m.key,m.props,null,g.mode,w),w.ref=xc(g,null,m),w.return=g,w;case vl:return m=xv(m,g.mode,w),m.return=g,m;case ks:var b=m._init;return h(g,b(m._payload),w)}if($c(m)||mc(m))return m=co(m,g.mode,w,null),m.return=g,m;tf(g,m)}return null}function f(g,m,w,b){var _=m!==null?m.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:o(g,m,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Wh:return w.key===_?l(g,m,w,b):null;case vl:return w.key===_?c(g,m,w,b):null;case ks:return _=w._init,f(g,m,_(w._payload),b)}if($c(w)||mc(w))return _!==null?null:d(g,m,w,b,null);tf(g,w)}return null}function p(g,m,w,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(w)||null,o(m,g,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Wh:return g=g.get(b.key===null?w:b.key)||null,l(m,g,b,_);case vl:return g=g.get(b.key===null?w:b.key)||null,c(m,g,b,_);case ks:var E=b._init;return p(g,m,w,E(b._payload),_)}if($c(b)||mc(b))return g=g.get(w)||null,d(m,g,b,_,null);tf(m,b)}return null}function v(g,m,w,b){for(var _=null,E=null,N=m,S=m=0,j=null;N!==null&&S<w.length;S++){N.index>S?(j=N,N=null):j=N.sibling;var C=f(g,N,w[S],b);if(C===null){N===null&&(N=j);break}t&&N&&C.alternate===null&&e(g,N),m=s(C,m,S),E===null?_=C:E.sibling=C,E=C,N=j}if(S===w.length)return r(g,N),wt&&Fa(g,S),_;if(N===null){for(;S<w.length;S++)N=h(g,w[S],b),N!==null&&(m=s(N,m,S),E===null?_=N:E.sibling=N,E=N);return wt&&Fa(g,S),_}for(N=n(g,N);S<w.length;S++)j=p(N,g,S,w[S],b),j!==null&&(t&&j.alternate!==null&&N.delete(j.key===null?S:j.key),m=s(j,m,S),E===null?_=j:E.sibling=j,E=j);return t&&N.forEach(function(P){return e(g,P)}),wt&&Fa(g,S),_}function y(g,m,w,b){var _=mc(w);if(typeof _!="function")throw Error(Z(150));if(w=_.call(w),w==null)throw Error(Z(151));for(var E=_=null,N=m,S=m=0,j=null,C=w.next();N!==null&&!C.done;S++,C=w.next()){N.index>S?(j=N,N=null):j=N.sibling;var P=f(g,N,C.value,b);if(P===null){N===null&&(N=j);break}t&&N&&P.alternate===null&&e(g,N),m=s(P,m,S),E===null?_=P:E.sibling=P,E=P,N=j}if(C.done)return r(g,N),wt&&Fa(g,S),_;if(N===null){for(;!C.done;S++,C=w.next())C=h(g,C.value,b),C!==null&&(m=s(C,m,S),E===null?_=C:E.sibling=C,E=C);return wt&&Fa(g,S),_}for(N=n(g,N);!C.done;S++,C=w.next())C=p(N,g,S,C.value,b),C!==null&&(t&&C.alternate!==null&&N.delete(C.key===null?S:C.key),m=s(C,m,S),E===null?_=C:E.sibling=C,E=C);return t&&N.forEach(function(O){return e(g,O)}),wt&&Fa(g,S),_}function x(g,m,w,b){if(typeof w=="object"&&w!==null&&w.type===gl&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Wh:e:{for(var _=w.key,E=m;E!==null;){if(E.key===_){if(_=w.type,_===gl){if(E.tag===7){r(g,E.sibling),m=i(E,w.props.children),m.return=g,g=m;break e}}else if(E.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ks&&PT(_)===E.type){r(g,E.sibling),m=i(E,w.props),m.ref=xc(g,E,w),m.return=g,g=m;break e}r(g,E);break}else e(g,E);E=E.sibling}w.type===gl?(m=co(w.props.children,g.mode,b,w.key),m.return=g,g=m):(b=If(w.type,w.key,w.props,null,g.mode,b),b.ref=xc(g,m,w),b.return=g,g=b)}return a(g);case vl:e:{for(E=w.key;m!==null;){if(m.key===E)if(m.tag===4&&m.stateNode.containerInfo===w.containerInfo&&m.stateNode.implementation===w.implementation){r(g,m.sibling),m=i(m,w.children||[]),m.return=g,g=m;break e}else{r(g,m);break}else e(g,m);m=m.sibling}m=xv(w,g.mode,b),m.return=g,g=m}return a(g);case ks:return E=w._init,x(g,m,E(w._payload),b)}if($c(w))return v(g,m,w,b);if(mc(w))return y(g,m,w,b);tf(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,m!==null&&m.tag===6?(r(g,m.sibling),m=i(m,w),m.return=g,g=m):(r(g,m),m=bv(w,g.mode,b),m.return=g,g=m),a(g)):r(g,m)}return x}var uu=lV(!0),uV=lV(!1),tp=Na(null),rp=null,Nl=null,xC=null;function wC(){xC=Nl=rp=null}function _C(t){var e=tp.current;yt(tp),t._currentValue=e}function $N(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Al(t,e){rp=t,xC=Nl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(sn=!0),t.firstContext=null)}function Hn(t){var e=t._currentValue;if(xC!==t)if(t={context:t,memoizedValue:e,next:null},Nl===null){if(rp===null)throw Error(Z(308));Nl=t,rp.dependencies={lanes:0,firstContext:t}}else Nl=Nl.next=t;return e}var Wa=null;function SC(t){Wa===null?Wa=[t]:Wa.push(t)}function cV(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,SC(e)):(r.next=i.next,i.next=r),e.interleaved=r,ms(t,n)}function ms(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ds=!1;function EC(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dV(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function rs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function sa(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,He&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,ms(t,r)}return i=n.interleaved,i===null?(e.next=e,SC(n)):(e.next=i.next,i.next=e),n.interleaved=e,ms(t,r)}function Nf(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,uC(t,r)}}function TT(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function np(t,e,r,n){var i=t.updateQueue;Ds=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;a=0,d=c=l=null,o=s;do{var f=o.lane,p=o.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=t,y=o;switch(f=e,p=r,y.tag){case 1:if(v=y.payload,typeof v=="function"){h=v.call(p,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,f=typeof v=="function"?v.call(p,h,f):v,f==null)break e;h=jt({},h,f);break e;case 2:Ds=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=p,l=h):d=d.next=p,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);So|=a,t.lanes=a,t.memoizedState=h}}function IT(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Z(191,i));i.call(n)}}}var Yd={},ki=Na(Yd),pd=Na(Yd),md=Na(Yd);function Va(t){if(t===Yd)throw Error(Z(174));return t}function NC(t,e){switch(mt(md,e),mt(pd,t),mt(ki,Yd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:fN(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=fN(e,t)}yt(ki),mt(ki,e)}function cu(){yt(ki),yt(pd),yt(md)}function hV(t){Va(md.current);var e=Va(ki.current),r=fN(e,t.type);e!==r&&(mt(pd,t),mt(ki,r))}function jC(t){pd.current===t&&(yt(ki),yt(pd))}var St=Na(0);function ip(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var fv=[];function CC(){for(var t=0;t<fv.length;t++)fv[t]._workInProgressVersionPrimary=null;fv.length=0}var jf=bs.ReactCurrentDispatcher,pv=bs.ReactCurrentBatchConfig,_o=0,Et=null,er=null,ar=null,sp=!1,Wc=!1,vd=0,VJ=0;function Nr(){throw Error(Z(321))}function OC(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!pi(t[r],e[r]))return!1;return!0}function PC(t,e,r,n,i,s){if(_o=s,Et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,jf.current=t===null||t.memoizedState===null?YJ:QJ,t=r(n,i),Wc){s=0;do{if(Wc=!1,vd=0,25<=s)throw Error(Z(301));s+=1,ar=er=null,e.updateQueue=null,jf.current=XJ,t=r(n,i)}while(Wc)}if(jf.current=ap,e=er!==null&&er.next!==null,_o=0,ar=er=Et=null,sp=!1,e)throw Error(Z(300));return t}function TC(){var t=vd!==0;return vd=0,t}function Si(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ar===null?Et.memoizedState=ar=t:ar=ar.next=t,ar}function Kn(){if(er===null){var t=Et.alternate;t=t!==null?t.memoizedState:null}else t=er.next;var e=ar===null?Et.memoizedState:ar.next;if(e!==null)ar=e,er=t;else{if(t===null)throw Error(Z(310));er=t,t={memoizedState:er.memoizedState,baseState:er.baseState,baseQueue:er.baseQueue,queue:er.queue,next:null},ar===null?Et.memoizedState=ar=t:ar=ar.next=t}return ar}function gd(t,e){return typeof e=="function"?e(t):e}function mv(t){var e=Kn(),r=e.queue;if(r===null)throw Error(Z(311));r.lastRenderedReducer=t;var n=er,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,c=s;do{var d=c.lane;if((_o&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=h,a=n):l=l.next=h,Et.lanes|=d,So|=d}c=c.next}while(c!==null&&c!==s);l===null?a=n:l.next=o,pi(n,e.memoizedState)||(sn=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Et.lanes|=s,So|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function vv(t){var e=Kn(),r=e.queue;if(r===null)throw Error(Z(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);pi(s,e.memoizedState)||(sn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function fV(){}function pV(t,e){var r=Et,n=Kn(),i=e(),s=!pi(n.memoizedState,i);if(s&&(n.memoizedState=i,sn=!0),n=n.queue,IC(gV.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||ar!==null&&ar.memoizedState.tag&1){if(r.flags|=2048,yd(9,vV.bind(null,r,n,i,e),void 0,null),or===null)throw Error(Z(349));_o&30||mV(r,e,i)}return i}function mV(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Et.updateQueue,e===null?(e={lastEffect:null,stores:null},Et.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function vV(t,e,r,n){e.value=r,e.getSnapshot=n,yV(e)&&bV(t)}function gV(t,e,r){return r(function(){yV(e)&&bV(t)})}function yV(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!pi(t,r)}catch{return!0}}function bV(t){var e=ms(t,1);e!==null&&fi(e,t,1,-1)}function RT(t){var e=Si();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gd,lastRenderedState:t},e.queue=t,t=t.dispatch=GJ.bind(null,Et,t),[e.memoizedState,t]}function yd(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Et.updateQueue,e===null?(e={lastEffect:null,stores:null},Et.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function xV(){return Kn().memoizedState}function Cf(t,e,r,n){var i=Si();Et.flags|=t,i.memoizedState=yd(1|e,r,void 0,n===void 0?null:n)}function Hp(t,e,r,n){var i=Kn();n=n===void 0?null:n;var s=void 0;if(er!==null){var a=er.memoizedState;if(s=a.destroy,n!==null&&OC(n,a.deps)){i.memoizedState=yd(e,r,s,n);return}}Et.flags|=t,i.memoizedState=yd(1|e,r,s,n)}function $T(t,e){return Cf(8390656,8,t,e)}function IC(t,e){return Hp(2048,8,t,e)}function wV(t,e){return Hp(4,2,t,e)}function _V(t,e){return Hp(4,4,t,e)}function SV(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function EV(t,e,r){return r=r!=null?r.concat([t]):null,Hp(4,4,SV.bind(null,e,t),r)}function RC(){}function NV(t,e){var r=Kn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&OC(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function jV(t,e){var r=Kn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&OC(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function CV(t,e,r){return _o&21?(pi(r,e)||(r=R9(),Et.lanes|=r,So|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,sn=!0),t.memoizedState=r)}function HJ(t,e){var r=tt;tt=r!==0&&4>r?r:4,t(!0);var n=pv.transition;pv.transition={};try{t(!1),e()}finally{tt=r,pv.transition=n}}function OV(){return Kn().memoizedState}function KJ(t,e,r){var n=oa(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},PV(t))TV(e,r);else if(r=cV(t,e,r,n),r!==null){var i=Ur();fi(r,t,n,i),IV(r,e,n)}}function GJ(t,e,r){var n=oa(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(PV(t))TV(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,pi(o,a)){var l=e.interleaved;l===null?(i.next=i,SC(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=cV(t,e,i,n),r!==null&&(i=Ur(),fi(r,t,n,i),IV(r,e,n))}}function PV(t){var e=t.alternate;return t===Et||e!==null&&e===Et}function TV(t,e){Wc=sp=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function IV(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,uC(t,r)}}var ap={readContext:Hn,useCallback:Nr,useContext:Nr,useEffect:Nr,useImperativeHandle:Nr,useInsertionEffect:Nr,useLayoutEffect:Nr,useMemo:Nr,useReducer:Nr,useRef:Nr,useState:Nr,useDebugValue:Nr,useDeferredValue:Nr,useTransition:Nr,useMutableSource:Nr,useSyncExternalStore:Nr,useId:Nr,unstable_isNewReconciler:!1},YJ={readContext:Hn,useCallback:function(t,e){return Si().memoizedState=[t,e===void 0?null:e],t},useContext:Hn,useEffect:$T,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Cf(4194308,4,SV.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Cf(4194308,4,t,e)},useInsertionEffect:function(t,e){return Cf(4,2,t,e)},useMemo:function(t,e){var r=Si();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Si();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=KJ.bind(null,Et,t),[n.memoizedState,t]},useRef:function(t){var e=Si();return t={current:t},e.memoizedState=t},useState:RT,useDebugValue:RC,useDeferredValue:function(t){return Si().memoizedState=t},useTransition:function(){var t=RT(!1),e=t[0];return t=HJ.bind(null,t[1]),Si().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Et,i=Si();if(wt){if(r===void 0)throw Error(Z(407));r=r()}else{if(r=e(),or===null)throw Error(Z(349));_o&30||mV(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,$T(gV.bind(null,n,s,t),[t]),n.flags|=2048,yd(9,vV.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Si(),e=or.identifierPrefix;if(wt){var r=Zi,n=Ji;r=(n&~(1<<32-hi(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=vd++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=VJ++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},QJ={readContext:Hn,useCallback:NV,useContext:Hn,useEffect:IC,useImperativeHandle:EV,useInsertionEffect:wV,useLayoutEffect:_V,useMemo:jV,useReducer:mv,useRef:xV,useState:function(){return mv(gd)},useDebugValue:RC,useDeferredValue:function(t){var e=Kn();return CV(e,er.memoizedState,t)},useTransition:function(){var t=mv(gd)[0],e=Kn().memoizedState;return[t,e]},useMutableSource:fV,useSyncExternalStore:pV,useId:OV,unstable_isNewReconciler:!1},XJ={readContext:Hn,useCallback:NV,useContext:Hn,useEffect:IC,useImperativeHandle:EV,useInsertionEffect:wV,useLayoutEffect:_V,useMemo:jV,useReducer:vv,useRef:xV,useState:function(){return vv(gd)},useDebugValue:RC,useDeferredValue:function(t){var e=Kn();return er===null?e.memoizedState=t:CV(e,er.memoizedState,t)},useTransition:function(){var t=vv(gd)[0],e=Kn().memoizedState;return[t,e]},useMutableSource:fV,useSyncExternalStore:pV,useId:OV,unstable_isNewReconciler:!1};function ri(t,e){if(t&&t.defaultProps){e=jt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function kN(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:jt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Kp={isMounted:function(t){return(t=t._reactInternals)?Lo(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Ur(),i=oa(t),s=rs(n,i);s.payload=e,r!=null&&(s.callback=r),e=sa(t,s,i),e!==null&&(fi(e,t,i,n),Nf(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Ur(),i=oa(t),s=rs(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=sa(t,s,i),e!==null&&(fi(e,t,i,n),Nf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ur(),n=oa(t),i=rs(r,n);i.tag=2,e!=null&&(i.callback=e),e=sa(t,i,n),e!==null&&(fi(e,t,n,r),Nf(e,t,n))}};function kT(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!cd(r,n)||!cd(i,s):!0}function RV(t,e,r){var n=!1,i=ba,s=e.contextType;return typeof s=="object"&&s!==null?s=Hn(s):(i=on(e)?xo:Tr.current,n=e.contextTypes,s=(n=n!=null)?ou(t,i):ba),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Kp,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function DT(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Kp.enqueueReplaceState(e,e.state,null)}function DN(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},EC(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Hn(s):(s=on(e)?xo:Tr.current,i.context=ou(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(kN(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Kp.enqueueReplaceState(i,i.state,null),np(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function du(t,e){try{var r="",n=e;do r+=NX(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function gv(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function MN(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var JJ=typeof WeakMap=="function"?WeakMap:Map;function $V(t,e,r){r=rs(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){lp||(lp=!0,HN=n),MN(t,e)},r}function kV(t,e,r){r=rs(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){MN(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){MN(t,e),typeof n!="function"&&(aa===null?aa=new Set([this]):aa.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function MT(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new JJ;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=hZ.bind(null,t,e,r),e.then(t,t))}function qT(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function AT(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=rs(-1,1),e.tag=2,sa(r,e,1))),r.lanes|=1),t)}var ZJ=bs.ReactCurrentOwner,sn=!1;function Ar(t,e,r,n){e.child=t===null?uV(e,null,r,n):uu(e,t.child,r,n)}function FT(t,e,r,n,i){r=r.render;var s=e.ref;return Al(e,i),n=PC(t,e,r,n,s,i),r=TC(),t!==null&&!sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vs(t,e,i)):(wt&&r&&gC(e),e.flags|=1,Ar(t,e,n,i),e.child)}function LT(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!LC(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,DV(t,e,s,n,i)):(t=If(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:cd,r(a,n)&&t.ref===e.ref)return vs(t,e,i)}return e.flags|=1,t=la(s,n),t.ref=e.ref,t.return=e,e.child=t}function DV(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(cd(s,n)&&t.ref===e.ref)if(sn=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(sn=!0);else return e.lanes=t.lanes,vs(t,e,i)}return qN(t,e,r,n,i)}function MV(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},mt(Cl,xn),xn|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,mt(Cl,xn),xn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,mt(Cl,xn),xn|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,mt(Cl,xn),xn|=n;return Ar(t,e,i,r),e.child}function qV(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function qN(t,e,r,n,i){var s=on(r)?xo:Tr.current;return s=ou(e,s),Al(e,i),r=PC(t,e,r,n,s,i),n=TC(),t!==null&&!sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vs(t,e,i)):(wt&&n&&gC(e),e.flags|=1,Ar(t,e,r,i),e.child)}function BT(t,e,r,n,i){if(on(r)){var s=!0;Jf(e)}else s=!1;if(Al(e,i),e.stateNode===null)Of(t,e),RV(e,r,n),DN(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=Hn(c):(c=on(r)?xo:Tr.current,c=ou(e,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==c)&&DT(e,a,n,c),Ds=!1;var f=e.memoizedState;a.state=f,np(e,n,a,i),l=e.memoizedState,o!==n||f!==l||an.current||Ds?(typeof d=="function"&&(kN(e,r,d,n),l=e.memoizedState),(o=Ds||kT(e,r,o,n,f,l,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=c,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,dV(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:ri(e.type,o),a.props=c,h=e.pendingProps,f=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=Hn(l):(l=on(r)?xo:Tr.current,l=ou(e,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||f!==l)&&DT(e,a,n,l),Ds=!1,f=e.memoizedState,a.state=f,np(e,n,a,i);var v=e.memoizedState;o!==h||f!==v||an.current||Ds?(typeof p=="function"&&(kN(e,r,p,n),v=e.memoizedState),(c=Ds||kT(e,r,c,n,f,v,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,v,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,v,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),a.props=n,a.state=v,a.context=l,n=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return AN(t,e,r,n,s,i)}function AN(t,e,r,n,i,s){qV(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&jT(e,r,!1),vs(t,e,s);n=e.stateNode,ZJ.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=uu(e,t.child,null,s),e.child=uu(e,null,o,s)):Ar(t,e,o,s),e.memoizedState=n.state,i&&jT(e,r,!0),e.child}function AV(t){var e=t.stateNode;e.pendingContext?NT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&NT(t,e.context,!1),NC(t,e.containerInfo)}function zT(t,e,r,n,i){return lu(),bC(i),e.flags|=256,Ar(t,e,r,n),e.child}var FN={dehydrated:null,treeContext:null,retryLane:0};function LN(t){return{baseLanes:t,cachePool:null,transitions:null}}function FV(t,e,r){var n=e.pendingProps,i=St.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),mt(St,i&1),t===null)return RN(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Qp(a,n,0,null),t=co(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=LN(r),e.memoizedState=FN,t):$C(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return eZ(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=la(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=la(o,s):(s=co(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?LN(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=FN,n}return s=t.child,t=s.sibling,n=la(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function $C(t,e){return e=Qp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function rf(t,e,r,n){return n!==null&&bC(n),uu(e,t.child,null,r),t=$C(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function eZ(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=gv(Error(Z(422))),rf(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Qp({mode:"visible",children:n.children},i,0,null),s=co(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&uu(e,t.child,null,a),e.child.memoizedState=LN(a),e.memoizedState=FN,s);if(!(e.mode&1))return rf(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(Z(419)),n=gv(s,n,void 0),rf(t,e,a,n)}if(o=(a&t.childLanes)!==0,sn||o){if(n=or,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ms(t,i),fi(n,t,i,-1))}return FC(),n=gv(Error(Z(421))),rf(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=fZ.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Sn=ia(i.nextSibling),En=e,wt=!0,ai=null,t!==null&&(An[Fn++]=Ji,An[Fn++]=Zi,An[Fn++]=wo,Ji=t.id,Zi=t.overflow,wo=e),e=$C(e,n.children),e.flags|=4096,e)}function UT(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),$N(t.return,e,r)}function yv(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function LV(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Ar(t,e,n.children,r),n=St.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&UT(t,r,e);else if(t.tag===19)UT(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(mt(St,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&ip(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),yv(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ip(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}yv(e,!0,r,null,s);break;case"together":yv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Of(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vs(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),So|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Z(153));if(e.child!==null){for(t=e.child,r=la(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=la(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function tZ(t,e,r){switch(e.tag){case 3:AV(e),lu();break;case 5:hV(e);break;case 1:on(e.type)&&Jf(e);break;case 4:NC(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;mt(tp,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(mt(St,St.current&1),e.flags|=128,null):r&e.child.childLanes?FV(t,e,r):(mt(St,St.current&1),t=vs(t,e,r),t!==null?t.sibling:null);mt(St,St.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return LV(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),mt(St,St.current),n)break;return null;case 22:case 23:return e.lanes=0,MV(t,e,r)}return vs(t,e,r)}var BV,BN,zV,UV;BV=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};BN=function(){};zV=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Va(ki.current);var s=null;switch(r){case"input":i=uN(t,i),n=uN(t,n),s=[];break;case"select":i=jt({},i,{value:void 0}),n=jt({},n,{value:void 0}),s=[];break;case"textarea":i=hN(t,i),n=hN(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Qf)}pN(r,n);var a;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(nd.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var l=n[c];if(o=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(nd.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&vt("scroll",t),s||o===l||(s=[])):(s=s||[]).push(c,l))}r&&(s=s||[]).push("style",r);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};UV=function(t,e,r,n){r!==n&&(e.flags|=4)};function wc(t,e){if(!wt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function jr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function rZ(t,e,r){var n=e.pendingProps;switch(yC(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jr(e),null;case 1:return on(e.type)&&Xf(),jr(e),null;case 3:return n=e.stateNode,cu(),yt(an),yt(Tr),CC(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ef(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ai!==null&&(YN(ai),ai=null))),BN(t,e),jr(e),null;case 5:jC(e);var i=Va(md.current);if(r=e.type,t!==null&&e.stateNode!=null)zV(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Z(166));return jr(e),null}if(t=Va(ki.current),ef(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Oi]=e,n[fd]=s,t=(e.mode&1)!==0,r){case"dialog":vt("cancel",n),vt("close",n);break;case"iframe":case"object":case"embed":vt("load",n);break;case"video":case"audio":for(i=0;i<Dc.length;i++)vt(Dc[i],n);break;case"source":vt("error",n);break;case"img":case"image":case"link":vt("error",n),vt("load",n);break;case"details":vt("toggle",n);break;case"input":JP(n,s),vt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},vt("invalid",n);break;case"textarea":eT(n,s),vt("invalid",n)}pN(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&Zh(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Zh(n.textContent,o,t),i=["children",""+o]):nd.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&vt("scroll",n)}switch(r){case"input":Vh(n),ZP(n,s,!0);break;case"textarea":Vh(n),tT(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Qf)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=g9(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Oi]=e,t[fd]=n,BV(t,e,!1,!1),e.stateNode=t;e:{switch(a=mN(r,n),r){case"dialog":vt("cancel",t),vt("close",t),i=n;break;case"iframe":case"object":case"embed":vt("load",t),i=n;break;case"video":case"audio":for(i=0;i<Dc.length;i++)vt(Dc[i],t);i=n;break;case"source":vt("error",t),i=n;break;case"img":case"image":case"link":vt("error",t),vt("load",t),i=n;break;case"details":vt("toggle",t),i=n;break;case"input":JP(t,n),i=uN(t,n),vt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=jt({},n,{value:void 0}),vt("invalid",t);break;case"textarea":eT(t,n),i=hN(t,n),vt("invalid",t);break;default:i=n}pN(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?x9(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&y9(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&id(t,l):typeof l=="number"&&id(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(nd.hasOwnProperty(s)?l!=null&&s==="onScroll"&&vt("scroll",t):l!=null&&nC(t,s,l,a))}switch(r){case"input":Vh(t),ZP(t,n,!1);break;case"textarea":Vh(t),tT(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ya(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?kl(t,!!n.multiple,s,!1):n.defaultValue!=null&&kl(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Qf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return jr(e),null;case 6:if(t&&e.stateNode!=null)UV(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Z(166));if(r=Va(md.current),Va(ki.current),ef(e)){if(n=e.stateNode,r=e.memoizedProps,n[Oi]=e,(s=n.nodeValue!==r)&&(t=En,t!==null))switch(t.tag){case 3:Zh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Zh(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Oi]=e,e.stateNode=n}return jr(e),null;case 13:if(yt(St),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(wt&&Sn!==null&&e.mode&1&&!(e.flags&128))oV(),lu(),e.flags|=98560,s=!1;else if(s=ef(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(Z(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Z(317));s[Oi]=e}else lu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;jr(e),s=!1}else ai!==null&&(YN(ai),ai=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||St.current&1?tr===0&&(tr=3):FC())),e.updateQueue!==null&&(e.flags|=4),jr(e),null);case 4:return cu(),BN(t,e),t===null&&dd(e.stateNode.containerInfo),jr(e),null;case 10:return _C(e.type._context),jr(e),null;case 17:return on(e.type)&&Xf(),jr(e),null;case 19:if(yt(St),s=e.memoizedState,s===null)return jr(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)wc(s,!1);else{if(tr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=ip(t),a!==null){for(e.flags|=128,wc(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return mt(St,St.current&1|2),e.child}t=t.sibling}s.tail!==null&&qt()>hu&&(e.flags|=128,n=!0,wc(s,!1),e.lanes=4194304)}else{if(!n)if(t=ip(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),wc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!wt)return jr(e),null}else 2*qt()-s.renderingStartTime>hu&&r!==1073741824&&(e.flags|=128,n=!0,wc(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=qt(),e.sibling=null,r=St.current,mt(St,n?r&1|2:r&1),e):(jr(e),null);case 22:case 23:return AC(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?xn&1073741824&&(jr(e),e.subtreeFlags&6&&(e.flags|=8192)):jr(e),null;case 24:return null;case 25:return null}throw Error(Z(156,e.tag))}function nZ(t,e){switch(yC(e),e.tag){case 1:return on(e.type)&&Xf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return cu(),yt(an),yt(Tr),CC(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return jC(e),null;case 13:if(yt(St),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Z(340));lu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return yt(St),null;case 4:return cu(),null;case 10:return _C(e.type._context),null;case 22:case 23:return AC(),null;case 24:return null;default:return null}}var nf=!1,Or=!1,iZ=typeof WeakSet=="function"?WeakSet:Set,ve=null;function jl(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){It(t,e,n)}else r.current=null}function zN(t,e,r){try{r()}catch(n){It(t,e,n)}}var WT=!1;function sZ(t,e){if(NN=Kf,t=G9(),vC(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==r||i!==0&&h.nodeType!==3||(o=a+i),h!==s||n!==0&&h.nodeType!==3||(l=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===r&&++c===i&&(o=a),f===s&&++d===n&&(l=a),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(jN={focusedElem:t,selectionRange:r},Kf=!1,ve=e;ve!==null;)if(e=ve,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ve=t;else for(;ve!==null;){e=ve;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,x=v.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:ri(e.type,y),x);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(b){It(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,ve=t;break}ve=e.return}return v=WT,WT=!1,v}function Vc(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&zN(e,r,s)}i=i.next}while(i!==n)}}function Gp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function UN(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function WV(t){var e=t.alternate;e!==null&&(t.alternate=null,WV(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Oi],delete e[fd],delete e[PN],delete e[BJ],delete e[zJ])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function VV(t){return t.tag===5||t.tag===3||t.tag===4}function VT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||VV(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function WN(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Qf));else if(n!==4&&(t=t.child,t!==null))for(WN(t,e,r),t=t.sibling;t!==null;)WN(t,e,r),t=t.sibling}function VN(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(VN(t,e,r),t=t.sibling;t!==null;)VN(t,e,r),t=t.sibling}var gr=null,si=!1;function Ts(t,e,r){for(r=r.child;r!==null;)HV(t,e,r),r=r.sibling}function HV(t,e,r){if($i&&typeof $i.onCommitFiberUnmount=="function")try{$i.onCommitFiberUnmount(Lp,r)}catch{}switch(r.tag){case 5:Or||jl(r,e);case 6:var n=gr,i=si;gr=null,Ts(t,e,r),gr=n,si=i,gr!==null&&(si?(t=gr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):gr.removeChild(r.stateNode));break;case 18:gr!==null&&(si?(t=gr,r=r.stateNode,t.nodeType===8?dv(t.parentNode,r):t.nodeType===1&&dv(t,r),ld(t)):dv(gr,r.stateNode));break;case 4:n=gr,i=si,gr=r.stateNode.containerInfo,si=!0,Ts(t,e,r),gr=n,si=i;break;case 0:case 11:case 14:case 15:if(!Or&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&zN(r,e,a),i=i.next}while(i!==n)}Ts(t,e,r);break;case 1:if(!Or&&(jl(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){It(r,e,o)}Ts(t,e,r);break;case 21:Ts(t,e,r);break;case 22:r.mode&1?(Or=(n=Or)||r.memoizedState!==null,Ts(t,e,r),Or=n):Ts(t,e,r);break;default:Ts(t,e,r)}}function HT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new iZ),e.forEach(function(n){var i=pZ.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function ei(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:gr=o.stateNode,si=!1;break e;case 3:gr=o.stateNode.containerInfo,si=!0;break e;case 4:gr=o.stateNode.containerInfo,si=!0;break e}o=o.return}if(gr===null)throw Error(Z(160));HV(s,a,i),gr=null,si=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){It(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)KV(e,t),e=e.sibling}function KV(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ei(e,t),wi(t),n&4){try{Vc(3,t,t.return),Gp(3,t)}catch(y){It(t,t.return,y)}try{Vc(5,t,t.return)}catch(y){It(t,t.return,y)}}break;case 1:ei(e,t),wi(t),n&512&&r!==null&&jl(r,r.return);break;case 5:if(ei(e,t),wi(t),n&512&&r!==null&&jl(r,r.return),t.flags&32){var i=t.stateNode;try{id(i,"")}catch(y){It(t,t.return,y)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&m9(i,s),mN(o,a);var c=mN(o,s);for(a=0;a<l.length;a+=2){var d=l[a],h=l[a+1];d==="style"?x9(i,h):d==="dangerouslySetInnerHTML"?y9(i,h):d==="children"?id(i,h):nC(i,d,h,c)}switch(o){case"input":cN(i,s);break;case"textarea":v9(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?kl(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?kl(i,!!s.multiple,s.defaultValue,!0):kl(i,!!s.multiple,s.multiple?[]:"",!1))}i[fd]=s}catch(y){It(t,t.return,y)}}break;case 6:if(ei(e,t),wi(t),n&4){if(t.stateNode===null)throw Error(Z(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){It(t,t.return,y)}}break;case 3:if(ei(e,t),wi(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ld(e.containerInfo)}catch(y){It(t,t.return,y)}break;case 4:ei(e,t),wi(t);break;case 13:ei(e,t),wi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(MC=qt())),n&4&&HT(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Or=(c=Or)||d,ei(e,t),Or=c):ei(e,t),wi(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(ve=t,d=t.child;d!==null;){for(h=ve=d;ve!==null;){switch(f=ve,p=f.child,f.tag){case 0:case 11:case 14:case 15:Vc(4,f,f.return);break;case 1:jl(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){It(n,r,y)}}break;case 5:jl(f,f.return);break;case 22:if(f.memoizedState!==null){GT(h);continue}}p!==null?(p.return=f,ve=p):GT(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=b9("display",a))}catch(y){It(t,t.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){It(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ei(e,t),wi(t),n&4&&HT(t);break;case 21:break;default:ei(e,t),wi(t)}}function wi(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(VV(r)){var n=r;break e}r=r.return}throw Error(Z(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(id(i,""),n.flags&=-33);var s=VT(t);VN(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=VT(t);WN(t,o,a);break;default:throw Error(Z(161))}}catch(l){It(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function aZ(t,e,r){ve=t,GV(t)}function GV(t,e,r){for(var n=(t.mode&1)!==0;ve!==null;){var i=ve,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||nf;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Or;o=nf;var c=Or;if(nf=a,(Or=l)&&!c)for(ve=i;ve!==null;)a=ve,l=a.child,a.tag===22&&a.memoizedState!==null?YT(i):l!==null?(l.return=a,ve=l):YT(i);for(;s!==null;)ve=s,GV(s),s=s.sibling;ve=i,nf=o,Or=c}KT(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ve=s):KT(t)}}function KT(t){for(;ve!==null;){var e=ve;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Or||Gp(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Or)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:ri(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&IT(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}IT(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ld(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}Or||e.flags&512&&UN(e)}catch(f){It(e,e.return,f)}}if(e===t){ve=null;break}if(r=e.sibling,r!==null){r.return=e.return,ve=r;break}ve=e.return}}function GT(t){for(;ve!==null;){var e=ve;if(e===t){ve=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ve=r;break}ve=e.return}}function YT(t){for(;ve!==null;){var e=ve;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Gp(4,e)}catch(l){It(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){It(e,i,l)}}var s=e.return;try{UN(e)}catch(l){It(e,s,l)}break;case 5:var a=e.return;try{UN(e)}catch(l){It(e,a,l)}}}catch(l){It(e,e.return,l)}if(e===t){ve=null;break}var o=e.sibling;if(o!==null){o.return=e.return,ve=o;break}ve=e.return}}var oZ=Math.ceil,op=bs.ReactCurrentDispatcher,kC=bs.ReactCurrentOwner,Un=bs.ReactCurrentBatchConfig,He=0,or=null,Ut=null,yr=0,xn=0,Cl=Na(0),tr=0,bd=null,So=0,Yp=0,DC=0,Hc=null,tn=null,MC=0,hu=1/0,Hi=null,lp=!1,HN=null,aa=null,sf=!1,Js=null,up=0,Kc=0,KN=null,Pf=-1,Tf=0;function Ur(){return He&6?qt():Pf!==-1?Pf:Pf=qt()}function oa(t){return t.mode&1?He&2&&yr!==0?yr&-yr:WJ.transition!==null?(Tf===0&&(Tf=R9()),Tf):(t=tt,t!==0||(t=window.event,t=t===void 0?16:F9(t.type)),t):1}function fi(t,e,r,n){if(50<Kc)throw Kc=0,KN=null,Error(Z(185));Hd(t,r,n),(!(He&2)||t!==or)&&(t===or&&(!(He&2)&&(Yp|=r),tr===4&&Fs(t,yr)),ln(t,n),r===1&&He===0&&!(e.mode&1)&&(hu=qt()+500,Vp&&ja()))}function ln(t,e){var r=t.callbackNode;WX(t,e);var n=Hf(t,t===or?yr:0);if(n===0)r!==null&&iT(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&iT(r),e===1)t.tag===0?UJ(QT.bind(null,t)):iV(QT.bind(null,t)),FJ(function(){!(He&6)&&ja()}),r=null;else{switch($9(n)){case 1:r=lC;break;case 4:r=T9;break;case 16:r=Vf;break;case 536870912:r=I9;break;default:r=Vf}r=rH(r,YV.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function YV(t,e){if(Pf=-1,Tf=0,He&6)throw Error(Z(327));var r=t.callbackNode;if(Fl()&&t.callbackNode!==r)return null;var n=Hf(t,t===or?yr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=cp(t,n);else{e=n;var i=He;He|=2;var s=XV();(or!==t||yr!==e)&&(Hi=null,hu=qt()+500,uo(t,e));do try{cZ();break}catch(o){QV(t,o)}while(!0);wC(),op.current=s,He=i,Ut!==null?e=0:(or=null,yr=0,e=tr)}if(e!==0){if(e===2&&(i=xN(t),i!==0&&(n=i,e=GN(t,i))),e===1)throw r=bd,uo(t,0),Fs(t,n),ln(t,qt()),r;if(e===6)Fs(t,n);else{if(i=t.current.alternate,!(n&30)&&!lZ(i)&&(e=cp(t,n),e===2&&(s=xN(t),s!==0&&(n=s,e=GN(t,s))),e===1))throw r=bd,uo(t,0),Fs(t,n),ln(t,qt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Z(345));case 2:La(t,tn,Hi);break;case 3:if(Fs(t,n),(n&130023424)===n&&(e=MC+500-qt(),10<e)){if(Hf(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Ur(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ON(La.bind(null,t,tn,Hi),e);break}La(t,tn,Hi);break;case 4:if(Fs(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-hi(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=qt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*oZ(n/1960))-n,10<n){t.timeoutHandle=ON(La.bind(null,t,tn,Hi),n);break}La(t,tn,Hi);break;case 5:La(t,tn,Hi);break;default:throw Error(Z(329))}}}return ln(t,qt()),t.callbackNode===r?YV.bind(null,t):null}function GN(t,e){var r=Hc;return t.current.memoizedState.isDehydrated&&(uo(t,e).flags|=256),t=cp(t,e),t!==2&&(e=tn,tn=r,e!==null&&YN(e)),t}function YN(t){tn===null?tn=t:tn.push.apply(tn,t)}function lZ(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!pi(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Fs(t,e){for(e&=~DC,e&=~Yp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-hi(e),n=1<<r;t[r]=-1,e&=~n}}function QT(t){if(He&6)throw Error(Z(327));Fl();var e=Hf(t,0);if(!(e&1))return ln(t,qt()),null;var r=cp(t,e);if(t.tag!==0&&r===2){var n=xN(t);n!==0&&(e=n,r=GN(t,n))}if(r===1)throw r=bd,uo(t,0),Fs(t,e),ln(t,qt()),r;if(r===6)throw Error(Z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,La(t,tn,Hi),ln(t,qt()),null}function qC(t,e){var r=He;He|=1;try{return t(e)}finally{He=r,He===0&&(hu=qt()+500,Vp&&ja())}}function Eo(t){Js!==null&&Js.tag===0&&!(He&6)&&Fl();var e=He;He|=1;var r=Un.transition,n=tt;try{if(Un.transition=null,tt=1,t)return t()}finally{tt=n,Un.transition=r,He=e,!(He&6)&&ja()}}function AC(){xn=Cl.current,yt(Cl)}function uo(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,AJ(r)),Ut!==null)for(r=Ut.return;r!==null;){var n=r;switch(yC(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Xf();break;case 3:cu(),yt(an),yt(Tr),CC();break;case 5:jC(n);break;case 4:cu();break;case 13:yt(St);break;case 19:yt(St);break;case 10:_C(n.type._context);break;case 22:case 23:AC()}r=r.return}if(or=t,Ut=t=la(t.current,null),yr=xn=e,tr=0,bd=null,DC=Yp=So=0,tn=Hc=null,Wa!==null){for(e=0;e<Wa.length;e++)if(r=Wa[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}Wa=null}return t}function QV(t,e){do{var r=Ut;try{if(wC(),jf.current=ap,sp){for(var n=Et.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}sp=!1}if(_o=0,ar=er=Et=null,Wc=!1,vd=0,kC.current=null,r===null||r.return===null){tr=1,bd=e,Ut=null;break}e:{var s=t,a=r.return,o=r,l=e;if(e=yr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=qT(a);if(p!==null){p.flags&=-257,AT(p,a,o,s,e),p.mode&1&&MT(s,c,e),e=p,l=c;var v=e.updateQueue;if(v===null){var y=new Set;y.add(l),e.updateQueue=y}else v.add(l);break e}else{if(!(e&1)){MT(s,c,e),FC();break e}l=Error(Z(426))}}else if(wt&&o.mode&1){var x=qT(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),AT(x,a,o,s,e),bC(du(l,o));break e}}s=l=du(l,o),tr!==4&&(tr=2),Hc===null?Hc=[s]:Hc.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=$V(s,l,e);TT(s,g);break e;case 1:o=l;var m=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(aa===null||!aa.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=kV(s,o,e);TT(s,b);break e}}s=s.return}while(s!==null)}ZV(r)}catch(_){e=_,Ut===r&&r!==null&&(Ut=r=r.return);continue}break}while(!0)}function XV(){var t=op.current;return op.current=ap,t===null?ap:t}function FC(){(tr===0||tr===3||tr===2)&&(tr=4),or===null||!(So&268435455)&&!(Yp&268435455)||Fs(or,yr)}function cp(t,e){var r=He;He|=2;var n=XV();(or!==t||yr!==e)&&(Hi=null,uo(t,e));do try{uZ();break}catch(i){QV(t,i)}while(!0);if(wC(),He=r,op.current=n,Ut!==null)throw Error(Z(261));return or=null,yr=0,tr}function uZ(){for(;Ut!==null;)JV(Ut)}function cZ(){for(;Ut!==null&&!DX();)JV(Ut)}function JV(t){var e=tH(t.alternate,t,xn);t.memoizedProps=t.pendingProps,e===null?ZV(t):Ut=e,kC.current=null}function ZV(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=nZ(r,e),r!==null){r.flags&=32767,Ut=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{tr=6,Ut=null;return}}else if(r=rZ(r,e,xn),r!==null){Ut=r;return}if(e=e.sibling,e!==null){Ut=e;return}Ut=e=t}while(e!==null);tr===0&&(tr=5)}function La(t,e,r){var n=tt,i=Un.transition;try{Un.transition=null,tt=1,dZ(t,e,r,n)}finally{Un.transition=i,tt=n}return null}function dZ(t,e,r,n){do Fl();while(Js!==null);if(He&6)throw Error(Z(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Z(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(VX(t,s),t===or&&(Ut=or=null,yr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||sf||(sf=!0,rH(Vf,function(){return Fl(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Un.transition,Un.transition=null;var a=tt;tt=1;var o=He;He|=4,kC.current=null,sZ(t,r),KV(r,t),IJ(jN),Kf=!!NN,jN=NN=null,t.current=r,aZ(r),MX(),He=o,tt=a,Un.transition=s}else t.current=r;if(sf&&(sf=!1,Js=t,up=i),s=t.pendingLanes,s===0&&(aa=null),FX(r.stateNode),ln(t,qt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(lp)throw lp=!1,t=HN,HN=null,t;return up&1&&t.tag!==0&&Fl(),s=t.pendingLanes,s&1?t===KN?Kc++:(Kc=0,KN=t):Kc=0,ja(),null}function Fl(){if(Js!==null){var t=$9(up),e=Un.transition,r=tt;try{if(Un.transition=null,tt=16>t?16:t,Js===null)var n=!1;else{if(t=Js,Js=null,up=0,He&6)throw Error(Z(331));var i=He;for(He|=4,ve=t.current;ve!==null;){var s=ve,a=s.child;if(ve.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(ve=c;ve!==null;){var d=ve;switch(d.tag){case 0:case 11:case 15:Vc(8,d,s)}var h=d.child;if(h!==null)h.return=d,ve=h;else for(;ve!==null;){d=ve;var f=d.sibling,p=d.return;if(WV(d),d===c){ve=null;break}if(f!==null){f.return=p,ve=f;break}ve=p}}}var v=s.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}ve=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,ve=a;else e:for(;ve!==null;){if(s=ve,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Vc(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,ve=g;break e}ve=s.return}}var m=t.current;for(ve=m;ve!==null;){a=ve;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,ve=w;else e:for(a=m;ve!==null;){if(o=ve,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Gp(9,o)}}catch(_){It(o,o.return,_)}if(o===a){ve=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,ve=b;break e}ve=o.return}}if(He=i,ja(),$i&&typeof $i.onPostCommitFiberRoot=="function")try{$i.onPostCommitFiberRoot(Lp,t)}catch{}n=!0}return n}finally{tt=r,Un.transition=e}}return!1}function XT(t,e,r){e=du(r,e),e=$V(t,e,1),t=sa(t,e,1),e=Ur(),t!==null&&(Hd(t,1,e),ln(t,e))}function It(t,e,r){if(t.tag===3)XT(t,t,r);else for(;e!==null;){if(e.tag===3){XT(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(aa===null||!aa.has(n))){t=du(r,t),t=kV(e,t,1),e=sa(e,t,1),t=Ur(),e!==null&&(Hd(e,1,t),ln(e,t));break}}e=e.return}}function hZ(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Ur(),t.pingedLanes|=t.suspendedLanes&r,or===t&&(yr&r)===r&&(tr===4||tr===3&&(yr&130023424)===yr&&500>qt()-MC?uo(t,0):DC|=r),ln(t,e)}function eH(t,e){e===0&&(t.mode&1?(e=Gh,Gh<<=1,!(Gh&130023424)&&(Gh=4194304)):e=1);var r=Ur();t=ms(t,e),t!==null&&(Hd(t,e,r),ln(t,r))}function fZ(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),eH(t,r)}function pZ(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Z(314))}n!==null&&n.delete(e),eH(t,r)}var tH;tH=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||an.current)sn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return sn=!1,tZ(t,e,r);sn=!!(t.flags&131072)}else sn=!1,wt&&e.flags&1048576&&sV(e,ep,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Of(t,e),t=e.pendingProps;var i=ou(e,Tr.current);Al(e,r),i=PC(null,e,n,t,i,r);var s=TC();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,on(n)?(s=!0,Jf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,EC(e),i.updater=Kp,e.stateNode=i,i._reactInternals=e,DN(e,n,t,r),e=AN(null,e,n,!0,s,r)):(e.tag=0,wt&&s&&gC(e),Ar(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Of(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=vZ(n),t=ri(n,t),i){case 0:e=qN(null,e,n,t,r);break e;case 1:e=BT(null,e,n,t,r);break e;case 11:e=FT(null,e,n,t,r);break e;case 14:e=LT(null,e,n,ri(n.type,t),r);break e}throw Error(Z(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ri(n,i),qN(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ri(n,i),BT(t,e,n,i,r);case 3:e:{if(AV(e),t===null)throw Error(Z(387));n=e.pendingProps,s=e.memoizedState,i=s.element,dV(t,e),np(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=du(Error(Z(423)),e),e=zT(t,e,n,r,i);break e}else if(n!==i){i=du(Error(Z(424)),e),e=zT(t,e,n,r,i);break e}else for(Sn=ia(e.stateNode.containerInfo.firstChild),En=e,wt=!0,ai=null,r=uV(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(lu(),n===i){e=vs(t,e,r);break e}Ar(t,e,n,r)}e=e.child}return e;case 5:return hV(e),t===null&&RN(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,CN(n,i)?a=null:s!==null&&CN(n,s)&&(e.flags|=32),qV(t,e),Ar(t,e,a,r),e.child;case 6:return t===null&&RN(e),null;case 13:return FV(t,e,r);case 4:return NC(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=uu(e,null,n,r):Ar(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ri(n,i),FT(t,e,n,i,r);case 7:return Ar(t,e,e.pendingProps,r),e.child;case 8:return Ar(t,e,e.pendingProps.children,r),e.child;case 12:return Ar(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,mt(tp,n._currentValue),n._currentValue=a,s!==null)if(pi(s.value,a)){if(s.children===i.children&&!an.current){e=vs(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=rs(-1,r&-r),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),$N(s.return,r,e),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Z(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),$N(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Ar(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Al(e,r),i=Hn(i),n=n(i),e.flags|=1,Ar(t,e,n,r),e.child;case 14:return n=e.type,i=ri(n,e.pendingProps),i=ri(n.type,i),LT(t,e,n,i,r);case 15:return DV(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ri(n,i),Of(t,e),e.tag=1,on(n)?(t=!0,Jf(e)):t=!1,Al(e,r),RV(e,n,i),DN(e,n,i,r),AN(null,e,n,!0,t,r);case 19:return LV(t,e,r);case 22:return MV(t,e,r)}throw Error(Z(156,e.tag))};function rH(t,e){return P9(t,e)}function mZ(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(t,e,r,n){return new mZ(t,e,r,n)}function LC(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vZ(t){if(typeof t=="function")return LC(t)?1:0;if(t!=null){if(t=t.$$typeof,t===sC)return 11;if(t===aC)return 14}return 2}function la(t,e){var r=t.alternate;return r===null?(r=zn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function If(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")LC(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case gl:return co(r.children,i,s,e);case iC:a=8,i|=8;break;case sN:return t=zn(12,r,e,i|2),t.elementType=sN,t.lanes=s,t;case aN:return t=zn(13,r,e,i),t.elementType=aN,t.lanes=s,t;case oN:return t=zn(19,r,e,i),t.elementType=oN,t.lanes=s,t;case h9:return Qp(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case c9:a=10;break e;case d9:a=9;break e;case sC:a=11;break e;case aC:a=14;break e;case ks:a=16,n=null;break e}throw Error(Z(130,t==null?t:typeof t,""))}return e=zn(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function co(t,e,r,n){return t=zn(7,t,n,e),t.lanes=r,t}function Qp(t,e,r,n){return t=zn(22,t,n,e),t.elementType=h9,t.lanes=r,t.stateNode={isHidden:!1},t}function bv(t,e,r){return t=zn(6,t,null,e),t.lanes=r,t}function xv(t,e,r){return e=zn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function gZ(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ev(0),this.expirationTimes=ev(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ev(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function BC(t,e,r,n,i,s,a,o,l){return t=new gZ(t,e,r,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=zn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},EC(s),t}function yZ(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vl,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function nH(t){if(!t)return ba;t=t._reactInternals;e:{if(Lo(t)!==t||t.tag!==1)throw Error(Z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(on(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Z(171))}if(t.tag===1){var r=t.type;if(on(r))return nV(t,r,e)}return e}function iH(t,e,r,n,i,s,a,o,l){return t=BC(r,n,!0,t,i,s,a,o,l),t.context=nH(null),r=t.current,n=Ur(),i=oa(r),s=rs(n,i),s.callback=e??null,sa(r,s,i),t.current.lanes=i,Hd(t,i,n),ln(t,n),t}function Xp(t,e,r,n){var i=e.current,s=Ur(),a=oa(i);return r=nH(r),e.context===null?e.context=r:e.pendingContext=r,e=rs(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=sa(i,e,a),t!==null&&(fi(t,i,a,s),Nf(t,i,a)),a}function dp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function JT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function zC(t,e){JT(t,e),(t=t.alternate)&&JT(t,e)}function bZ(){return null}var sH=typeof reportError=="function"?reportError:function(t){console.error(t)};function UC(t){this._internalRoot=t}Jp.prototype.render=UC.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Z(409));Xp(t,e,null,null)};Jp.prototype.unmount=UC.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Eo(function(){Xp(null,t,null,null)}),e[ps]=null}};function Jp(t){this._internalRoot=t}Jp.prototype.unstable_scheduleHydration=function(t){if(t){var e=M9();t={blockedOn:null,target:t,priority:e};for(var r=0;r<As.length&&e!==0&&e<As[r].priority;r++);As.splice(r,0,t),r===0&&A9(t)}};function WC(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ZT(){}function xZ(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=dp(a);s.call(c)}}var a=iH(e,n,t,0,null,!1,!1,"",ZT);return t._reactRootContainer=a,t[ps]=a.current,dd(t.nodeType===8?t.parentNode:t),Eo(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var c=dp(l);o.call(c)}}var l=BC(t,0,!1,null,null,!1,!1,"",ZT);return t._reactRootContainer=l,t[ps]=l.current,dd(t.nodeType===8?t.parentNode:t),Eo(function(){Xp(e,l,r,n)}),l}function em(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=dp(a);o.call(l)}}Xp(e,a,t,i)}else a=xZ(r,e,t,i,n);return dp(a)}k9=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=kc(e.pendingLanes);r!==0&&(uC(e,r|1),ln(e,qt()),!(He&6)&&(hu=qt()+500,ja()))}break;case 13:Eo(function(){var n=ms(t,1);if(n!==null){var i=Ur();fi(n,t,1,i)}}),zC(t,1)}};cC=function(t){if(t.tag===13){var e=ms(t,134217728);if(e!==null){var r=Ur();fi(e,t,134217728,r)}zC(t,134217728)}};D9=function(t){if(t.tag===13){var e=oa(t),r=ms(t,e);if(r!==null){var n=Ur();fi(r,t,e,n)}zC(t,e)}};M9=function(){return tt};q9=function(t,e){var r=tt;try{return tt=t,e()}finally{tt=r}};gN=function(t,e,r){switch(e){case"input":if(cN(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Wp(n);if(!i)throw Error(Z(90));p9(n),cN(n,i)}}}break;case"textarea":v9(t,r);break;case"select":e=r.value,e!=null&&kl(t,!!r.multiple,e,!1)}};S9=qC;E9=Eo;var wZ={usingClientEntryPoint:!1,Events:[Gd,wl,Wp,w9,_9,qC]},_c={findFiberByHostInstance:Ua,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_Z={bundleType:_c.bundleType,version:_c.version,rendererPackageName:_c.rendererPackageName,rendererConfig:_c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=C9(t),t===null?null:t.stateNode},findFiberByHostInstance:_c.findFiberByHostInstance||bZ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var af=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!af.isDisabled&&af.supportsFiber)try{Lp=af.inject(_Z),$i=af}catch{}}Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wZ;Cn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!WC(e))throw Error(Z(200));return yZ(t,e,null,r)};Cn.createRoot=function(t,e){if(!WC(t))throw Error(Z(299));var r=!1,n="",i=sH;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=BC(t,1,!1,null,null,r,!1,n,i),t[ps]=e.current,dd(t.nodeType===8?t.parentNode:t),new UC(e)};Cn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Z(188)):(t=Object.keys(t).join(","),Error(Z(268,t)));return t=C9(e),t=t===null?null:t.stateNode,t};Cn.flushSync=function(t){return Eo(t)};Cn.hydrate=function(t,e,r){if(!Zp(e))throw Error(Z(200));return em(null,t,e,!0,r)};Cn.hydrateRoot=function(t,e,r){if(!WC(t))throw Error(Z(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=sH;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=iH(e,null,t,1,r??null,i,!1,s,a),t[ps]=e.current,dd(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Jp(e)};Cn.render=function(t,e,r){if(!Zp(e))throw Error(Z(200));return em(null,t,e,!1,r)};Cn.unmountComponentAtNode=function(t){if(!Zp(t))throw Error(Z(40));return t._reactRootContainer?(Eo(function(){em(null,null,t,!1,function(){t._reactRootContainer=null,t[ps]=null})}),!0):!1};Cn.unstable_batchedUpdates=qC;Cn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Zp(r))throw Error(Z(200));if(t==null||t._reactInternals===void 0)throw Error(Z(38));return em(t,e,r,!1,n)};Cn.version="18.3.1-next-f1338f8080-20240426";function aH(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(aH)}catch(t){console.error(t)}}aH(),a9.exports=Cn;var SZ=a9.exports,eI=SZ;nN.createRoot=eI.createRoot,nN.hydrateRoot=eI.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xd(){return xd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xd.apply(this,arguments)}var Zs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Zs||(Zs={}));const tI="popstate";function EZ(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:a,hash:o}=n.location;return QN("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:hp(i)}return jZ(e,r,null,t)}function Nt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function VC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function NZ(){return Math.random().toString(36).substr(2,8)}function rI(t,e){return{usr:t.state,key:t.key,idx:e}}function QN(t,e,r,n){return r===void 0&&(r=null),xd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ru(e):e,{state:r,key:e&&e.key||n||NZ()})}function hp(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ru(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function jZ(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=Zs.Pop,l=null,c=d();c==null&&(c=0,a.replaceState(xd({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function h(){o=Zs.Pop;let x=d(),g=x==null?null:x-c;c=x,l&&l({action:o,location:y.location,delta:g})}function f(x,g){o=Zs.Push;let m=QN(y.location,x,g);c=d()+1;let w=rI(m,c),b=y.createHref(m);try{a.pushState(w,"",b)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(b)}s&&l&&l({action:o,location:y.location,delta:1})}function p(x,g){o=Zs.Replace;let m=QN(y.location,x,g);c=d();let w=rI(m,c),b=y.createHref(m);a.replaceState(w,"",b),s&&l&&l({action:o,location:y.location,delta:0})}function v(x){let g=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof x=="string"?x:hp(x);return m=m.replace(/ $/,"%20"),Nt(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let y={get action(){return o},get location(){return t(i,a)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(tI,h),l=x,()=>{i.removeEventListener(tI,h),l=null}},createHref(x){return e(i,x)},createURL:v,encodeLocation(x){let g=v(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(x){return a.go(x)}};return y}var nI;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(nI||(nI={}));function CZ(t,e,r){return r===void 0&&(r="/"),OZ(t,e,r)}function OZ(t,e,r,n){let i=typeof e=="string"?Ru(e):e,s=fu(i.pathname||"/",r);if(s==null)return null;let a=oH(t);PZ(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=LZ(s);o=AZ(a[l],c)}return o}function oH(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(Nt(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=ua([n,l.relativePath]),d=r.concat(l);s.children&&s.children.length>0&&(Nt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),oH(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:MZ(c,s.index),routesMeta:d})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of lH(s.path))i(s,a,l)}),e}function lH(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=lH(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function PZ(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:qZ(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const TZ=/^:[\w-]+$/,IZ=3,RZ=2,$Z=1,kZ=10,DZ=-2,iI=t=>t==="*";function MZ(t,e){let r=t.split("/"),n=r.length;return r.some(iI)&&(n+=DZ),e&&(n+=RZ),r.filter(i=>!iI(i)).reduce((i,s)=>i+(TZ.test(s)?IZ:s===""?$Z:kZ),n)}function qZ(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function AZ(t,e,r){let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=XN({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!h)return null;Object.assign(i,h.params),a.push({params:i,pathname:ua([s,h.pathname]),pathnameBase:VZ(ua([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=ua([s,h.pathnameBase]))}return a}function XN(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=FZ(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((c,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let y=o[h]||"";a=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const v=o[h];return p&&!v?c[f]=void 0:c[f]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function FZ(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),VC(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function LZ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return VC(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function fu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const BZ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zZ=t=>BZ.test(t);function UZ(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Ru(t):t,s;if(r)if(zZ(r))s=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),VC(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?s=sI(r.substring(1),"/"):s=sI(r,e)}else s=e;return{pathname:s,search:HZ(n),hash:KZ(i)}}function sI(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function wv(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function WZ(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function HC(t,e){let r=WZ(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function KC(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Ru(t):(i=xd({},t),Nt(!i.pathname||!i.pathname.includes("?"),wv("?","pathname","search",i)),Nt(!i.pathname||!i.pathname.includes("#"),wv("#","pathname","hash",i)),Nt(!i.search||!i.search.includes("#"),wv("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let h=e.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}o=h>=0?e[h]:"/"}let l=UZ(i,o),c=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const ua=t=>t.join("/").replace(/\/\/+/g,"/"),VZ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),HZ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,KZ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function GZ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const uH=["post","put","patch","delete"];new Set(uH);const YZ=["get",...uH];new Set(YZ);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wd(){return wd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wd.apply(this,arguments)}const tm=T.createContext(null),cH=T.createContext(null),xs=T.createContext(null),rm=T.createContext(null),ws=T.createContext({outlet:null,matches:[],isDataRoute:!1}),dH=T.createContext(null);function QZ(t,e){let{relative:r}=e===void 0?{}:e;$u()||Nt(!1);let{basename:n,navigator:i}=T.useContext(xs),{hash:s,pathname:a,search:o}=nm(t,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:ua([n,a])),i.createHref({pathname:l,search:o,hash:s})}function $u(){return T.useContext(rm)!=null}function _s(){return $u()||Nt(!1),T.useContext(rm).location}function hH(t){T.useContext(xs).static||T.useLayoutEffect(t)}function Gr(){let{isDataRoute:t}=T.useContext(ws);return t?uee():XZ()}function XZ(){$u()||Nt(!1);let t=T.useContext(tm),{basename:e,future:r,navigator:n}=T.useContext(xs),{matches:i}=T.useContext(ws),{pathname:s}=_s(),a=JSON.stringify(HC(i,r.v7_relativeSplatPath)),o=T.useRef(!1);return hH(()=>{o.current=!0}),T.useCallback(function(c,d){if(d===void 0&&(d={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let h=KC(c,JSON.parse(a),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ua([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,a,s,t])}function Ss(){let{matches:t}=T.useContext(ws),e=t[t.length-1];return e?e.params:{}}function nm(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=T.useContext(xs),{matches:i}=T.useContext(ws),{pathname:s}=_s(),a=JSON.stringify(HC(i,n.v7_relativeSplatPath));return T.useMemo(()=>KC(t,JSON.parse(a),s,r==="path"),[t,a,s,r])}function JZ(t,e){return ZZ(t,e)}function ZZ(t,e,r,n){$u()||Nt(!1);let{navigator:i}=T.useContext(xs),{matches:s}=T.useContext(ws),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=_s(),d;if(e){var h;let x=typeof e=="string"?Ru(e):e;l==="/"||(h=x.pathname)!=null&&h.startsWith(l)||Nt(!1),d=x}else d=c;let f=d.pathname||"/",p=f;if(l!=="/"){let x=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=CZ(t,{pathname:p}),y=iee(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:ua([l,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:ua([l,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,r,n);return e&&y?T.createElement(rm.Provider,{value:{location:wd({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Zs.Pop}},y):y}function eee(){let t=lee(),e=GZ(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),r?T.createElement("pre",{style:i},r):null,null)}const tee=T.createElement(eee,null);class ree extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?T.createElement(ws.Provider,{value:this.props.routeContext},T.createElement(dH.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function nee(t){let{routeContext:e,match:r,children:n}=t,i=T.useContext(tm);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),T.createElement(ws.Provider,{value:e},n)}function iee(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let d=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);d>=0||Nt(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:p}=r,v=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||v){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,h,f)=>{let p,v=!1,y=null,x=null;r&&(p=o&&h.route.id?o[h.route.id]:void 0,y=h.route.errorElement||tee,l&&(c<0&&f===0?(cee("route-fallback"),v=!0,x=null):c===f&&(v=!0,x=h.route.hydrateFallbackElement||null)));let g=e.concat(a.slice(0,f+1)),m=()=>{let w;return p?w=y:v?w=x:h.route.Component?w=T.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,T.createElement(nee,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:w})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?T.createElement(ree,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var fH=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(fH||{}),pH=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(pH||{});function see(t){let e=T.useContext(tm);return e||Nt(!1),e}function aee(t){let e=T.useContext(cH);return e||Nt(!1),e}function oee(t){let e=T.useContext(ws);return e||Nt(!1),e}function mH(t){let e=oee(),r=e.matches[e.matches.length-1];return r.route.id||Nt(!1),r.route.id}function lee(){var t;let e=T.useContext(dH),r=aee(),n=mH();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function uee(){let{router:t}=see(fH.UseNavigateStable),e=mH(pH.UseNavigateStable),r=T.useRef(!1);return hH(()=>{r.current=!0}),T.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,wd({fromRouteId:e},s)))},[t,e])}const aI={};function cee(t,e,r){aI[t]||(aI[t]=!0)}function dee(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function vH(t){let{to:e,replace:r,state:n,relative:i}=t;$u()||Nt(!1);let{future:s,static:a}=T.useContext(xs),{matches:o}=T.useContext(ws),{pathname:l}=_s(),c=Gr(),d=KC(e,HC(o,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(d);return T.useEffect(()=>c(JSON.parse(h),{replace:r,state:n,relative:i}),[c,h,i,r,n]),null}function Xe(t){Nt(!1)}function hee(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Zs.Pop,navigator:s,static:a=!1,future:o}=t;$u()&&Nt(!1);let l=e.replace(/^\/*/,"/"),c=T.useMemo(()=>({basename:l,navigator:s,static:a,future:wd({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof n=="string"&&(n=Ru(n));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:v="default"}=n,y=T.useMemo(()=>{let x=fu(d,l);return x==null?null:{location:{pathname:x,search:h,hash:f,state:p,key:v},navigationType:i}},[l,d,h,f,p,v,i]);return y==null?null:T.createElement(xs.Provider,{value:c},T.createElement(rm.Provider,{children:r,value:y}))}function oI(t){let{children:e,location:r}=t;return JZ(JN(e),r)}new Promise(()=>{});function JN(t,e){e===void 0&&(e=[]);let r=[];return T.Children.forEach(t,(n,i)=>{if(!T.isValidElement(n))return;let s=[...e,i];if(n.type===T.Fragment){r.push.apply(r,JN(n.props.children,s));return}n.type!==Xe&&Nt(!1),!n.props.index||!n.props.children||Nt(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=JN(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fp(){return fp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fp.apply(this,arguments)}function gH(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function fee(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function pee(t,e){return t.button===0&&(!e||e==="_self")&&!fee(t)}function ZN(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function mee(t,e){let r=ZN(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(s=>{r.append(i,s)})}),r}const vee=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],gee=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],yee="6";try{window.__reactRouterVersion=yee}catch{}const bee=T.createContext({isTransitioning:!1}),xee="startTransition",lI=hX[xee];function wee(t){let{basename:e,children:r,future:n,window:i}=t,s=T.useRef();s.current==null&&(s.current=EZ({window:i,v5Compat:!0}));let a=s.current,[o,l]=T.useState({action:a.action,location:a.location}),{v7_startTransition:c}=n||{},d=T.useCallback(h=>{c&&lI?lI(()=>l(h)):l(h)},[l,c]);return T.useLayoutEffect(()=>a.listen(d),[a,d]),T.useEffect(()=>dee(n),[n]),T.createElement(hee,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const _ee=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",See=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fe=T.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:d,viewTransition:h}=e,f=gH(e,vee),{basename:p}=T.useContext(xs),v,y=!1;if(typeof c=="string"&&See.test(c)&&(v=c,_ee))try{let w=new URL(window.location.href),b=c.startsWith("//")?new URL(w.protocol+c):new URL(c),_=fu(b.pathname,p);b.origin===w.origin&&_!=null?c=_+b.search+b.hash:y=!0}catch{}let x=QZ(c,{relative:i}),g=jee(c,{replace:a,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:h});function m(w){n&&n(w),w.defaultPrevented||g(w)}return T.createElement("a",fp({},f,{href:v||x,onClick:y||s?n:m,ref:r,target:l}))}),Eee=T.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:i=!1,className:s="",end:a=!1,style:o,to:l,viewTransition:c,children:d}=e,h=gH(e,gee),f=nm(l,{relative:h.relative}),p=_s(),v=T.useContext(cH),{navigator:y,basename:x}=T.useContext(xs),g=v!=null&&Cee(f)&&c===!0,m=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,w=p.pathname,b=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;i||(w=w.toLowerCase(),b=b?b.toLowerCase():null,m=m.toLowerCase()),b&&x&&(b=fu(b,x)||b);const _=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let E=w===m||!a&&w.startsWith(m)&&w.charAt(_)==="/",N=b!=null&&(b===m||!a&&b.startsWith(m)&&b.charAt(m.length)==="/"),S={isActive:E,isPending:N,isTransitioning:g},j=E?n:void 0,C;typeof s=="function"?C=s(S):C=[s,E?"active":null,N?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let P=typeof o=="function"?o(S):o;return T.createElement(fe,fp({},h,{"aria-current":j,className:C,ref:r,style:P,to:l,viewTransition:c}),typeof d=="function"?d(S):d)});var ej;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(ej||(ej={}));var uI;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(uI||(uI={}));function Nee(t){let e=T.useContext(tm);return e||Nt(!1),e}function jee(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=Gr(),c=_s(),d=nm(t,{relative:a});return T.useCallback(h=>{if(pee(h,r)){h.preventDefault();let f=n!==void 0?n:hp(c)===hp(d);l(t,{replace:f,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[c,l,d,n,i,r,t,s,a,o])}function GC(t){let e=T.useRef(ZN(t)),r=T.useRef(!1),n=_s(),i=T.useMemo(()=>mee(n.search,r.current?null:e.current),[n.search]),s=Gr(),a=T.useCallback((o,l)=>{const c=ZN(typeof o=="function"?o(i):o);r.current=!0,s("?"+c,l)},[s,i]);return[i,a]}function Cee(t,e){e===void 0&&(e={});let r=T.useContext(bee);r==null&&Nt(!1);let{basename:n}=Nee(ej.useViewTransitionState),i=nm(t,{relative:e.relative});if(!r.isTransitioning)return!1;let s=fu(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=fu(r.nextLocation.pathname,n)||r.nextLocation.pathname;return XN(i.pathname,a)!=null||XN(i.pathname,s)!=null}var Bo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Oee={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Bs,Qj,qW,Pee=(qW=class{constructor(){me(this,Bs,Oee);me(this,Qj,!1)}setTimeoutProvider(t){ie(this,Bs,t)}setTimeout(t,e){return R(this,Bs).setTimeout(t,e)}clearTimeout(t){R(this,Bs).clearTimeout(t)}setInterval(t,e){return R(this,Bs).setInterval(t,e)}clearInterval(t){R(this,Bs).clearInterval(t)}},Bs=new WeakMap,Qj=new WeakMap,qW),Ha=new Pee;function Tee(t){setTimeout(t,0)}var No=typeof window>"u"||"Deno"in globalThis;function Cr(){}function Iee(t,e){return typeof t=="function"?t(e):t}function tj(t){return typeof t=="number"&&t>=0&&t!==1/0}function yH(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ca(t,e){return typeof t=="function"?t(e):t}function Mn(t,e){return typeof t=="function"?t(e):t}function cI(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:a,stale:o}=t;if(a){if(n){if(e.queryHash!==YC(a,e.options))return!1}else if(!_d(e.queryKey,a))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||s&&!s(e))}function dI(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(jo(e.options.mutationKey)!==jo(s))return!1}else if(!_d(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function YC(t,e){return((e==null?void 0:e.queryKeyHashFn)||jo)(t)}function jo(t){return JSON.stringify(t,(e,r)=>rj(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function _d(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>_d(t[r],e[r])):!1}var Ree=Object.prototype.hasOwnProperty;function QC(t,e){if(t===e)return t;const r=hI(t)&&hI(e);if(!r&&!(rj(t)&&rj(e)))return e;const i=(r?t:Object.keys(t)).length,s=r?e:Object.keys(e),a=s.length,o=r?new Array(a):{};let l=0;for(let c=0;c<a;c++){const d=r?c:s[c],h=t[d],f=e[d];if(h===f){o[d]=h,(r?c<i:Ree.call(t,d))&&l++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){o[d]=f;continue}const p=QC(h,f);o[d]=p,p===h&&l++}return i===a&&l===i?t:o}function Sd(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function hI(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function rj(t){if(!fI(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!fI(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function fI(t){return Object.prototype.toString.call(t)==="[object Object]"}function $ee(t){return new Promise(e=>{Ha.setTimeout(e,t)})}function nj(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?QC(t,e):e}function kee(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function Dee(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var XC=Symbol();function bH(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===XC?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function JC(t,e){return typeof t=="function"?t(...e):!!t}function Mee(t,e,r){let n=!1,i;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(i??(i=e()),n||(n=!0,i.aborted?r():i.addEventListener("abort",r,{once:!0})),i)}),t}var eo,zs,Vl,AW,qee=(AW=class extends Bo{constructor(){super();me(this,eo);me(this,zs);me(this,Vl);ie(this,Vl,e=>{if(!No&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){R(this,zs)||this.setEventListener(R(this,Vl))}onUnsubscribe(){var e;this.hasListeners()||((e=R(this,zs))==null||e.call(this),ie(this,zs,void 0))}setEventListener(e){var r;ie(this,Vl,e),(r=R(this,zs))==null||r.call(this),ie(this,zs,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){R(this,eo)!==e&&(ie(this,eo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof R(this,eo)=="boolean"?R(this,eo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},eo=new WeakMap,zs=new WeakMap,Vl=new WeakMap,AW),ZC=new qee;function ij(){let t,e;const r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}var Aee=Tee;function Fee(){let t=[],e=0,r=o=>{o()},n=o=>{o()},i=Aee;const s=o=>{e?t.push(o):i(()=>{r(o)})},a=()=>{const o=t;t=[],o.length&&i(()=>{n(()=>{o.forEach(l=>{r(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||a()}return l},batchCalls:o=>(...l)=>{s(()=>{o(...l)})},schedule:s,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{i=o}}}var kt=Fee(),Hl,Us,Kl,FW,Lee=(FW=class extends Bo{constructor(){super();me(this,Hl,!0);me(this,Us);me(this,Kl);ie(this,Kl,e=>{if(!No&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){R(this,Us)||this.setEventListener(R(this,Kl))}onUnsubscribe(){var e;this.hasListeners()||((e=R(this,Us))==null||e.call(this),ie(this,Us,void 0))}setEventListener(e){var r;ie(this,Kl,e),(r=R(this,Us))==null||r.call(this),ie(this,Us,e(this.setOnline.bind(this)))}setOnline(e){R(this,Hl)!==e&&(ie(this,Hl,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return R(this,Hl)}},Hl=new WeakMap,Us=new WeakMap,Kl=new WeakMap,FW),pp=new Lee;function Bee(t){return Math.min(1e3*2**t,3e4)}function xH(t){return(t??"online")==="online"?pp.isOnline():!0}var sj=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function wH(t){let e=!1,r=0,n;const i=ij(),s=()=>i.status!=="pending",a=y=>{var x;if(!s()){const g=new sj(y);f(g),(x=t.onCancel)==null||x.call(t,g)}},o=()=>{e=!0},l=()=>{e=!1},c=()=>ZC.isFocused()&&(t.networkMode==="always"||pp.isOnline())&&t.canRun(),d=()=>xH(t.networkMode)&&t.canRun(),h=y=>{s()||(n==null||n(),i.resolve(y))},f=y=>{s()||(n==null||n(),i.reject(y))},p=()=>new Promise(y=>{var x;n=g=>{(s()||c())&&y(g)},(x=t.onPause)==null||x.call(t)}).then(()=>{var y;n=void 0,s()||(y=t.onContinue)==null||y.call(t)}),v=()=>{if(s())return;let y;const x=r===0?t.initialPromise:void 0;try{y=x??t.fn()}catch(g){y=Promise.reject(g)}Promise.resolve(y).then(h).catch(g=>{var E;if(s())return;const m=t.retry??(No?0:3),w=t.retryDelay??Bee,b=typeof w=="function"?w(r,g):w,_=m===!0||typeof m=="number"&&r<m||typeof m=="function"&&m(r,g);if(e||!_){f(g);return}r++,(E=t.onFail)==null||E.call(t,r,g),$ee(b).then(()=>c()?void 0:p()).then(()=>{e?f(g):v()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(n==null||n(),i),cancelRetry:o,continueRetry:l,canStart:d,start:()=>(d()?v():p().then(v),i)}}var to,LW,_H=(LW=class{constructor(){me(this,to)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),tj(this.gcTime)&&ie(this,to,Ha.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(No?1/0:5*60*1e3))}clearGcTimeout(){R(this,to)&&(Ha.clearTimeout(R(this,to)),ie(this,to,void 0))}},to=new WeakMap,LW),ro,Gl,kn,no,sr,qd,io,ni,Vi,BW,zee=(BW=class extends _H{constructor(e){super();me(this,ni);me(this,ro);me(this,Gl);me(this,kn);me(this,no);me(this,sr);me(this,qd);me(this,io);ie(this,io,!1),ie(this,qd,e.defaultOptions),this.setOptions(e.options),this.observers=[],ie(this,no,e.client),ie(this,kn,R(this,no).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ie(this,ro,mI(this.options)),this.state=e.state??R(this,ro),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=R(this,sr))==null?void 0:e.promise}setOptions(e){if(this.options={...R(this,qd),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=mI(this.options);r.data!==void 0&&(this.setState(pI(r.data,r.dataUpdatedAt)),ie(this,ro,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&R(this,kn).remove(this)}setData(e,r){const n=nj(this.state.data,e,this.options);return Ce(this,ni,Vi).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){Ce(this,ni,Vi).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,i;const r=(n=R(this,sr))==null?void 0:n.promise;return(i=R(this,sr))==null||i.cancel(e),r?r.then(Cr).catch(Cr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(R(this,ro))}isActive(){return this.observers.some(e=>Mn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===XC||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>ca(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!yH(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=R(this,sr))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=R(this,sr))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),R(this,kn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(R(this,sr)&&(R(this,io)?R(this,sr).cancel({revert:!0}):R(this,sr).cancelRetry()),this.scheduleGc()),R(this,kn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ce(this,ni,Vi).call(this,{type:"invalidate"})}async fetch(e,r){var l,c,d,h,f,p,v,y,x,g,m,w;if(this.state.fetchStatus!=="idle"&&((l=R(this,sr))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(R(this,sr))return R(this,sr).continueRetry(),R(this,sr).promise}if(e&&this.setOptions(e),!this.options.queryFn){const b=this.observers.find(_=>_.options.queryFn);b&&this.setOptions(b.options)}const n=new AbortController,i=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(ie(this,io,!0),n.signal)})},s=()=>{const b=bH(this.options,r),E=(()=>{const N={client:R(this,no),queryKey:this.queryKey,meta:this.meta};return i(N),N})();return ie(this,io,!1),this.options.persister?this.options.persister(b,E,this):b(E)},o=(()=>{const b={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:R(this,no),state:this.state,fetchFn:s};return i(b),b})();(c=this.options.behavior)==null||c.onFetch(o,this),ie(this,Gl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&Ce(this,ni,Vi).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta}),ie(this,sr,wH({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,onCancel:b=>{b instanceof sj&&b.revert&&this.setState({...R(this,Gl),fetchStatus:"idle"}),n.abort()},onFail:(b,_)=>{Ce(this,ni,Vi).call(this,{type:"failed",failureCount:b,error:_})},onPause:()=>{Ce(this,ni,Vi).call(this,{type:"pause"})},onContinue:()=>{Ce(this,ni,Vi).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const b=await R(this,sr).start();if(b===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(b),(p=(f=R(this,kn).config).onSuccess)==null||p.call(f,b,this),(y=(v=R(this,kn).config).onSettled)==null||y.call(v,b,this.state.error,this),b}catch(b){if(b instanceof sj){if(b.silent)return R(this,sr).promise;if(b.revert){if(this.state.data===void 0)throw b;return this.state.data}}throw Ce(this,ni,Vi).call(this,{type:"error",error:b}),(g=(x=R(this,kn).config).onError)==null||g.call(x,b,this),(w=(m=R(this,kn).config).onSettled)==null||w.call(m,this.state.data,b,this),b}finally{this.scheduleGc()}}},ro=new WeakMap,Gl=new WeakMap,kn=new WeakMap,no=new WeakMap,sr=new WeakMap,qd=new WeakMap,io=new WeakMap,ni=new WeakSet,Vi=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...SH(n.data,this.options),fetchMeta:e.meta??null};case"success":const i={...n,...pI(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ie(this,Gl,e.manual?i:void 0),i;case"error":const s=e.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),kt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),R(this,kn).notify({query:this,type:"updated",action:e})})},BW);function SH(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:xH(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function pI(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function mI(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Xr,We,Ad,Dr,so,Yl,Gi,Ws,Fd,Ql,Xl,ao,oo,Vs,Jl,Ye,Mc,aj,oj,lj,uj,cj,dj,hj,EH,zW,eO=(zW=class extends Bo{constructor(e,r){super();me(this,Ye);me(this,Xr);me(this,We);me(this,Ad);me(this,Dr);me(this,so);me(this,Yl);me(this,Gi);me(this,Ws);me(this,Fd);me(this,Ql);me(this,Xl);me(this,ao);me(this,oo);me(this,Vs);me(this,Jl,new Set);this.options=r,ie(this,Xr,e),ie(this,Ws,null),ie(this,Gi,ij()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(R(this,We).addObserver(this),vI(R(this,We),this.options)?Ce(this,Ye,Mc).call(this):this.updateResult(),Ce(this,Ye,uj).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return fj(R(this,We),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return fj(R(this,We),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ce(this,Ye,cj).call(this),Ce(this,Ye,dj).call(this),R(this,We).removeObserver(this)}setOptions(e){const r=this.options,n=R(this,We);if(this.options=R(this,Xr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Mn(this.options.enabled,R(this,We))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ce(this,Ye,hj).call(this),R(this,We).setOptions(this.options),r._defaulted&&!Sd(this.options,r)&&R(this,Xr).getQueryCache().notify({type:"observerOptionsUpdated",query:R(this,We),observer:this});const i=this.hasListeners();i&&gI(R(this,We),n,this.options,r)&&Ce(this,Ye,Mc).call(this),this.updateResult(),i&&(R(this,We)!==n||Mn(this.options.enabled,R(this,We))!==Mn(r.enabled,R(this,We))||ca(this.options.staleTime,R(this,We))!==ca(r.staleTime,R(this,We)))&&Ce(this,Ye,aj).call(this);const s=Ce(this,Ye,oj).call(this);i&&(R(this,We)!==n||Mn(this.options.enabled,R(this,We))!==Mn(r.enabled,R(this,We))||s!==R(this,Vs))&&Ce(this,Ye,lj).call(this,s)}getOptimisticResult(e){const r=R(this,Xr).getQueryCache().build(R(this,Xr),e),n=this.createResult(r,e);return Wee(this,n)&&(ie(this,Dr,n),ie(this,Yl,this.options),ie(this,so,R(this,We).state)),n}getCurrentResult(){return R(this,Dr)}trackResult(e,r){return new Proxy(e,{get:(n,i)=>(this.trackProp(i),r==null||r(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&R(this,Gi).status==="pending"&&R(this,Gi).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,i))})}trackProp(e){R(this,Jl).add(e)}getCurrentQuery(){return R(this,We)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=R(this,Xr).defaultQueryOptions(e),n=R(this,Xr).getQueryCache().build(R(this,Xr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return Ce(this,Ye,Mc).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),R(this,Dr)))}createResult(e,r){var j;const n=R(this,We),i=this.options,s=R(this,Dr),a=R(this,so),o=R(this,Yl),c=e!==n?e.state:R(this,Ad),{state:d}=e;let h={...d},f=!1,p;if(r._optimisticResults){const C=this.hasListeners(),P=!C&&vI(e,r),O=C&&gI(e,n,r,i);(P||O)&&(h={...h,...SH(d.data,e.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:v,errorUpdatedAt:y,status:x}=h;p=h.data;let g=!1;if(r.placeholderData!==void 0&&p===void 0&&x==="pending"){let C;s!=null&&s.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(C=s.data,g=!0):C=typeof r.placeholderData=="function"?r.placeholderData((j=R(this,Xl))==null?void 0:j.state.data,R(this,Xl)):r.placeholderData,C!==void 0&&(x="success",p=nj(s==null?void 0:s.data,C,r),f=!0)}if(r.select&&p!==void 0&&!g)if(s&&p===(a==null?void 0:a.data)&&r.select===R(this,Fd))p=R(this,Ql);else try{ie(this,Fd,r.select),p=r.select(p),p=nj(s==null?void 0:s.data,p,r),ie(this,Ql,p),ie(this,Ws,null)}catch(C){ie(this,Ws,C)}R(this,Ws)&&(v=R(this,Ws),p=R(this,Ql),y=Date.now(),x="error");const m=h.fetchStatus==="fetching",w=x==="pending",b=x==="error",_=w&&m,E=p!==void 0,S={status:x,fetchStatus:h.fetchStatus,isPending:w,isSuccess:x==="success",isError:b,isInitialLoading:_,isLoading:_,data:p,dataUpdatedAt:h.dataUpdatedAt,error:v,errorUpdatedAt:y,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>c.dataUpdateCount||h.errorUpdateCount>c.errorUpdateCount,isFetching:m,isRefetching:m&&!w,isLoadingError:b&&!E,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:b&&E,isStale:tO(e,r),refetch:this.refetch,promise:R(this,Gi),isEnabled:Mn(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const C=I=>{S.status==="error"?I.reject(S.error):S.data!==void 0&&I.resolve(S.data)},P=()=>{const I=ie(this,Gi,S.promise=ij());C(I)},O=R(this,Gi);switch(O.status){case"pending":e.queryHash===n.queryHash&&C(O);break;case"fulfilled":(S.status==="error"||S.data!==O.value)&&P();break;case"rejected":(S.status!=="error"||S.error!==O.reason)&&P();break}}return S}updateResult(){const e=R(this,Dr),r=this.createResult(R(this,We),this.options);if(ie(this,so,R(this,We).state),ie(this,Yl,this.options),R(this,so).data!==void 0&&ie(this,Xl,R(this,We)),Sd(r,e))return;ie(this,Dr,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!R(this,Jl).size)return!0;const a=new Set(s??R(this,Jl));return this.options.throwOnError&&a.add("error"),Object.keys(R(this,Dr)).some(o=>{const l=o;return R(this,Dr)[l]!==e[l]&&a.has(l)})};Ce(this,Ye,EH).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ce(this,Ye,uj).call(this)}},Xr=new WeakMap,We=new WeakMap,Ad=new WeakMap,Dr=new WeakMap,so=new WeakMap,Yl=new WeakMap,Gi=new WeakMap,Ws=new WeakMap,Fd=new WeakMap,Ql=new WeakMap,Xl=new WeakMap,ao=new WeakMap,oo=new WeakMap,Vs=new WeakMap,Jl=new WeakMap,Ye=new WeakSet,Mc=function(e){Ce(this,Ye,hj).call(this);let r=R(this,We).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Cr)),r},aj=function(){Ce(this,Ye,cj).call(this);const e=ca(this.options.staleTime,R(this,We));if(No||R(this,Dr).isStale||!tj(e))return;const n=yH(R(this,Dr).dataUpdatedAt,e)+1;ie(this,ao,Ha.setTimeout(()=>{R(this,Dr).isStale||this.updateResult()},n))},oj=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(R(this,We)):this.options.refetchInterval)??!1},lj=function(e){Ce(this,Ye,dj).call(this),ie(this,Vs,e),!(No||Mn(this.options.enabled,R(this,We))===!1||!tj(R(this,Vs))||R(this,Vs)===0)&&ie(this,oo,Ha.setInterval(()=>{(this.options.refetchIntervalInBackground||ZC.isFocused())&&Ce(this,Ye,Mc).call(this)},R(this,Vs)))},uj=function(){Ce(this,Ye,aj).call(this),Ce(this,Ye,lj).call(this,Ce(this,Ye,oj).call(this))},cj=function(){R(this,ao)&&(Ha.clearTimeout(R(this,ao)),ie(this,ao,void 0))},dj=function(){R(this,oo)&&(Ha.clearInterval(R(this,oo)),ie(this,oo,void 0))},hj=function(){const e=R(this,Xr).getQueryCache().build(R(this,Xr),this.options);if(e===R(this,We))return;const r=R(this,We);ie(this,We,e),ie(this,Ad,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},EH=function(e){kt.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(R(this,Dr))}),R(this,Xr).getQueryCache().notify({query:R(this,We),type:"observerResultsUpdated"})})},zW);function Uee(t,e){return Mn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function vI(t,e){return Uee(t,e)||t.state.data!==void 0&&fj(t,e,e.refetchOnMount)}function fj(t,e,r){if(Mn(e.enabled,t)!==!1&&ca(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&tO(t,e)}return!1}function gI(t,e,r,n){return(t!==e||Mn(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&tO(t,r)}function tO(t,e){return Mn(e.enabled,t)!==!1&&t.isStaleByTime(ca(e.staleTime,t))}function Wee(t,e){return!Sd(t.getCurrentResult(),e)}function yI(t){return{onFetch:(e,r)=>{var d,h,f,p,v;const n=e.options,i=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,s=((p=e.state.data)==null?void 0:p.pages)||[],a=((v=e.state.data)==null?void 0:v.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const c=async()=>{let y=!1;const x=w=>{Mee(w,()=>e.signal,()=>y=!0)},g=bH(e.options,e.fetchOptions),m=async(w,b,_)=>{if(y)return Promise.reject();if(b==null&&w.pages.length)return Promise.resolve(w);const N=(()=>{const P={client:e.client,queryKey:e.queryKey,pageParam:b,direction:_?"backward":"forward",meta:e.options.meta};return x(P),P})(),S=await g(N),{maxPages:j}=e.options,C=_?Dee:kee;return{pages:C(w.pages,S,j),pageParams:C(w.pageParams,b,j)}};if(i&&s.length){const w=i==="backward",b=w?Vee:bI,_={pages:s,pageParams:a},E=b(n,_);o=await m(_,E,w)}else{const w=t??s.length;do{const b=l===0?a[0]??n.initialPageParam:bI(n,o);if(l>0&&b==null)break;o=await m(o,b),l++}while(l<w)}return o};e.options.persister?e.fetchFn=()=>{var y,x;return(x=(y=e.options).persister)==null?void 0:x.call(y,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=c}}}function bI(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function Vee(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var Ld,Ni,Mr,lo,ji,$s,UW,Hee=(UW=class extends _H{constructor(e){super();me(this,ji);me(this,Ld);me(this,Ni);me(this,Mr);me(this,lo);ie(this,Ld,e.client),this.mutationId=e.mutationId,ie(this,Mr,e.mutationCache),ie(this,Ni,[]),this.state=e.state||NH(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){R(this,Ni).includes(e)||(R(this,Ni).push(e),this.clearGcTimeout(),R(this,Mr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ie(this,Ni,R(this,Ni).filter(r=>r!==e)),this.scheduleGc(),R(this,Mr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){R(this,Ni).length||(this.state.status==="pending"?this.scheduleGc():R(this,Mr).remove(this))}continue(){var e;return((e=R(this,lo))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,o,l,c,d,h,f,p,v,y,x,g,m,w,b,_,E,N,S,j;const r=()=>{Ce(this,ji,$s).call(this,{type:"continue"})},n={client:R(this,Ld),meta:this.options.meta,mutationKey:this.options.mutationKey};ie(this,lo,wH({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(C,P)=>{Ce(this,ji,$s).call(this,{type:"failed",failureCount:C,error:P})},onPause:()=>{Ce(this,ji,$s).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>R(this,Mr).canRun(this)}));const i=this.state.status==="pending",s=!R(this,lo).canStart();try{if(i)r();else{Ce(this,ji,$s).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(a=R(this,Mr).config).onMutate)==null?void 0:o.call(a,e,this,n));const P=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,e,n));P!==this.state.context&&Ce(this,ji,$s).call(this,{type:"pending",context:P,variables:e,isPaused:s})}const C=await R(this,lo).start();return await((h=(d=R(this,Mr).config).onSuccess)==null?void 0:h.call(d,C,e,this.state.context,this,n)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,C,e,this.state.context,n)),await((y=(v=R(this,Mr).config).onSettled)==null?void 0:y.call(v,C,null,this.state.variables,this.state.context,this,n)),await((g=(x=this.options).onSettled)==null?void 0:g.call(x,C,null,e,this.state.context,n)),Ce(this,ji,$s).call(this,{type:"success",data:C}),C}catch(C){try{await((w=(m=R(this,Mr).config).onError)==null?void 0:w.call(m,C,e,this.state.context,this,n))}catch(P){Promise.reject(P)}try{await((_=(b=this.options).onError)==null?void 0:_.call(b,C,e,this.state.context,n))}catch(P){Promise.reject(P)}try{await((N=(E=R(this,Mr).config).onSettled)==null?void 0:N.call(E,void 0,C,this.state.variables,this.state.context,this,n))}catch(P){Promise.reject(P)}try{await((j=(S=this.options).onSettled)==null?void 0:j.call(S,void 0,C,e,this.state.context,n))}catch(P){Promise.reject(P)}throw Ce(this,ji,$s).call(this,{type:"error",error:C}),C}finally{R(this,Mr).runNext(this)}}},Ld=new WeakMap,Ni=new WeakMap,Mr=new WeakMap,lo=new WeakMap,ji=new WeakSet,$s=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),kt.batch(()=>{R(this,Ni).forEach(n=>{n.onMutationUpdate(e)}),R(this,Mr).notify({mutation:this,type:"updated",action:e})})},UW);function NH(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Yi,ii,Bd,WW,Kee=(WW=class extends Bo{constructor(e={}){super();me(this,Yi);me(this,ii);me(this,Bd);this.config=e,ie(this,Yi,new Set),ie(this,ii,new Map),ie(this,Bd,0)}build(e,r,n){const i=new Hee({client:e,mutationCache:this,mutationId:++zh(this,Bd)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){R(this,Yi).add(e);const r=of(e);if(typeof r=="string"){const n=R(this,ii).get(r);n?n.push(e):R(this,ii).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(R(this,Yi).delete(e)){const r=of(e);if(typeof r=="string"){const n=R(this,ii).get(r);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&R(this,ii).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=of(e);if(typeof r=="string"){const n=R(this,ii).get(r),i=n==null?void 0:n.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var n;const r=of(e);if(typeof r=="string"){const i=(n=R(this,ii).get(r))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){kt.batch(()=>{R(this,Yi).forEach(e=>{this.notify({type:"removed",mutation:e})}),R(this,Yi).clear(),R(this,ii).clear()})}getAll(){return Array.from(R(this,Yi))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>dI(r,n))}findAll(e={}){return this.getAll().filter(r=>dI(e,r))}notify(e){kt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return kt.batch(()=>Promise.all(e.map(r=>r.continue().catch(Cr))))}},Yi=new WeakMap,ii=new WeakMap,Bd=new WeakMap,WW);function of(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Qi,Hs,Jr,Xi,hs,Rf,pj,VW,Gee=(VW=class extends Bo{constructor(e,r){super();me(this,hs);me(this,Qi);me(this,Hs);me(this,Jr);me(this,Xi);ie(this,Qi,e),this.setOptions(r),this.bindMethods(),Ce(this,hs,Rf).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var n;const r=this.options;this.options=R(this,Qi).defaultMutationOptions(e),Sd(this.options,r)||R(this,Qi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:R(this,Jr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&jo(r.mutationKey)!==jo(this.options.mutationKey)?this.reset():((n=R(this,Jr))==null?void 0:n.state.status)==="pending"&&R(this,Jr).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=R(this,Jr))==null||e.removeObserver(this)}onMutationUpdate(e){Ce(this,hs,Rf).call(this),Ce(this,hs,pj).call(this,e)}getCurrentResult(){return R(this,Hs)}reset(){var e;(e=R(this,Jr))==null||e.removeObserver(this),ie(this,Jr,void 0),Ce(this,hs,Rf).call(this),Ce(this,hs,pj).call(this)}mutate(e,r){var n;return ie(this,Xi,r),(n=R(this,Jr))==null||n.removeObserver(this),ie(this,Jr,R(this,Qi).getMutationCache().build(R(this,Qi),this.options)),R(this,Jr).addObserver(this),R(this,Jr).execute(e)}},Qi=new WeakMap,Hs=new WeakMap,Jr=new WeakMap,Xi=new WeakMap,hs=new WeakSet,Rf=function(){var r;const e=((r=R(this,Jr))==null?void 0:r.state)??NH();ie(this,Hs,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},pj=function(e){kt.batch(()=>{var r,n,i,s,a,o,l,c;if(R(this,Xi)&&this.hasListeners()){const d=R(this,Hs).variables,h=R(this,Hs).context,f={client:R(this,Qi),meta:this.options.meta,mutationKey:this.options.mutationKey};if((e==null?void 0:e.type)==="success"){try{(n=(r=R(this,Xi)).onSuccess)==null||n.call(r,e.data,d,h,f)}catch(p){Promise.reject(p)}try{(s=(i=R(this,Xi)).onSettled)==null||s.call(i,e.data,null,d,h,f)}catch(p){Promise.reject(p)}}else if((e==null?void 0:e.type)==="error"){try{(o=(a=R(this,Xi)).onError)==null||o.call(a,e.error,d,h,f)}catch(p){Promise.reject(p)}try{(c=(l=R(this,Xi)).onSettled)==null||c.call(l,void 0,e.error,d,h,f)}catch(p){Promise.reject(p)}}}this.listeners.forEach(d=>{d(R(this,Hs))})})},VW);function xI(t,e){const r=new Set(e);return t.filter(n=>!r.has(n))}function Yee(t,e,r){const n=t.slice(0);return n[e]=r,n}var Zl,bn,eu,tu,Dn,Ks,zd,Ud,Wd,xr,mj,vj,gj,yj,bj,HW,Qee=(HW=class extends Bo{constructor(e,r,n){super();me(this,xr);me(this,Zl);me(this,bn);me(this,eu);me(this,tu);me(this,Dn);me(this,Ks);me(this,zd);me(this,Ud);me(this,Wd,[]);ie(this,Zl,e),ie(this,tu,n),ie(this,eu,[]),ie(this,Dn,[]),ie(this,bn,[]),this.setQueries(r)}onSubscribe(){this.listeners.size===1&&R(this,Dn).forEach(e=>{e.subscribe(r=>{Ce(this,xr,yj).call(this,e,r)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,R(this,Dn).forEach(e=>{e.destroy()})}setQueries(e,r){ie(this,eu,e),ie(this,tu,r),kt.batch(()=>{const n=R(this,Dn),i=Ce(this,xr,gj).call(this,R(this,eu));i.forEach(h=>h.observer.setOptions(h.defaultedQueryOptions));const s=i.map(h=>h.observer),a=s.map(h=>h.getCurrentResult()),o=n.length!==s.length,l=s.some((h,f)=>h!==n[f]),c=o||l,d=c?!0:a.some((h,f)=>{const p=R(this,bn)[f];return!p||!Sd(h,p)});!c&&!d||(c&&(ie(this,Wd,i),ie(this,Dn,s)),ie(this,bn,a),this.hasListeners()&&(c&&(xI(n,s).forEach(h=>{h.destroy()}),xI(s,n).forEach(h=>{h.subscribe(f=>{Ce(this,xr,yj).call(this,h,f)})})),Ce(this,xr,bj).call(this)))})}getCurrentResult(){return R(this,bn)}getQueries(){return R(this,Dn).map(e=>e.getCurrentQuery())}getObservers(){return R(this,Dn)}getOptimisticResult(e,r){const n=Ce(this,xr,gj).call(this,e),i=n.map(s=>s.observer.getOptimisticResult(s.defaultedQueryOptions));return[i,s=>Ce(this,xr,vj).call(this,s??i,r),()=>Ce(this,xr,mj).call(this,i,n)]}},Zl=new WeakMap,bn=new WeakMap,eu=new WeakMap,tu=new WeakMap,Dn=new WeakMap,Ks=new WeakMap,zd=new WeakMap,Ud=new WeakMap,Wd=new WeakMap,xr=new WeakSet,mj=function(e,r){return r.map((n,i)=>{const s=e[i];return n.defaultedQueryOptions.notifyOnChangeProps?s:n.observer.trackResult(s,a=>{r.forEach(o=>{o.observer.trackProp(a)})})})},vj=function(e,r){return r?((!R(this,Ks)||R(this,bn)!==R(this,Ud)||r!==R(this,zd))&&(ie(this,zd,r),ie(this,Ud,R(this,bn)),ie(this,Ks,QC(R(this,Ks),r(e)))),R(this,Ks)):e},gj=function(e){const r=new Map;R(this,Dn).forEach(i=>{const s=i.options.queryHash;if(!s)return;const a=r.get(s);a?a.push(i):r.set(s,[i])});const n=[];return e.forEach(i=>{var l;const s=R(this,Zl).defaultQueryOptions(i),o=((l=r.get(s.queryHash))==null?void 0:l.shift())??new eO(R(this,Zl),s);n.push({defaultedQueryOptions:s,observer:o})}),n},yj=function(e,r){const n=R(this,Dn).indexOf(e);n!==-1&&(ie(this,bn,Yee(R(this,bn),n,r)),Ce(this,xr,bj).call(this))},bj=function(){var e;if(this.hasListeners()){const r=R(this,Ks),n=Ce(this,xr,mj).call(this,R(this,bn),R(this,Wd)),i=Ce(this,xr,vj).call(this,n,(e=R(this,tu))==null?void 0:e.combine);r!==i&&kt.batch(()=>{this.listeners.forEach(s=>{s(R(this,bn))})})}},HW),Ci,KW,Xee=(KW=class extends Bo{constructor(e={}){super();me(this,Ci);this.config=e,ie(this,Ci,new Map)}build(e,r,n){const i=r.queryKey,s=r.queryHash??YC(i,r);let a=this.get(s);return a||(a=new zee({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){R(this,Ci).has(e.queryHash)||(R(this,Ci).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=R(this,Ci).get(e.queryHash);r&&(e.destroy(),r===e&&R(this,Ci).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){kt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return R(this,Ci).get(e)}getAll(){return[...R(this,Ci).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>cI(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>cI(e,n)):r}notify(e){kt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){kt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){kt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ci=new WeakMap,KW),Tt,Gs,Ys,ru,nu,Qs,iu,su,GW,Jee=(GW=class{constructor(t={}){me(this,Tt);me(this,Gs);me(this,Ys);me(this,ru);me(this,nu);me(this,Qs);me(this,iu);me(this,su);ie(this,Tt,t.queryCache||new Xee),ie(this,Gs,t.mutationCache||new Kee),ie(this,Ys,t.defaultOptions||{}),ie(this,ru,new Map),ie(this,nu,new Map),ie(this,Qs,0)}mount(){zh(this,Qs)._++,R(this,Qs)===1&&(ie(this,iu,ZC.subscribe(async t=>{t&&(await this.resumePausedMutations(),R(this,Tt).onFocus())})),ie(this,su,pp.subscribe(async t=>{t&&(await this.resumePausedMutations(),R(this,Tt).onOnline())})))}unmount(){var t,e;zh(this,Qs)._--,R(this,Qs)===0&&((t=R(this,iu))==null||t.call(this),ie(this,iu,void 0),(e=R(this,su))==null||e.call(this),ie(this,su,void 0))}isFetching(t){return R(this,Tt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return R(this,Gs).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=R(this,Tt).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=R(this,Tt).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(ca(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return R(this,Tt).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=R(this,Tt).get(n.queryHash),s=i==null?void 0:i.state.data,a=Iee(e,s);if(a!==void 0)return R(this,Tt).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(t,e,r){return kt.batch(()=>R(this,Tt).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=R(this,Tt).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=R(this,Tt);kt.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=R(this,Tt);return kt.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=kt.batch(()=>R(this,Tt).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(Cr).catch(Cr)}invalidateQueries(t,e={}){return kt.batch(()=>(R(this,Tt).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=kt.batch(()=>R(this,Tt).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(Cr)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Cr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=R(this,Tt).build(this,e);return r.isStaleByTime(ca(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Cr).catch(Cr)}fetchInfiniteQuery(t){return t.behavior=yI(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Cr).catch(Cr)}ensureInfiniteQueryData(t){return t.behavior=yI(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return pp.isOnline()?R(this,Gs).resumePausedMutations():Promise.resolve()}getQueryCache(){return R(this,Tt)}getMutationCache(){return R(this,Gs)}getDefaultOptions(){return R(this,Ys)}setDefaultOptions(t){ie(this,Ys,t)}setQueryDefaults(t,e){R(this,ru).set(jo(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...R(this,ru).values()],r={};return e.forEach(n=>{_d(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){R(this,nu).set(jo(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...R(this,nu).values()],r={};return e.forEach(n=>{_d(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...R(this,Ys).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=YC(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===XC&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...R(this,Ys).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){R(this,Tt).clear(),R(this,Gs).clear()}},Tt=new WeakMap,Gs=new WeakMap,Ys=new WeakMap,ru=new WeakMap,nu=new WeakMap,Qs=new WeakMap,iu=new WeakMap,su=new WeakMap,GW),jH=T.createContext(void 0),rt=t=>{const e=T.useContext(jH);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Zee=({client:t,children:e})=>(T.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(jH.Provider,{value:t,children:e})),CH=T.createContext(!1),OH=()=>T.useContext(CH);CH.Provider;function ete(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var tte=T.createContext(ete()),PH=()=>T.useContext(tte),TH=(t,e,r)=>{const n=r!=null&&r.state.error&&typeof t.throwOnError=="function"?JC(t.throwOnError,[r.state.error,r]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||n)&&(e.isReset()||(t.retryOnMount=!1))},IH=t=>{T.useEffect(()=>{t.clearReset()},[t])},RH=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||JC(r,[t.error,n])),$H=t=>{if(t.suspense){const r=i=>i==="static"?i:Math.max(i??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...i)=>r(n(...i)):r(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},kH=(t,e)=>t.isLoading&&t.isFetching&&!e,xj=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,mp=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function vp({queries:t,...e},r){const n=rt(),i=OH(),s=PH(),a=T.useMemo(()=>t.map(y=>{const x=n.defaultQueryOptions(y);return x._optimisticResults=i?"isRestoring":"optimistic",x}),[t,n,i]);a.forEach(y=>{$H(y);const x=n.getQueryCache().get(y.queryHash);TH(y,s,x)}),IH(s);const[o]=T.useState(()=>new Qee(n,a,e)),[l,c,d]=o.getOptimisticResult(a,e.combine),h=!i&&e.subscribed!==!1;T.useSyncExternalStore(T.useCallback(y=>h?o.subscribe(kt.batchCalls(y)):Cr,[o,h]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),T.useEffect(()=>{o.setQueries(a,e)},[a,e,o]);const p=l.some((y,x)=>xj(a[x],y))?l.flatMap((y,x)=>{const g=a[x];if(g){const m=new eO(n,g);if(xj(g,y))return mp(g,m,s);kH(y,i)&&mp(g,m,s)}return[]}):[];if(p.length>0)throw Promise.all(p);const v=l.find((y,x)=>{const g=a[x];return g&&RH({result:y,errorResetBoundary:s,throwOnError:g.throwOnError,query:n.getQueryCache().get(g.queryHash),suspense:g.suspense})});if(v!=null&&v.error)throw v.error;return c(d())}function rte(t,e,r){var f,p,v,y;const n=OH(),i=PH(),s=rt(),a=s.defaultQueryOptions(t);(p=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||p.call(f,a);const o=s.getQueryCache().get(a.queryHash);a._optimisticResults=n?"isRestoring":"optimistic",$H(a),TH(a,i,o),IH(i);const l=!s.getQueryCache().get(a.queryHash),[c]=T.useState(()=>new e(s,a)),d=c.getOptimisticResult(a),h=!n&&t.subscribed!==!1;if(T.useSyncExternalStore(T.useCallback(x=>{const g=h?c.subscribe(kt.batchCalls(x)):Cr;return c.updateResult(),g},[c,h]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),T.useEffect(()=>{c.setOptions(a)},[a,c]),xj(a,d))throw mp(a,c,i);if(RH({result:d,errorResetBoundary:i,throwOnError:a.throwOnError,query:o,suspense:a.suspense}))throw d.error;if((y=(v=s.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||y.call(v,a,d),a.experimental_prefetchInRender&&!No&&kH(d,n)){const x=l?mp(a,c,i):o==null?void 0:o.promise;x==null||x.catch(Cr).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?d:c.trackResult(d)}function Ze(t,e){return rte(t,eO)}function Ke(t,e){const r=rt(),[n]=T.useState(()=>new Gee(r,t));T.useEffect(()=>{n.setOptions(t)},[n,t]);const i=T.useSyncExternalStore(T.useCallback(a=>n.subscribe(kt.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=T.useCallback((a,o)=>{n.mutate(a,o).catch(Cr)},[n]);if(i.error&&JC(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}function rO(){const t=window.prmConfig||{};return T.useMemo(()=>({isLoggedIn:t.isLoggedIn||!1,userId:t.userId||null,loginUrl:t.loginUrl||"/wp-login.php",logoutUrl:t.logoutUrl||"/wp-login.php?action=logout",isLoading:!1}),[t.isLoggedIn,t.userId,t.loginUrl,t.logoutUrl])}function DH(t,e){return function(){return t.apply(e,arguments)}}const{toString:nte}=Object.prototype,{getPrototypeOf:nO}=Object,{iterator:im,toStringTag:MH}=Symbol,sm=(t=>e=>{const r=nte.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),gi=t=>(t=t.toLowerCase(),e=>sm(e)===t),am=t=>e=>typeof e===t,{isArray:ku}=Array,pu=am("undefined");function Qd(t){return t!==null&&!pu(t)&&t.constructor!==null&&!pu(t.constructor)&&un(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const qH=gi("ArrayBuffer");function ite(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&qH(t.buffer),e}const ste=am("string"),un=am("function"),AH=am("number"),Xd=t=>t!==null&&typeof t=="object",ate=t=>t===!0||t===!1,$f=t=>{if(sm(t)!=="object")return!1;const e=nO(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(MH in t)&&!(im in t)},ote=t=>{if(!Xd(t)||Qd(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},lte=gi("Date"),ute=gi("File"),cte=gi("Blob"),dte=gi("FileList"),hte=t=>Xd(t)&&un(t.pipe),fte=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||un(t.append)&&((e=sm(t))==="formdata"||e==="object"&&un(t.toString)&&t.toString()==="[object FormData]"))},pte=gi("URLSearchParams"),[mte,vte,gte,yte]=["ReadableStream","Request","Response","Headers"].map(gi),bte=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Jd(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),ku(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{if(Qd(t))return;const s=r?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let o;for(n=0;n<a;n++)o=s[n],e.call(null,t[o],o,t)}}function FH(t,e){if(Qd(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const Ka=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,LH=t=>!pu(t)&&t!==Ka;function wj(){const{caseless:t,skipUndefined:e}=LH(this)&&this||{},r={},n=(i,s)=>{const a=t&&FH(r,s)||s;$f(r[a])&&$f(i)?r[a]=wj(r[a],i):$f(i)?r[a]=wj({},i):ku(i)?r[a]=i.slice():(!e||!pu(i))&&(r[a]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Jd(arguments[i],n);return r}const xte=(t,e,r,{allOwnKeys:n}={})=>(Jd(e,(i,s)=>{r&&un(i)?t[s]=DH(i,r):t[s]=i},{allOwnKeys:n}),t),wte=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),_te=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},Ste=(t,e,r,n)=>{let i,s,a;const o={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)a=i[s],(!n||n(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=r!==!1&&nO(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},Ete=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},Nte=t=>{if(!t)return null;if(ku(t))return t;let e=t.length;if(!AH(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},jte=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&nO(Uint8Array)),Cte=(t,e)=>{const n=(t&&t[im]).call(t);let i;for(;(i=n.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},Ote=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},Pte=gi("HTMLFormElement"),Tte=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),wI=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),Ite=gi("RegExp"),BH=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Jd(r,(i,s)=>{let a;(a=e(i,s,t))!==!1&&(n[s]=a||i)}),Object.defineProperties(t,n)},Rte=t=>{BH(t,(e,r)=>{if(un(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(un(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},$te=(t,e)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return ku(t)?n(t):n(String(t).split(e)),r},kte=()=>{},Dte=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Mte(t){return!!(t&&un(t.append)&&t[MH]==="FormData"&&t[im])}const qte=t=>{const e=new Array(10),r=(n,i)=>{if(Xd(n)){if(e.indexOf(n)>=0)return;if(Qd(n))return n;if(!("toJSON"in n)){e[i]=n;const s=ku(n)?[]:{};return Jd(n,(a,o)=>{const l=r(a,i+1);!pu(l)&&(s[o]=l)}),e[i]=void 0,s}}return n};return r(t,0)},Ate=gi("AsyncFunction"),Fte=t=>t&&(Xd(t)||un(t))&&un(t.then)&&un(t.catch),zH=((t,e)=>t?setImmediate:e?((r,n)=>(Ka.addEventListener("message",({source:i,data:s})=>{i===Ka&&s===r&&n.length&&n.shift()()},!1),i=>{n.push(i),Ka.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",un(Ka.postMessage)),Lte=typeof queueMicrotask<"u"?queueMicrotask.bind(Ka):typeof process<"u"&&process.nextTick||zH,Bte=t=>t!=null&&un(t[im]),L={isArray:ku,isArrayBuffer:qH,isBuffer:Qd,isFormData:fte,isArrayBufferView:ite,isString:ste,isNumber:AH,isBoolean:ate,isObject:Xd,isPlainObject:$f,isEmptyObject:ote,isReadableStream:mte,isRequest:vte,isResponse:gte,isHeaders:yte,isUndefined:pu,isDate:lte,isFile:ute,isBlob:cte,isRegExp:Ite,isFunction:un,isStream:hte,isURLSearchParams:pte,isTypedArray:jte,isFileList:dte,forEach:Jd,merge:wj,extend:xte,trim:bte,stripBOM:wte,inherits:_te,toFlatObject:Ste,kindOf:sm,kindOfTest:gi,endsWith:Ete,toArray:Nte,forEachEntry:Cte,matchAll:Ote,isHTMLForm:Pte,hasOwnProperty:wI,hasOwnProp:wI,reduceDescriptors:BH,freezeMethods:Rte,toObjectSet:$te,toCamelCase:Tte,noop:kte,toFiniteNumber:Dte,findKey:FH,global:Ka,isContextDefined:LH,isSpecCompliantForm:Mte,toJSONObject:qte,isAsyncFn:Ate,isThenable:Fte,setImmediate:zH,asap:Lte,isIterable:Bte};function Re(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}L.inherits(Re,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:L.toJSONObject(this.config),code:this.code,status:this.status}}});const UH=Re.prototype,WH={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{WH[t]={value:t}});Object.defineProperties(Re,WH);Object.defineProperty(UH,"isAxiosError",{value:!0});Re.from=(t,e,r,n,i,s)=>{const a=Object.create(UH);L.toFlatObject(t,a,function(d){return d!==Error.prototype},c=>c!=="isAxiosError");const o=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return Re.call(a,o,l,r,n,i),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",s&&Object.assign(a,s),a};const zte=null;function _j(t){return L.isPlainObject(t)||L.isArray(t)}function VH(t){return L.endsWith(t,"[]")?t.slice(0,-2):t}function _I(t,e,r){return t?t.concat(e).map(function(i,s){return i=VH(i),!r&&s?"["+i+"]":i}).join(r?".":""):e}function Ute(t){return L.isArray(t)&&!t.some(_j)}const Wte=L.toFlatObject(L,{},null,function(e){return/^is[A-Z]/.test(e)});function om(t,e,r){if(!L.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=L.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,x){return!L.isUndefined(x[y])});const n=r.metaTokens,i=r.visitor||d,s=r.dots,a=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&L.isSpecCompliantForm(e);if(!L.isFunction(i))throw new TypeError("visitor must be a function");function c(v){if(v===null)return"";if(L.isDate(v))return v.toISOString();if(L.isBoolean(v))return v.toString();if(!l&&L.isBlob(v))throw new Re("Blob is not supported. Use a Buffer instead.");return L.isArrayBuffer(v)||L.isTypedArray(v)?l&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function d(v,y,x){let g=v;if(v&&!x&&typeof v=="object"){if(L.endsWith(y,"{}"))y=n?y:y.slice(0,-2),v=JSON.stringify(v);else if(L.isArray(v)&&Ute(v)||(L.isFileList(v)||L.endsWith(y,"[]"))&&(g=L.toArray(v)))return y=VH(y),g.forEach(function(w,b){!(L.isUndefined(w)||w===null)&&e.append(a===!0?_I([y],b,s):a===null?y:y+"[]",c(w))}),!1}return _j(v)?!0:(e.append(_I(x,y,s),c(v)),!1)}const h=[],f=Object.assign(Wte,{defaultVisitor:d,convertValue:c,isVisitable:_j});function p(v,y){if(!L.isUndefined(v)){if(h.indexOf(v)!==-1)throw Error("Circular reference detected in "+y.join("."));h.push(v),L.forEach(v,function(g,m){(!(L.isUndefined(g)||g===null)&&i.call(e,g,L.isString(m)?m.trim():m,y,f))===!0&&p(g,y?y.concat(m):[m])}),h.pop()}}if(!L.isObject(t))throw new TypeError("data must be an object");return p(t),e}function SI(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function iO(t,e){this._pairs=[],t&&om(t,this,e)}const HH=iO.prototype;HH.append=function(e,r){this._pairs.push([e,r])};HH.toString=function(e){const r=e?function(n){return e.call(this,n,SI)}:SI;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function Vte(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function KH(t,e,r){if(!e)return t;const n=r&&r.encode||Vte;L.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let s;if(i?s=i(e,r):s=L.isURLSearchParams(e)?e.toString():new iO(e,r).toString(n),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class EI{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){L.forEach(this.handlers,function(n){n!==null&&e(n)})}}const GH={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Hte=typeof URLSearchParams<"u"?URLSearchParams:iO,Kte=typeof FormData<"u"?FormData:null,Gte=typeof Blob<"u"?Blob:null,Yte={isBrowser:!0,classes:{URLSearchParams:Hte,FormData:Kte,Blob:Gte},protocols:["http","https","file","blob","url","data"]},sO=typeof window<"u"&&typeof document<"u",Sj=typeof navigator=="object"&&navigator||void 0,Qte=sO&&(!Sj||["ReactNative","NativeScript","NS"].indexOf(Sj.product)<0),Xte=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Jte=sO&&window.location.href||"http://localhost",Zte=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:sO,hasStandardBrowserEnv:Qte,hasStandardBrowserWebWorkerEnv:Xte,navigator:Sj,origin:Jte},Symbol.toStringTag,{value:"Module"})),Pr={...Zte,...Yte};function ere(t,e){return om(t,new Pr.classes.URLSearchParams,{visitor:function(r,n,i,s){return Pr.isNode&&L.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function tre(t){return L.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function rre(t){const e={},r=Object.keys(t);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],e[s]=t[s];return e}function YH(t){function e(r,n,i,s){let a=r[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=s>=r.length;return a=!a&&L.isArray(i)?i.length:a,l?(L.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!o):((!i[a]||!L.isObject(i[a]))&&(i[a]=[]),e(r,n,i[a],s)&&L.isArray(i[a])&&(i[a]=rre(i[a])),!o)}if(L.isFormData(t)&&L.isFunction(t.entries)){const r={};return L.forEachEntry(t,(n,i)=>{e(tre(n),i,r,0)}),r}return null}function nre(t,e,r){if(L.isString(t))try{return(e||JSON.parse)(t),L.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Zd={transitional:GH,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=L.isObject(e);if(s&&L.isHTMLForm(e)&&(e=new FormData(e)),L.isFormData(e))return i?JSON.stringify(YH(e)):e;if(L.isArrayBuffer(e)||L.isBuffer(e)||L.isStream(e)||L.isFile(e)||L.isBlob(e)||L.isReadableStream(e))return e;if(L.isArrayBufferView(e))return e.buffer;if(L.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return ere(e,this.formSerializer).toString();if((o=L.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return om(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),nre(e)):e}],transformResponse:[function(e){const r=this.transitional||Zd.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(L.isResponse(e)||L.isReadableStream(e))return e;if(e&&L.isString(e)&&(n&&!this.responseType||i)){const a=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(o){if(a)throw o.name==="SyntaxError"?Re.from(o,Re.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Pr.classes.FormData,Blob:Pr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};L.forEach(["delete","get","head","post","put","patch"],t=>{Zd.headers[t]={}});const ire=L.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),sre=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),r=a.substring(0,i).trim().toLowerCase(),n=a.substring(i+1).trim(),!(!r||e[r]&&ire[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},NI=Symbol("internals");function Sc(t){return t&&String(t).trim().toLowerCase()}function kf(t){return t===!1||t==null?t:L.isArray(t)?t.map(kf):String(t)}function are(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const ore=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function _v(t,e,r,n,i){if(L.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!L.isString(e)){if(L.isString(n))return e.indexOf(n)!==-1;if(L.isRegExp(n))return n.test(e)}}function lre(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function ure(t,e){const r=L.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,s,a){return this[n].call(this,e,i,s,a)},configurable:!0})})}let cn=class{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function s(o,l,c){const d=Sc(l);if(!d)throw new Error("header name must be a non-empty string");const h=L.findKey(i,d);(!h||i[h]===void 0||c===!0||c===void 0&&i[h]!==!1)&&(i[h||l]=kf(o))}const a=(o,l)=>L.forEach(o,(c,d)=>s(c,d,l));if(L.isPlainObject(e)||e instanceof this.constructor)a(e,r);else if(L.isString(e)&&(e=e.trim())&&!ore(e))a(sre(e),r);else if(L.isObject(e)&&L.isIterable(e)){let o={},l,c;for(const d of e){if(!L.isArray(d))throw TypeError("Object iterator must return a key-value pair");o[c=d[0]]=(l=o[c])?L.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}a(o,r)}else e!=null&&s(r,e,n);return this}get(e,r){if(e=Sc(e),e){const n=L.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return are(i);if(L.isFunction(r))return r.call(this,i,n);if(L.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Sc(e),e){const n=L.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||_v(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function s(a){if(a=Sc(a),a){const o=L.findKey(n,a);o&&(!r||_v(n,n[o],o,r))&&(delete n[o],i=!0)}}return L.isArray(e)?e.forEach(s):s(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!e||_v(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const r=this,n={};return L.forEach(this,(i,s)=>{const a=L.findKey(n,s);if(a){r[a]=kf(i),delete r[s];return}const o=e?lre(s):String(s).trim();o!==s&&delete r[s],r[o]=kf(i),n[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return L.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&L.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[NI]=this[NI]={accessors:{}}).accessors,i=this.prototype;function s(a){const o=Sc(a);n[o]||(ure(i,a),n[o]=!0)}return L.isArray(e)?e.forEach(s):s(e),this}};cn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);L.reduceDescriptors(cn.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});L.freezeMethods(cn);function Sv(t,e){const r=this||Zd,n=e||r,i=cn.from(n.headers);let s=n.data;return L.forEach(t,function(o){s=o.call(r,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function QH(t){return!!(t&&t.__CANCEL__)}function Du(t,e,r){Re.call(this,t??"canceled",Re.ERR_CANCELED,e,r),this.name="CanceledError"}L.inherits(Du,Re,{__CANCEL__:!0});function XH(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Re("Request failed with status code "+r.status,[Re.ERR_BAD_REQUEST,Re.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function cre(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function dre(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),d=n[s];a||(a=c),r[i]=l,n[i]=c;let h=s,f=0;for(;h!==i;)f+=r[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-a<e)return;const p=d&&c-d;return p?Math.round(f*1e3/p):void 0}}function hre(t,e){let r=0,n=1e3/e,i,s;const a=(c,d=Date.now())=>{r=d,i=null,s&&(clearTimeout(s),s=null),t(...c)};return[(...c)=>{const d=Date.now(),h=d-r;h>=n?a(c,d):(i=c,s||(s=setTimeout(()=>{s=null,a(i)},n-h)))},()=>i&&a(i)]}const gp=(t,e,r=3)=>{let n=0;const i=dre(50,250);return hre(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,l=a-n,c=i(l),d=a<=o;n=a;const h={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:c||void 0,estimated:c&&o&&d?(o-a)/c:void 0,event:s,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(h)},r)},jI=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},CI=t=>(...e)=>L.asap(()=>t(...e)),fre=Pr.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Pr.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Pr.origin),Pr.navigator&&/(msie|trident)/i.test(Pr.navigator.userAgent)):()=>!0,pre=Pr.hasStandardBrowserEnv?{write(t,e,r,n,i,s,a){if(typeof document>"u")return;const o=[`${t}=${encodeURIComponent(e)}`];L.isNumber(r)&&o.push(`expires=${new Date(r).toUTCString()}`),L.isString(n)&&o.push(`path=${n}`),L.isString(i)&&o.push(`domain=${i}`),s===!0&&o.push("secure"),L.isString(a)&&o.push(`SameSite=${a}`),document.cookie=o.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function mre(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function vre(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function JH(t,e,r){let n=!mre(e);return t&&(n||r==!1)?vre(t,e):e}const OI=t=>t instanceof cn?{...t}:t;function Co(t,e){e=e||{};const r={};function n(c,d,h,f){return L.isPlainObject(c)&&L.isPlainObject(d)?L.merge.call({caseless:f},c,d):L.isPlainObject(d)?L.merge({},d):L.isArray(d)?d.slice():d}function i(c,d,h,f){if(L.isUndefined(d)){if(!L.isUndefined(c))return n(void 0,c,h,f)}else return n(c,d,h,f)}function s(c,d){if(!L.isUndefined(d))return n(void 0,d)}function a(c,d){if(L.isUndefined(d)){if(!L.isUndefined(c))return n(void 0,c)}else return n(void 0,d)}function o(c,d,h){if(h in e)return n(c,d);if(h in t)return n(void 0,c)}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(c,d,h)=>i(OI(c),OI(d),h,!0)};return L.forEach(Object.keys({...t,...e}),function(d){const h=l[d]||i,f=h(t[d],e[d],d);L.isUndefined(f)&&h!==o||(r[d]=f)}),r}const ZH=t=>{const e=Co({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:o}=e;if(e.headers=a=cn.from(a),e.url=KH(JH(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),L.isFormData(r)){if(Pr.hasStandardBrowserEnv||Pr.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(L.isFunction(r.getHeaders)){const l=r.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([d,h])=>{c.includes(d.toLowerCase())&&a.set(d,h)})}}if(Pr.hasStandardBrowserEnv&&(n&&L.isFunction(n)&&(n=n(e)),n||n!==!1&&fre(e.url))){const l=i&&s&&pre.read(s);l&&a.set(i,l)}return e},gre=typeof XMLHttpRequest<"u",yre=gre&&function(t){return new Promise(function(r,n){const i=ZH(t);let s=i.data;const a=cn.from(i.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:c}=i,d,h,f,p,v;function y(){p&&p(),v&&v(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let x=new XMLHttpRequest;x.open(i.method.toUpperCase(),i.url,!0),x.timeout=i.timeout;function g(){if(!x)return;const w=cn.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),_={data:!o||o==="text"||o==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:w,config:t,request:x};XH(function(N){r(N),y()},function(N){n(N),y()},_),x=null}"onloadend"in x?x.onloadend=g:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(g)},x.onabort=function(){x&&(n(new Re("Request aborted",Re.ECONNABORTED,t,x)),x=null)},x.onerror=function(b){const _=b&&b.message?b.message:"Network Error",E=new Re(_,Re.ERR_NETWORK,t,x);E.event=b||null,n(E),x=null},x.ontimeout=function(){let b=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const _=i.transitional||GH;i.timeoutErrorMessage&&(b=i.timeoutErrorMessage),n(new Re(b,_.clarifyTimeoutError?Re.ETIMEDOUT:Re.ECONNABORTED,t,x)),x=null},s===void 0&&a.setContentType(null),"setRequestHeader"in x&&L.forEach(a.toJSON(),function(b,_){x.setRequestHeader(_,b)}),L.isUndefined(i.withCredentials)||(x.withCredentials=!!i.withCredentials),o&&o!=="json"&&(x.responseType=i.responseType),c&&([f,v]=gp(c,!0),x.addEventListener("progress",f)),l&&x.upload&&([h,p]=gp(l),x.upload.addEventListener("progress",h),x.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(d=w=>{x&&(n(!w||w.type?new Du(null,t,x):w),x.abort(),x=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const m=cre(i.url);if(m&&Pr.protocols.indexOf(m)===-1){n(new Re("Unsupported protocol "+m+":",Re.ERR_BAD_REQUEST,t));return}x.send(s||null)})},bre=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,i;const s=function(c){if(!i){i=!0,o();const d=c instanceof Error?c:this.reason;n.abort(d instanceof Re?d:new Du(d instanceof Error?d.message:d))}};let a=e&&setTimeout(()=>{a=null,s(new Re(`timeout ${e} of ms exceeded`,Re.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)};t.forEach(c=>c.addEventListener("abort",s));const{signal:l}=n;return l.unsubscribe=()=>L.asap(o),l}},xre=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},wre=async function*(t,e){for await(const r of _re(t))yield*xre(r,e)},_re=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},PI=(t,e,r,n)=>{const i=wre(t,e);let s=0,a,o=l=>{a||(a=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:c,value:d}=await i.next();if(c){o(),l.close();return}let h=d.byteLength;if(r){let f=s+=h;r(f)}l.enqueue(new Uint8Array(d))}catch(c){throw o(c),c}},cancel(l){return o(l),i.return()}},{highWaterMark:2})},TI=64*1024,{isFunction:lf}=L,Sre=(({Request:t,Response:e})=>({Request:t,Response:e}))(L.global),{ReadableStream:II,TextEncoder:RI}=L.global,$I=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Ere=t=>{t=L.merge.call({skipUndefined:!0},Sre,t);const{fetch:e,Request:r,Response:n}=t,i=e?lf(e):typeof fetch=="function",s=lf(r),a=lf(n);if(!i)return!1;const o=i&&lf(II),l=i&&(typeof RI=="function"?(v=>y=>v.encode(y))(new RI):async v=>new Uint8Array(await new r(v).arrayBuffer())),c=s&&o&&$I(()=>{let v=!1;const y=new r(Pr.origin,{body:new II,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!y}),d=a&&o&&$I(()=>L.isReadableStream(new n("").body)),h={stream:d&&(v=>v.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!h[v]&&(h[v]=(y,x)=>{let g=y&&y[v];if(g)return g.call(y);throw new Re(`Response type '${v}' is not supported`,Re.ERR_NOT_SUPPORT,x)})});const f=async v=>{if(v==null)return 0;if(L.isBlob(v))return v.size;if(L.isSpecCompliantForm(v))return(await new r(Pr.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(L.isArrayBufferView(v)||L.isArrayBuffer(v))return v.byteLength;if(L.isURLSearchParams(v)&&(v=v+""),L.isString(v))return(await l(v)).byteLength},p=async(v,y)=>{const x=L.toFiniteNumber(v.getContentLength());return x??f(y)};return async v=>{let{url:y,method:x,data:g,signal:m,cancelToken:w,timeout:b,onDownloadProgress:_,onUploadProgress:E,responseType:N,headers:S,withCredentials:j="same-origin",fetchOptions:C}=ZH(v),P=e||fetch;N=N?(N+"").toLowerCase():"text";let O=bre([m,w&&w.toAbortSignal()],b),I=null;const M=O&&O.unsubscribe&&(()=>{O.unsubscribe()});let k;try{if(E&&c&&x!=="get"&&x!=="head"&&(k=await p(S,g))!==0){let z=new r(y,{method:"POST",body:g,duplex:"half"}),F;if(L.isFormData(g)&&(F=z.headers.get("content-type"))&&S.setContentType(F),z.body){const[ee,oe]=jI(k,gp(CI(E)));g=PI(z.body,TI,ee,oe)}}L.isString(j)||(j=j?"include":"omit");const K=s&&"credentials"in r.prototype,H={...C,signal:O,method:x.toUpperCase(),headers:S.normalize().toJSON(),body:g,duplex:"half",credentials:K?j:void 0};I=s&&new r(y,H);let A=await(s?P(I,C):P(y,H));const G=d&&(N==="stream"||N==="response");if(d&&(_||G&&M)){const z={};["status","statusText","headers"].forEach(Ne=>{z[Ne]=A[Ne]});const F=L.toFiniteNumber(A.headers.get("content-length")),[ee,oe]=_&&jI(F,gp(CI(_),!0))||[];A=new n(PI(A.body,TI,ee,()=>{oe&&oe(),M&&M()}),z)}N=N||"text";let W=await h[L.findKey(h,N)||"text"](A,v);return!G&&M&&M(),await new Promise((z,F)=>{XH(z,F,{data:W,headers:cn.from(A.headers),status:A.status,statusText:A.statusText,config:v,request:I})})}catch(K){throw M&&M(),K&&K.name==="TypeError"&&/Load failed|fetch/i.test(K.message)?Object.assign(new Re("Network Error",Re.ERR_NETWORK,v,I),{cause:K.cause||K}):Re.from(K,K&&K.code,v,I)}}},Nre=new Map,eK=t=>{let e=t&&t.env||{};const{fetch:r,Request:n,Response:i}=e,s=[n,i,r];let a=s.length,o=a,l,c,d=Nre;for(;o--;)l=s[o],c=d.get(l),c===void 0&&d.set(l,c=o?new Map:Ere(e)),d=c;return c};eK();const aO={http:zte,xhr:yre,fetch:{get:eK}};L.forEach(aO,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const kI=t=>`- ${t}`,jre=t=>L.isFunction(t)||t===null||t===!1;function Cre(t,e){t=L.isArray(t)?t:[t];const{length:r}=t;let n,i;const s={};for(let a=0;a<r;a++){n=t[a];let o;if(i=n,!jre(n)&&(i=aO[(o=String(n)).toLowerCase()],i===void 0))throw new Re(`Unknown adapter '${o}'`);if(i&&(L.isFunction(i)||(i=i.get(e))))break;s[o||"#"+a]=i}if(!i){const a=Object.entries(s).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=r?a.length>1?`since :
`+a.map(kI).join(`
`):" "+kI(a[0]):"as no adapter specified";throw new Re("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i}const tK={getAdapter:Cre,adapters:aO};function Ev(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Du(null,t)}function DI(t){return Ev(t),t.headers=cn.from(t.headers),t.data=Sv.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),tK.getAdapter(t.adapter||Zd.adapter,t)(t).then(function(n){return Ev(t),n.data=Sv.call(t,t.transformResponse,n),n.headers=cn.from(n.headers),n},function(n){return QH(n)||(Ev(t),n&&n.response&&(n.response.data=Sv.call(t,t.transformResponse,n.response),n.response.headers=cn.from(n.response.headers))),Promise.reject(n)})}const rK="1.13.2",lm={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{lm[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const MI={};lm.transitional=function(e,r,n){function i(s,a){return"[Axios v"+rK+"] Transitional option '"+s+"'"+a+(n?". "+n:"")}return(s,a,o)=>{if(e===!1)throw new Re(i(a," has been removed"+(r?" in "+r:"")),Re.ERR_DEPRECATED);return r&&!MI[a]&&(MI[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,a,o):!0}};lm.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function Ore(t,e,r){if(typeof t!="object")throw new Re("options must be an object",Re.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const s=n[i],a=e[s];if(a){const o=t[s],l=o===void 0||a(o,s,t);if(l!==!0)throw new Re("option "+s+" must be "+l,Re.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Re("Unknown option "+s,Re.ERR_BAD_OPTION)}}const Df={assertOptions:Ore,validators:lm},_i=Df.validators;let ho=class{constructor(e){this.defaults=e||{},this.interceptors={request:new EI,response:new EI}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Co(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&Df.assertOptions(n,{silentJSONParsing:_i.transitional(_i.boolean),forcedJSONParsing:_i.transitional(_i.boolean),clarifyTimeoutError:_i.transitional(_i.boolean)},!1),i!=null&&(L.isFunction(i)?r.paramsSerializer={serialize:i}:Df.assertOptions(i,{encode:_i.function,serialize:_i.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Df.assertOptions(r,{baseUrl:_i.spelling("baseURL"),withXsrfToken:_i.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=s&&L.merge(s.common,s[r.method]);s&&L.forEach(["delete","get","head","post","put","patch","common"],v=>{delete s[v]}),r.headers=cn.concat(a,s);const o=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(l=l&&y.synchronous,o.unshift(y.fulfilled,y.rejected))});const c=[];this.interceptors.response.forEach(function(y){c.push(y.fulfilled,y.rejected)});let d,h=0,f;if(!l){const v=[DI.bind(this),void 0];for(v.unshift(...o),v.push(...c),f=v.length,d=Promise.resolve(r);h<f;)d=d.then(v[h++],v[h++]);return d}f=o.length;let p=r;for(;h<f;){const v=o[h++],y=o[h++];try{p=v(p)}catch(x){y.call(this,x);break}}try{d=DI.call(this,p)}catch(v){return Promise.reject(v)}for(h=0,f=c.length;h<f;)d=d.then(c[h++],c[h++]);return d}getUri(e){e=Co(this.defaults,e);const r=JH(e.baseURL,e.url,e.allowAbsoluteUrls);return KH(r,e.params,e.paramsSerializer)}};L.forEach(["delete","get","head","options"],function(e){ho.prototype[e]=function(r,n){return this.request(Co(n||{},{method:e,url:r,data:(n||{}).data}))}});L.forEach(["post","put","patch"],function(e){function r(n){return function(s,a,o){return this.request(Co(o||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}ho.prototype[e]=r(),ho.prototype[e+"Form"]=r(!0)});let Pre=class nK{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(o=>{n.subscribe(o),s=o}).then(i);return a.cancel=function(){n.unsubscribe(s)},a},e(function(s,a,o){n.reason||(n.reason=new Du(s,a,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new nK(function(i){e=i}),cancel:e}}};function Tre(t){return function(r){return t.apply(null,r)}}function Ire(t){return L.isObject(t)&&t.isAxiosError===!0}const Ej={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Ej).forEach(([t,e])=>{Ej[e]=t});function iK(t){const e=new ho(t),r=DH(ho.prototype.request,e);return L.extend(r,ho.prototype,e,{allOwnKeys:!0}),L.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return iK(Co(t,i))},r}const Ft=iK(Zd);Ft.Axios=ho;Ft.CanceledError=Du;Ft.CancelToken=Pre;Ft.isCancel=QH;Ft.VERSION=rK;Ft.toFormData=om;Ft.AxiosError=Re;Ft.Cancel=Ft.CanceledError;Ft.all=function(e){return Promise.all(e)};Ft.spread=Tre;Ft.isAxiosError=Ire;Ft.mergeConfig=Co;Ft.AxiosHeaders=cn;Ft.formToJSON=t=>YH(L.isHTMLForm(t)?new FormData(t):t);Ft.getAdapter=tK.getAdapter;Ft.HttpStatusCode=Ej;Ft.default=Ft;const{Axios:jxe,AxiosError:Cxe,CanceledError:Oxe,isCancel:Pxe,CancelToken:Txe,VERSION:Ixe,all:Rxe,Cancel:$xe,isAxiosError:kxe,spread:Dxe,toFormData:Mxe,AxiosHeaders:qxe,HttpStatusCode:Axe,formToJSON:Fxe,getAdapter:Lxe,mergeConfig:Bxe}=Ft,Nj=window.prmConfig||{},de=Ft.create({baseURL:Nj.apiUrl||"/wp-json",headers:{"Content-Type":"application/json","X-WP-Nonce":Nj.nonce||""}});de.interceptors.request.use(t=>{var e;return(e=window.prmConfig)!=null&&e.nonce&&(t.headers["X-WP-Nonce"]=window.prmConfig.nonce),t});de.interceptors.response.use(t=>t,t=>{var e,r;return((e=t.response)==null?void 0:e.status)===401&&(window.location.href=Nj.loginUrl||"/wp-login.php"),((r=t.response)==null?void 0:r.status)===403&&console.error("Access denied:",t.response.data),Promise.reject(t)});const Ae={getPeople:t=>de.get("/wp/v2/people",{params:t}),getPerson:(t,e={})=>de.get(`/wp/v2/people/${t}`,{params:e}),createPerson:t=>de.post("/wp/v2/people",t),updatePerson:(t,e)=>de.put(`/wp/v2/people/${t}`,e),deletePerson:(t,e={})=>de.delete(`/wp/v2/people/${t}`,{params:e}),getCompanies:t=>de.get("/wp/v2/companies",{params:t}),getCompany:(t,e={})=>de.get(`/wp/v2/companies/${t}`,{params:e}),createCompany:t=>de.post("/wp/v2/companies",t),updateCompany:(t,e)=>de.put(`/wp/v2/companies/${t}`,e),deleteCompany:(t,e={})=>de.delete(`/wp/v2/companies/${t}`,{params:e}),getDates:t=>de.get("/wp/v2/important-dates",{params:t}),getDate:t=>de.get(`/wp/v2/important-dates/${t}`),createDate:t=>de.post("/wp/v2/important-dates",t),updateDate:(t,e)=>de.put(`/wp/v2/important-dates/${t}`,e),deleteDate:t=>de.delete(`/wp/v2/important-dates/${t}`),getPersonLabels:()=>de.get("/wp/v2/person_label"),getCompanyLabels:()=>de.get("/wp/v2/company_label"),getRelationshipTypes:()=>de.get("/wp/v2/relationship_type",{params:{per_page:100,_fields:"id,name,slug,acf"}}),createRelationshipType:t=>de.post("/wp/v2/relationship_type",t),updateRelationshipType:(t,e)=>de.post(`/wp/v2/relationship_type/${t}`,e),deleteRelationshipType:t=>de.delete(`/wp/v2/relationship_type/${t}?force=true`),restoreRelationshipTypeDefaults:()=>de.post("/prm/v1/relationship-types/restore-defaults"),getDateTypes:()=>de.get("/wp/v2/date_type",{params:{per_page:100}}),uploadMedia:t=>{const e=new FormData;return e.append("file",t),de.post("/wp/v2/media",e,{headers:{"Content-Type":"multipart/form-data"}})}},$e={getDashboard:()=>de.get("/prm/v1/dashboard"),sideloadGravatar:(t,e)=>de.post(`/prm/v1/people/${t}/gravatar`,{email:e}),getCurrentUser:()=>de.get("/prm/v1/user/me"),getUsers:()=>de.get("/prm/v1/users"),approveUser:t=>de.post(`/prm/v1/users/${t}/approve`),denyUser:t=>de.post(`/prm/v1/users/${t}/deny`),deleteUser:t=>de.delete(`/prm/v1/users/${t}`),search:t=>de.get("/prm/v1/search",{params:{q:t}}),getReminders:(t=30)=>de.get("/prm/v1/reminders",{params:{days_ahead:t}}),triggerReminders:()=>de.post("/prm/v1/reminders/trigger"),rescheduleCronJobs:()=>de.post("/prm/v1/reminders/reschedule-cron"),getNotificationChannels:()=>de.get("/prm/v1/user/notification-channels"),updateNotificationChannels:t=>de.post("/prm/v1/user/notification-channels",{channels:t}),updateSlackWebhook:t=>de.post("/prm/v1/user/slack-webhook",{webhook:t}),updateNotificationTime:t=>de.post("/prm/v1/user/notification-time",{time:t}),getSlackStatus:()=>de.get("/prm/v1/user/slack-status"),disconnectSlack:()=>de.post("/prm/v1/slack/disconnect"),getSlackChannels:()=>de.get("/prm/v1/slack/channels"),getSlackTargets:()=>de.get("/prm/v1/slack/targets"),updateSlackTargets:t=>de.post("/prm/v1/slack/targets",{targets:t}),getPersonDates:t=>de.get(`/prm/v1/people/${t}/dates`),getPersonTimeline:t=>de.get(`/prm/v1/people/${t}/timeline`),getPersonNotes:t=>de.get(`/prm/v1/people/${t}/notes`),createNote:(t,e)=>de.post(`/prm/v1/people/${t}/notes`,{content:e}),updateNote:(t,e)=>de.put(`/prm/v1/notes/${t}`,{content:e}),deleteNote:t=>de.delete(`/prm/v1/notes/${t}`),getPersonActivities:t=>de.get(`/prm/v1/people/${t}/activities`),createActivity:(t,e)=>de.post(`/prm/v1/people/${t}/activities`,e),updateActivity:(t,e)=>de.put(`/prm/v1/activities/${t}`,e),deleteActivity:t=>de.delete(`/prm/v1/activities/${t}`),getAllTodos:(t=!1)=>de.get("/prm/v1/todos",{params:{completed:t}}),getPersonTodos:t=>de.get(`/prm/v1/people/${t}/todos`),createTodo:(t,e)=>de.post(`/prm/v1/people/${t}/todos`,e),updateTodo:(t,e)=>de.put(`/prm/v1/todos/${t}`,e),deleteTodo:t=>de.delete(`/prm/v1/todos/${t}`),getCompanyPeople:t=>de.get(`/prm/v1/companies/${t}/people`),setCompanyLogo:(t,e)=>de.post(`/prm/v1/companies/${t}/logo`,{media_id:e}),uploadPersonPhoto:(t,e)=>{const r=new FormData;return r.append("file",e),de.post(`/prm/v1/people/${t}/photo`,r,{headers:{"Content-Type":"multipart/form-data"}})},uploadCompanyLogo:(t,e)=>{const r=new FormData;return r.append("file",e),de.post(`/prm/v1/companies/${t}/logo/upload`,r,{headers:{"Content-Type":"multipart/form-data"}})}};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Rre={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $re=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),be=(t,e)=>{const r=T.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,...c},d)=>T.createElement("svg",{ref:d,...Rre,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${$re(t)}`,o].join(" "),...c},[...e.map(([h,f])=>T.createElement(h,f)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=be("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kre=be("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dre=be("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=be("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=be("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mre=be("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dn=be("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sK=be("Cake",[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h0.01",key:"hsw7lv"}],["path",{d:"M12 4h0.01",key:"1e3d8f"}],["path",{d:"M17 4h0.01",key:"p7cxgy"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=be("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=be("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=be("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=be("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=be("CheckSquare2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=be("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=be("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=be("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=be("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aK=be("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qre=be("Command",[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Are=be("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=be("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=be("FileCode",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=be("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=be("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=be("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fre=be("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=be("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=be("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lre=be("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bre=be("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oK=be("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lK=be("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=be("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zre=be("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=be("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ure=be("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wre=be("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uK=be("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vre=be("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=be("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=be("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=be("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hre=be("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cK=be("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=be("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=be("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dK=be("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hK=be("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kre=be("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fK=be("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pK=be("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=be("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=be("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mK=be("StickyNote",[["path",{d:"M15.5 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2V8.5L15.5 3Z",key:"1wis1t"}],["path",{d:"M15 3v6h6",key:"edgan2"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=be("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=be("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gre=be("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ed=be("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=be("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vK=be("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=be("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yre=be("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qre=be("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),bu="Caelis";function mn(t){T.useEffect(()=>{var e;if(t){const r=((e=window.prmConfig)==null?void 0:e.siteName)||bu;document.title=`${t} - ${r}`}},[t])}function Xre(t){const e=t.match(/\/(?:people|companies|dates)\/(\d+)/);return e?e[1]:null}function gK(t=null){const e=_s();T.useEffect(()=>{var i;let r=t;if(!r){const s=e.pathname,a=Xre(s);s==="/"?r="Dashboard":s==="/login"?r="Login":s.startsWith("/people")?s==="/people"||s==="/people/"?r="People":s==="/people/new"?r="New person":s.endsWith("/edit")?r="Edit person":a?r="Person":r="People":s.startsWith("/companies")?s==="/companies"||s==="/companies/"?r="Organizations":s==="/companies/new"?r="New organization":s.endsWith("/edit")?r="Edit organization":a?r="Organization":r="Organizations":s.startsWith("/dates")?s==="/dates"||s==="/dates/"?r="Events":s==="/dates/new"?r="New date":s.endsWith("/edit")?r="Edit date":r="Events":s.startsWith("/settings")?r="Settings":r=bu}const n=((i=window.prmConfig)==null?void 0:i.siteName)||bu;document.title=`${r} - ${n}`},[e.pathname,t])}function Jre(){return Ze({queryKey:["dashboard"],queryFn:async()=>(await $e.getDashboard()).data})}function Zre(t=30){return Ze({queryKey:["reminders",t],queryFn:async()=>(await $e.getReminders(t)).data})}function yK(t=!1){return Ze({queryKey:["todos",t],queryFn:async()=>(await $e.getAllTodos(t)).data})}function bK(){const t=rt();return Ke({mutationFn:({todoId:e,data:r})=>$e.updateTodo(e,r),onSuccess:()=>{t.invalidateQueries({queryKey:["todos"]}),t.invalidateQueries({queryKey:["dashboard"]})}})}function ene(){const t=rt();return Ke({mutationFn:e=>$e.deleteTodo(e),onSuccess:()=>{t.invalidateQueries({queryKey:["todos"]}),t.invalidateQueries({queryKey:["dashboard"]})}})}function tne(t){const e=typeof t=="string"?t:"",r=e.length>=2;return Ze({queryKey:["search",e],queryFn:async()=>r?(await $e.search(e)).data:{people:[],companies:[]},enabled:r})}function di(t){if(!t)return"";const e=document.createElement("textarea");return e.innerHTML=t,e.value}function Zt(t){var r;if(!t)return"";const e=((r=t.title)==null?void 0:r.rendered)||t.title||t.name||"";return di(e)}function fo(t){var r,n;if(!t)return"";if(t.name&&typeof t.name=="string"&&!((r=t.title)!=null&&r.rendered))return di(t.name);const e=((n=t.title)==null?void 0:n.rendered)||t.title||t.name||"";return di(e)}function Ga(t,e={}){const r=["gender"],n=["contact_info","work_history","relationships","photo_gallery"],i={...t};return r.forEach(s=>{i[s]===""&&(i[s]=null)}),n.forEach(s=>{Array.isArray(i[s])||(i[s]=[])}),Object.assign(i,e),i}const gt={all:["people"],lists:()=>[...gt.all,"list"],list:t=>[...gt.lists(),t],details:()=>[...gt.all,"detail"],detail:t=>[...gt.details(),t],timeline:t=>[...gt.detail(t),"timeline"],dates:t=>[...gt.detail(t),"dates"]};function xK(t){var i,s,a,o,l,c,d,h,f,p,v,y,x,g,m,w,b;const e=((a=(s=(i=t._embedded)==null?void 0:i["wp:featuredmedia"])==null?void 0:s[0])==null?void 0:a.source_url)||((f=(h=(d=(c=(l=(o=t._embedded)==null?void 0:o["wp:featuredmedia"])==null?void 0:l[0])==null?void 0:c.media_details)==null?void 0:d.sizes)==null?void 0:h.thumbnail)==null?void 0:f.source_url)||null,r=((x=(y=(v=(p=t._embedded)==null?void 0:p["wp:term"])==null?void 0:v.flat())==null?void 0:y.filter(_=>(_==null?void 0:_.taxonomy)==="person_label"))==null?void 0:x.map(_=>_.name))||[],n=di(((g=t.title)==null?void 0:g.rendered)||"");return{...t,id:t.id,name:n,first_name:((m=t.acf)==null?void 0:m.first_name)||"",last_name:((w=t.acf)==null?void 0:w.last_name)||"",is_favorite:((b=t.acf)==null?void 0:b.is_favorite)||!1,thumbnail:e,labels:r}}function zo(t={}){return Ze({queryKey:gt.list(t),queryFn:async()=>{const e=[];let r=1;const n=100;for(;;){const i=await Ae.getPeople({per_page:n,page:r,_embed:!0,...t}),s=i.data.map(xK);if(e.push(...s),s.length<n)break;const a=parseInt(i.headers["x-wp-totalpages"]||i.headers["X-WP-TotalPages"]||"0",10);if(a>0&&r>=a)break;r++}return e}})}function Mu(t){return Ze({queryKey:gt.detail(t),queryFn:async()=>{const e=await Ae.getPerson(t,{_embed:!0});return xK(e.data)},enabled:!!t})}function rne(t){return Ze({queryKey:gt.timeline(t),queryFn:async()=>(await $e.getPersonTimeline(t)).data,enabled:!!t})}function nne(t){return Ze({queryKey:gt.dates(t),queryFn:async()=>(await $e.getPersonDates(t)).data,enabled:!!t})}function ine(){const t=rt();return Ke({mutationFn:e=>Ae.createPerson(e),onSuccess:()=>{t.invalidateQueries({queryKey:gt.lists()})}})}function th(){const t=rt();return Ke({mutationFn:({id:e,data:r})=>Ae.updatePerson(e,r),onSuccess:(e,{id:r,data:n})=>{var i;t.invalidateQueries({queryKey:gt.detail(r)}),t.invalidateQueries({queryKey:gt.lists()}),(i=n==null?void 0:n.acf)!=null&&i.relationships&&(Array.isArray(n.acf.relationships)?n.acf.relationships:[]).forEach(a=>{const o=a.related_person;o&&t.invalidateQueries({queryKey:gt.detail(o)})})}})}function sne(){const t=rt();return Ke({mutationFn:e=>Ae.deletePerson(e,{force:!0}),onSuccess:()=>{t.invalidateQueries({queryKey:gt.lists()}),t.invalidateQueries({queryKey:gt.details()})}})}function ane(){const t=rt();return Ke({mutationFn:({personId:e,content:r})=>$e.createNote(e,r),onSuccess:(e,{personId:r})=>{t.invalidateQueries({queryKey:gt.timeline(r)})}})}function one(){const t=rt();return Ke({mutationFn:({noteId:e,personId:r})=>$e.deleteNote(e),onSuccess:(e,{personId:r})=>{t.invalidateQueries({queryKey:gt.timeline(r)})}})}function lne(){const t=rt();return Ke({mutationFn:({personId:e,data:r})=>$e.createActivity(e,r),onSuccess:(e,{personId:r})=>{t.invalidateQueries({queryKey:gt.timeline(r)})}})}function une(){const t=rt();return Ke({mutationFn:({activityId:e,personId:r})=>$e.deleteActivity(e),onSuccess:(e,{personId:r})=>{r&&t.invalidateQueries({queryKey:gt.timeline(r)})}})}function wK(){const t=rt();return Ke({mutationFn:({personId:e,data:r})=>$e.createTodo(e,r),onSuccess:(e,{personId:r})=>{t.invalidateQueries({queryKey:gt.timeline(r)})}})}function cne(){const t=rt();return Ke({mutationFn:({todoId:e,data:r,personId:n})=>$e.updateTodo(e,r),onSuccess:(e,{personId:r})=>{r&&t.invalidateQueries({queryKey:gt.timeline(r)})}})}function dne(){const t=rt();return Ke({mutationFn:({todoId:e,personId:r})=>$e.deleteTodo(e),onSuccess:(e,{personId:r})=>{r&&t.invalidateQueries({queryKey:gt.timeline(r)})}})}function hne(){const t=rt();return Ke({mutationFn:({dateId:e,personId:r})=>Ae.deleteDate(e),onSuccess:(e,{personId:r})=>{r&&(t.invalidateQueries({queryKey:gt.dates(r)}),t.invalidateQueries({queryKey:gt.detail(r)})),t.invalidateQueries({queryKey:["reminders"]})}})}function _K({isOpen:t,onClose:e}){const[r,n]=T.useState(""),[i,s]=T.useState(""),[a,o]=T.useState(""),[l,c]=T.useState(!1),[d,h]=T.useState(""),{data:f=[],isLoading:p}=zo(),v=wK(),y=rt(),x=T.useMemo(()=>{const E=d.toLowerCase().trim();let N=f;return E&&(N=f.filter(S=>{var j,C,P;return((j=S.name)==null?void 0:j.toLowerCase().includes(E))||((C=S.first_name)==null?void 0:C.toLowerCase().includes(E))||((P=S.last_name)==null?void 0:P.toLowerCase().includes(E))})),[...N].sort((S,j)=>(S.name||"").localeCompare(j.name||""))},[f,d]),g=T.useMemo(()=>f.find(E=>E.id===parseInt(a)),[f,a]),m=()=>new Date().toISOString().split("T")[0];if(T.useEffect(()=>{t&&(n(""),s(m()),o(""),h(""),c(!1))},[t]),!t)return null;const w=async E=>{if(E.preventDefault(),!(!r.trim()||!a))try{await v.mutateAsync({personId:parseInt(a),data:{content:r.trim(),due_date:i||null,is_completed:!1}}),y.invalidateQueries({queryKey:["todos"]}),e()}catch(N){console.error("Failed to create todo:",N)}},b=()=>{e()},_=E=>{if(!E)return"";try{return new Date(E).toISOString().split("T")[0]}catch{return""}};return u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Add todo"}),u.jsx("button",{onClick:b,className:"text-gray-400 hover:text-gray-600",disabled:v.isPending,children:u.jsx(hn,{className:"w-5 h-5"})})]}),u.jsxs("form",{onSubmit:w,className:"p-4",children:[u.jsxs("div",{className:"mb-4",children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Person ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"relative",children:[u.jsxs("button",{type:"button",onClick:()=>c(!l),className:"w-full flex items-center justify-between px-3 py-2 border border-gray-300 rounded-md bg-white text-left focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",disabled:v.isPending,children:[g?u.jsxs("div",{className:"flex items-center gap-2",children:[g.thumbnail?u.jsx("img",{src:g.thumbnail,alt:g.name,className:"w-6 h-6 rounded-full object-cover"}):u.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center",children:u.jsx(Ed,{className:"w-4 h-4 text-gray-500"})}),u.jsx("span",{className:"text-gray-900",children:g.name})]}):u.jsx("span",{className:"text-gray-400",children:"Select a person..."}),u.jsx(oO,{className:`w-4 h-4 text-gray-400 transition-transform ${l?"rotate-180":""}`})]}),l&&u.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-hidden",children:[u.jsx("div",{className:"p-2 border-b border-gray-100",children:u.jsxs("div",{className:"relative",children:[u.jsx(vu,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),u.jsx("input",{type:"text",value:d,onChange:E=>h(E.target.value),placeholder:"Search people...",className:"w-full pl-8 pr-3 py-1.5 text-sm border border-gray-200 rounded focus:outline-none focus:ring-1 focus:ring-primary-500",autoFocus:!0})]})}),u.jsx("div",{className:"overflow-y-auto max-h-48",children:p?u.jsx("div",{className:"p-3 text-center text-gray-500 text-sm",children:"Loading..."}):x.length>0?x.map(E=>u.jsxs("button",{type:"button",onClick:()=>{o(String(E.id)),c(!1),h("")},className:`w-full flex items-center gap-2 px-3 py-2 text-left hover:bg-gray-50 transition-colors ${a===String(E.id)?"bg-primary-50":""}`,children:[E.thumbnail?u.jsx("img",{src:E.thumbnail,alt:E.name,className:"w-6 h-6 rounded-full object-cover"}):u.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center",children:u.jsx(Ed,{className:"w-4 h-4 text-gray-500"})}),u.jsx("span",{className:"text-sm text-gray-900 truncate",children:E.name})]},E.id)):u.jsx("div",{className:"p-3 text-center text-gray-500 text-sm",children:"No people found"})})]})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsxs("label",{htmlFor:"todo-content",className:"block text-sm font-medium text-gray-700 mb-2",children:["Description ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("textarea",{id:"todo-content",value:r,onChange:E=>n(E.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"What needs to be done?",disabled:v.isPending})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"todo-due-date",className:"block text-sm font-medium text-gray-700 mb-2",children:"Due date (optional)"}),u.jsx("input",{id:"todo-due-date",type:"date",value:_(i),onChange:E=>s(E.target.value||""),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",disabled:v.isPending})]}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{type:"button",onClick:b,className:"btn-secondary",disabled:v.isPending,children:"Cancel"}),u.jsx("button",{type:"submit",className:"btn-primary",disabled:v.isPending||!r.trim()||!a,children:v.isPending?"Adding...":"Add todo"})]})]})]})})}const fne=[{name:"Dashboard",href:"/",icon:Bre},{name:"People",href:"/people",icon:Di},{name:"Organizations",href:"/companies",icon:dn},{name:"Dates",href:"/dates",icon:da},{name:"Todos",href:"/todos",icon:ns},{name:"Settings",href:"/settings",icon:dK}];function BI({mobile:t=!1,onClose:e}){const{logoutUrl:r}=rO();return u.jsxs("div",{className:"flex flex-col h-full bg-white border-r border-gray-200",children:[u.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:[u.jsxs(fe,{to:"/",className:"flex items-center gap-2 text-xl font-bold text-primary-600",children:[u.jsx(fK,{className:"w-5 h-5"}),bu]}),t&&u.jsx("button",{onClick:e,className:"p-2 -mr-2",children:u.jsx(hn,{className:"w-5 h-5"})})]}),u.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1 overflow-y-auto",children:fne.map(n=>u.jsxs(Eee,{to:n.href,onClick:t?e:void 0,className:({isActive:i})=>`flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${i?"bg-primary-50 text-primary-700":"text-gray-700 hover:bg-gray-50"}`,children:[u.jsx(n.icon,{className:"w-5 h-5 mr-3"}),n.name]},n.name))}),u.jsx("div",{className:"p-4 border-t border-gray-200",children:u.jsxs("a",{href:r,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[u.jsx(zre,{className:"w-5 h-5 mr-3"}),"Log Out"]})})]})}function pne(){var a;const[t,e]=T.useState(!1),r=T.useRef(null),{data:n,isLoading:i}=Ze({queryKey:["current-user"],queryFn:async()=>(await $e.getCurrentUser()).data});if(T.useEffect(()=>{const o=l=>{r.current&&!r.current.contains(l.target)&&e(!1)};if(t)return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[t]),i||!n)return u.jsx("div",{className:"flex items-center ml-auto",children:u.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full animate-pulse"})});const s=((a=n.name)==null?void 0:a.split(" ").map(o=>o[0]).join("").toUpperCase().slice(0,2))||"?";return u.jsxs("div",{className:"relative ml-auto",ref:r,children:[u.jsxs("button",{onClick:()=>e(!t),className:"flex items-center gap-2 p-1 rounded-full hover:bg-gray-100 transition-colors","aria-label":"User menu",children:[n.avatar_url?u.jsx("img",{src:n.avatar_url,alt:n.name,className:"w-8 h-8 rounded-full object-cover"}):u.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-sm font-medium text-primary-700",children:s})}),u.jsx(oO,{className:`w-4 h-4 text-gray-500 transition-transform ${t?"rotate-180":""}`})]}),t&&u.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:u.jsxs("div",{className:"py-1",children:[u.jsxs("a",{href:n.profile_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>e(!1),children:[u.jsx(Ed,{className:"w-4 h-4 mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Edit profile"})]}),n.is_admin&&u.jsxs("a",{href:n.admin_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>e(!1),children:[u.jsx(dK,{className:"w-4 h-4 mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"WordPress admin"})]})]})})]})}function mne({isOpen:t,onClose:e}){const[r,n]=T.useState(""),[i,s]=T.useState(0),a=Gr(),o=T.useRef(null),l=r.trim(),{data:c,isLoading:d}=tne(l),h=c||{people:[],companies:[]},f=[...(h.people||[]).map(g=>({...g,type:"person"})),...(h.companies||[]).map(g=>({...g,type:"company"}))],p=f.length>0,v=r.trim().length>=2;T.useEffect(()=>{t&&(n(""),s(0),setTimeout(()=>{var g;return(g=o.current)==null?void 0:g.focus()},50))},[t]),T.useEffect(()=>{s(0)},[c]);const y=g=>{if(g.key==="Escape"){e();return}if(!(!v||!p)){if(g.key==="ArrowDown")g.preventDefault(),s(m=>Math.min(m+1,f.length-1));else if(g.key==="ArrowUp")g.preventDefault(),s(m=>Math.max(m-1,0));else if(g.key==="Enter"){g.preventDefault();const m=f[i];m&&x(m.type,m.id)}}},x=(g,m)=>{e(),g==="person"?a(`/people/${m}`):g==="company"&&a(`/companies/${m}`)};return t?u.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[u.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:e}),u.jsx("div",{className:"relative min-h-screen flex items-start justify-center pt-[15vh] px-4",children:u.jsxs("div",{className:"relative w-full max-w-xl bg-white rounded-xl shadow-2xl overflow-hidden",children:[u.jsxs("div",{className:"flex items-center px-4 border-b border-gray-200",children:[u.jsx(vu,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}),u.jsx("input",{ref:o,type:"text",value:r,onChange:g=>n(g.target.value),onKeyDown:y,placeholder:"Search people & organizations...",className:"flex-1 px-4 py-4 text-lg outline-none placeholder:text-gray-400",autoComplete:"off"}),u.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400",children:[u.jsx("kbd",{className:"px-1.5 py-0.5 bg-gray-100 rounded text-gray-500 font-mono",children:"esc"}),u.jsx("span",{children:"to close"})]})]}),u.jsx("div",{className:"max-h-96 overflow-y-auto",children:v?d?u.jsxs("div",{className:"px-4 py-8 text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"}),u.jsx("p",{className:"mt-3 text-sm text-gray-500",children:"Searching..."})]}):p?u.jsxs("div",{className:"py-2",children:[h.people&&h.people.length>0&&u.jsxs("div",{className:"px-2",children:[u.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"People"}),h.people.map((g,m)=>{const b=i===m;return u.jsxs("button",{onClick:()=>x("person",g.id),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors text-left ${b?"bg-primary-50 text-primary-900":"hover:bg-gray-50"}`,children:[g.thumbnail?u.jsx("img",{src:g.thumbnail,alt:g.name,className:"w-8 h-8 rounded-full object-cover"}):u.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:u.jsx(Ed,{className:"w-4 h-4 text-gray-500"})}),u.jsx("span",{className:"text-sm font-medium flex-1 truncate",children:g.name}),b&&u.jsx("kbd",{className:"px-1.5 py-0.5 bg-gray-100 rounded text-xs text-gray-500 font-mono",children:""})]},g.id)})]}),h.companies&&h.companies.length>0&&u.jsxs("div",{className:"px-2 mt-2",children:[u.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Organizations"}),h.companies.map((g,m)=>{var _;const w=(((_=h.people)==null?void 0:_.length)||0)+m,b=i===w;return u.jsxs("button",{onClick:()=>x("company",g.id),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors text-left ${b?"bg-primary-50 text-primary-900":"hover:bg-gray-50"}`,children:[g.thumbnail?u.jsx("img",{src:g.thumbnail,alt:g.name,className:"w-8 h-8 rounded object-contain bg-white"}):u.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded flex items-center justify-center",children:u.jsx(dn,{className:"w-4 h-4 text-gray-500"})}),u.jsx("span",{className:"text-sm font-medium flex-1 truncate",children:g.name}),b&&u.jsx("kbd",{className:"px-1.5 py-0.5 bg-gray-100 rounded text-xs text-gray-500 font-mono",children:""})]},g.id)})]})]}):u.jsx("div",{className:"px-4 py-8 text-center text-gray-500",children:u.jsxs("p",{className:"text-sm",children:['No results found for "',r,'"']})}):u.jsxs("div",{className:"px-4 py-8 text-center text-gray-500",children:[u.jsx(vu,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),u.jsx("p",{className:"text-sm",children:"Type at least 2 characters to search"})]})}),u.jsx("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-200 flex items-center justify-between text-xs text-gray-500",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx("kbd",{className:"px-1.5 py-0.5 bg-white border border-gray-200 rounded font-mono",children:""}),u.jsx("kbd",{className:"px-1.5 py-0.5 bg-white border border-gray-200 rounded font-mono",children:""}),u.jsx("span",{children:"to navigate"})]}),u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx("kbd",{className:"px-1.5 py-0.5 bg-white border border-gray-200 rounded font-mono",children:""}),u.jsx("span",{children:"to select"})]})]})})]})})]}):null}function vne({onAddTodo:t}){const[e,r]=T.useState(!1),n=T.useRef(null),i=Gr();T.useEffect(()=>{const o=l=>{n.current&&!n.current.contains(l.target)&&r(!1)};if(e)return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[e]);const s=o=>{r(!1),i(o)},a=()=>{r(!1),t()};return u.jsxs("div",{className:"relative",ref:n,children:[u.jsx("button",{onClick:()=>r(!e),className:"flex items-center justify-center w-9 h-9 rounded-lg bg-primary-600 hover:bg-primary-700 text-white transition-colors","aria-label":"Quick add",title:"Quick add",children:u.jsx(Mt,{className:"w-5 h-5"})}),e&&u.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:u.jsxs("div",{className:"py-1",children:[u.jsxs("button",{onClick:()=>s("/people/new"),className:"w-full flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors text-left",children:[u.jsx(Ed,{className:"w-4 h-4 mr-3 text-gray-400"}),"New Person"]}),u.jsxs("button",{onClick:()=>s("/companies/new"),className:"w-full flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors text-left",children:[u.jsx(dn,{className:"w-4 h-4 mr-3 text-gray-400"}),"New Organization"]}),u.jsxs("button",{onClick:a,className:"w-full flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors text-left",children:[u.jsx(ns,{className:"w-4 h-4 mr-3 text-gray-400"}),"New Todo"]}),u.jsxs("button",{onClick:()=>s("/dates/new"),className:"w-full flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors text-left",children:[u.jsx(da,{className:"w-4 h-4 mr-3 text-gray-400"}),"New Date"]})]})})]})}function gne({onMenuClick:t,onAddTodo:e,onOpenSearch:r}){const n=_s(),i=()=>{const s=n.pathname;return s==="/"?"Dashboard":s.startsWith("/people")?"People":s.startsWith("/companies")?"Organizations":s.startsWith("/dates")?"Important Dates":s.startsWith("/todos")?"Todos":s.startsWith("/settings")?"Settings":""};return u.jsxs("header",{className:"sticky top-0 z-10 flex items-center h-16 px-4 bg-white border-b border-gray-200 lg:px-6",children:[u.jsx("button",{onClick:t,className:"p-2 -ml-2 lg:hidden",children:u.jsx(Wre,{className:"w-5 h-5"})}),u.jsx("h1",{className:"ml-2 text-lg font-semibold lg:ml-0",children:i()}),u.jsx("div",{className:"flex-1"}),u.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-3 py-1.5 rounded-lg border border-gray-200 hover:bg-gray-50 text-gray-500 transition-colors","aria-label":"Search",title:"Search (K)",children:[u.jsx(vu,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline text-sm",children:"Search..."}),u.jsxs("kbd",{className:"hidden sm:flex items-center gap-0.5 px-1.5 py-0.5 bg-gray-100 rounded text-xs text-gray-500 font-mono",children:[u.jsx(qre,{className:"w-3 h-3"}),"K"]})]}),u.jsx("div",{className:"ml-2",children:u.jsx(vne,{onAddTodo:e})}),u.jsx("div",{className:"ml-2",children:u.jsx(pne,{})})]})}function yne({children:t}){const[e,r]=T.useState(!1),[n,i]=T.useState(!1),[s,a]=T.useState(!1);return gK(),T.useEffect(()=>{const o=l=>{(l.metaKey||l.ctrlKey)&&l.key==="k"&&(l.preventDefault(),a(!0))};return document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)},[]),u.jsxs("div",{className:"flex h-screen bg-gray-50",children:[u.jsx("div",{className:"hidden lg:flex lg:w-64 lg:flex-col",children:u.jsx(BI,{})}),e&&u.jsxs("div",{className:"fixed inset-0 z-40 lg:hidden",children:[u.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>r(!1)}),u.jsx("div",{className:"fixed inset-y-0 left-0 flex flex-col w-64 bg-white",children:u.jsx(BI,{mobile:!0,onClose:()=>r(!1)})})]}),u.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[u.jsx(gne,{onMenuClick:()=>r(!0),onAddTodo:()=>i(!0),onOpenSearch:()=>a(!0)}),u.jsx("main",{className:"flex-1 overflow-y-auto p-4 lg:p-6",children:t})]}),u.jsx(mne,{isOpen:s,onClose:()=>a(!1)}),u.jsx(_K,{isOpen:n,onClose:()=>i(!1)})]})}function Ge(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function ys(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function bne(t,e){const r=Ge(t);return isNaN(e)?ys(t,NaN):(r.setDate(r.getDate()+e),r)}const SK=6048e5,xne=864e5,EK=6e4,NK=36e5,uf=43200,zI=1440;let wne={};function rh(){return wne}function To(t,e){var o,l,c,d;const r=rh(),n=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,i=Ge(t),s=i.getDay(),a=(s<n?7:0)+s-n;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function yp(t){return To(t,{weekStartsOn:1})}function jK(t){const e=Ge(t),r=e.getFullYear(),n=ys(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=yp(n),s=ys(t,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const a=yp(s);return e.getTime()>=i.getTime()?r+1:e.getTime()>=a.getTime()?r:r-1}function bp(t){const e=Ge(t);return e.setHours(0,0,0,0),e}function xp(t){const e=Ge(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function _ne(t,e){const r=bp(t),n=bp(e),i=+r-xp(r),s=+n-xp(n);return Math.round((i-s)/xne)}function Sne(t){const e=jK(t),r=ys(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),yp(r)}function Ll(t,e){const r=Ge(t),n=Ge(e),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}function um(t){return ys(t,Date.now())}function CK(t,e){const r=bp(t),n=bp(e);return+r==+n}function Ene(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Nne(t){if(!Ene(t)&&typeof t!="number")return!1;const e=Ge(t);return!isNaN(Number(e))}function jne(t,e){const r=Ge(t),n=Ge(e),i=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return i*12+s}function Cne(t,e){const r=Ge(t),n=Ge(e);return r.getFullYear()-n.getFullYear()}function One(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function Pne(t,e){return+Ge(t)-+Ge(e)}function Tne(t){const e=Ge(t);return e.setHours(23,59,59,999),e}function Ine(t){const e=Ge(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function Rne(t){const e=Ge(t);return+Tne(e)==+Ine(e)}function $ne(t,e){const r=Ge(t),n=Ge(e),i=Ll(r,n),s=Math.abs(jne(r,n));let a;if(s<1)a=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*s);let o=Ll(r,n)===-i;Rne(Ge(t))&&s===1&&Ll(t,n)===1&&(o=!1),a=i*(s-Number(o))}return a===0?0:a}function kne(t,e,r){const n=Pne(t,e)/1e3;return One(r==null?void 0:r.roundingMethod)(n)}function jv(t,e){const r=Ge(t),n=Ge(e),i=Ll(r,n),s=Math.abs(Cne(r,n));r.setFullYear(1584),n.setFullYear(1584);const a=Ll(r,n)===-i,o=i*(s-+a);return o===0?0:o}function Dne(t){const e=Ge(t),r=ys(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Mne={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},qne=(t,e,r)=>{let n;const i=Mne[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Cv(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const Ane={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Fne={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Lne={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Bne={date:Cv({formats:Ane,defaultWidth:"full"}),time:Cv({formats:Fne,defaultWidth:"full"}),dateTime:Cv({formats:Lne,defaultWidth:"full"})},zne={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Une=(t,e,r,n)=>zne[t];function Ec(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[o]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const Wne={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Vne={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Hne={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Kne={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Gne={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Yne={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Qne=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Xne={ordinalNumber:Qne,era:Ec({values:Wne,defaultWidth:"wide"}),quarter:Ec({values:Vne,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ec({values:Hne,defaultWidth:"wide"}),day:Ec({values:Kne,defaultWidth:"wide"}),dayPeriod:Ec({values:Gne,defaultWidth:"wide",formattingValues:Yne,defaultFormattingWidth:"wide"})};function Nc(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?Zne(o,h=>h.test(a)):Jne(o,h=>h.test(a));let c;c=t.valueCallback?t.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;const d=e.slice(a.length);return{value:c,rest:d}}}function Jne(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function Zne(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function eie(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=r.valueCallback?r.valueCallback(a):a;const o=e.slice(i.length);return{value:a,rest:o}}}const tie=/^(\d+)(th|st|nd|rd)?/i,rie=/\d+/i,nie={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},iie={any:[/^b/i,/^(a|c)/i]},sie={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},aie={any:[/1/i,/2/i,/3/i,/4/i]},oie={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},lie={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},uie={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},cie={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},die={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},hie={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},fie={ordinalNumber:eie({matchPattern:tie,parsePattern:rie,valueCallback:t=>parseInt(t,10)}),era:Nc({matchPatterns:nie,defaultMatchWidth:"wide",parsePatterns:iie,defaultParseWidth:"any"}),quarter:Nc({matchPatterns:sie,defaultMatchWidth:"wide",parsePatterns:aie,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Nc({matchPatterns:oie,defaultMatchWidth:"wide",parsePatterns:lie,defaultParseWidth:"any"}),day:Nc({matchPatterns:uie,defaultMatchWidth:"wide",parsePatterns:cie,defaultParseWidth:"any"}),dayPeriod:Nc({matchPatterns:die,defaultMatchWidth:"any",parsePatterns:hie,defaultParseWidth:"any"})},OK={code:"en-US",formatDistance:qne,formatLong:Bne,formatRelative:Une,localize:Xne,match:fie,options:{weekStartsOn:0,firstWeekContainsDate:1}};function pie(t){const e=Ge(t);return _ne(e,Dne(e))+1}function mie(t){const e=Ge(t),r=+yp(e)-+Sne(e);return Math.round(r/SK)+1}function PK(t,e){var d,h,f,p;const r=Ge(t),n=r.getFullYear(),i=rh(),s=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(f=i.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,a=ys(t,0);a.setFullYear(n+1,0,s),a.setHours(0,0,0,0);const o=To(a,e),l=ys(t,0);l.setFullYear(n,0,s),l.setHours(0,0,0,0);const c=To(l,e);return r.getTime()>=o.getTime()?n+1:r.getTime()>=c.getTime()?n:n-1}function vie(t,e){var o,l,c,d;const r=rh(),n=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,i=PK(t,e),s=ys(t,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),To(s,e)}function gie(t,e){const r=Ge(t),n=+To(r,e)-+vie(r,e);return Math.round(n/SK)+1}function Je(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Is={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Je(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Je(r+1,2)},d(t,e){return Je(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Je(t.getHours()%12||12,e.length)},H(t,e){return Je(t.getHours(),e.length)},m(t,e){return Je(t.getMinutes(),e.length)},s(t,e){return Je(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return Je(i,e.length)}},cl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},UI={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Is.y(t,e)},Y:function(t,e,r,n){const i=PK(t,n),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return Je(a,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):Je(s,e.length)},R:function(t,e){const r=jK(t);return Je(r,e.length)},u:function(t,e){const r=t.getFullYear();return Je(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Je(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Je(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Is.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Je(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=gie(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):Je(i,e.length)},I:function(t,e,r){const n=mie(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Je(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Is.d(t,e)},D:function(t,e,r){const n=pie(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Je(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Je(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Je(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return Je(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=cl.noon:n===0?i=cl.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=cl.evening:n>=12?i=cl.afternoon:n>=4?i=cl.morning:i=cl.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Is.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Is.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Je(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Je(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Is.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Is.s(t,e)},S:function(t,e){return Is.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return VI(n);case"XXXX":case"XX":return Ba(n);case"XXXXX":case"XXX":default:return Ba(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return VI(n);case"xxxx":case"xx":return Ba(n);case"xxxxx":case"xxx":default:return Ba(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+WI(n,":");case"OOOO":default:return"GMT"+Ba(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+WI(n,":");case"zzzz":default:return"GMT"+Ba(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return Je(n,e.length)},T:function(t,e,r){const n=t.getTime();return Je(n,e.length)}};function WI(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+e+Je(s,2)}function VI(t,e){return t%60===0?(t>0?"-":"+")+Je(Math.abs(t)/60,2):Ba(t,e)}function Ba(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Je(Math.trunc(n/60),2),s=Je(n%60,2);return r+i+e+s}const HI=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},TK=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},yie=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return HI(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",HI(n,e)).replace("{{time}}",TK(i,e))},bie={p:TK,P:yie},xie=/^D+$/,wie=/^Y+$/,_ie=["D","DD","YY","YYYY"];function Sie(t){return xie.test(t)}function Eie(t){return wie.test(t)}function Nie(t,e,r){const n=jie(t,e,r);if(console.warn(n),_ie.includes(t))throw new RangeError(n)}function jie(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Cie=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Oie=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Pie=/^'([^]*?)'?$/,Tie=/''/g,Iie=/[a-zA-Z]/;function rn(t,e,r){var d,h,f,p;const n=rh(),i=n.locale??OK,s=n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,a=n.weekStartsOn??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,o=Ge(t);if(!Nne(o))throw new RangeError("Invalid time value");let l=e.match(Oie).map(v=>{const y=v[0];if(y==="p"||y==="P"){const x=bie[y];return x(v,i.formatLong)}return v}).join("").match(Cie).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const y=v[0];if(y==="'")return{isToken:!1,value:Rie(v)};if(UI[y])return{isToken:!0,value:v};if(y.match(Iie))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:v}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const c={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return l.map(v=>{if(!v.isToken)return v.value;const y=v.value;(Eie(y)||Sie(y))&&Nie(y,e,String(t));const x=UI[y[0]];return x(o,y,i.localize,c)}).join("")}function Rie(t){const e=t.match(Pie);return e?e[1].replace(Tie,"'"):t}function $ie(t,e,r){const n=rh(),i=(r==null?void 0:r.locale)??n.locale??OK,s=2520,a=Ll(t,e);if(isNaN(a))throw new RangeError("Invalid time value");const o=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:a});let l,c;a>0?(l=Ge(e),c=Ge(t)):(l=Ge(t),c=Ge(e));const d=kne(c,l),h=(xp(c)-xp(l))/1e3,f=Math.round((d-h)/60);let p;if(f<2)return r!=null&&r.includeSeconds?d<5?i.formatDistance("lessThanXSeconds",5,o):d<10?i.formatDistance("lessThanXSeconds",10,o):d<20?i.formatDistance("lessThanXSeconds",20,o):d<40?i.formatDistance("halfAMinute",0,o):d<60?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",1,o):f===0?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",f,o);if(f<45)return i.formatDistance("xMinutes",f,o);if(f<90)return i.formatDistance("aboutXHours",1,o);if(f<zI){const v=Math.round(f/60);return i.formatDistance("aboutXHours",v,o)}else{if(f<s)return i.formatDistance("xDays",1,o);if(f<uf){const v=Math.round(f/zI);return i.formatDistance("xDays",v,o)}else if(f<uf*2)return p=Math.round(f/uf),i.formatDistance("aboutXMonths",p,o)}if(p=$ne(c,l),p<12){const v=Math.round(f/uf);return i.formatDistance("xMonths",v,o)}else{const v=p%12,y=Math.trunc(p/12);return v<3?i.formatDistance("aboutXYears",y,o):v<9?i.formatDistance("overXYears",y,o):i.formatDistance("almostXYears",y+1,o)}}function kie(t,e){return $ie(t,um(t),e)}function Die(t,e,r){const n=To(t,r),i=To(e,r);return+n==+i}function Mie(t,e){return Die(t,um(t),e)}function IK(t){return CK(t,um(t))}function qie(t,e){return bne(t,-1)}function RK(t){return CK(t,qie(um(t)))}function wp(t,e){const n=Bie(t);let i;if(n.date){const l=zie(n.date,2);i=Uie(l.restDateString,l.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const s=i.getTime();let a=0,o;if(n.time&&(a=Wie(n.time),isNaN(a)))return new Date(NaN);if(n.timezone){if(o=Vie(n.timezone),isNaN(o))return new Date(NaN)}else{const l=new Date(s+a),c=new Date(0);return c.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),c.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),c}return new Date(s+a+o)}const cf={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Aie=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Fie=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Lie=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Bie(t){const e={},r=t.split(cf.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],cf.timeZoneDelimiter.test(e.date)&&(e.date=t.split(cf.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const i=cf.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function zie(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((n[1]||n[2]).length)}}function Uie(t,e){if(e===null)return new Date(NaN);const r=t.match(Aie);if(!r)return new Date(NaN);const n=!!r[4],i=jc(r[1]),s=jc(r[2])-1,a=jc(r[3]),o=jc(r[4]),l=jc(r[5])-1;if(n)return Qie(e,o,l)?Hie(e,o,l):new Date(NaN);{const c=new Date(0);return!Gie(e,s,a)||!Yie(e,i)?new Date(NaN):(c.setUTCFullYear(e,s,Math.max(i,a)),c)}}function jc(t){return t?parseInt(t):1}function Wie(t){const e=t.match(Fie);if(!e)return NaN;const r=Ov(e[1]),n=Ov(e[2]),i=Ov(e[3]);return Xie(r,n,i)?r*NK+n*EK+i*1e3:NaN}function Ov(t){return t&&parseFloat(t.replace(",","."))||0}function Vie(t){if(t==="Z")return 0;const e=t.match(Lie);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return Jie(n,i)?r*(n*NK+i*EK):NaN}function Hie(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const i=n.getUTCDay()||7,s=(e-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+s),n}const Kie=[31,null,31,30,31,30,31,31,30,31,30,31];function $K(t){return t%400===0||t%4===0&&t%100!==0}function Gie(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(Kie[e]||($K(t)?29:28))}function Yie(t,e){return e>=1&&e<=($K(t)?366:365)}function Qie(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function Xie(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function Jie(t,e){return e>=0&&e<=59}function Zie(t){if(!t||t.length===0)return{todos:[],today:[],yesterday:[],thisWeek:[],older:[]};const e={todos:[],today:[],yesterday:[],thisWeek:[],older:[]};return t.forEach(r=>{if(r.type==="todo"){e.todos.push(r);return}const n=wp(r.created),i=r.activity_date?wp(r.activity_date):n;IK(i)?e.today.push(r):RK(i)?e.yesterday.push(r):Mie(i)?e.thisWeek.push(r):e.older.push(r)}),e.todos.sort((r,n)=>{if(r.is_completed&&!n.is_completed)return 1;if(!r.is_completed&&n.is_completed)return-1;if(!r.is_completed&&!n.is_completed){if(r.due_date&&n.due_date)return new Date(r.due_date)-new Date(n.due_date);if(r.due_date&&!n.due_date)return-1;if(!r.due_date&&n.due_date)return 1}return new Date(n.created)-new Date(r.created)}),e}function ese(t){if(!t)return"";try{const e=wp(t),r=kie(e,{addSuffix:!0});return IK(e)?r:RK(e)?"Yesterday":rn(e,"MMM d, yyyy")}catch{return t}}function tse(t){return{call:"Phone",email:"Mail",chat:"MessageCircle",meeting:"Users",coffee:"Coffee",lunch:"Utensils",note:"FileText"}[t]||"Circle"}function rse(t){return{call:"Phone call",email:"Email",chat:"Chat",meeting:"Meeting",coffee:"Coffee",lunch:"Lunch",note:"Note"}[t]||t||"Activity"}function nh(t){if(!t.due_date||t.is_completed)return!1;try{const e=wp(t.due_date),r=new Date;return r.setHours(0,0,0,0),e.setHours(0,0,0,0),e<r}catch{return!1}}function nse(t){const e=[];return t.is_completed?e.push("opacity-60","line-through"):nh(t)&&e.push("text-red-600","font-medium"),e.join(" ")}function Rs({title:t,value:e,icon:r,href:n}){return u.jsx(fe,{to:n,className:"card p-6 hover:shadow-md transition-shadow",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-500",children:t}),u.jsx("p",{className:"mt-1 text-3xl font-semibold",children:e})]}),u.jsx("div",{className:"p-3 bg-primary-50 rounded-lg",children:u.jsx(r,{className:"w-6 h-6 text-primary-600"})})]})})}function KI({person:t,hideStar:e=!1}){var r,n;return u.jsxs(fe,{to:`/people/${t.id}`,className:"flex items-center p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[t.thumbnail?u.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-10 h-10 rounded-full object-cover"}):u.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-sm font-medium text-gray-500",children:((r=t.first_name)==null?void 0:r[0])||"?"})}),u.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:t.name}),((n=t.labels)==null?void 0:n.length)>0&&u.jsx("p",{className:"text-xs text-gray-500 truncate",children:t.labels.join(", ")})]}),t.is_favorite&&!e&&u.jsx(yu,{className:"w-4 h-4 text-yellow-400 fill-current"})]})}function ise({reminder:t}){var o,l,c,d,h;const e=t.days_until;let r="bg-gray-100 text-gray-700";e===0?r="bg-green-100 text-green-700":e<=3?r="bg-orange-100 text-orange-700":e<=7&&(r="bg-yellow-100 text-yellow-700");const n=((l=(o=t.related_people)==null?void 0:o[0])==null?void 0:l.name)||t.title,i=(d=(c=t.related_people)==null?void 0:c[0])==null?void 0:d.id,s=((h=t.related_people)==null?void 0:h.length)>0,a=u.jsxs(u.Fragment,{children:[u.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${r}`,children:e===0?"Today":`${e}d`}),u.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-medium text-gray-900",children:n}),u.jsx("p",{className:"text-xs text-gray-500",children:rn(new Date(t.next_occurrence),"MMMM d, yyyy")}),s&&u.jsx("div",{className:"flex -space-x-2 mt-1",children:t.related_people.slice(0,3).map(f=>{var p;return f.thumbnail?u.jsx("img",{src:f.thumbnail,alt:f.name,loading:"lazy",className:"w-10 h-10 rounded-full border-2 border-white object-cover"},f.id):u.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full border-2 border-white flex items-center justify-center",children:u.jsx("span",{className:"text-sm",children:(p=f.name)==null?void 0:p[0]})},f.id)})})]})]});return s&&i?u.jsx(fe,{to:`/people/${i}`,className:"flex items-start p-3 rounded-lg hover:bg-gray-50 transition-colors",children:a}):u.jsx("div",{className:"flex items-start p-3 rounded-lg hover:bg-gray-50 transition-colors",children:a})}function sse({todo:t,onToggle:e}){var n;const r=nh(t);return u.jsxs(fe,{to:`/people/${t.person_id}`,className:"flex items-start p-3 rounded-lg hover:bg-gray-50 transition-colors group",children:[u.jsx("button",{onClick:i=>{i.preventDefault(),i.stopPropagation(),e(t)},className:"mt-0.5 mr-3 flex-shrink-0",title:t.is_completed?"Mark as incomplete":"Mark as complete",children:t.is_completed?u.jsx(ns,{className:"w-5 h-5 text-primary-600"}):u.jsx(gu,{className:`w-5 h-5 ${r?"text-red-600":"text-gray-400"}`})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:`text-sm font-medium ${t.is_completed?"line-through text-gray-400":r?"text-red-600":"text-gray-900"}`,children:t.content}),u.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.person_thumbnail?u.jsx("img",{src:t.person_thumbnail,alt:t.person_name,loading:"lazy",className:"w-5 h-5 rounded-full object-cover"}):u.jsx("div",{className:"w-5 h-5 bg-gray-200 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-xs text-gray-500",children:(n=t.person_name)==null?void 0:n[0]})}),u.jsx("span",{className:"text-xs text-gray-500 truncate",children:t.person_name})]})]}),t.due_date&&u.jsxs("div",{className:`ml-3 text-xs text-right flex-shrink-0 ${r&&!t.is_completed?"text-red-600 font-medium":"text-gray-500"}`,children:[u.jsx("div",{children:rn(new Date(t.due_date),"MMM d")}),r&&!t.is_completed&&u.jsx("div",{className:"text-red-600",children:"overdue"})]})]})}function ase(){return u.jsxs("div",{className:"card p-12 text-center",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("div",{className:"p-4 bg-primary-50 rounded-full",children:u.jsx(fK,{className:"w-12 h-12 text-primary-600"})})}),u.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:["Welcome to ",bu,"!"]}),u.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"Get started by adding your first contact, organization, or important date. Your dashboard will populate as you add more information."}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[u.jsxs(fe,{to:"/people/new",className:"inline-flex items-center px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[u.jsx(Mt,{className:"w-5 h-5 mr-2"}),"Add Your First Person"]}),u.jsxs(fe,{to:"/companies/new",className:"inline-flex items-center px-6 py-3 bg-white text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[u.jsx(Mt,{className:"w-5 h-5 mr-2"}),"Add Your First Organization"]})]})]})}function ose(){var p,v,y;const{data:t,isLoading:e,error:r}=Jre(),{data:n}=yK(!1),i=bK(),s=x=>{i.mutate({todoId:x.id,data:{content:x.content,due_date:x.due_date,is_completed:!x.is_completed}})};if(e)return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(r){const x=((p=r==null?void 0:r.response)==null?void 0:p.status)>=500||!(r!=null&&r.response);return u.jsx("div",{className:"card p-8 text-center",children:u.jsx("div",{className:"text-red-600 mb-2",children:x?u.jsxs(u.Fragment,{children:[u.jsx("p",{className:"font-medium mb-1",children:"Failed to load dashboard data"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Please check your connection and try refreshing the page."})]}):u.jsxs(u.Fragment,{children:[u.jsx("p",{className:"font-medium mb-1",children:"Unable to load dashboard"}),u.jsx("p",{className:"text-sm text-gray-600",children:((y=(v=r==null?void 0:r.response)==null?void 0:v.data)==null?void 0:y.message)||"An error occurred while loading your data."})]})})})}const{stats:a,recent_people:o,upcoming_reminders:l,favorites:c}=t||{};if(((a==null?void 0:a.total_people)||0)+((a==null?void 0:a.total_companies)||0)+((a==null?void 0:a.total_dates)||0)===0)return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsx(Rs,{title:"Total people",value:0,icon:Di,href:"/people"}),u.jsx(Rs,{title:"Organizations",value:0,icon:dn,href:"/companies"}),u.jsx(Rs,{title:"Events",value:0,icon:da,href:"/dates"}),u.jsx(Rs,{title:"Open todos",value:0,icon:ns,href:"/todos"})]}),u.jsx(ase,{})]});const f=(n==null?void 0:n.slice(0,5))||[];return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsx(Rs,{title:"Total people",value:(a==null?void 0:a.total_people)||0,icon:Di,href:"/people"}),u.jsx(Rs,{title:"Organizations",value:(a==null?void 0:a.total_companies)||0,icon:dn,href:"/companies"}),u.jsx(Rs,{title:"Events",value:(a==null?void 0:a.total_dates)||0,icon:da,href:"/dates"}),u.jsx(Rs,{title:"Open todos",value:(a==null?void 0:a.open_todos_count)||0,icon:ns,href:"/todos"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"card",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[u.jsxs("h2",{className:"font-semibold flex items-center",children:[u.jsx(da,{className:"w-5 h-5 mr-2 text-gray-500"}),"Upcoming reminders"]}),u.jsxs(fe,{to:"/dates",className:"text-sm text-primary-600 hover:text-primary-700 flex items-center",children:["View all reminders",u.jsx(Nv,{className:"w-4 h-4 ml-1"})]})]}),u.jsx("div",{className:"divide-y divide-gray-100",children:(l==null?void 0:l.length)>0?l.map(x=>u.jsx(ise,{reminder:x},x.id)):u.jsx("p",{className:"p-4 text-sm text-gray-500 text-center",children:"No upcoming reminders"})})]}),u.jsxs("div",{className:"card",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[u.jsxs("h2",{className:"font-semibold flex items-center",children:[u.jsx(ns,{className:"w-5 h-5 mr-2 text-gray-500"}),"Open todos"]}),u.jsxs(fe,{to:"/todos",className:"text-sm text-primary-600 hover:text-primary-700 flex items-center",children:["View all todos",u.jsx(Nv,{className:"w-4 h-4 ml-1"})]})]}),u.jsx("div",{className:"divide-y divide-gray-100",children:f.length>0?f.map(x=>u.jsx(sse,{todo:x,onToggle:s},x.id)):u.jsx("p",{className:"p-4 text-sm text-gray-500 text-center",children:"No open todos"})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"card",children:[u.jsx("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:u.jsxs("h2",{className:"font-semibold flex items-center",children:[u.jsx(yu,{className:"w-5 h-5 mr-2 text-yellow-500 fill-current"}),"Favorites"]})}),(c==null?void 0:c.length)>0?u.jsx("div",{className:"divide-y divide-gray-100",children:c.slice(0,5).map(x=>u.jsx(KI,{person:x,hideStar:!0},x.id))}):u.jsx("p",{className:"p-4 text-sm text-gray-500 text-center",children:"No favorites yet"})]}),u.jsxs("div",{className:"card",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[u.jsxs("h2",{className:"font-semibold flex items-center",children:[u.jsx(Di,{className:"w-5 h-5 mr-2 text-gray-500"}),"Recently edited people"]}),u.jsxs(fe,{to:"/people",className:"text-sm text-primary-600 hover:text-primary-700 flex items-center",children:["View all people",u.jsx(Nv,{className:"w-4 h-4 ml-1"})]})]}),u.jsx("div",{className:"divide-y divide-gray-100",children:(o==null?void 0:o.length)>0?o.map(x=>u.jsx(KI,{person:x},x.id)):u.jsxs("p",{className:"p-4 text-sm text-gray-500 text-center",children:["No people yet. ",u.jsx(fe,{to:"/people/new",className:"text-primary-600",children:"Add someone"})]})})]})]})]})}function GI(t){var i;const e=((i=t.acf)==null?void 0:i.work_history)||[];if(e.length===0)return null;const r=e.find(s=>s.is_current&&s.company);if(r)return r.company;const n=e.filter(s=>s.company).sort((s,a)=>{const o=s.start_date?new Date(s.start_date):new Date(0);return(a.start_date?new Date(a.start_date):new Date(0))-o});return n.length>0?n[0].company:null}function lse({person:t,companyName:e,isDeceased:r}){var n,i;return u.jsx(fe,{to:`/people/${t.id}`,className:"card p-4 hover:shadow-md transition-shadow",children:u.jsxs("div",{className:"flex items-start",children:[t.thumbnail?u.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-12 h-12 rounded-full object-cover"}):u.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-lg font-medium text-gray-500",children:((n=t.first_name)==null?void 0:n[0])||"?"})}),u.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsxs("h3",{className:"text-sm font-medium text-gray-900 truncate",children:[t.name,r&&u.jsx("span",{className:"ml-1 text-gray-500",children:""})]}),t.is_favorite&&u.jsx(yu,{className:"w-4 h-4 ml-1 text-yellow-400 fill-current flex-shrink-0"})]}),e&&u.jsx("p",{className:"text-xs text-gray-500 mt-0.5 truncate",children:e}),((i=t.labels)==null?void 0:i.length)>0&&u.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:t.labels.slice(0,3).map(s=>u.jsx("span",{className:"inline-flex px-2 py-0.5 text-xs rounded-full bg-gray-100 text-gray-600",children:s},s))})]})]})})}function use(){const[t,e]=T.useState(!1),[r,n]=T.useState(!1),[i,s]=T.useState([]),[a,o]=T.useState("first_name"),[l,c]=T.useState("asc"),d=T.useRef(null),h=T.useRef(null),{data:f,isLoading:p,error:v}=zo(),{data:y}=Ze({queryKey:["person-labels"],queryFn:async()=>(await Ae.getPersonLabels()).data}),x=(y==null?void 0:y.map(O=>O.name))||[];T.useEffect(()=>{const O=I=>{h.current&&!h.current.contains(I.target)&&d.current&&!d.current.contains(I.target)&&e(!1)};return document.addEventListener("mousedown",O),()=>{document.removeEventListener("mousedown",O)}},[]);const g=T.useMemo(()=>{if(!f)return[];let O=[...f];return r&&(O=O.filter(I=>I.is_favorite)),i.length>0&&(O=O.filter(I=>{const M=I.labels||[];return i.some(k=>M.includes(k))})),O.sort((I,M)=>{var A,G,W,z,F,ee,oe,Ne;let k,K;if(a==="first_name"?(k=(((A=I.acf)==null?void 0:A.first_name)||I.first_name||"").toLowerCase(),K=(((G=M.acf)==null?void 0:G.first_name)||M.first_name||"").toLowerCase()):(k=(((W=I.acf)==null?void 0:W.last_name)||I.last_name||"").toLowerCase(),K=(((z=M.acf)==null?void 0:z.last_name)||M.last_name||"").toLowerCase()),k===K){const ye=a==="first_name"?(((F=I.acf)==null?void 0:F.last_name)||I.last_name||"").toLowerCase():(((ee=I.acf)==null?void 0:ee.first_name)||I.first_name||"").toLowerCase(),Ee=a==="first_name"?(((oe=M.acf)==null?void 0:oe.last_name)||M.last_name||"").toLowerCase():(((Ne=M.acf)==null?void 0:Ne.first_name)||M.first_name||"").toLowerCase(),ke=ye.localeCompare(Ee);return l==="asc"?ke:-ke}const H=k.localeCompare(K);return l==="asc"?H:-H})},[f,r,i,a,l]),m=r||i.length>0,w=O=>{s(I=>I.includes(O)?I.filter(M=>M!==O):[...I,O])},b=()=>{n(!1),s([])},_=T.useMemo(()=>{if(!g)return[];const O=g.map(I=>GI(I)).filter(Boolean);return[...new Set(O)]},[g]),{data:E}=Ze({queryKey:["companies","batch",_.sort().join(",")],queryFn:async()=>_.length===0?[]:(await Ae.getCompanies({per_page:100,include:_.join(",")})).data,enabled:_.length>0}),N=T.useMemo(()=>{const O={};return E&&E.forEach(I=>{O[I.id]=Zt(I)}),O},[E]),S=T.useMemo(()=>{const O={};return g.forEach(I=>{const M=GI(I);M&&N[M]&&(O[I.id]=N[M])}),O},[g,N]),j=T.useMemo(()=>g.map(O=>O.id).filter(Boolean),[g]),C=vp({queries:j.map(O=>({queryKey:["person-dates",O],queryFn:async()=>(await $e.getPersonDates(O)).data,enabled:!!O}))}),P=T.useMemo(()=>{const O={};return C.forEach((I,M)=>{if(I.data&&j[M]){const k=j[M],K=I.data.some(H=>{const A=Array.isArray(H.date_type)?H.date_type[0]:H.date_type;return(A==null?void 0:A.toLowerCase())==="died"});O[k]=K}}),O},[C,j]);return u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 border border-gray-200 rounded-lg p-1",children:[u.jsxs("select",{value:a,onChange:O=>o(O.target.value),className:"text-sm border-0 bg-transparent focus:ring-0 focus:outline-none cursor-pointer",children:[u.jsx("option",{value:"first_name",children:"First name"}),u.jsx("option",{value:"last_name",children:"Last name"})]}),u.jsx("div",{className:"h-4 w-px bg-gray-300"}),u.jsx("button",{onClick:()=>c(l==="asc"?"desc":"asc"),className:"p-1 hover:bg-gray-100 rounded transition-colors",title:`Sort ${l==="asc"?"descending":"ascending"}`,children:l==="asc"?u.jsx(Mre,{className:"w-4 h-4 text-gray-600"}):u.jsx(Dre,{className:"w-4 h-4 text-gray-600"})})]}),u.jsxs("div",{className:"relative",ref:d,children:[u.jsxs("button",{onClick:()=>e(!t),className:`btn-secondary ${m?"bg-primary-50 text-primary-700 border-primary-200":""}`,children:[u.jsx(Pj,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Filter"}),m&&u.jsx("span",{className:"ml-2 px-1.5 py-0.5 bg-primary-600 text-white text-xs rounded-full",children:i.length+(r?1:0)})]}),t&&u.jsx("div",{ref:h,className:"absolute top-full left-0 mt-2 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:u.jsxs("div",{className:"p-4 space-y-4",children:[u.jsx("div",{children:u.jsxs("label",{className:"flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:r,onChange:O=>n(O.target.checked),className:"sr-only"}),u.jsx("div",{className:`flex items-center justify-center w-5 h-5 border-2 rounded mr-3 ${r?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:r&&u.jsx(AI,{className:"w-3 h-3 text-white"})}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(yu,{className:"w-4 h-4 mr-2 text-yellow-400 fill-current"}),u.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Favorites only"})]})]})}),x.length>0&&u.jsxs("div",{children:[u.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Labels"}),u.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:x.map(O=>u.jsxs("label",{className:"flex items-center cursor-pointer hover:bg-gray-50 p-1 rounded",children:[u.jsx("input",{type:"checkbox",checked:i.includes(O),onChange:()=>w(O),className:"sr-only"}),u.jsx("div",{className:`flex items-center justify-center w-5 h-5 border-2 rounded mr-3 ${i.includes(O)?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:i.includes(O)&&u.jsx(AI,{className:"w-3 h-3 text-white"})}),u.jsx("span",{className:"text-sm text-gray-700",children:O})]},O))})]}),m&&u.jsx("button",{onClick:b,className:"w-full text-sm text-primary-600 hover:text-primary-700 font-medium pt-2 border-t border-gray-200",children:"Clear all filters"})]})})]}),m&&u.jsxs("div",{className:"flex flex-wrap gap-2",children:[r&&u.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-primary-100 text-primary-800 rounded-full text-xs",children:[u.jsx(yu,{className:"w-3 h-3"}),"Favorites",u.jsx("button",{onClick:()=>n(!1),className:"hover:text-primary-600",children:u.jsx(hn,{className:"w-3 h-3"})})]}),i.map(O=>u.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 text-gray-800 rounded-full text-xs",children:[O,u.jsx("button",{onClick:()=>w(O),className:"hover:text-gray-600",children:u.jsx(hn,{className:"w-3 h-3"})})]},O))]}),u.jsxs(fe,{to:"/people/new",className:"btn-primary",children:[u.jsx(Mt,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Add person"})]})]})}),p&&u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),v&&u.jsx("div",{className:"card p-6 text-center",children:u.jsx("p",{className:"text-red-600",children:"Failed to load people."})}),!p&&!v&&(f==null?void 0:f.length)===0&&u.jsxs("div",{className:"card p-12 text-center",children:[u.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(Mt,{className:"w-6 h-6 text-gray-400"})}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No people found"}),u.jsx("p",{className:"text-gray-500 mb-4",children:"Get started by adding your first person."}),u.jsxs(fe,{to:"/people/new",className:"btn-primary",children:[u.jsx(Mt,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Add person"})]})]}),!p&&!v&&(g==null?void 0:g.length)>0&&u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(O=>u.jsx(lse,{person:O,companyName:S[O.id],isDeceased:P[O.id]||!1},O.id))}),!p&&!v&&(f==null?void 0:f.length)>0&&(g==null?void 0:g.length)===0&&u.jsxs("div",{className:"card p-12 text-center",children:[u.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(Pj,{className:"w-6 h-6 text-gray-400"})}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No people match your filters"}),u.jsx("p",{className:"text-gray-500 mb-4",children:"Try adjusting your filters to see more results."}),u.jsx("button",{onClick:b,className:"btn-secondary",children:"Clear filters"})]})]})}const cse="#0285FF",dse=T.forwardRef(function({title:e="Bluesky",color:r="currentColor",size:n=24,...i},s){return r==="default"&&(r=cse),u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:r,viewBox:"0 0 24 24",ref:s,...i,children:[u.jsx("title",{children:e}),u.jsx("path",{d:"M12 10.8c-1.087-2.114-4.046-6.053-6.798-7.995C2.566.944 1.561 1.266.902 1.565.139 1.908 0 3.08 0 3.768c0 .69.378 5.65.624 6.479.815 2.736 3.713 3.66 6.383 3.364.136-.02.275-.039.415-.056-.138.022-.276.04-.415.056-3.912.58-7.387 2.005-2.83 7.078 5.013 5.19 6.87-1.113 7.823-4.308.953 3.195 2.05 9.271 7.733 4.308 4.267-4.308 1.172-6.498-2.74-7.078a8.741 8.741 0 0 1-.415-.056c.14.017.279.036.415.056 2.67.297 5.568-.628 6.383-3.364.246-.828.624-5.79.624-6.478 0-.69-.139-1.861-.902-2.206-.659-.298-1.664-.62-4.3 1.24C16.046 4.748 13.087 8.687 12 10.8Z"})]})}),hse="#0866FF",fse=T.forwardRef(function({title:e="Facebook",color:r="currentColor",size:n=24,...i},s){return r==="default"&&(r=hse),u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:r,viewBox:"0 0 24 24",ref:s,...i,children:[u.jsx("title",{children:e}),u.jsx("path",{d:"M9.101 23.691v-7.98H6.627v-3.667h2.474v-1.58c0-4.085 1.848-5.978 5.858-5.978.401 0 .955.042 1.468.103a8.68 8.68 0 0 1 1.141.195v3.325a8.623 8.623 0 0 0-.653-.036 26.805 26.805 0 0 0-.733-.009c-.707 0-1.259.096-1.675.309a1.686 1.686 0 0 0-.679.622c-.258.42-.374.995-.374 1.752v1.297h3.919l-.386 2.103-.287 1.564h-3.246v8.245C19.396 23.238 24 18.179 24 12.044c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.628 3.874 10.35 9.101 11.647Z"})]})}),pse="#FF0069",mse=T.forwardRef(function({title:e="Instagram",color:r="currentColor",size:n=24,...i},s){return r==="default"&&(r=pse),u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:r,viewBox:"0 0 24 24",ref:s,...i,children:[u.jsx("title",{children:e}),u.jsx("path",{d:"M7.0301.084c-1.2768.0602-2.1487.264-2.911.5634-.7888.3075-1.4575.72-2.1228 1.3877-.6652.6677-1.075 1.3368-1.3802 2.127-.2954.7638-.4956 1.6365-.552 2.914-.0564 1.2775-.0689 1.6882-.0626 4.947.0062 3.2586.0206 3.6671.0825 4.9473.061 1.2765.264 2.1482.5635 2.9107.308.7889.72 1.4573 1.388 2.1228.6679.6655 1.3365 1.0743 2.1285 1.38.7632.295 1.6361.4961 2.9134.552 1.2773.056 1.6884.069 4.9462.0627 3.2578-.0062 3.668-.0207 4.9478-.0814 1.28-.0607 2.147-.2652 2.9098-.5633.7889-.3086 1.4578-.72 2.1228-1.3881.665-.6682 1.0745-1.3378 1.3795-2.1284.2957-.7632.4966-1.636.552-2.9124.056-1.2809.0692-1.6898.063-4.948-.0063-3.2583-.021-3.6668-.0817-4.9465-.0607-1.2797-.264-2.1487-.5633-2.9117-.3084-.7889-.72-1.4568-1.3876-2.1228C21.2982 1.33 20.628.9208 19.8378.6165 19.074.321 18.2017.1197 16.9244.0645 15.6471.0093 15.236-.005 11.977.0014 8.718.0076 8.31.0215 7.0301.0839m.1402 21.6932c-1.17-.0509-1.8053-.2453-2.2287-.408-.5606-.216-.96-.4771-1.3819-.895-.422-.4178-.6811-.8186-.9-1.378-.1644-.4234-.3624-1.058-.4171-2.228-.0595-1.2645-.072-1.6442-.079-4.848-.007-3.2037.0053-3.583.0607-4.848.05-1.169.2456-1.805.408-2.2282.216-.5613.4762-.96.895-1.3816.4188-.4217.8184-.6814 1.3783-.9003.423-.1651 1.0575-.3614 2.227-.4171 1.2655-.06 1.6447-.072 4.848-.079 3.2033-.007 3.5835.005 4.8495.0608 1.169.0508 1.8053.2445 2.228.408.5608.216.96.4754 1.3816.895.4217.4194.6816.8176.9005 1.3787.1653.4217.3617 1.056.4169 2.2263.0602 1.2655.0739 1.645.0796 4.848.0058 3.203-.0055 3.5834-.061 4.848-.051 1.17-.245 1.8055-.408 2.2294-.216.5604-.4763.96-.8954 1.3814-.419.4215-.8181.6811-1.3783.9-.4224.1649-1.0577.3617-2.2262.4174-1.2656.0595-1.6448.072-4.8493.079-3.2045.007-3.5825-.006-4.848-.0608M16.953 5.5864A1.44 1.44 0 1 0 18.39 4.144a1.44 1.44 0 0 0-1.437 1.4424M5.8385 12.012c.0067 3.4032 2.7706 6.1557 6.173 6.1493 3.4026-.0065 6.157-2.7701 6.1506-6.1733-.0065-3.4032-2.771-6.1565-6.174-6.1498-3.403.0067-6.156 2.771-6.1496 6.1738M8 12.0077a4 4 0 1 1 4.008 3.9921A3.9996 3.9996 0 0 1 8 12.0077"})]})}),vse="#000000",gse=T.forwardRef(function({title:e="Threads",color:r="currentColor",size:n=24,...i},s){return r==="default"&&(r=vse),u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:r,viewBox:"0 0 24 24",ref:s,...i,children:[u.jsx("title",{children:e}),u.jsx("path",{d:"M12.186 24h-.007c-3.581-.024-6.334-1.205-8.184-3.509C2.35 18.44 1.5 15.586 1.472 12.01v-.017c.03-3.579.879-6.43 2.525-8.482C5.845 1.205 8.6.024 12.18 0h.014c2.746.02 5.043.725 6.826 2.098 1.677 1.29 2.858 3.13 3.509 5.467l-2.04.569c-1.104-3.96-3.898-5.984-8.304-6.015-2.91.022-5.11.936-6.54 2.717C4.307 6.504 3.616 8.914 3.589 12c.027 3.086.718 5.496 2.057 7.164 1.43 1.783 3.631 2.698 6.54 2.717 2.623-.02 4.358-.631 5.8-2.045 1.647-1.613 1.618-3.593 1.09-4.798-.31-.71-.873-1.3-1.634-1.75-.192 1.352-.622 2.446-1.284 3.272-.886 1.102-2.14 1.704-3.73 1.79-1.202.065-2.361-.218-3.259-.801-1.063-.689-1.685-1.74-1.752-2.964-.065-1.19.408-2.285 1.33-3.082.88-.76 2.119-1.207 3.583-1.291a13.853 13.853 0 0 1 3.02.142c-.126-.742-.375-1.332-.75-1.757-.513-.586-1.308-.883-2.359-.89h-.029c-.844 0-1.992.232-2.721 1.32L7.734 7.847c.98-1.454 2.568-2.256 4.478-2.256h.044c3.194.02 5.097 1.975 5.287 5.388.108.046.216.094.321.142 1.49.7 2.58 1.761 3.154 3.07.797 1.82.871 4.79-1.548 7.158-1.85 1.81-4.094 2.628-7.277 2.65Zm1.003-11.69c-.242 0-.487.007-.739.021-1.836.103-2.98.946-2.916 2.143.067 1.256 1.452 1.839 2.784 1.767 1.224-.065 2.818-.543 3.086-3.71a10.5 10.5 0 0 0-2.215-.221z"})]})}),yse="#000000",bse=T.forwardRef(function({title:e="X",color:r="currentColor",size:n=24,...i},s){return r==="default"&&(r=yse),u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:r,viewBox:"0 0 24 24",ref:s,...i,children:[u.jsx("title",{children:e}),u.jsx("path",{d:"M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"})]})}),xse={Phone:dO,Mail:cO,Users:Di,Coffee:aK,Utensils:vK,FileText:uO,Circle:Cj};function wse({timeline:t,onEdit:e,onDelete:r,onToggleTodo:n,personId:i,allPeople:s=[]}){const a=T.useMemo(()=>Zie(t||[]),[t]),o=f=>s.find(p=>p.id.toString()===f.toString()),l=f=>{if(f.type==="todo")return f.is_completed?jj:gu;if(f.type==="activity"&&f.activity_type){const p=tse(f.activity_type);return xse[p]||Cj}return f.type==="note"?uO:Cj},c=f=>{const p=l(f),v=f.type==="todo",y=f.type==="activity";f.type;const x=f.activity_date||f.created,g=ese(x),m=nse(f),w=v&&nh(f);return u.jsxs("div",{className:`relative ${v?"pl-0":"pl-8"} pb-6 group`,children:[!v&&u.jsx("div",{className:"absolute left-0 top-1",children:u.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${y?"bg-blue-500 border-blue-500":"bg-gray-400 border-gray-400"}`})}),u.jsx("div",{className:`${m}`,children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[!v&&u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(p,{className:`w-4 h-4 flex-shrink-0 ${y?"text-blue-600":"text-gray-500"}`}),y&&f.activity_type&&u.jsx("span",{className:"text-xs font-medium text-gray-600",children:rse(f.activity_type)}),u.jsx("span",{className:"text-xs text-gray-400",children:""}),u.jsx("span",{className:"text-xs text-gray-500",children:g})]}),u.jsxs("div",{className:"flex items-start gap-2",children:[v&&u.jsx("button",{onClick:()=>n&&n(f),className:"mt-0.5 flex-shrink-0",title:f.is_completed?"Mark as incomplete":"Mark as complete",children:f.is_completed?u.jsx(jj,{className:`w-5 h-5 ${w?"text-red-600":"text-primary-600"}`}):u.jsx(gu,{className:`w-5 h-5 ${w?"text-red-600":"text-gray-400"}`})}),u.jsx("p",{className:`text-sm flex-1 ${f.is_completed?"line-through opacity-60":""}`,children:f.content})]}),y&&f.participants&&f.participants.length>0&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("span",{className:"text-xs text-gray-500",children:"With:"}),f.participants.map(b=>{const _=o(b);return _?u.jsxs(fe,{to:`/people/${b}`,className:"inline-flex items-center gap-1 text-xs text-primary-600 hover:text-primary-700 hover:underline",children:[u.jsx(lK,{className:"w-3 h-3"}),_.name]},b):null})]}),v&&f.due_date&&u.jsx("div",{className:"mt-2",children:u.jsxs("span",{className:`text-xs ${w?"text-red-600 font-medium":"text-gray-500"}`,children:["Due: ",rn(new Date(f.due_date),"MMM d, yyyy"),w&&" (overdue)"]})})]}),u.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[e&&u.jsx("button",{onClick:()=>e(f),className:"p-1 hover:bg-gray-100 rounded",title:"Edit",children:u.jsx(za,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),r&&u.jsx("button",{onClick:()=>r(f),className:"p-1 hover:bg-red-50 rounded",title:"Delete",children:u.jsx(Ln,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]})})]},f.id)},d=(f,p)=>!p||p.length===0?null:u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3 uppercase tracking-wide",children:f}),u.jsx("div",{className:"relative pl-4 border-l-2 border-gray-200",children:p.map(c)})]});return a.today.length>0||a.yesterday.length>0||a.thisWeek.length>0||a.older.length>0?u.jsxs("div",{className:"space-y-6",children:[d("Today",a.today),d("Yesterday",a.yesterday),d("This week",a.thisWeek),d("Older",a.older)]}):u.jsx("div",{className:"text-center py-8",children:u.jsx("p",{className:"text-sm text-gray-500",children:"No timeline items yet."})})}function _se({isOpen:t,onClose:e,onSubmit:r,isLoading:n}){const[i,s]=T.useState("");if(!t)return null;const a=l=>{l.preventDefault(),i.trim()&&(r(i),s(""))},o=()=>{s(""),e()};return u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Add note"}),u.jsx("button",{onClick:o,className:"text-gray-400 hover:text-gray-600",disabled:n,children:u.jsx(hn,{className:"w-5 h-5"})})]}),u.jsxs("form",{onSubmit:a,className:"p-4",children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"note-content",className:"block text-sm font-medium text-gray-700 mb-2",children:"Note"}),u.jsx("textarea",{id:"note-content",value:i,onChange:l=>s(l.target.value),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter your note...",disabled:n,autoFocus:!0})]}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{type:"button",onClick:o,className:"btn-secondary",disabled:n,children:"Cancel"}),u.jsx("button",{type:"submit",className:"btn-primary",disabled:n||!i.trim(),children:n?"Adding...":"Add note"})]})]})]})})}const Pv=[{id:"call",label:"Phone call",icon:dO},{id:"email",label:"Email",icon:cO},{id:"chat",label:"Chat",icon:uK},{id:"meeting",label:"Meeting",icon:Di},{id:"coffee",label:"Coffee",icon:aK},{id:"lunch",label:"Lunch",icon:vK},{id:"note",label:"Other",icon:uO}];function Sse({isOpen:t,onClose:e,onSubmit:r,isLoading:n,personId:i}){const[s,a]=T.useState("call"),[o,l]=T.useState(""),[c,d]=T.useState(""),[h,f]=T.useState([]),[p,v]=T.useState(!1),[y,x]=T.useState(""),{data:g}=zo();if(T.useEffect(()=>{if(t){const P=new Date().toISOString().split("T")[0];l(P),d(""),f([]),a("call")}},[t]),!t)return null;const m=(g||[]).filter(P=>P.id.toString()!==(i==null?void 0:i.toString())),w=m.filter(P=>{var O;return(O=P.name)==null?void 0:O.toLowerCase().includes(y.toLowerCase())}),b=P=>{P.preventDefault(),c.trim()&&(r({activity_type:s,activity_date:o||null,content:c.trim(),participants:h}),d(""),f([]),l(new Date().toISOString().split("T")[0]))},_=()=>{d(""),f([]),l(""),v(!1),x(""),e()},E=P=>{f(O=>O.includes(P)?O.filter(I=>I!==P):[...O,P])},N=P=>{f(O=>O.filter(I=>I!==P))},S=()=>m.filter(P=>h.includes(P.id)),j=P=>{if(!P)return"";try{return new Date(P).toISOString().split("T")[0]}catch{return""}};return(Pv.find(P=>P.id===s)||Pv[0]).icon,u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b sticky top-0 bg-white z-10",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Add activity"}),u.jsx("button",{onClick:_,className:"text-gray-400 hover:text-gray-600",disabled:n,children:u.jsx(hn,{className:"w-5 h-5"})})]}),u.jsxs("form",{onSubmit:b,className:"p-4",children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Activity type"}),u.jsx("div",{className:"grid grid-cols-3 gap-2",children:Pv.map(P=>{const O=P.icon,I=s===P.id;return u.jsxs("button",{type:"button",onClick:()=>a(P.id),className:`flex flex-col items-center justify-center p-3 border-2 rounded-lg transition-colors ${I?"border-primary-600 bg-primary-50 text-primary-700":"border-gray-200 hover:border-gray-300 text-gray-700"}`,disabled:n,children:[u.jsx(O,{className:"w-5 h-5 mb-1"}),u.jsx("span",{className:"text-xs",children:P.label})]},P.id)})})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"activity-date",className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),u.jsx("input",{id:"activity-date",type:"date",value:j(o),onChange:P=>l(P.target.value||""),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",disabled:n})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"activity-content",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),u.jsx("textarea",{id:"activity-content",value:c,onChange:P=>d(P.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"What happened?",disabled:n,autoFocus:!0})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Participants (optional)"}),S().length>0&&u.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:S().map(P=>u.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-primary-100 text-primary-700 rounded-full text-sm",children:[P.name,u.jsx("button",{type:"button",onClick:()=>N(P.id),className:"hover:text-primary-900",disabled:n,children:u.jsx(hn,{className:"w-3 h-3"})})]},P.id))}),u.jsxs("div",{className:"relative",children:[u.jsx("button",{type:"button",onClick:()=>v(!p),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-left text-sm text-gray-500 hover:border-gray-400",disabled:n,children:h.length===0?"Add participants...":"Add more participants..."}),p&&u.jsxs("div",{className:"absolute z-20 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-y-auto",children:[u.jsx("div",{className:"p-2 border-b",children:u.jsx("input",{type:"text",placeholder:"Search people...",value:y,onChange:P=>x(P.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded",autoFocus:!0})}),u.jsx("div",{className:"max-h-48 overflow-y-auto",children:w.length===0?u.jsx("div",{className:"p-3 text-sm text-gray-500 text-center",children:"No people found"}):w.map(P=>{var I;const O=h.includes(P.id);return u.jsxs("button",{type:"button",onClick:()=>E(P.id),className:`w-full px-3 py-2 text-left text-sm hover:bg-gray-50 flex items-center gap-2 ${O?"bg-primary-50":""}`,children:[u.jsx("input",{type:"checkbox",checked:O,onChange:()=>{},className:"mr-1"}),P.thumbnail?u.jsx("img",{src:P.thumbnail,alt:P.name,className:"w-6 h-6 rounded-full"}):u.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-xs text-gray-500",children:((I=P.first_name)==null?void 0:I[0])||"?"})}),u.jsx("span",{children:P.name})]},P.id)})})]})]})]}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{type:"button",onClick:_,className:"btn-secondary",disabled:n,children:"Cancel"}),u.jsx("button",{type:"submit",className:"btn-primary",disabled:n||!c.trim(),children:n?"Adding...":"Add activity"})]})]})]})})}function kK({isOpen:t,onClose:e,onSubmit:r,isLoading:n,todo:i=null}){const[s,a]=T.useState(""),[o,l]=T.useState(""),[c,d]=T.useState(!1),h=()=>new Date().toISOString().split("T")[0];if(T.useEffect(()=>{i?(a(i.content||""),l(i.due_date||""),d(i.is_completed||!1)):(a(""),l(h()),d(!1))},[i,t]),!t)return null;const f=y=>{y.preventDefault(),s.trim()&&(r({content:s.trim(),due_date:o||null,is_completed:c}),i||(a(""),l(h()),d(!1)))},p=()=>{i||(a(""),l(h()),d(!1)),e()},v=y=>{if(!y)return"";try{return new Date(y).toISOString().split("T")[0]}catch{return""}};return u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[u.jsx("h2",{className:"text-lg font-semibold",children:i?"Edit todo":"Add todo"}),u.jsx("button",{onClick:p,className:"text-gray-400 hover:text-gray-600",disabled:n,children:u.jsx(hn,{className:"w-5 h-5"})})]}),u.jsxs("form",{onSubmit:f,className:"p-4",children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"todo-content",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),u.jsx("textarea",{id:"todo-content",value:s,onChange:y=>a(y.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"What needs to be done?",disabled:n,autoFocus:!0})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"todo-due-date",className:"block text-sm font-medium text-gray-700 mb-2",children:"Due date (optional)"}),u.jsx("input",{id:"todo-due-date",type:"date",value:v(o),onChange:y=>l(y.target.value||""),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",disabled:n})]}),i&&u.jsx("div",{className:"mb-4",children:u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",checked:c,onChange:y=>d(y.target.checked),className:"mr-2",disabled:n}),u.jsx("span",{className:"text-sm text-gray-700",children:"Completed"})]})}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{type:"button",onClick:p,className:"btn-secondary",disabled:n,children:"Cancel"}),u.jsx("button",{type:"submit",className:"btn-primary",disabled:n||!s.trim(),children:n?i?"Saving...":"Adding...":i?"Save":"Add todo"})]})]})]})})}function Ui(t){return t?String(t).replace(/\\/g,"\\\\").replace(/;/g,"\\;").replace(/,/g,"\\,").replace(/\n/g,"\\n"):""}function Ese(t){return t?t.replace(/[^\d+]/g,""):""}function YI(t){if(!t)return"";const e=new Date(t);if(isNaN(e.getTime()))return"";const r=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${r}${n}${i}`}function Nse(t,e={}){if(!t||!Array.isArray(t))return{title:"",org:""};const r=t.find(i=>i.is_current);if(r){const i=r.company&&e[r.company]?e[r.company].name||e[r.company]:"";return{title:r.job_title||"",org:i}}const n=[...t].filter(i=>i.start_date).sort((i,s)=>new Date(s.start_date)-new Date(i.start_date));if(n.length>0){const i=n[0].company&&e[n[0].company]?e[n[0].company].name||e[n[0].company]:"";return{title:n[0].job_title||"",org:i}}return{title:"",org:""}}function jse(t,e={}){if(!t)throw new Error("Person data is required");const{companyMap:r={},personDates:n=[]}=e,i=t.acf||{},s=[];s.push("BEGIN:VCARD"),s.push("VERSION:3.0");const a=i.first_name||"",o=i.last_name||"",l=t.name||`${a} ${o}`.trim()||"Unknown";s.push(`FN:${Ui(l)}`),s.push(`N:${Ui(o)};${Ui(a)};;;`),i.nickname&&s.push(`NICKNAME:${Ui(i.nickname)}`),i.contact_info&&Array.isArray(i.contact_info)&&i.contact_info.forEach(h=>{if(!h.contact_value)return;const f=Ui(h.contact_value),p=h.contact_label?Ui(h.contact_label):"";switch(h.contact_type){case"email":const v=p?`EMAIL;TYPE=INTERNET,${p.toUpperCase()}`:"EMAIL;TYPE=INTERNET";s.push(`${v}:${f}`);break;case"phone":case"mobile":const y=h.contact_type==="mobile"?"CELL":"VOICE",x=p?`TEL;TYPE=${y},${p.toUpperCase()}`:`TEL;TYPE=${y}`,g=Ese(h.contact_value);g&&s.push(`${x}:${g}`);break;case"address":s.push(`ADR;TYPE=HOME:;;${f};;;;`);break;case"website":case"linkedin":case"twitter":case"instagram":case"facebook":let m=h.contact_value;m.match(/^https?:\/\//i)||(m=`https://${m}`);const w=h.contact_type==="linkedin"?"PROFILE":"WORK",b=p?`URL;TYPE=${w},${p.toUpperCase()}`:`URL;TYPE=${w}`;s.push(`${b}:${Ui(m)}`);break}});const{title:c,org:d}=Nse(i.work_history,r);if(d&&s.push(`ORG:${Ui(d)}`),c&&s.push(`TITLE:${Ui(c)}`),n&&Array.isArray(n)){const h=n.find(f=>{const p=Array.isArray(f.date_type)?f.date_type[0]:f.date_type;return(p==null?void 0:p.toLowerCase())==="birthday"});if(h!=null&&h.date_value){const f=YI(h.date_value);f&&s.push(`BDAY:${f}`)}}if(t.thumbnail,t.modified){const h=YI(t.modified);h&&s.push(`REV:${h}T000000Z`)}return s.push("END:VCARD"),s.join(`\r
`)}function Cse(t,e={}){const{filename:r,...n}=e,i=jse(t,n),s=new Blob([i],{type:"text/vcard;charset=utf-8"}),a=URL.createObjectURL(s),o=document.createElement("a");o.href=a,o.download=r||`${t.name||"contact"}.vcf`.replace(/[^a-z0-9.-]/gi,"_"),document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(a)}const Ose=({className:t})=>u.jsx("svg",{className:t,viewBox:"0 0 382 382",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",children:u.jsx("path",{d:`M347.445,0H34.555C15.471,0,0,15.471,0,34.555v312.889C0,366.529,15.471,382,34.555,382h312.889
      C366.529,382,382,366.529,382,347.444V34.555C382,15.471,366.529,0,347.445,0z M118.207,329.844c0,5.554-4.502,10.056-10.056,10.056
      H65.345c-5.554,0-10.056-4.502-10.056-10.056V150.403c0-5.554,4.502-10.056,10.056-10.056h42.806
      c5.554,0,10.056,4.502,10.056,10.056V329.844z M86.748,123.432c-22.459,0-40.666-18.207-40.666-40.666S64.289,42.1,86.748,42.1
      s40.666,18.207,40.666,40.666S109.208,123.432,86.748,123.432z M341.91,330.654c0,5.106-4.14,9.246-9.246,9.246H286.73
      c-5.106,0-9.246-4.14-9.246-9.246v-84.168c0-12.556,3.683-55.021-32.813-55.021c-28.309,0-34.051,29.066-35.204,42.11v97.079
      c0,5.106-4.139,9.246-9.246,9.246h-44.426c-5.106,0-9.246-4.14-9.246-9.246V149.593c0-5.106,4.14-9.246,9.246-9.246h44.426
      c5.106,0,9.246,4.14,9.246,9.246v15.655c10.497-15.753,26.097-27.912,59.312-27.912c73.552,0,73.131,68.716,73.131,106.472
      L341.91,330.654L341.91,330.654z`})});function df(t){if(!t)return null;switch(t){case"male":return"";case"female":return"";case"non_binary":case"other":case"prefer_not_to_say":return"";default:return null}}function Pse(){var CP,OP,PP,TP,IP,RP,$P,kP,DP,MP,qP,AP,FP,LP;const{id:t}=Ss(),e=Gr(),r=rt(),{data:n,isLoading:i,error:s}=Mu(t),{data:a}=rne(t),{data:o}=nne(t),l=sne(),c=one(),d=hne(),h=th(),f=ane(),p=lne(),v=wK(),y=cne(),x=une(),g=dne(),{data:m}=zo(),[w,b]=T.useState(!1),[_,E]=T.useState(""),[N,S]=T.useState(!1),j=T.useRef(null),[C,P]=T.useState(!1),[O,I]=T.useState(!1),[M,k]=T.useState(!1),[K,H]=T.useState(null),{data:A}=Ze({queryKey:["person-labels"],queryFn:async()=>(await Ae.getPersonLabels()).data}),G=A||[],W=(n==null?void 0:n.labels)||[],z=((TP=(PP=(OP=(CP=n==null?void 0:n._embedded)==null?void 0:CP["wp:term"])==null?void 0:OP.flat())==null?void 0:PP.filter(D=>(D==null?void 0:D.taxonomy)==="person_label"))==null?void 0:TP.map(D=>D.id))||[],F=G.filter(D=>!W.includes(D.name));mn((n==null?void 0:n.name)||((IP=n==null?void 0:n.title)==null?void 0:IP.rendered)||(n==null?void 0:n.title)||"Person");const ee=o==null?void 0:o.find(D=>{const Q=Array.isArray(D.date_type)?D.date_type[0]:D.date_type;return(Q==null?void 0:Q.toLowerCase())==="birthday"}),oe=ee!=null&&ee.date_value?new Date(ee.date_value):null,Ne=o==null?void 0:o.find(D=>{const Q=Array.isArray(D.date_type)?D.date_type[0]:D.date_type;return(Q==null?void 0:Q.toLowerCase())==="died"}),ye=Ne!=null&&Ne.date_value?new Date(Ne.date_value):null,Ee=!!ye,ke=oe?jv(Ee?ye:new Date,oe):null,st=o?[...o].sort((D,Q)=>{const Y=D.date_value?new Date(D.date_value):new Date(0),Oe=Q.date_value?new Date(Q.date_value):new Date(0);return Y-Oe}):[],nr=async()=>{if(window.confirm("Are you sure you want to delete this person?"))try{await l.mutateAsync(t),e("/people")}catch(D){console.error("Failed to delete person:",D),alert("Failed to delete person. Please try again.")}},bt=D=>{if(!D)return"";let Q=D.replace(/[\u200B-\u200D\uFEFF\u200E\u200F\u202A-\u202E]/g,"");const Y=Q.startsWith("+");return Q=Q.replace(/\D/g,""),Y?`+${Q}`:Q},pr=async D=>{var Oe;if(!window.confirm("Are you sure you want to delete this contact detail?"))return;const Q=[...((Oe=n.acf)==null?void 0:Oe.contact_info)||[]];Q.splice(D,1);const Y=Ga(n.acf,{contact_info:Q});await h.mutateAsync({id:t,data:{acf:Y}})},ct=async D=>{var Da,Zn,Bi,hc,BP,zP;if(!window.confirm("Are you sure you want to delete this relationship?"))return;const Q=(Zn=(Da=n.acf)==null?void 0:Da.relationships)==null?void 0:Zn[D];if(!Q)return;const Y=Q.related_person,Oe=Q.relationship_type;let Le=!0;Y&&Oe&&(Le=window.confirm("Do you also want to delete the inverse relationship from the other person?"));let Qe=null;if(!Le&&Y&&Oe)try{const[xi,Bh]=await Promise.all([Ae.getPerson(Y,{_embed:!0}),Ae.getRelationshipTypes()]),Km={};Bh.data.forEach(fc=>{Km[fc.id]=fc});const $n=Km[Oe],Ma=(Bi=$n==null?void 0:$n.acf)==null?void 0:Bi.inverse_relationship_type;if(Ma){const pc=(((hc=xi.data.acf)==null?void 0:hc.relationships)||[]).find(zi=>{var UP,WP;const KQ=typeof zi.related_person=="object"?(UP=zi.related_person)==null?void 0:UP.ID:zi.related_person,GQ=typeof zi.relationship_type=="object"?(WP=zi.relationship_type)==null?void 0:WP.term_id:zi.relationship_type;return KQ===parseInt(t)&&GQ===Ma});pc&&(Qe={related_person:parseInt(t),relationship_type:Ma,relationship_label:pc.relationship_label||""})}}catch(xi){console.error("Failed to fetch inverse relationship:",xi)}const ot=[...((BP=n.acf)==null?void 0:BP.relationships)||[]];ot.splice(D,1);const ll=Ga(n.acf,{relationships:ot});if(await h.mutateAsync({id:t,data:{acf:ll}}),!Le&&Qe&&Y){await new Promise(xi=>setTimeout(xi,500));try{const xi=await Ae.getPerson(Y,{_embed:!0}),Bh=((zP=xi.data.acf)==null?void 0:zP.relationships)||[];if(!Bh.some($n=>{var pc,zi;const Ma=typeof $n.related_person=="object"?(pc=$n.related_person)==null?void 0:pc.ID:$n.related_person,fc=typeof $n.relationship_type=="object"?(zi=$n.relationship_type)==null?void 0:zi.term_id:$n.relationship_type;return Ma===Qe.related_person&&fc===Qe.relationship_type})){const $n=[...Bh,Qe],Ma=Ga(xi.data.acf,{relationships:$n});await Ae.updatePerson(Y,{acf:Ma})}}catch(xi){console.error("Failed to restore inverse relationship:",xi)}}r.invalidateQueries({queryKey:["person",t]}),Y&&r.invalidateQueries({queryKey:["person",Y]}),r.invalidateQueries({queryKey:["people"]})},Ir=async D=>{window.confirm("Are you sure you want to delete this important date?")&&await d.mutateAsync({dateId:D,personId:t})},Rr=async D=>{window.confirm("Are you sure you want to delete this note?")&&await c.mutateAsync({noteId:D,personId:t})},Sr=async D=>{try{await f.mutateAsync({personId:t,content:D}),P(!1)}catch(Q){console.error("Failed to create note:",Q),alert("Failed to create note. Please try again.")}},at=async D=>{try{await p.mutateAsync({personId:t,data:D}),I(!1)}catch(Q){console.error("Failed to create activity:",Q),alert("Failed to create activity. Please try again.")}},Bt=async D=>{try{await v.mutateAsync({personId:t,data:D}),k(!1),H(null)}catch(Q){console.error("Failed to create todo:",Q),alert("Failed to create todo. Please try again.")}},$r=async D=>{if(K)try{await y.mutateAsync({todoId:K.id,data:D,personId:t}),k(!1),H(null)}catch(Q){console.error("Failed to update todo:",Q),alert("Failed to update todo. Please try again.")}},kr=async D=>{try{await y.mutateAsync({todoId:D.id,data:{content:D.content,due_date:D.due_date,is_completed:!D.is_completed},personId:t})}catch(Q){console.error("Failed to toggle todo:",Q),alert("Failed to update todo. Please try again.")}},$=async D=>{window.confirm("Are you sure you want to delete this activity?")&&await x.mutateAsync({activityId:D,personId:t})},q=async D=>{window.confirm("Are you sure you want to delete this todo?")&&await g.mutateAsync({todoId:D,personId:t})},B=D=>{D.type==="todo"&&(H(D),k(!0))},ae=D=>{D.type==="note"?Rr(D.id):D.type==="activity"?$(D.id):D.type==="todo"&&q(D.id)},ne=async D=>{var Oe;if(!window.confirm("Are you sure you want to delete this work history item?"))return;const Q=[...((Oe=n.acf)==null?void 0:Oe.work_history)||[]];Q.splice(D,1);const Y=Ga(n.acf,{work_history:Q});await h.mutateAsync({id:t,data:{acf:Y}})},X=async D=>{var Oe,Le,Qe;const Q=(Qe=(Le=(Oe=n==null?void 0:n._embedded)==null?void 0:Oe["wp:term"])==null?void 0:Le.flat())==null?void 0:Qe.find(ot=>(ot==null?void 0:ot.taxonomy)==="person_label"&&(ot==null?void 0:ot.name)===D);if(!Q)return;const Y=z.filter(ot=>ot!==Q.id);await h.mutateAsync({id:t,data:{person_label:Y}})},V=async()=>{if(!_)return;const D=G.find(Y=>Y.id.toString()===_);if(!D)return;const Q=[...z,D.id];await h.mutateAsync({id:t,data:{person_label:Q}}),E(""),b(!1)},ue=async D=>{var Y;const Q=(Y=D.target.files)==null?void 0:Y[0];if(Q){if(!Q.type.startsWith("image/")){alert("Please select an image file");return}if(Q.size>5*1024*1024){alert("Image size must be less than 5MB");return}S(!0);try{await $e.uploadPersonPhoto(t,Q),r.invalidateQueries({queryKey:["person",t]}),r.invalidateQueries({queryKey:["people"]})}catch(Oe){console.error("Failed to upload photo:",Oe),alert("Failed to upload photo. Please try again.")}finally{S(!1),j.current&&(j.current.value="")}}},pe=()=>{if(n)try{Cse(n,{companyMap:Qr,personDates:o||[]})}catch(D){console.error("Failed to export vCard:",D),alert("Failed to export vCard. Please try again.")}},Ue=(($P=(RP=n==null?void 0:n.acf)==null?void 0:RP.work_history)==null?void 0:$P.map(D=>D.company).filter(Boolean))||[],ge=vp({queries:Ue.map(D=>({queryKey:["company",D],queryFn:async()=>(await Ae.getCompany(D,{_embed:!0})).data,enabled:!!D}))}),J=((DP=(kP=n==null?void 0:n.acf)==null?void 0:kP.relationships)==null?void 0:DP.map(D=>D.related_person).filter(Boolean))||[],ce=vp({queries:J.map(D=>({queryKey:["person-dates",D],queryFn:async()=>(await $e.getPersonDates(D)).data,enabled:!!D}))}),le=T.useMemo(()=>{const D={};return ce.forEach((Q,Y)=>{if(Q.data&&J[Y]){const Oe=J[Y],Le=Q.data.find(Qe=>{const ot=Array.isArray(Qe.date_type)?Qe.date_type[0]:Qe.date_type;return(ot==null?void 0:ot.toLowerCase())==="birthday"});if(Le!=null&&Le.date_value){const Qe=new Date(Le.date_value);D[Oe]=jv(new Date,Qe)}else D[Oe]=-1}}),D},[ce,J]),we=T.useMemo(()=>{const D={};return ce.forEach((Q,Y)=>{if(Q.data&&J[Y]){const Oe=J[Y],Le=Q.data.some(Qe=>{const ot=Array.isArray(Qe.date_type)?Qe.date_type[0]:Qe.date_type;return(ot==null?void 0:ot.toLowerCase())==="died"});D[Oe]=Le}}),D},[ce,J]),De=T.useMemo(()=>{var D;return(D=n==null?void 0:n.acf)!=null&&D.relationships?[...n.acf.relationships].sort((Q,Y)=>{const Oe=le[Q.related_person]??-1,Le=le[Y.related_person]??-1;return Oe===-1&&Le===-1?0:Oe===-1?1:Le===-1?-1:Le-Oe}):[]},[(MP=n==null?void 0:n.acf)==null?void 0:MP.relationships,le]),Qr={};ge.forEach((D,Q)=>{var Y,Oe,Le,Qe,ot,ll,Da,Zn,Bi;if(D.data){const hc=Ue[Q];Qr[hc]={name:Zt(D.data),logo:((Le=(Oe=(Y=D.data._embedded)==null?void 0:Y["wp:featuredmedia"])==null?void 0:Oe[0])==null?void 0:Le.source_url)||((Bi=(Zn=(Da=(ll=(ot=(Qe=D.data._embedded)==null?void 0:Qe["wp:featuredmedia"])==null?void 0:ot[0])==null?void 0:ll.media_details)==null?void 0:Da.sizes)==null?void 0:Zn.thumbnail)==null?void 0:Bi.source_url)||null}}});const Rn=T.useMemo(()=>{var D;return(D=n==null?void 0:n.acf)!=null&&D.work_history?[...n.acf.work_history].map((Q,Y)=>({...Q,originalIndex:Y})).sort((Q,Y)=>{if(Q.is_current&&!Y.is_current)return-1;if(!Q.is_current&&Y.is_current)return 1;const Oe=Q.start_date?new Date(Q.start_date):new Date(0);return(Y.start_date?new Date(Y.start_date):new Date(0))-Oe}):[]},[(qP=n==null?void 0:n.acf)==null?void 0:qP.work_history]),dc=T.useMemo(()=>a?a.filter(Q=>Q.type==="todo").sort((Q,Y)=>{if(Q.is_completed&&!Y.is_completed)return 1;if(!Q.is_completed&&Y.is_completed)return-1;if(!Q.is_completed&&!Y.is_completed){if(Q.due_date&&Y.due_date)return new Date(Q.due_date)-new Date(Y.due_date);if(Q.due_date&&!Y.due_date)return-1;if(!Q.due_date&&Y.due_date)return 1}return new Date(Y.created)-new Date(Q.created)}):[],[a]);if(T.useEffect(()=>{(n==null?void 0:n.status)==="trash"&&e("/people",{replace:!0})},[n,e]),i)return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(s||!n)return u.jsxs("div",{className:"card p-6 text-center",children:[u.jsx("p",{className:"text-red-600",children:"Failed to load person."}),u.jsx(fe,{to:"/people",className:"btn-secondary mt-4",children:"Back to people"})]});if(n.status==="trash")return null;const Er=n.acf||{},Hm=["facebook","linkedin","instagram","twitter","bluesky","threads","website"],WQ=((AP=Er.contact_info)==null?void 0:AP.filter(D=>Hm.includes(D.contact_type)))||[],NP={linkedin:1,twitter:2,bluesky:3,threads:4,instagram:5,facebook:6,website:7},jP=[...WQ].sort((D,Q)=>{const Y=NP[D.contact_type]||99,Oe=NP[Q.contact_type]||99;return Y-Oe}),VQ=D=>{switch(D){case"facebook":return fse;case"linkedin":return Ose;case"instagram":return mse;case"twitter":return bse;case"bluesky":return dse;case"threads":return gse;case"website":return qf;default:return qf}},HQ=D=>{switch(D){case"facebook":return"text-[#1877F2]";case"linkedin":return"text-[#0077B7]";case"instagram":return"text-[#E4405F]";case"twitter":return"text-[#1DA1F2]";case"bluesky":return"text-[#00A8E8]";case"threads":return"text-[#000000]";case"website":return"text-gray-600";default:return"text-gray-600"}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs(fe,{to:"/people",className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(jn,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Back to people"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:pe,className:"btn-secondary",children:[u.jsx(Oj,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Export vCard"})]}),u.jsxs(fe,{to:`/people/${t}/edit`,className:"btn-secondary",children:[u.jsx(pK,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Edit"})]}),u.jsxs("button",{onClick:nr,className:"btn-danger",children:[u.jsx(Ln,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Delete"})]})]})]}),u.jsxs("div",{className:"card p-6 relative",children:[u.jsx("div",{className:"absolute top-4 right-4",children:u.jsx(fe,{to:`/people/${t}/family-tree`,className:"btn-secondary text-sm",children:"View family tree"})}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[u.jsxs("div",{className:"relative group",children:[n.thumbnail?u.jsx("img",{src:n.thumbnail,alt:n.name,className:"w-28 h-28 rounded-full object-cover"}):u.jsx("div",{className:"w-28 h-28 bg-gray-200 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-3xl font-medium text-gray-500",children:((FP=n.first_name)==null?void 0:FP[0])||"?"})}),u.jsx("div",{className:"absolute inset-0 rounded-full bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var D;return(D=j.current)==null?void 0:D.click()},children:N?u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):u.jsx(Mf,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})}),u.jsx("input",{ref:j,type:"file",accept:"image/*",onChange:ue,className:"hidden",disabled:N})]}),u.jsxs("div",{className:"flex-1 space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("h1",{className:"text-2xl font-bold",children:[n.name,Ee&&u.jsx("span",{className:"ml-1 text-gray-500",children:""})]}),n.is_favorite&&u.jsx(yu,{className:"w-5 h-5 text-yellow-400 fill-current"})]}),Er.nickname&&u.jsxs("p",{className:"text-gray-500",children:['"',Er.nickname,'"']}),Ee&&ye&&ke!==null&&u.jsxs("p",{className:"text-gray-500 text-sm",children:[df(Er.gender)&&u.jsx("span",{className:"mr-1",children:df(Er.gender)}),"Died ",rn(ye,"MMMM d, yyyy")," at age ",ke]}),!Ee&&ke!==null&&u.jsxs("p",{className:"text-gray-500 text-sm",children:[df(Er.gender)&&u.jsx("span",{className:"mr-1",children:df(Er.gender)}),ke," years old"]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[n.labels&&n.labels.length>0&&n.labels.map((D,Q)=>u.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 group/label",children:[D,u.jsx("button",{onClick:()=>X(D),className:"opacity-0 group-hover/label:opacity-100 transition-opacity hover:bg-gray-200 rounded-full p-0.5",title:"Remove label",children:u.jsx(hn,{className:"w-3 h-3"})})]},Q)),w?u.jsxs("div",{className:"inline-flex items-center gap-2",children:[u.jsxs("select",{value:_,onChange:D=>E(D.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1",autoFocus:!0,disabled:F.length===0,children:[u.jsx("option",{value:"",children:"Select a label..."}),F.map(D=>u.jsx("option",{value:D.id,children:D.name},D.id))]}),u.jsx("button",{onClick:V,disabled:!_,className:"text-xs px-2 py-1 bg-primary-600 text-white rounded hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add"}),u.jsx("button",{onClick:()=>{b(!1),E("")},className:"text-xs px-2 py-1 bg-gray-200 text-gray-700 rounded hover:bg-gray-300",children:"Cancel"})]}):F.length>0&&u.jsxs("button",{onClick:()=>b(!0),className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors",children:[u.jsx(Mt,{className:"w-3 h-3 mr-1"}),"Add label"]})]}),jP.length>0&&u.jsx("div",{className:"flex items-center gap-3 mt-4",children:jP.map((D,Q)=>{const Y=VQ(D.contact_type),Oe=HQ(D.contact_type);let Le=D.contact_value;return Le.match(/^https?:\/\//i)||(Le=`https://${Le}`),u.jsx("a",{href:Le,target:"_blank",rel:"noopener noreferrer",className:`flex-shrink-0 hover:opacity-80 transition-opacity ${Oe}`,title:`${D.contact_type.charAt(0).toUpperCase()+D.contact_type.slice(1)}: ${D.contact_value}`,children:u.jsx(Y,{className:"w-5 h-5"})},Q)})})]})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[!Ee&&u.jsxs("div",{className:"card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"font-semibold",children:"Contact information"}),u.jsxs(fe,{to:`/people/${t}/contact/new`,className:"btn-secondary text-sm",children:[u.jsx(Mt,{className:"w-4 h-4 md:mr-1"}),u.jsx("span",{className:"hidden md:inline",children:"Add contact detail"})]})]}),((LP=Er.contact_info)==null?void 0:LP.filter(D=>!Hm.includes(D.contact_type)).length)>0?u.jsx("div",{className:"space-y-2",children:(()=>{const D={email:1,phone:2,mobile:2,address:3,other:4};return Er.contact_info.filter(Y=>!Hm.includes(Y.contact_type)).map((Y,Oe)=>({...Y,originalIndex:Oe})).sort((Y,Oe)=>{const Le=D[Y.contact_type]||99,Qe=D[Oe.contact_type]||99;return Le!==Qe?Le-Qe:Y.originalIndex-Oe.originalIndex}).map((Y,Oe)=>{Er.contact_info.indexOf(Y);const Le=Y.contact_type==="email"?cO:Y.contact_type==="phone"||Y.contact_type==="mobile"?dO:Y.contact_type==="address"?Ure:qf,Qe=Y.contact_type==="email",ot=Y.contact_type==="phone"||Y.contact_type==="mobile",ll=Y.contact_type==="mobile",Da=Y.contact_type==="address";let Zn=null,Bi=null;return Qe?Zn=`mailto:${Y.contact_value}`:ot?Zn=`tel:${bt(Y.contact_value)}`:Da&&(Zn=`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(Y.contact_value)}`,Bi="_blank"),u.jsx("div",{className:"group",children:u.jsxs("div",{className:"flex items-center rounded-md -mx-2 px-2 py-1.5 group-hover:bg-gray-50 transition-colors",children:[u.jsx(Le,{className:"w-4 h-4 text-gray-400 mr-3 flex-shrink-0"}),u.jsxs("div",{className:"flex-1 min-w-0 flex items-center gap-2",children:[u.jsxs("span",{className:"text-sm text-gray-500",children:[Y.contact_label||Y.contact_type,": "]}),Zn?u.jsx("a",{href:Zn,target:Bi||void 0,rel:Bi==="_blank"?"noopener noreferrer":void 0,className:"text-primary-600 hover:text-primary-700 hover:underline",children:Y.contact_value}):u.jsx("span",{children:Y.contact_value}),ll&&u.jsx("a",{href:`https://wa.me/${bt(Y.contact_value)}`,target:"_blank",rel:"noopener noreferrer",className:"flex-shrink-0 hover:opacity-80 transition-opacity",title:"Open WhatsApp",children:u.jsx(uK,{className:"w-4 h-4 text-[#25D366]"})})]}),u.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[u.jsx(fe,{to:`/people/${t}/contact/${Y.originalIndex}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit contact detail",children:u.jsx(za,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),u.jsx("button",{onClick:()=>pr(Y.originalIndex),className:"p-1 hover:bg-red-50 rounded",title:"Delete contact detail",children:u.jsx(Ln,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]})},Y.originalIndex)})})()}):u.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No contact information yet."})]}),u.jsxs("div",{className:"card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"font-semibold",children:"Events"}),u.jsxs(fe,{to:`/dates/new?person=${t}`,className:"btn-secondary text-sm",children:[u.jsx(Mt,{className:"w-4 h-4 md:mr-1"}),u.jsx("span",{className:"hidden md:inline",children:"Add Important Date"})]})]}),st.length>0?u.jsx("div",{className:"space-y-3",children:st.map(D=>{const Q=Array.isArray(D.date_type)?D.date_type[0]:D.date_type,Y=(Q==null?void 0:Q.toLowerCase())||"",Oe=Y.includes("died"),Le=Y.includes("wedding")||Y.includes("marriage")?Lre:Y.includes("birthday")?Fre:da;return u.jsxs("div",{className:"flex items-start group",children:[u.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center mr-3",children:Oe?u.jsx("span",{className:"text-gray-500 text-lg font-semibold",children:""}):u.jsx(Le,{className:"w-4 h-4 text-gray-500"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm font-medium",children:D.title}),u.jsx("p",{className:"text-xs text-gray-500",children:D.date_value&&rn(new Date(D.date_value),"MMMM d, yyyy")}),Q&&u.jsx("p",{className:"text-xs text-gray-400 capitalize",children:Q})]}),u.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[u.jsx(fe,{to:`/dates/${D.id}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit date",children:u.jsx(za,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),u.jsx("button",{onClick:()=>Ir(D.id),className:"p-1 hover:bg-red-50 rounded",title:"Delete date",children:u.jsx(Ln,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},D.id)})}):u.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No important dates yet."})]}),u.jsxs("div",{className:"card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"font-semibold",children:"Work history"}),u.jsxs(fe,{to:`/people/${t}/work-history/new`,className:"btn-secondary text-sm",children:[u.jsx(Mt,{className:"w-4 h-4 md:mr-1"}),u.jsx("span",{className:"hidden md:inline",children:"Add work history"})]})]}),(Rn==null?void 0:Rn.length)>0?u.jsx("div",{className:"space-y-4",children:Rn.map((D,Q)=>{const Y=D.company?Qr[D.company]:null,Oe=D.originalIndex;return u.jsxs("div",{className:"flex items-start group",children:[Y!=null&&Y.logo?u.jsx("img",{src:Y.logo,alt:Y.name,className:"w-20 h-20 rounded-lg object-contain bg-white mr-3 flex-shrink-0"}):u.jsx("div",{className:"w-20 h-20 bg-white rounded-lg flex items-center justify-center mr-3 flex-shrink-0 border border-gray-200",children:u.jsx(dn,{className:"w-10 h-10 text-gray-500"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"font-medium",children:D.job_title}),D.company&&Y&&u.jsx(fe,{to:`/companies/${D.company}`,className:"text-sm text-primary-600 hover:underline",children:Y.name}),u.jsxs("p",{className:"text-sm text-gray-500",children:[D.start_date&&rn(new Date(D.start_date),"MMM yyyy")," - ",D.is_current?"Present":D.end_date?rn(new Date(D.end_date),"MMM yyyy"):""]}),D.description&&u.jsx("p",{className:"text-sm text-gray-600 mt-1",children:D.description})]}),u.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[u.jsx(fe,{to:`/people/${t}/work-history/${Oe}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit work history",children:u.jsx(za,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),u.jsx("button",{onClick:()=>ne(Oe),className:"p-1 hover:bg-red-50 rounded",title:"Delete work history",children:u.jsx(Ln,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},Oe)})}):u.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No work history yet."})]}),u.jsxs("div",{className:"card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"font-semibold",children:"Timeline"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:()=>P(!0),className:"btn-secondary text-sm",children:[u.jsx(Mt,{className:"w-4 h-4 md:mr-1"}),u.jsx("span",{className:"hidden md:inline",children:"Note"})]}),u.jsxs("button",{onClick:()=>I(!0),className:"btn-secondary text-sm",children:[u.jsx(Mt,{className:"w-4 h-4 md:mr-1"}),u.jsx("span",{className:"hidden md:inline",children:"Activity"})]})]})]}),u.jsx(wse,{timeline:a||[],onEdit:B,onDelete:ae,onToggleTodo:kr,personId:t,allPeople:m||[]})]}),u.jsx(_se,{isOpen:C,onClose:()=>P(!1),onSubmit:Sr,isLoading:f.isPending}),u.jsx(Sse,{isOpen:O,onClose:()=>I(!1),onSubmit:at,isLoading:p.isPending,personId:t}),u.jsx(kK,{isOpen:M,onClose:()=>{k(!1),H(null)},onSubmit:K?$r:Bt,isLoading:K?y.isPending:v.isPending,todo:K})]}),u.jsxs("div",{className:"space-y-6",children:[(Er.how_we_met||Er.met_date)&&u.jsxs("div",{className:"card p-6",children:[u.jsx("h2",{className:"font-semibold mb-3",children:"How we met"}),Er.met_date&&u.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:[u.jsx(da,{className:"w-4 h-4 inline mr-1"}),rn(new Date(Er.met_date),"MMMM d, yyyy")]}),Er.how_we_met&&u.jsx("p",{className:"text-sm",children:Er.how_we_met})]}),u.jsxs("div",{className:"card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h2",{className:"font-semibold",children:"Todos"}),u.jsxs("button",{onClick:()=>{H(null),k(!0)},className:"btn-secondary text-sm",children:[u.jsx(Mt,{className:"w-4 h-4 md:mr-1"}),u.jsx("span",{className:"hidden md:inline",children:"Add todo"})]})]}),dc.length>0?u.jsx("div",{className:"space-y-2",children:dc.map(D=>{const Q=nh(D);return u.jsxs("div",{className:"flex items-start p-2 rounded hover:bg-gray-50 group",children:[u.jsx("button",{onClick:()=>kr(D),className:"mt-0.5 mr-2 flex-shrink-0",title:D.is_completed?"Mark as incomplete":"Mark as complete",children:D.is_completed?u.jsx(jj,{className:"w-5 h-5 text-primary-600"}):u.jsx(gu,{className:`w-5 h-5 ${Q?"text-red-600":"text-gray-400"}`})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:`text-sm ${D.is_completed?"line-through text-gray-400":Q?"text-red-600":""}`,children:D.content}),D.due_date&&u.jsxs("p",{className:`text-xs mt-0.5 ${Q&&!D.is_completed?"text-red-600 font-medium":"text-gray-500"}`,children:["Due: ",rn(new Date(D.due_date),"MMM d, yyyy"),Q&&!D.is_completed&&" (overdue)"]})]}),u.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[u.jsx("button",{onClick:()=>{H(D),k(!0)},className:"p-1 hover:bg-gray-100 rounded",title:"Edit todo",children:u.jsx(za,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),u.jsx("button",{onClick:()=>q(D.id),className:"p-1 hover:bg-red-50 rounded",title:"Delete todo",children:u.jsx(Ln,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},D.id)})}):u.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No todos yet."})]}),u.jsxs("div",{className:"card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h2",{className:"font-semibold",children:"Relationships"}),u.jsxs(fe,{to:`/people/${t}/relationship/new`,className:"btn-secondary text-sm",children:[u.jsx(Mt,{className:"w-4 h-4 md:mr-1"}),u.jsx("span",{className:"hidden md:inline",children:"Add relationship"})]})]}),(De==null?void 0:De.length)>0?u.jsx("div",{className:"space-y-2",children:De.map((D,Q)=>{var Oe,Le,Qe;const Y=((Le=(Oe=n==null?void 0:n.acf)==null?void 0:Oe.relationships)==null?void 0:Le.findIndex(ot=>ot.related_person===D.related_person&&ot.relationship_type===D.relationship_type))??Q;return u.jsxs("div",{className:"flex items-center p-2 rounded hover:bg-gray-50 group",children:[u.jsxs(fe,{to:`/people/${D.related_person}`,className:"flex items-center flex-1 min-w-0",children:[D.person_thumbnail?u.jsx("img",{src:D.person_thumbnail,alt:di(D.person_name)||"",className:"w-8 h-8 rounded-full object-cover mr-2"}):u.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full mr-2 flex items-center justify-center",children:u.jsx("span",{className:"text-xs font-medium text-gray-500",children:((Qe=di(D.person_name))==null?void 0:Qe[0])||"?"})}),u.jsxs("div",{children:[u.jsxs("p",{className:"text-sm font-medium",children:[di(D.person_name)||`Person #${D.related_person}`,we[D.related_person]&&u.jsx("span",{className:"text-gray-400 ml-1",title:"Deceased",children:""})]}),u.jsx("p",{className:"text-xs text-gray-500",children:di(D.relationship_name||D.relationship_label)})]})]}),u.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[u.jsx(fe,{to:`/people/${t}/relationship/${Y}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit relationship",children:u.jsx(za,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),u.jsx("button",{onClick:()=>ct(Y),className:"p-1 hover:bg-red-50 rounded",title:"Delete relationship",children:u.jsx(Ln,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},Q)})}):u.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No relationships yet."})]})]})]})]})}var ih=t=>t.type==="checkbox",Ya=t=>t instanceof Date,Zr=t=>t==null;const DK=t=>typeof t=="object";var Wt=t=>!Zr(t)&&!Array.isArray(t)&&DK(t)&&!Ya(t),MK=t=>Wt(t)&&t.target?ih(t.target)?t.target.checked:t.target.value:t,Tse=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,qK=(t,e)=>t.has(Tse(e)),Ise=t=>{const e=t.constructor&&t.constructor.prototype;return Wt(e)&&e.hasOwnProperty("isPrototypeOf")},hO=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Jt(t){if(t instanceof Date)return new Date(t);const e=typeof FileList<"u"&&t instanceof FileList;if(hO&&(t instanceof Blob||e))return t;const r=Array.isArray(t);if(!r&&!(Wt(t)&&Ise(t)))return t;const n=r?[]:Object.create(Object.getPrototypeOf(t));for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=Jt(t[i]));return n}var cm=t=>/^\w*$/.test(t),$t=t=>t===void 0,fO=t=>Array.isArray(t)?t.filter(Boolean):[],pO=t=>fO(t.replace(/["|']|\]/g,"").split(/\.|\[/)),he=(t,e,r)=>{if(!e||!Wt(t))return r;const n=(cm(e)?[e]:pO(e)).reduce((i,s)=>Zr(i)?i:i[s],t);return $t(n)||n===t?$t(t[e])?r:t[e]:n},wn=t=>typeof t=="boolean",zr=t=>typeof t=="function",dt=(t,e,r)=>{let n=-1;const i=cm(e)?[e]:pO(e),s=i.length,a=s-1;for(;++n<s;){const o=i[n];let l=r;if(n!==a){const c=t[o];l=Wt(c)||Array.isArray(c)?c:isNaN(+i[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=l,t=t[o]}};const _p={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ui={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Wi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},AK=Ie.createContext(null);AK.displayName="HookFormContext";const mO=()=>Ie.useContext(AK);var FK=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const a=s;return e._proxyFormState[a]!==ui.all&&(e._proxyFormState[a]=!n||ui.all),r&&(r[a]=!0),t[a]}});return i};const vO=typeof window<"u"?Ie.useLayoutEffect:Ie.useEffect;function Rse(t){const e=mO(),{control:r=e.control,disabled:n,name:i,exact:s}=t||{},[a,o]=Ie.useState(r._formState),l=Ie.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return vO(()=>r._subscribe({name:i,formState:l.current,exact:s,callback:c=>{!n&&o({...r._formState,...c})}}),[i,n,s]),Ie.useEffect(()=>{l.current.isValid&&r._setValid(!0)},[r]),Ie.useMemo(()=>FK(a,r,l.current,!1),[a,r])}var _n=t=>typeof t=="string",Tj=(t,e,r,n,i)=>_n(t)?(n&&e.watch.add(t),he(r,t,i)):Array.isArray(t)?t.map(s=>(n&&e.watch.add(s),he(r,s))):(n&&(e.watchAll=!0),r),Ij=t=>Zr(t)||!DK(t);function ci(t,e,r=new WeakSet){if(Ij(t)||Ij(e))return Object.is(t,e);if(Ya(t)&&Ya(e))return t.getTime()===e.getTime();const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const s of n){const a=t[s];if(!i.includes(s))return!1;if(s!=="ref"){const o=e[s];if(Ya(a)&&Ya(o)||Wt(a)&&Wt(o)||Array.isArray(a)&&Array.isArray(o)?!ci(a,o,r):!Object.is(a,o))return!1}}return!0}function $se(t){const e=mO(),{control:r=e.control,name:n,defaultValue:i,disabled:s,exact:a,compute:o}=t||{},l=Ie.useRef(i),c=Ie.useRef(o),d=Ie.useRef(void 0),h=Ie.useRef(r),f=Ie.useRef(n);c.current=o;const[p,v]=Ie.useState(()=>{const b=r._getWatch(n,l.current);return c.current?c.current(b):b}),y=Ie.useCallback(b=>{const _=Tj(n,r._names,b||r._formValues,!1,l.current);return c.current?c.current(_):_},[r._formValues,r._names,n]),x=Ie.useCallback(b=>{if(!s){const _=Tj(n,r._names,b||r._formValues,!1,l.current);if(c.current){const E=c.current(_);ci(E,d.current)||(v(E),d.current=E)}else v(_)}},[r._formValues,r._names,s,n]);vO(()=>((h.current!==r||!ci(f.current,n))&&(h.current=r,f.current=n,x()),r._subscribe({name:n,formState:{values:!0},exact:a,callback:b=>{x(b.values)}})),[r,a,n,x]),Ie.useEffect(()=>r._removeUnmounted());const g=h.current!==r,m=f.current,w=Ie.useMemo(()=>{if(s)return null;const b=!g&&!ci(m,n);return g||b?y():null},[s,g,n,m,y]);return w!==null?w:p}function kse(t){const e=mO(),{name:r,disabled:n,control:i=e.control,shouldUnregister:s,defaultValue:a,exact:o=!0}=t,l=qK(i._names.array,r),c=Ie.useMemo(()=>he(i._formValues,r,he(i._defaultValues,r,a)),[i,r,a]),d=$se({control:i,name:r,defaultValue:c,exact:o}),h=Rse({control:i,name:r,exact:o}),f=Ie.useRef(t),p=Ie.useRef(void 0),v=Ie.useRef(i.register(r,{...t.rules,value:d,...wn(t.disabled)?{disabled:t.disabled}:{}}));f.current=t;const y=Ie.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!he(h.errors,r)},isDirty:{enumerable:!0,get:()=>!!he(h.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!he(h.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!he(h.validatingFields,r)},error:{enumerable:!0,get:()=>he(h.errors,r)}}),[h,r]),x=Ie.useCallback(b=>v.current.onChange({target:{value:MK(b),name:r},type:_p.CHANGE}),[r]),g=Ie.useCallback(()=>v.current.onBlur({target:{value:he(i._formValues,r),name:r},type:_p.BLUR}),[r,i._formValues]),m=Ie.useCallback(b=>{const _=he(i._fields,r);_&&_._f&&b&&(_._f.ref={focus:()=>zr(b.focus)&&b.focus(),select:()=>zr(b.select)&&b.select(),setCustomValidity:E=>zr(b.setCustomValidity)&&b.setCustomValidity(E),reportValidity:()=>zr(b.reportValidity)&&b.reportValidity()})},[i._fields,r]),w=Ie.useMemo(()=>({name:r,value:d,...wn(n)||h.disabled?{disabled:h.disabled||n}:{},onChange:x,onBlur:g,ref:m}),[r,n,h.disabled,x,g,m,d]);return Ie.useEffect(()=>{const b=i._options.shouldUnregister||s,_=p.current;_&&_!==r&&!l&&i.unregister(_),i.register(r,{...f.current.rules,...wn(f.current.disabled)?{disabled:f.current.disabled}:{}});const E=(N,S)=>{const j=he(i._fields,N);j&&j._f&&(j._f.mount=S)};if(E(r,!0),b){const N=Jt(he(i._options.defaultValues,r,f.current.defaultValue));dt(i._defaultValues,r,N),$t(he(i._formValues,r))&&dt(i._formValues,r,N)}return!l&&i.register(r),p.current=r,()=>{(l?b&&!i._state.action:b)?i.unregister(r):E(r,!1)}},[r,i,l,s]),Ie.useEffect(()=>{i._setDisabledField({disabled:n,name:r})},[n,r,i]),Ie.useMemo(()=>({field:w,formState:h,fieldState:y}),[w,h,y])}const Sp=t=>t.render(kse(t));var Dse=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},Gc=t=>Array.isArray(t)?t:[t],QI=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}};function LK(t,e){const r={};for(const n in t)if(t.hasOwnProperty(n)){const i=t[n],s=e[n];if(i&&Wt(i)&&s){const a=LK(i,s);Wt(a)&&(r[n]=a)}else t[n]&&(r[n]=s)}return r}var qr=t=>Wt(t)&&!Object.keys(t).length,gO=t=>t.type==="file",Ep=t=>{if(!hO)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},BK=t=>t.type==="select-multiple",yO=t=>t.type==="radio",Mse=t=>yO(t)||ih(t),Tv=t=>Ep(t)&&t.isConnected;function qse(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=$t(t)?n++:t[e[n++]];return t}function Ase(t){for(const e in t)if(t.hasOwnProperty(e)&&!$t(t[e]))return!1;return!0}function zt(t,e){const r=Array.isArray(e)?e:cm(e)?[e]:pO(e),n=r.length===1?t:qse(t,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(Wt(n)&&qr(n)||Array.isArray(n)&&Ase(n))&&zt(t,r.slice(0,-1)),t}var Fse=t=>{for(const e in t)if(zr(t[e]))return!0;return!1};function zK(t){return Array.isArray(t)||Wt(t)&&!Fse(t)}function Rj(t,e={}){for(const r in t){const n=t[r];zK(n)?(e[r]=Array.isArray(n)?[]:{},Rj(n,e[r])):$t(n)||(e[r]=!0)}return e}function ml(t,e,r){r||(r=Rj(e));for(const n in t){const i=t[n];if(zK(i))$t(e)||Ij(r[n])?r[n]=Rj(i,Array.isArray(i)?[]:{}):ml(i,Zr(e)?{}:e[n],r[n]);else{const s=e[n];r[n]=!ci(i,s)}}return r}const XI={value:!1,isValid:!1},JI={value:!0,isValid:!0};var UK=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!$t(t[0].attributes.value)?$t(t[0].value)||t[0].value===""?JI:{value:t[0].value,isValid:!0}:JI:XI}return XI},WK=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>$t(t)?t:e?t===""?NaN:t&&+t:r&&_n(t)?new Date(t):n?n(t):t;const ZI={isValid:!1,value:null};var VK=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,ZI):ZI;function eR(t){const e=t.ref;return gO(e)?e.files:yO(e)?VK(t.refs).value:BK(e)?[...e.selectedOptions].map(({value:r})=>r):ih(e)?UK(t.refs).value:WK($t(e.value)?t.ref.value:e.value,t)}var Lse=(t,e,r,n)=>{const i={};for(const s of t){const a=he(e,s);a&&dt(i,s,a._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},Np=t=>t instanceof RegExp,Cc=t=>$t(t)?t:Np(t)?t.source:Wt(t)?Np(t.value)?t.value.source:t.value:t,tR=t=>({isOnSubmit:!t||t===ui.onSubmit,isOnBlur:t===ui.onBlur,isOnChange:t===ui.onChange,isOnAll:t===ui.all,isOnTouch:t===ui.onTouched});const rR="AsyncFunction";var Bse=t=>!!t&&!!t.validate&&!!(zr(t.validate)&&t.validate.constructor.name===rR||Wt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===rR)),zse=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),nR=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Yc=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const s=he(t,i);if(s){const{_f:a,...o}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!n)return!0;if(a.ref&&e(a.ref,a.name)&&!n)return!0;if(Yc(o,e))break}else if(Wt(o)&&Yc(o,e))break}}};function iR(t,e,r){const n=he(t,r);if(n||cm(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),a=he(e,s),o=he(t,s);if(a&&!Array.isArray(a)&&r!==s)return{name:r};if(o&&o.type)return{name:s,error:o};if(o&&o.root&&o.root.type)return{name:`${s}.root`,error:o.root};i.pop()}return{name:r}}var Use=(t,e,r,n)=>{r(t);const{name:i,...s}=t;return qr(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!n||ui.all))},Wse=(t,e,r)=>!t||!e||t===e||Gc(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),Vse=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,Hse=(t,e)=>!fO(he(t,e)).length&&zt(t,e),Kse=(t,e,r)=>{const n=Gc(he(t,r));return dt(n,"root",e[r]),dt(t,r,n),t};function sR(t,e,r="validate"){if(_n(t)||Array.isArray(t)&&t.every(_n)||wn(t)&&!t)return{type:r,message:_n(t)?t:"",ref:e}}var dl=t=>Wt(t)&&!Np(t)?t:{value:t,message:""},aR=async(t,e,r,n,i,s)=>{const{ref:a,refs:o,required:l,maxLength:c,minLength:d,min:h,max:f,pattern:p,validate:v,name:y,valueAsNumber:x,mount:g}=t._f,m=he(r,y);if(!g||e.has(y))return{};const w=o?o[0]:a,b=O=>{i&&w.reportValidity&&(w.setCustomValidity(wn(O)?"":O||""),w.reportValidity())},_={},E=yO(a),N=ih(a),S=E||N,j=(x||gO(a))&&$t(a.value)&&$t(m)||Ep(a)&&a.value===""||m===""||Array.isArray(m)&&!m.length,C=Dse.bind(null,y,n,_),P=(O,I,M,k=Wi.maxLength,K=Wi.minLength)=>{const H=O?I:M;_[y]={type:O?k:K,message:H,ref:a,...C(O?k:K,H)}};if(s?!Array.isArray(m)||!m.length:l&&(!S&&(j||Zr(m))||wn(m)&&!m||N&&!UK(o).isValid||E&&!VK(o).isValid)){const{value:O,message:I}=_n(l)?{value:!!l,message:l}:dl(l);if(O&&(_[y]={type:Wi.required,message:I,ref:w,...C(Wi.required,I)},!n))return b(I),_}if(!j&&(!Zr(h)||!Zr(f))){let O,I;const M=dl(f),k=dl(h);if(!Zr(m)&&!isNaN(m)){const K=a.valueAsNumber||m&&+m;Zr(M.value)||(O=K>M.value),Zr(k.value)||(I=K<k.value)}else{const K=a.valueAsDate||new Date(m),H=W=>new Date(new Date().toDateString()+" "+W),A=a.type=="time",G=a.type=="week";_n(M.value)&&m&&(O=A?H(m)>H(M.value):G?m>M.value:K>new Date(M.value)),_n(k.value)&&m&&(I=A?H(m)<H(k.value):G?m<k.value:K<new Date(k.value))}if((O||I)&&(P(!!O,M.message,k.message,Wi.max,Wi.min),!n))return b(_[y].message),_}if((c||d)&&!j&&(_n(m)||s&&Array.isArray(m))){const O=dl(c),I=dl(d),M=!Zr(O.value)&&m.length>+O.value,k=!Zr(I.value)&&m.length<+I.value;if((M||k)&&(P(M,O.message,I.message),!n))return b(_[y].message),_}if(p&&!j&&_n(m)){const{value:O,message:I}=dl(p);if(Np(O)&&!m.match(O)&&(_[y]={type:Wi.pattern,message:I,ref:a,...C(Wi.pattern,I)},!n))return b(I),_}if(v){if(zr(v)){const O=await v(m,r),I=sR(O,w);if(I&&(_[y]={...I,...C(Wi.validate,I.message)},!n))return b(I.message),_}else if(Wt(v)){let O={};for(const I in v){if(!qr(O)&&!n)break;const M=sR(await v[I](m,r),w,I);M&&(O={...M,...C(I,M.message)},b(M.message),n&&(_[y]=O))}if(!qr(O)&&(_[y]={ref:w,...O},!n))return _}}return b(!0),_};const Gse={mode:ui.onSubmit,reValidateMode:ui.onChange,shouldFocusError:!0};function Yse(t={}){let e={...Gse,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:zr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=Wt(e.defaultValues)||Wt(e.values)?Jt(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Jt(i),a={action:!1,mount:!1,watch:!1,keepIsValid:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={...d};let f={...h};const p={array:QI(),state:QI()},v=e.criteriaMode===ui.all,y=$=>q=>{clearTimeout(c),c=setTimeout($,q)},x=async $=>{if(!a.keepIsValid&&!e.disabled&&(h.isValid||f.isValid||$)){let q;e.resolver?(q=qr((await S()).errors),g()):q=await C(n,!0),q!==r.isValid&&p.state.next({isValid:q})}},g=($,q)=>{!e.disabled&&(h.isValidating||h.validatingFields||f.isValidating||f.validatingFields)&&(($||Array.from(o.mount)).forEach(B=>{B&&(q?dt(r.validatingFields,B,q):zt(r.validatingFields,B))}),p.state.next({validatingFields:r.validatingFields,isValidating:!qr(r.validatingFields)}))},m=($,q=[],B,ae,ne=!0,X=!0)=>{if(ae&&B&&!e.disabled){if(a.action=!0,X&&Array.isArray(he(n,$))){const V=B(he(n,$),ae.argA,ae.argB);ne&&dt(n,$,V)}if(X&&Array.isArray(he(r.errors,$))){const V=B(he(r.errors,$),ae.argA,ae.argB);ne&&dt(r.errors,$,V),Hse(r.errors,$)}if((h.touchedFields||f.touchedFields)&&X&&Array.isArray(he(r.touchedFields,$))){const V=B(he(r.touchedFields,$),ae.argA,ae.argB);ne&&dt(r.touchedFields,$,V)}(h.dirtyFields||f.dirtyFields)&&(r.dirtyFields=ml(i,s)),p.state.next({name:$,isDirty:O($,q),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else dt(s,$,q)},w=($,q)=>{dt(r.errors,$,q),p.state.next({errors:r.errors})},b=$=>{r.errors=$,p.state.next({errors:r.errors,isValid:!1})},_=($,q,B,ae)=>{const ne=he(n,$);if(ne){const X=he(s,$,$t(B)?he(i,$):B);$t(X)||ae&&ae.defaultChecked||q?dt(s,$,q?X:eR(ne._f)):k($,X),a.mount&&!a.action&&x()}},E=($,q,B,ae,ne)=>{let X=!1,V=!1;const ue={name:$};if(!e.disabled){if(!B||ae){(h.isDirty||f.isDirty)&&(V=r.isDirty,r.isDirty=ue.isDirty=O(),X=V!==ue.isDirty);const pe=ci(he(i,$),q);V=!!he(r.dirtyFields,$),pe?zt(r.dirtyFields,$):dt(r.dirtyFields,$,!0),ue.dirtyFields=r.dirtyFields,X=X||(h.dirtyFields||f.dirtyFields)&&V!==!pe}if(B){const pe=he(r.touchedFields,$);pe||(dt(r.touchedFields,$,B),ue.touchedFields=r.touchedFields,X=X||(h.touchedFields||f.touchedFields)&&pe!==B)}X&&ne&&p.state.next(ue)}return X?ue:{}},N=($,q,B,ae)=>{const ne=he(r.errors,$),X=(h.isValid||f.isValid)&&wn(q)&&r.isValid!==q;if(e.delayError&&B?(l=y(()=>w($,B)),l(e.delayError)):(clearTimeout(c),l=null,B?dt(r.errors,$,B):zt(r.errors,$)),(B?!ci(ne,B):ne)||!qr(ae)||X){const V={...ae,...X&&wn(q)?{isValid:q}:{},errors:r.errors,name:$};r={...r,...V},p.state.next(V)}},S=async $=>(g($,!0),await e.resolver(s,e.context,Lse($||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation))),j=async $=>{const{errors:q}=await S($);if(g($),$)for(const B of $){const ae=he(q,B);ae?dt(r.errors,B,ae):zt(r.errors,B)}else r.errors=q;return q},C=async($,q,B={valid:!0})=>{for(const ae in $){const ne=$[ae];if(ne){const{_f:X,...V}=ne;if(X){const ue=o.array.has(X.name),pe=ne._f&&Bse(ne._f);pe&&h.validatingFields&&g([X.name],!0);const Ue=await aR(ne,o.disabled,s,v,e.shouldUseNativeValidation&&!q,ue);if(pe&&h.validatingFields&&g([X.name]),Ue[X.name]&&(B.valid=!1,q))break;!q&&(he(Ue,X.name)?ue?Kse(r.errors,Ue,X.name):dt(r.errors,X.name,Ue[X.name]):zt(r.errors,X.name))}!qr(V)&&await C(V,q,B)}}return B.valid},P=()=>{for(const $ of o.unMount){const q=he(n,$);q&&(q._f.refs?q._f.refs.every(B=>!Tv(B)):!Tv(q._f.ref))&&ke($)}o.unMount=new Set},O=($,q)=>!e.disabled&&($&&q&&dt(s,$,q),!ci(z(),i)),I=($,q,B)=>Tj($,o,{...a.mount?s:$t(q)?i:_n($)?{[$]:q}:q},B,q),M=$=>fO(he(a.mount?s:i,$,e.shouldUnregister?he(i,$,[]):[])),k=($,q,B={})=>{const ae=he(n,$);let ne=q;if(ae){const X=ae._f;X&&(!X.disabled&&dt(s,$,WK(q,X)),ne=Ep(X.ref)&&Zr(q)?"":q,BK(X.ref)?[...X.ref.options].forEach(V=>V.selected=ne.includes(V.value)):X.refs?ih(X.ref)?X.refs.forEach(V=>{(!V.defaultChecked||!V.disabled)&&(Array.isArray(ne)?V.checked=!!ne.find(ue=>ue===V.value):V.checked=ne===V.value||!!ne)}):X.refs.forEach(V=>V.checked=V.value===ne):gO(X.ref)?X.ref.value="":(X.ref.value=ne,X.ref.type||p.state.next({name:$,values:Jt(s)})))}(B.shouldDirty||B.shouldTouch)&&E($,ne,B.shouldTouch,B.shouldDirty,!0),B.shouldValidate&&W($)},K=($,q,B)=>{for(const ae in q){if(!q.hasOwnProperty(ae))return;const ne=q[ae],X=$+"."+ae,V=he(n,X);(o.array.has($)||Wt(ne)||V&&!V._f)&&!Ya(ne)?K(X,ne,B):k(X,ne,B)}},H=($,q,B={})=>{const ae=he(n,$),ne=o.array.has($),X=Jt(q);dt(s,$,X),ne?(p.array.next({name:$,values:Jt(s)}),(h.isDirty||h.dirtyFields||f.isDirty||f.dirtyFields)&&B.shouldDirty&&p.state.next({name:$,dirtyFields:ml(i,s),isDirty:O($,X)})):ae&&!ae._f&&!Zr(X)?K($,X,B):k($,X,B),nR($,o)&&p.state.next({...r,name:$}),p.state.next({name:a.mount?$:void 0,values:Jt(s)})},A=async $=>{a.mount=!0;const q=$.target;let B=q.name,ae=!0;const ne=he(n,B),X=pe=>{ae=Number.isNaN(pe)||Ya(pe)&&isNaN(pe.getTime())||ci(pe,he(s,B,pe))},V=tR(e.mode),ue=tR(e.reValidateMode);if(ne){let pe,Ue;const ge=q.type?eR(ne._f):MK($),J=$.type===_p.BLUR||$.type===_p.FOCUS_OUT,ce=!zse(ne._f)&&!e.resolver&&!he(r.errors,B)&&!ne._f.deps||Vse(J,he(r.touchedFields,B),r.isSubmitted,ue,V),le=nR(B,o,J);dt(s,B,ge),J?(!q||!q.readOnly)&&(ne._f.onBlur&&ne._f.onBlur($),l&&l(0)):ne._f.onChange&&ne._f.onChange($);const we=E(B,ge,J),De=!qr(we)||le;if(!J&&p.state.next({name:B,type:$.type,values:Jt(s)}),ce)return(h.isValid||f.isValid)&&(e.mode==="onBlur"?J&&x():J||x()),De&&p.state.next({name:B,...le?{}:we});if(!J&&le&&p.state.next({...r}),e.resolver){const{errors:Qr}=await S([B]);if(g([B]),X(ge),ae){const Rn=iR(r.errors,n,B),dc=iR(Qr,n,Rn.name||B);pe=dc.error,B=dc.name,Ue=qr(Qr)}}else g([B],!0),pe=(await aR(ne,o.disabled,s,v,e.shouldUseNativeValidation))[B],g([B]),X(ge),ae&&(pe?Ue=!1:(h.isValid||f.isValid)&&(Ue=await C(n,!0)));ae&&(ne._f.deps&&(!Array.isArray(ne._f.deps)||ne._f.deps.length>0)&&W(ne._f.deps),N(B,Ue,pe,we))}},G=($,q)=>{if(he(r.errors,q)&&$.focus)return $.focus(),1},W=async($,q={})=>{let B,ae;const ne=Gc($);if(e.resolver){const X=await j($t($)?$:ne);B=qr(X),ae=$?!ne.some(V=>he(X,V)):B}else $?(ae=(await Promise.all(ne.map(async X=>{const V=he(n,X);return await C(V&&V._f?{[X]:V}:V)}))).every(Boolean),!(!ae&&!r.isValid)&&x()):ae=B=await C(n);return p.state.next({...!_n($)||(h.isValid||f.isValid)&&B!==r.isValid?{}:{name:$},...e.resolver||!$?{isValid:B}:{},errors:r.errors}),q.shouldFocus&&!ae&&Yc(n,G,$?ne:o.mount),ae},z=($,q)=>{let B={...a.mount?s:i};return q&&(B=LK(q.dirtyFields?r.dirtyFields:r.touchedFields,B)),$t($)?B:_n($)?he(B,$):$.map(ae=>he(B,ae))},F=($,q)=>({invalid:!!he((q||r).errors,$),isDirty:!!he((q||r).dirtyFields,$),error:he((q||r).errors,$),isValidating:!!he(r.validatingFields,$),isTouched:!!he((q||r).touchedFields,$)}),ee=$=>{$&&Gc($).forEach(q=>zt(r.errors,q)),p.state.next({errors:$?r.errors:{}})},oe=($,q,B)=>{const ae=(he(n,$,{_f:{}})._f||{}).ref,ne=he(r.errors,$)||{},{ref:X,message:V,type:ue,...pe}=ne;dt(r.errors,$,{...pe,...q,ref:ae}),p.state.next({name:$,errors:r.errors,isValid:!1}),B&&B.shouldFocus&&ae&&ae.focus&&ae.focus()},Ne=($,q)=>zr($)?p.state.subscribe({next:B=>"values"in B&&$(I(void 0,q),B)}):I($,q,!0),ye=$=>p.state.subscribe({next:q=>{Wse($.name,q.name,$.exact)&&Use(q,$.formState||h,Bt,$.reRenderRoot)&&$.callback({values:{...s},...r,...q,defaultValues:i})}}).unsubscribe,Ee=$=>(a.mount=!0,f={...f,...$.formState},ye({...$,formState:{...d,...$.formState}})),ke=($,q={})=>{for(const B of $?Gc($):o.mount)o.mount.delete(B),o.array.delete(B),q.keepValue||(zt(n,B),zt(s,B)),!q.keepError&&zt(r.errors,B),!q.keepDirty&&zt(r.dirtyFields,B),!q.keepTouched&&zt(r.touchedFields,B),!q.keepIsValidating&&zt(r.validatingFields,B),!e.shouldUnregister&&!q.keepDefaultValue&&zt(i,B);p.state.next({values:Jt(s)}),p.state.next({...r,...q.keepDirty?{isDirty:O()}:{}}),!q.keepIsValid&&x()},st=({disabled:$,name:q})=>{(wn($)&&a.mount||$||o.disabled.has(q))&&($?o.disabled.add(q):o.disabled.delete(q))},nr=($,q={})=>{let B=he(n,$);const ae=wn(q.disabled)||wn(e.disabled);return dt(n,$,{...B||{},_f:{...B&&B._f?B._f:{ref:{name:$}},name:$,mount:!0,...q}}),o.mount.add($),B?st({disabled:wn(q.disabled)?q.disabled:e.disabled,name:$}):_($,!0,q.value),{...ae?{disabled:q.disabled||e.disabled}:{},...e.progressive?{required:!!q.required,min:Cc(q.min),max:Cc(q.max),minLength:Cc(q.minLength),maxLength:Cc(q.maxLength),pattern:Cc(q.pattern)}:{},name:$,onChange:A,onBlur:A,ref:ne=>{if(ne){nr($,q),B=he(n,$);const X=$t(ne.value)&&ne.querySelectorAll&&ne.querySelectorAll("input,select,textarea")[0]||ne,V=Mse(X),ue=B._f.refs||[];if(V?ue.find(pe=>pe===X):X===B._f.ref)return;dt(n,$,{_f:{...B._f,...V?{refs:[...ue.filter(Tv),X,...Array.isArray(he(i,$))?[{}]:[]],ref:{type:X.type,name:$}}:{ref:X}}}),_($,!1,void 0,X)}else B=he(n,$,{}),B._f&&(B._f.mount=!1),(e.shouldUnregister||q.shouldUnregister)&&!(qK(o.array,$)&&a.action)&&o.unMount.add($)}}},bt=()=>e.shouldFocusError&&Yc(n,G,o.mount),pr=$=>{wn($)&&(p.state.next({disabled:$}),Yc(n,(q,B)=>{const ae=he(n,B);ae&&(q.disabled=ae._f.disabled||$,Array.isArray(ae._f.refs)&&ae._f.refs.forEach(ne=>{ne.disabled=ae._f.disabled||$}))},0,!1))},ct=($,q)=>async B=>{let ae;B&&(B.preventDefault&&B.preventDefault(),B.persist&&B.persist());let ne=Jt(s);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:X,values:V}=await S();g(),r.errors=X,ne=Jt(V)}else await C(n);if(o.disabled.size)for(const X of o.disabled)zt(ne,X);if(zt(r.errors,"root"),qr(r.errors)){p.state.next({errors:{}});try{await $(ne,B)}catch(X){ae=X}}else q&&await q({...r.errors},B),bt(),setTimeout(bt);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:qr(r.errors)&&!ae,submitCount:r.submitCount+1,errors:r.errors}),ae)throw ae},Ir=($,q={})=>{he(n,$)&&($t(q.defaultValue)?H($,Jt(he(i,$))):(H($,q.defaultValue),dt(i,$,Jt(q.defaultValue))),q.keepTouched||zt(r.touchedFields,$),q.keepDirty||(zt(r.dirtyFields,$),r.isDirty=q.defaultValue?O($,Jt(he(i,$))):O()),q.keepError||(zt(r.errors,$),h.isValid&&x()),p.state.next({...r}))},Rr=($,q={})=>{const B=$?Jt($):i,ae=Jt(B),ne=qr($),X=ne?i:ae;if(q.keepDefaultValues||(i=B),!q.keepValues){if(q.keepDirtyValues){const V=new Set([...o.mount,...Object.keys(ml(i,s))]);for(const ue of Array.from(V))he(r.dirtyFields,ue)?dt(X,ue,he(s,ue)):H(ue,he(X,ue))}else{if(hO&&$t($))for(const V of o.mount){const ue=he(n,V);if(ue&&ue._f){const pe=Array.isArray(ue._f.refs)?ue._f.refs[0]:ue._f.ref;if(Ep(pe)){const Ue=pe.closest("form");if(Ue){Ue.reset();break}}}}if(q.keepFieldsRef)for(const V of o.mount)H(V,he(X,V));else n={}}s=e.shouldUnregister?q.keepDefaultValues?Jt(i):{}:Jt(X),p.array.next({values:{...X}}),p.state.next({values:{...X}})}o={mount:q.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!h.isValid||!!q.keepIsValid||!!q.keepDirtyValues||!e.shouldUnregister&&!qr(X),a.watch=!!e.shouldUnregister,a.keepIsValid=!!q.keepIsValid,a.action=!1,q.keepErrors||(r.errors={}),p.state.next({submitCount:q.keepSubmitCount?r.submitCount:0,isDirty:ne?!1:q.keepDirty?r.isDirty:!!(q.keepDefaultValues&&!ci($,i)),isSubmitted:q.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ne?{}:q.keepDirtyValues?q.keepDefaultValues&&s?ml(i,s):r.dirtyFields:q.keepDefaultValues&&$?ml(i,$):q.keepDirty?r.dirtyFields:{},touchedFields:q.keepTouched?r.touchedFields:{},errors:q.keepErrors?r.errors:{},isSubmitSuccessful:q.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},Sr=($,q)=>Rr(zr($)?$(s):$,{...e.resetOptions,...q}),at=($,q={})=>{const B=he(n,$),ae=B&&B._f;if(ae){const ne=ae.refs?ae.refs[0]:ae.ref;ne.focus&&setTimeout(()=>{ne.focus(),q.shouldSelect&&zr(ne.select)&&ne.select()})}},Bt=$=>{r={...r,...$}},kr={control:{register:nr,unregister:ke,getFieldState:F,handleSubmit:ct,setError:oe,_subscribe:ye,_runSchema:S,_updateIsValidating:g,_focusError:bt,_getWatch:I,_getDirty:O,_setValid:x,_setFieldArray:m,_setDisabledField:st,_setErrors:b,_getFieldArray:M,_reset:Rr,_resetDefaultValues:()=>zr(e.defaultValues)&&e.defaultValues().then($=>{Sr($,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:P,_disableForm:pr,_subjects:p,_proxyFormState:h,get _fields(){return n},get _formValues(){return s},get _state(){return a},set _state($){a=$},get _defaultValues(){return i},get _names(){return o},set _names($){o=$},get _formState(){return r},get _options(){return e},set _options($){e={...e,...$}}},subscribe:Ee,trigger:W,register:nr,handleSubmit:ct,watch:Ne,setValue:H,getValues:z,reset:Sr,resetField:Ir,clearErrors:ee,unregister:ke,setError:oe,setFocus:at,getFieldState:F};return{...kr,formControl:kr}}function qu(t={}){const e=Ie.useRef(void 0),r=Ie.useRef(void 0),[n,i]=Ie.useState({isDirty:!1,isValidating:!1,isLoading:zr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:zr(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!zr(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...o}=Yse(t);e.current={...o,formState:n}}const s=e.current.control;return s._options=t,vO(()=>{const a=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(o=>({...o,isReady:!0})),s._formState.isReady=!0,a},[s]),Ie.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),Ie.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),Ie.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),Ie.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),Ie.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==n.isDirty&&s._subjects.state.next({isDirty:a})}},[s,n.isDirty]),Ie.useEffect(()=>{var a;t.values&&!ci(t.values,r.current)?(s._reset(t.values,{keepFieldsRef:!0,...s._options.resetOptions}),!((a=s._options.resetOptions)===null||a===void 0)&&a.keepIsValid||s._setValid(),r.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[s,t.values]),Ie.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=FK(n,s),e.current}function oR(){var M;const{id:t}=Ss(),e=Gr(),[r]=GC(),n=!!t,i=r.get("returnTo"),s=r.get("sourcePersonId"),{data:a,isLoading:o}=Mu(t),l=ine(),c=th(),{data:d=[]}=Ze({queryKey:["date-types"],queryFn:async()=>(await Ae.getDateTypes()).data}),h=d.find(k=>k.slug==="birthday"||k.name.toLowerCase()==="birthday"),[f,p]=T.useState(!1),[v,y]=T.useState(null),[x,g]=T.useState(null),m=Ke({mutationFn:async k=>{const K=new FormData;return K.append("file",k),(await de.post("/prm/v1/import/vcard/parse",K,{headers:{"Content-Type":"multipart/form-data"}})).data}}),{register:w,handleSubmit:b,reset:_,formState:{errors:E,isSubmitting:N}}=qu({defaultValues:{first_name:"",last_name:"",nickname:"",gender:"",email:"",how_we_met:"",is_favorite:!1,birthday:""}});T.useEffect(()=>{var k,K,H,A,G,W,z,F;if(a){const ee=(K=(k=a.acf)==null?void 0:k.contact_info)==null?void 0:K.find(Ne=>Ne.contact_type==="email"),oe=(ee==null?void 0:ee.contact_value)||"";_({first_name:((H=a.acf)==null?void 0:H.first_name)||"",last_name:((A=a.acf)==null?void 0:A.last_name)||"",nickname:((G=a.acf)==null?void 0:G.nickname)||"",gender:((W=a.acf)==null?void 0:W.gender)||"",email:oe,how_we_met:((z=a.acf)==null?void 0:z.how_we_met)||"",is_favorite:((F=a.acf)==null?void 0:F.is_favorite)||!1,birthday:""})}},[a,_]),mn(n&&a?`Edit ${((M=a.title)==null?void 0:M.rendered)||a.title||"person"}`:"New person");const S=T.useCallback(k=>{k.preventDefault(),k.stopPropagation(),k.type==="dragenter"||k.type==="dragover"?p(!0):k.type==="dragleave"&&p(!1)},[]),j=T.useCallback(k=>{k.preventDefault(),k.stopPropagation(),p(!1),g(null),k.dataTransfer.files&&k.dataTransfer.files[0]&&C(k.dataTransfer.files[0])},[]),C=k=>{const K=k.name.split(".").pop().toLowerCase();if(K!=="vcf"&&K!=="vcard"){g("Please select a vCard file (.vcf)");return}y(k),m.mutate(k,{onSuccess:H=>{_({first_name:H.first_name||"",last_name:H.last_name||"",nickname:H.nickname||"",gender:"",email:H.email||"",how_we_met:H.note||"",is_favorite:!1,birthday:H.birthday||""}),H.contact_count>1&&g(`Note: File contains ${H.contact_count} contacts. Only the first contact was loaded.`)},onError:H=>{var A,G;g(((G=(A=H.response)==null?void 0:A.data)==null?void 0:G.message)||"Failed to parse vCard file"),y(null)}})},P=k=>{g(null),k.target.files&&k.target.files[0]&&C(k.target.files[0])},O=()=>{y(null),g(null),m.reset()},I=async k=>{try{const H=`${k.first_name||""} ${k.last_name||""}`.trim()||"Unnamed Person",A={title:H,status:"publish",acf:{first_name:k.first_name,last_name:k.last_name,nickname:k.nickname,gender:k.gender||null,how_we_met:k.how_we_met,is_favorite:k.is_favorite}};if(!n&&k.email&&(A.acf.contact_info=[{contact_type:"email",contact_value:k.email,contact_label:""}]),n)A.title=H,await c.mutateAsync({id:t,data:A}),e(`/people/${t}`);else{const W=(await l.mutateAsync(A)).data.id;if(k.email)try{await $e.sideloadGravatar(W,k.email)}catch(z){console.error("Failed to load Gravatar:",z)}if(k.birthday&&h)try{const z=k.first_name||"Person";await Ae.createDate({title:`${z}'s Birthday`,status:"publish",date_type:[h.id],acf:{date_value:k.birthday,is_recurring:!0,related_people:[W],reminder_days_before:7}})}catch(z){console.error("Failed to create birthday:",z)}e(i==="relationship"&&s?`/people/${s}/relationship/new?newPersonId=${W}`:`/people/${W}`)}}catch(K){console.error("Failed to save person:",K)}};return n&&o?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:i==="relationship"&&s?u.jsxs(fe,{to:`/people/${s}/relationship/new`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(jn,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Back to add relationship"})]}):u.jsxs(fe,{to:"/people",className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(jn,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Back to people"})]})}),u.jsxs("div",{className:"card p-6",children:[u.jsx("h1",{className:"text-xl font-bold mb-6",children:n?"Edit person":"Add new person"}),!n&&u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-4 text-center transition-colors ${f?"border-primary-500 bg-primary-50":v&&!x?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:S,onDragLeave:S,onDragOver:S,onDrop:j,children:[u.jsx("input",{type:"file",accept:".vcf,.vcard",onChange:P,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),m.isPending?u.jsxs("div",{className:"flex items-center justify-center gap-2 py-2",children:[u.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-primary-600"}),u.jsx("span",{className:"text-sm text-gray-600",children:"Parsing vCard..."})]}):v&&!x?u.jsxs("div",{className:"flex items-center justify-center gap-2 py-2",children:[u.jsx(eh,{className:"h-5 w-5 text-green-600"}),u.jsxs("span",{className:"text-sm text-green-700",children:["Loaded from ",v.name]}),u.jsx("button",{type:"button",onClick:k=>{k.preventDefault(),k.stopPropagation(),O()},className:"ml-2 p-1 hover:bg-green-100 rounded",children:u.jsx(hn,{className:"h-4 w-4 text-green-600"})})]}):u.jsxs("div",{className:"flex items-center justify-center gap-2 py-2",children:[u.jsx(Po,{className:"h-5 w-5 text-gray-400"}),u.jsxs("span",{className:"text-sm text-gray-600",children:["Drop a vCard file here to import, or ",u.jsx("span",{className:"text-primary-600",children:"browse"})]})]})]}),x&&u.jsxs("div",{className:"mt-2 flex items-start gap-2 text-sm text-amber-700 bg-amber-50 rounded-lg p-2",children:[u.jsx(gs,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),u.jsx("span",{children:x})]})]}),u.jsxs("form",{onSubmit:b(I),className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"First name *"}),u.jsx("input",{...w("first_name",{required:"First name is required"}),className:"input",placeholder:"John"}),E.first_name&&u.jsx("p",{className:"text-sm text-red-600 mt-1",children:E.first_name.message})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Last name"}),u.jsx("input",{...w("last_name"),className:"input",placeholder:"Doe"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Nickname"}),u.jsx("input",{...w("nickname"),className:"input",placeholder:"Johnny"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Gender"}),u.jsxs("select",{...w("gender"),className:"input",children:[u.jsx("option",{value:"",children:"Select gender..."}),u.jsx("option",{value:"male",children:"Male"}),u.jsx("option",{value:"female",children:"Female"}),u.jsx("option",{value:"non_binary",children:"Non-binary"}),u.jsx("option",{value:"other",children:"Other"}),u.jsx("option",{value:"prefer_not_to_say",children:"Prefer not to say"})]})]}),!n&&u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Email"}),u.jsx("input",{type:"email",...w("email"),className:"input",placeholder:"john@example.com"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: If a Gravatar is associated with this email, it will be automatically set as the profile photo"})]}),!n&&u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Birthday"}),u.jsx("input",{type:"date",...w("birthday"),className:"input"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Set their birthday when creating a new person"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"How we met"}),u.jsx("textarea",{...w("how_we_met"),className:"input",rows:4,placeholder:"We met at..."})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",...w("is_favorite"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),u.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Mark as favorite"})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[i==="relationship"&&s?u.jsx(fe,{to:`/people/${s}/relationship/new`,className:"btn-secondary",children:"Cancel"}):u.jsx(fe,{to:"/people",className:"btn-secondary",children:"Cancel"}),u.jsxs("button",{type:"submit",className:"btn-primary",disabled:N,children:[N?u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):u.jsx(xa,{className:"w-4 h-4 mr-2"}),n?"Save changes":"Create person"]})]})]})]})]})}function Qse({value:t,onChange:e,companies:r,isLoading:n}){return u.jsxs("select",{value:t||"",onChange:i=>e(i.target.value?parseInt(i.target.value,10):null),className:"input",disabled:n,children:[u.jsx("option",{value:"",children:"Select an organization..."}),r.map(i=>{var s;return u.jsx("option",{value:i.id,children:((s=i.title)==null?void 0:s.rendered)||i.title},i.id)})]})}function lR(){var m,w;const{personId:t,index:e}=Ss(),r=Gr();rt();const n=parseInt(e,10),i=!isNaN(n),{data:s,isLoading:a}=Mu(t),o=th(),{data:l=[],isLoading:c}=Ze({queryKey:["companies","all"],queryFn:async()=>(await Ae.getCompanies({per_page:100,orderby:"title",order:"asc"})).data}),{register:d,handleSubmit:h,reset:f,watch:p,control:v,formState:{errors:y,isSubmitting:x}}=qu({defaultValues:{company:null,job_title:"",description:"",start_date:"",end_date:"",is_current:!1}});T.useEffect(()=>{var b;if(s&&i){const E=(((b=s.acf)==null?void 0:b.work_history)||[])[n];E&&f({company:E.company||null,job_title:E.job_title||"",description:E.description||"",start_date:E.start_date||"",end_date:E.end_date||"",is_current:E.is_current||!1})}},[s,n,i,f]),mn(i?`Edit work history - ${((m=s==null?void 0:s.title)==null?void 0:m.rendered)||(s==null?void 0:s.title)||"person"}`:`Add work history - ${((w=s==null?void 0:s.title)==null?void 0:w.rendered)||(s==null?void 0:s.title)||"person"}`);const g=async b=>{var _;try{const E=[...((_=s.acf)==null?void 0:_.work_history)||[]],N={company:b.company||null,job_title:b.job_title||"",description:b.description||"",start_date:b.start_date||"",end_date:b.end_date||"",is_current:b.is_current||!1};i?E[n]=N:E.push(N);const S=Ga(s.acf,{work_history:E});await o.mutateAsync({id:t,data:{acf:S}}),r(`/people/${t}`)}catch(E){console.error("Failed to save work history:",E)}};return p("is_current"),a?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):s?u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs(fe,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(jn,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Back to person"})]})}),u.jsxs("div",{className:"card p-6",children:[u.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit work history":"Add work history"}),u.jsxs("form",{onSubmit:h(g),className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Organization"}),u.jsx(Sp,{name:"company",control:v,render:({field:b})=>u.jsx(Qse,{value:b.value,onChange:b.onChange,companies:l,isLoading:c})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Job title"}),u.jsx("input",{...d("job_title"),className:"input",placeholder:"e.g., Software Engineer"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Description"}),u.jsx("textarea",{...d("description"),className:"input",rows:4,placeholder:"Job description, responsibilities, achievements..."})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Start date"}),u.jsx("input",{type:"date",...d("start_date"),className:"input"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"End date"}),u.jsx("input",{type:"date",...d("end_date"),className:"input"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Set a future end date to automatically mark as former when it passes"})]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",...d("is_current"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),u.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Currently works here"})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[u.jsx(fe,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),u.jsxs("button",{type:"submit",className:"btn-primary",disabled:x,children:[x?u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):u.jsx(xa,{className:"w-4 h-4 mr-2"}),i?"Save changes":"Add work history"]})]})]})]})]}):u.jsxs("div",{className:"card p-6 text-center",children:[u.jsx("p",{className:"text-red-600",children:"Failed to load person."}),u.jsx(fe,{to:"/people",className:"btn-secondary mt-4",children:"Back to people"})]})}const Xse=[{value:"email",label:"Email"},{value:"phone",label:"Phone"},{value:"mobile",label:"Mobile"},{value:"address",label:"Address"},{value:"website",label:"Website"},{value:"linkedin",label:"LinkedIn"},{value:"twitter",label:"Twitter"},{value:"bluesky",label:"Bluesky"},{value:"threads",label:"Threads"},{value:"instagram",label:"Instagram"},{value:"facebook",label:"Facebook"},{value:"other",label:"Other"}];function uR(){var y,x;const{personId:t,index:e}=Ss(),r=Gr(),n=rt(),i=parseInt(e,10),s=!isNaN(i),{data:a,isLoading:o}=Mu(t),l=th(),{register:c,handleSubmit:d,reset:h,formState:{errors:f,isSubmitting:p}}=qu({defaultValues:{contact_type:"",contact_label:"",contact_value:""}});T.useEffect(()=>{var g;if(a&&s){const w=(((g=a.acf)==null?void 0:g.contact_info)||[])[i];w&&h({contact_type:w.contact_type||"",contact_label:w.contact_label||"",contact_value:w.contact_value||""})}},[a,i,s,h]),mn(s?`Edit contact detail - ${((y=a==null?void 0:a.title)==null?void 0:y.rendered)||(a==null?void 0:a.title)||"person"}`:`Add contact detail - ${((x=a==null?void 0:a.title)==null?void 0:x.rendered)||(a==null?void 0:a.title)||"person"}`);const v=async g=>{var m,w,b,_;try{const E=[...((m=a.acf)==null?void 0:m.contact_info)||[]],N={contact_type:g.contact_type||"",contact_label:g.contact_label||"",contact_value:g.contact_value||""};s?E[i]=N:E.push(N);const S=Ga(a.acf,{contact_info:E});if(await l.mutateAsync({id:t,data:{acf:S}}),!s&&g.contact_type==="email"&&g.contact_value&&!(a.featured_media>0||((_=(b=(w=a._embedded)==null?void 0:w["wp:featuredmedia"])==null?void 0:b[0])==null?void 0:_.source_url)||a.thumbnail))try{await $e.sideloadGravatar(t,g.contact_value),n.invalidateQueries({queryKey:["person",t]})}catch(C){console.log("No Gravatar found or failed to load:",C)}r(`/people/${t}`)}catch(E){console.error("Failed to save contact detail:",E)}};return o?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):a?u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs(fe,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(jn,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Back to person"})]})}),u.jsxs("div",{className:"card p-6",children:[u.jsx("h1",{className:"text-xl font-bold mb-6",children:s?"Edit contact detail":"Add contact detail"}),u.jsxs("form",{onSubmit:d(v),className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Contact type *"}),u.jsxs("select",{...c("contact_type",{required:"Please select a contact type"}),className:"input",children:[u.jsx("option",{value:"",children:"Select a type..."}),Xse.map(g=>u.jsx("option",{value:g.value,children:g.label},g.value))]}),f.contact_type&&u.jsx("p",{className:"text-sm text-red-600 mt-1",children:f.contact_type.message})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Label"}),u.jsx("input",{...c("contact_label"),className:"input",placeholder:"e.g., Work, Personal, Home"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Add a label to distinguish multiple entries of the same type"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Value *"}),u.jsx("input",{...c("contact_value",{required:"Please enter a contact value"}),className:"input",placeholder:"e.g., john@example.com, +1 234 567 8900"}),f.contact_value&&u.jsx("p",{className:"text-sm text-red-600 mt-1",children:f.contact_value.message})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[u.jsx(fe,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),u.jsxs("button",{type:"submit",className:"btn-primary",disabled:p,children:[p?u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):u.jsx(xa,{className:"w-4 h-4 mr-2"}),s?"Save changes":"Add contact detail"]})]})]})]})]}):u.jsxs("div",{className:"card p-6 text-center",children:[u.jsx("p",{className:"text-red-600",children:"Failed to load person."}),u.jsx(fe,{to:"/people",className:"btn-secondary mt-4",children:"Back to people"})]})}function Jse({value:t,onChange:e,people:r,isLoading:n,excludePersonId:i}){const[s,a]=T.useState(""),[o,l]=T.useState(!1),c=T.useRef(null),d=T.useRef(null),h=T.useMemo(()=>r.filter(m=>m.id!==i).sort((m,w)=>{var E,N;const b=(m.first_name||((E=m.acf)==null?void 0:E.first_name)||"").toLowerCase(),_=(w.first_name||((N=w.acf)==null?void 0:N.first_name)||"").toLowerCase();return b<_?-1:b>_?1:0}),[r,i]),f=T.useMemo(()=>{if(!s)return h.slice(0,10);const g=s.toLowerCase();return h.filter(m=>{var E,N;const w=fo(m).toLowerCase(),b=(m.first_name||((E=m.acf)==null?void 0:E.first_name)||"").toLowerCase(),_=(m.last_name||((N=m.acf)==null?void 0:N.last_name)||"").toLowerCase();return w.includes(g)||b.includes(g)||_.includes(g)}).slice(0,10)},[h,s]),p=T.useMemo(()=>h.find(g=>g.id===t),[h,t]);T.useEffect(()=>{const g=m=>{d.current&&!d.current.contains(m.target)&&c.current&&!c.current.contains(m.target)&&l(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const v=g=>{e(g),a(""),l(!1)},y=()=>{e(null),a(""),l(!1)},x=p?fo(p):"";return u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"relative",children:p&&!o?u.jsxs("div",{className:"flex items-center justify-between input pr-8 cursor-text",onClick:()=>l(!0),children:[u.jsx("span",{children:x}),u.jsx("button",{type:"button",onClick:g=>{g.stopPropagation(),y()},className:"absolute right-2 text-gray-400 hover:text-gray-600",children:u.jsx(hn,{className:"w-4 h-4"})})]}):u.jsx("input",{ref:c,type:"text",value:s,onChange:g=>{a(g.target.value),l(!0)},onFocus:()=>l(!0),placeholder:"Search for a person...",className:"input",disabled:n})}),o&&(s||!p)&&u.jsx("div",{ref:d,className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:f.length>0?f.map(g=>u.jsx("button",{type:"button",onClick:()=>v(g.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t===g.id?"bg-primary-50":""}`,children:fo(g)},g.id)):u.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No people found"})})]})}function cR(){var E,N;const{personId:t,index:e}=Ss(),r=Gr(),[n]=GC(),i=rt(),s=parseInt(e,10),a=!isNaN(s),{data:o,isLoading:l}=Mu(t),c=th(),{data:d=[],isLoading:h}=zo(),{data:f=[],isLoading:p}=Ze({queryKey:["relationship-types"],queryFn:async()=>(await Ae.getRelationshipTypes()).data}),{register:v,handleSubmit:y,reset:x,control:g,setValue:m,formState:{errors:w,isSubmitting:b}}=qu({defaultValues:{related_person:null,relationship_type:"",relationship_label:""}});T.useEffect(()=>{const S=n.get("newPersonId");if(S&&!a&&!h){const j=parseInt(S,10);if(!isNaN(j))if(d.some(P=>P.id===j)){m("related_person",j);const P=new URLSearchParams(n);P.delete("newPersonId"),r({search:P.toString()},{replace:!0})}else(async()=>{try{await i.invalidateQueries({queryKey:["people"]});const{data:O=[]}=await i.refetchQueries({queryKey:["people"]});O.some(k=>k.id===j)&&m("related_person",j);const M=new URLSearchParams(n);M.delete("newPersonId"),r({search:M.toString()},{replace:!0})}catch(O){console.error("Failed to load new person:",O);const I=new URLSearchParams(n);I.delete("newPersonId"),r({search:I.toString()},{replace:!0})}})()}},[n,a,h,d,m,r,i]),T.useEffect(()=>{var S;if(o&&a){const C=(((S=o.acf)==null?void 0:S.relationships)||[])[s];C&&x({related_person:C.related_person||null,relationship_type:C.relationship_type?String(C.relationship_type):"",relationship_label:C.relationship_label||""})}},[o,s,a,x]),mn(a?`Edit relationship - ${((E=o==null?void 0:o.title)==null?void 0:E.rendered)||(o==null?void 0:o.title)||"person"}`:`Add relationship - ${((N=o==null?void 0:o.title)==null?void 0:N.rendered)||(o==null?void 0:o.title)||"person"}`);const _=async S=>{var j;try{const C=[...((j=o.acf)==null?void 0:j.relationships)||[]],P={related_person:S.related_person||null,relationship_type:S.relationship_type||null,relationship_label:S.relationship_label||""};a?C[s]=P:C.push(P);const O=Ga(o.acf,{relationships:C});await c.mutateAsync({id:t,data:{acf:O}}),r(`/people/${t}`)}catch(C){console.error("Failed to save relationship:",C)}};return l?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):o?u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs(fe,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(jn,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Back to person"})]})}),u.jsxs("div",{className:"card p-6",children:[u.jsx("h1",{className:"text-xl font-bold mb-6",children:a?"Edit relationship":"Add relationship"}),u.jsxs("form",{onSubmit:y(_),className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Related person *"}),u.jsx(Sp,{name:"related_person",control:g,rules:{required:"Please select a person"},render:({field:S})=>u.jsx(Jse,{value:S.value,onChange:S.onChange,people:d,isLoading:h,excludePersonId:parseInt(t,10)})}),w.related_person&&u.jsx("p",{className:"text-sm text-red-600 mt-1",children:w.related_person.message}),!a&&u.jsx("div",{className:"mt-2",children:u.jsxs(fe,{to:`/people/new?returnTo=relationship&sourcePersonId=${t}`,className:"inline-flex items-center gap-1 text-sm text-primary-600 hover:text-primary-700",children:[u.jsx(Mt,{className:"w-4 h-4"}),"Add new person"]})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Relationship type"}),u.jsxs("select",{...v("relationship_type",{setValueAs:S=>S?parseInt(S,10):null}),className:"input",disabled:p,children:[u.jsx("option",{value:"",children:"Select a type..."}),f.map(S=>u.jsx("option",{value:S.id,children:S.name},S.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Custom label"}),u.jsx("input",{...v("relationship_label"),className:"input",placeholder:"e.g., Brother-in-law"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Override the relationship type with a custom label"})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[u.jsx(fe,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),u.jsxs("button",{type:"submit",className:"btn-primary",disabled:b,children:[b?u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):u.jsx(xa,{className:"w-4 h-4 mr-2"}),a?"Save changes":"Add relationship"]})]})]})]})]}):u.jsxs("div",{className:"card p-6 text-center",children:[u.jsx("p",{className:"text-red-600",children:"Failed to load person."}),u.jsx(fe,{to:"/people",className:"btn-secondary mt-4",children:"Back to people"})]})}function Zse({company:t}){var e,r,n,i,s;return u.jsx(fe,{to:`/companies/${t.id}`,className:"card p-4 hover:shadow-md transition-shadow",children:u.jsxs("div",{className:"flex items-start",children:[(n=(r=(e=t._embedded)==null?void 0:e["wp:featuredmedia"])==null?void 0:r[0])!=null&&n.source_url?u.jsx("img",{src:t._embedded["wp:featuredmedia"][0].source_url,alt:Zt(t),className:"w-12 h-12 rounded-lg object-contain bg-white"}):u.jsx("div",{className:"w-12 h-12 bg-white rounded-lg flex items-center justify-center border border-gray-200",children:u.jsx(dn,{className:"w-6 h-6 text-gray-400"})}),u.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[u.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:Zt(t)}),((i=t.acf)==null?void 0:i.industry)&&u.jsx("p",{className:"text-sm text-gray-500",children:t.acf.industry}),((s=t.acf)==null?void 0:s.website)&&u.jsx("p",{className:"text-xs text-primary-600 truncate",children:t.acf.website})]})]})})}function eae(){const[t,e]=T.useState(""),{data:r,isLoading:n,error:i}=Ze({queryKey:["companies",t],queryFn:async()=>(await Ae.getCompanies({search:t,per_page:100,_embed:!0})).data}),s=T.useMemo(()=>r?[...r].sort((a,o)=>{var d,h;const l=(((d=a.title)==null?void 0:d.rendered)||a.title||"").toLowerCase(),c=(((h=o.title)==null?void 0:h.rendered)||o.title||"").toLowerCase();return l.localeCompare(c)}):[],[r]);return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[u.jsxs("div",{className:"relative flex-1 max-w-md",children:[u.jsx(vu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),u.jsx("input",{type:"search",placeholder:"Search organizations...",value:t,onChange:a=>e(a.target.value),className:"input pl-9"})]}),u.jsxs(fe,{to:"/companies/new",className:"btn-primary",children:[u.jsx(Mt,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Add organization"})]})]}),n&&u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),i&&u.jsx("div",{className:"card p-6 text-center",children:u.jsx("p",{className:"text-red-600",children:"Failed to load organizations."})}),!n&&!i&&(s==null?void 0:s.length)===0&&u.jsxs("div",{className:"card p-12 text-center",children:[u.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(dn,{className:"w-6 h-6 text-gray-400"})}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No organizations found"}),u.jsx("p",{className:"text-gray-500 mb-4",children:t?"Try a different search.":"Add your first organization."}),!t&&u.jsxs(fe,{to:"/companies/new",className:"btn-primary",children:[u.jsx(Mt,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Add organization"})]})]}),!n&&!i&&(s==null?void 0:s.length)>0&&u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(a=>u.jsx(Zse,{company:a},a.id))})]})}function tae(){var f,p,v,y,x,g;const{id:t}=Ss(),e=Gr(),r=rt(),{data:n,isLoading:i,error:s}=Ze({queryKey:["company",t],queryFn:async()=>(await Ae.getCompany(t,{_embed:!0})).data}),{data:a}=Ze({queryKey:["company-people",t],queryFn:async()=>(await $e.getCompanyPeople(t)).data}),{data:o}=Ze({queryKey:["company",n==null?void 0:n.parent],queryFn:async()=>(await Ae.getCompany(n.parent,{_embed:!0})).data,enabled:!!(n!=null&&n.parent)}),{data:l=[]}=Ze({queryKey:["company-children",t],queryFn:async()=>(await Ae.getCompanies({parent:t,per_page:100,_embed:!0})).data}),c=Ke({mutationFn:()=>Ae.deleteCompany(t,{force:!0}),onSuccess:()=>{r.invalidateQueries({queryKey:["companies"]}),e("/companies")}});mn(Zt(n)||"Organization"),T.useEffect(()=>{(n==null?void 0:n.status)==="trash"&&e("/companies",{replace:!0})},[n,e]);const d=async()=>{if(window.confirm("Are you sure you want to delete this organization?"))try{await c.mutateAsync()}catch(m){console.error("Failed to delete company:",m),alert("Failed to delete organization. Please try again.")}};if(i)return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(s||!n)return u.jsxs("div",{className:"card p-6 text-center",children:[u.jsx("p",{className:"text-red-600",children:"Failed to load organization."}),u.jsx(fe,{to:"/companies",className:"btn-secondary mt-4",children:"Back to organizations"})]});if(n.status==="trash")return null;const h=n.acf||{};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs(fe,{to:"/companies",className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(jn,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Back to organizations"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(fe,{to:`/companies/${t}/edit`,className:"btn-secondary",children:[u.jsx(pK,{className:"w-4 h-4 mr-2"}),"Edit"]}),u.jsxs("button",{onClick:d,className:"btn-danger",children:[u.jsx(Ln,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]}),u.jsx("div",{className:"card p-6",children:u.jsxs("div",{className:"flex items-center gap-4",children:[(v=(p=(f=n._embedded)==null?void 0:f["wp:featuredmedia"])==null?void 0:p[0])!=null&&v.source_url?u.jsx("img",{src:n._embedded["wp:featuredmedia"][0].source_url,alt:Zt(n),className:"w-24 h-24 rounded-lg object-contain bg-white"}):u.jsx("div",{className:"w-24 h-24 bg-white rounded-lg flex items-center justify-center border border-gray-200",children:u.jsx(dn,{className:"w-12 h-12 text-gray-400"})}),u.jsxs("div",{children:[o&&u.jsxs(fe,{to:`/companies/${o.id}`,className:"text-sm text-primary-600 hover:underline flex items-center mb-1",children:[u.jsx(FI,{className:"w-3 h-3 mr-1"}),"Subsidiary of ",Zt(o)]}),u.jsx("h1",{className:"text-2xl font-bold",children:Zt(n)}),h.industry&&u.jsx("p",{className:"text-gray-500",children:h.industry}),h.website&&u.jsxs("a",{href:h.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline flex items-center mt-1",children:[u.jsx(qf,{className:"w-4 h-4 mr-1"}),h.website]})]})]})}),l.length>0&&u.jsxs("div",{className:"card p-6",children:[u.jsxs("h2",{className:"font-semibold mb-4 flex items-center",children:[u.jsx(FI,{className:"w-5 h-5 mr-2"}),"Subsidiaries"]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:l.map(m=>{var w,b,_,E;return u.jsxs(fe,{to:`/companies/${m.id}`,className:"flex items-center p-3 rounded-lg hover:bg-gray-50 border border-gray-200",children:[(_=(b=(w=m._embedded)==null?void 0:w["wp:featuredmedia"])==null?void 0:b[0])!=null&&_.source_url?u.jsx("img",{src:m._embedded["wp:featuredmedia"][0].source_url,alt:Zt(m),className:"w-10 h-10 rounded object-contain bg-white"}):u.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded flex items-center justify-center",children:u.jsx(dn,{className:"w-5 h-5 text-gray-400"})}),u.jsxs("div",{className:"ml-3",children:[u.jsx("p",{className:"text-sm font-medium",children:Zt(m)}),((E=m.acf)==null?void 0:E.industry)&&u.jsx("p",{className:"text-xs text-gray-500",children:m.acf.industry})]})]},m.id)})})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"card p-6",children:[u.jsxs("h2",{className:"font-semibold mb-4 flex items-center",children:[u.jsx(Di,{className:"w-5 h-5 mr-2"}),"Current employees"]}),((y=a==null?void 0:a.current)==null?void 0:y.length)>0?u.jsx("div",{className:"space-y-2",children:a.current.map(m=>{var w;return u.jsxs(fe,{to:`/people/${m.id}`,className:"flex items-center p-2 rounded hover:bg-gray-50",children:[m.thumbnail?u.jsx("img",{src:m.thumbnail,alt:"",loading:"lazy",className:"w-8 h-8 rounded-full"}):u.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-xs text-gray-500",children:((w=m.name)==null?void 0:w[0])||"?"})}),u.jsxs("div",{className:"ml-2",children:[u.jsx("p",{className:"text-sm font-medium",children:m.name}),m.job_title&&u.jsx("p",{className:"text-xs text-gray-500",children:m.job_title})]})]},m.id)})}):u.jsx("p",{className:"text-sm text-gray-500",children:"No current employees."})]}),u.jsxs("div",{className:"card p-6",children:[u.jsxs("h2",{className:"font-semibold mb-4 flex items-center",children:[u.jsx(Di,{className:"w-5 h-5 mr-2"}),"Former employees"]}),((x=a==null?void 0:a.former)==null?void 0:x.length)>0?u.jsx("div",{className:"space-y-2",children:a.former.map(m=>{var w;return u.jsxs(fe,{to:`/people/${m.id}`,className:"flex items-center p-2 rounded hover:bg-gray-50",children:[m.thumbnail?u.jsx("img",{src:m.thumbnail,alt:"",loading:"lazy",className:"w-8 h-8 rounded-full opacity-75"}):u.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center opacity-75",children:u.jsx("span",{className:"text-xs text-gray-500",children:((w=m.name)==null?void 0:w[0])||"?"})}),u.jsxs("div",{className:"ml-2",children:[u.jsx("p",{className:"text-sm font-medium text-gray-700",children:m.name}),m.job_title&&u.jsx("p",{className:"text-xs text-gray-500",children:m.job_title})]})]},m.id)})}):u.jsx("p",{className:"text-sm text-gray-500",children:"No former employees."})]})]}),((g=h.contact_info)==null?void 0:g.length)>0&&u.jsxs("div",{className:"card p-6",children:[u.jsx("h2",{className:"font-semibold mb-4",children:"Contact information"}),u.jsx("div",{className:"space-y-3",children:h.contact_info.map((m,w)=>u.jsxs("div",{children:[u.jsxs("span",{className:"text-sm text-gray-500",children:[m.contact_label||m.contact_type,":"]}),u.jsx("span",{className:"ml-2",children:m.contact_value})]},w))})]})]})}function dR(){var I,M,k,K,H,A,G,W,z;const{id:t}=Ss(),e=Gr(),r=rt(),n=!!t,{data:i,isLoading:s}=Ze({queryKey:["company",t],queryFn:async()=>(await Ae.getCompany(t,{_embed:!0})).data,enabled:n}),{data:a=[],isLoading:o}=Ze({queryKey:["companies","all"],queryFn:async()=>(await Ae.getCompanies({per_page:100,_embed:!0})).data}),[l,c]=T.useState(!1),[d,h]=T.useState(!1),[f,p]=T.useState(""),[v,y]=T.useState(""),x=T.useRef(null),g=T.useRef(null),m=T.useMemo(()=>{const F=f.toLowerCase().trim();let ee=a.filter(oe=>!(n&&oe.id===parseInt(t)||n&&oe.parent===parseInt(t)));return F&&(ee=ee.filter(oe=>{var Ne;return(Ne=Zt(oe))==null?void 0:Ne.toLowerCase().includes(F)})),[...ee].sort((oe,Ne)=>(Zt(oe)||"").localeCompare(Zt(Ne)||""))},[a,f,t,n]),w=T.useMemo(()=>a.find(F=>F.id===parseInt(v)),[a,v]);T.useEffect(()=>{const F=ee=>{g.current&&!g.current.contains(ee.target)&&h(!1)};if(d)return document.addEventListener("mousedown",F),()=>document.removeEventListener("mousedown",F)},[d]);const b=Ke({mutationFn:F=>Ae.createCompany(F),onSuccess:F=>{r.invalidateQueries({queryKey:["companies"]}),e(`/companies/${F.data.id}`)}}),_=Ke({mutationFn:F=>Ae.updateCompany(t,F),onSuccess:()=>{r.invalidateQueries({queryKey:["company",t]}),r.invalidateQueries({queryKey:["companies"]}),r.invalidateQueries({queryKey:["people"]}),e(`/companies/${t}`)}}),E=async F=>{var oe;const ee=(oe=F.target.files)==null?void 0:oe[0];if(ee){if(!ee.type.startsWith("image/")){alert("Please select an image file");return}if(ee.size>5*1024*1024){alert("Image size must be less than 5MB");return}c(!0);try{await $e.uploadCompanyLogo(t,ee),r.invalidateQueries({queryKey:["company",t]}),r.invalidateQueries({queryKey:["companies"]}),r.invalidateQueries({queryKey:["people"]}),r.refetchQueries({queryKey:["company",t]}),r.refetchQueries({queryKey:["companies"]}),r.refetchQueries({queryKey:["people"]})}catch(Ne){console.error("Failed to upload logo:",Ne),alert("Failed to upload logo. Please try again.")}finally{c(!1),x.current&&(x.current.value="")}}},{register:N,handleSubmit:S,reset:j,formState:{errors:C,isSubmitting:P}}=qu();T.useEffect(()=>{var F,ee,oe;i&&(j({title:di(((F=i.title)==null?void 0:F.rendered)||""),website:((ee=i.acf)==null?void 0:ee.website)||"",industry:((oe=i.acf)==null?void 0:oe.industry)||""}),i.parent&&y(String(i.parent)))},[i,j]),mn(n&&i?`Edit ${Zt(i)||"organization"}`:"New organization");const O=async F=>{const ee={title:F.title,status:"publish",parent:v?parseInt(v):0,acf:{website:F.website,industry:F.industry}};n?_.mutate(ee):b.mutate(ee)};return n&&s?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs(fe,{to:"/companies",className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(jn,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Back to organizations"})]})}),u.jsxs("div",{className:"card p-6",children:[u.jsx("h1",{className:"text-xl font-bold mb-6",children:n?"Edit organization":"Add new organization"}),u.jsxs("form",{onSubmit:S(O),className:"space-y-6",children:[n&&u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Logo"}),u.jsxs("div",{className:"flex items-center gap-4",children:[(k=(M=(I=i==null?void 0:i._embedded)==null?void 0:I["wp:featuredmedia"])==null?void 0:M[0])!=null&&k.source_url?u.jsxs("div",{className:"relative group",children:[u.jsx("img",{src:i._embedded["wp:featuredmedia"][0].source_url,alt:Zt(i)||"Organization logo",className:"w-20 h-20 rounded-lg object-contain bg-white"}),u.jsx("div",{className:"absolute inset-0 rounded-lg bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var F;return(F=x.current)==null?void 0:F.click()},children:l?u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):u.jsx(Mf,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}):u.jsxs("div",{className:"relative group",children:[u.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-lg flex items-center justify-center",children:u.jsx(Mf,{className:"w-8 h-8 text-gray-400"})}),u.jsx("div",{className:"absolute inset-0 rounded-lg bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var F;return(F=x.current)==null?void 0:F.click()},children:l?u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):u.jsx(Mf,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}),u.jsxs("div",{children:[u.jsx("button",{type:"button",onClick:()=>{var F;return(F=x.current)==null?void 0:F.click()},className:"btn-secondary text-sm",disabled:l,children:(A=(H=(K=i==null?void 0:i._embedded)==null?void 0:K["wp:featuredmedia"])==null?void 0:H[0])!=null&&A.source_url?"Change logo":"Upload logo"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click the logo or button to upload a new logo"})]}),u.jsx("input",{ref:x,type:"file",accept:"image/*",onChange:E,className:"hidden",disabled:l})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Organization name *"}),u.jsx("input",{...N("title",{required:"Organization name is required"}),className:"input",placeholder:"Acme Inc."}),C.title&&u.jsx("p",{className:"text-sm text-red-600 mt-1",children:C.title.message})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Website"}),u.jsx("input",{...N("website"),type:"url",className:"input",placeholder:"https://example.com"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Industry"}),u.jsx("input",{...N("industry"),className:"input",placeholder:"Technology"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Parent organization"}),u.jsxs("div",{className:"relative",ref:g,children:[u.jsxs("button",{type:"button",onClick:()=>h(!d),className:"w-full flex items-center justify-between px-3 py-2 border border-gray-300 rounded-md bg-white text-left focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",disabled:o,children:[w?u.jsxs("div",{className:"flex items-center gap-2",children:[(z=(W=(G=w._embedded)==null?void 0:G["wp:featuredmedia"])==null?void 0:W[0])!=null&&z.source_url?u.jsx("img",{src:w._embedded["wp:featuredmedia"][0].source_url,alt:Zt(w),className:"w-6 h-6 rounded object-contain bg-white"}):u.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded flex items-center justify-center",children:u.jsx(dn,{className:"w-4 h-4 text-gray-500"})}),u.jsx("span",{className:"text-gray-900",children:Zt(w)})]}):u.jsx("span",{className:"text-gray-400",children:"No parent organization"}),u.jsx(oO,{className:`w-4 h-4 text-gray-400 transition-transform ${d?"rotate-180":""}`})]}),d&&u.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-hidden",children:[u.jsx("div",{className:"p-2 border-b border-gray-100",children:u.jsxs("div",{className:"relative",children:[u.jsx(vu,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),u.jsx("input",{type:"text",value:f,onChange:F=>p(F.target.value),placeholder:"Search organizations...",className:"w-full pl-8 pr-3 py-1.5 text-sm border border-gray-200 rounded focus:outline-none focus:ring-1 focus:ring-primary-500",autoFocus:!0})]})}),u.jsxs("div",{className:"overflow-y-auto max-h-48",children:[u.jsx("button",{type:"button",onClick:()=>{y(""),h(!1),p("")},className:`w-full flex items-center gap-2 px-3 py-2 text-left hover:bg-gray-50 transition-colors ${v?"":"bg-primary-50"}`,children:u.jsx("span",{className:"text-sm text-gray-500 italic",children:"No parent organization"})}),o?u.jsx("div",{className:"p-3 text-center text-gray-500 text-sm",children:"Loading..."}):m.length>0?m.map(F=>{var ee,oe,Ne;return u.jsxs("button",{type:"button",onClick:()=>{y(String(F.id)),h(!1),p("")},className:`w-full flex items-center gap-2 px-3 py-2 text-left hover:bg-gray-50 transition-colors ${v===String(F.id)?"bg-primary-50":""}`,children:[(Ne=(oe=(ee=F._embedded)==null?void 0:ee["wp:featuredmedia"])==null?void 0:oe[0])!=null&&Ne.source_url?u.jsx("img",{src:F._embedded["wp:featuredmedia"][0].source_url,alt:Zt(F),className:"w-6 h-6 rounded object-contain bg-white"}):u.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded flex items-center justify-center",children:u.jsx(dn,{className:"w-4 h-4 text-gray-500"})}),u.jsx("span",{className:"text-sm text-gray-900 truncate",children:Zt(F)})]},F.id)}):u.jsx("div",{className:"p-3 text-center text-gray-500 text-sm",children:"No organizations found"})]})]})]}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select if this organization is a subsidiary or division of another"})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[u.jsx(fe,{to:"/companies",className:"btn-secondary",children:"Cancel"}),u.jsxs("button",{type:"submit",className:"btn-primary",disabled:P,children:[u.jsx(xa,{className:"w-4 h-4 mr-2"}),n?"Save changes":"Create organization"]})]})]})]})]})}function rae({person:t,dateType:e}){var r;return u.jsx("div",{className:"flex items-center gap-3 py-2",children:u.jsxs(fe,{to:`/people/${t.id}`,className:"flex items-center gap-3 flex-1 min-w-0 hover:opacity-80",children:[t.thumbnail?u.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-10 h-10 rounded-full object-cover flex-shrink-0"}):u.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center flex-shrink-0",children:u.jsx("span",{className:"text-sm font-medium text-gray-500",children:(r=t.name)==null?void 0:r[0]})}),u.jsx("span",{className:"font-medium truncate",children:t.name}),u.jsx("span",{className:"text-sm text-gray-500 capitalize flex-shrink-0",children:e})]})})}function nae({dates:t}){const e=t[0],n=e.days_until===0?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600",i=[];return t.forEach(s=>{var o,l;const a=((o=s.date_type)==null?void 0:o[0])||"Date";((l=s.related_people)==null?void 0:l.length)>0?s.related_people.forEach(c=>{i.push({person:c,dateType:a})}):i.push({person:{id:null,name:s.title,thumbnail:null},dateType:a})}),u.jsx("div",{className:"card p-4 break-inside-avoid mb-4",children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:`w-14 h-14 rounded-lg ${n} flex items-center justify-center flex-shrink-0`,children:u.jsx("span",{className:"text-2xl font-bold leading-none",children:rn(new Date(e.next_occurrence),"d")})}),u.jsx("div",{className:"flex-1 min-w-0 divide-y divide-gray-100",children:i.map(({person:s,dateType:a},o)=>u.jsx(rae,{person:s,dateType:a},s.id?`${s.id}-${a}`:`${o}-${a}`))})]})})}function iae(){const{data:t,isLoading:e,error:r}=Zre(365),n=(t==null?void 0:t.reduce((s,a)=>{const o=rn(new Date(a.next_occurrence),"yyyy-MM-dd");return s[o]||(s[o]=[]),s[o].push(a),s},{}))||{},i=Object.entries(n).reduce((s,[a,o])=>{const l=rn(new Date(a),"MMMM yyyy");return s[l]||(s[l]=[]),s[l].push(o),s},{});return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("p",{className:"text-gray-600",children:[(t==null?void 0:t.length)||0," upcoming dates"]}),u.jsxs(fe,{to:"/dates/new",className:"btn-primary",children:[u.jsx(Mt,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Add date"})]})]}),e&&u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),r&&u.jsx("div",{className:"card p-6 text-center",children:u.jsx("p",{className:"text-red-600",children:"Failed to load dates."})}),!e&&!r&&(t==null?void 0:t.length)===0&&u.jsxs("div",{className:"card p-12 text-center",children:[u.jsx(da,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-medium mb-1",children:"No important dates"}),u.jsx("p",{className:"text-gray-500 mb-4",children:"Add birthdays, anniversaries, and more."}),u.jsxs(fe,{to:"/dates/new",className:"btn-primary",children:[u.jsx(Mt,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Add date"})]})]}),Object.entries(i).map(([s,a])=>u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:s}),u.jsx("div",{className:"columns-1 md:columns-2 lg:columns-3 gap-4",children:a.map(o=>u.jsx(nae,{dates:o},o[0].next_occurrence))})]},s))]})}function sae({value:t=[],onChange:e,people:r=[],isLoading:n}){const[i,s]=T.useState(""),a=T.useMemo(()=>{if(!i)return r.slice(0,10);const d=i.toLowerCase();return r.filter(h=>fo(h).toLowerCase().includes(d)).slice(0,10)},[r,i]),o=T.useMemo(()=>t.map(d=>r.find(h=>h.id===d)).filter(Boolean),[t,r]),l=d=>{t.includes(d)||e([...t,d]),s("")},c=d=>{e(t.filter(h=>h!==d))};return u.jsxs("div",{className:"space-y-2",children:[o.length>0&&u.jsx("div",{className:"flex flex-wrap gap-2",children:o.map(d=>u.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-primary-100 text-primary-800 rounded-full text-sm",children:[fo(d),u.jsx("button",{type:"button",onClick:()=>c(d.id),className:"hover:text-primary-600",children:u.jsx(hn,{className:"w-3 h-3"})})]},d.id))}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",value:i,onChange:d=>s(d.target.value),placeholder:"Search for people...",className:"input",disabled:n}),i&&u.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:a.length>0?a.map(d=>u.jsx("button",{type:"button",onClick:()=>l(d.id),disabled:t.includes(d.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t.includes(d.id)?"opacity-50 cursor-not-allowed":""}`,children:fo(d)},d.id)):u.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No people found"})})]})]})}function hR(){var G;const{id:t}=Ss(),[e]=GC(),r=Gr(),n=rt(),i=!!t,s=e.get("person"),a=e.get("type"),{data:o,isLoading:l}=Ze({queryKey:["important-date",t],queryFn:async()=>(await Ae.getDate(t)).data,enabled:i}),c=T.useMemo(()=>{var z;if(!((z=o==null?void 0:o.acf)!=null&&z.related_people))return[];const W=o.acf.related_people;return Array.isArray(W)?W.map(F=>parseInt(typeof F=="object"&&F!==null?F.ID||F.id||F.post_id:F,10)).filter(F=>!isNaN(F)&&F>0):[]},[o]),{data:d=[],isLoading:h}=zo({orderby:"title",order:"asc"}),{data:f=[]}=Ze({queryKey:["people","specific",c],queryFn:async()=>{const W=c.map(F=>Ae.getPerson(F,{_embed:!0}).then(ee=>ee.data).catch(()=>null));return(await Promise.all(W)).filter(Boolean)},enabled:c.length>0}),p=T.useMemo(()=>{const W=new Map;return d.forEach(z=>W.set(z.id,z)),f.forEach(z=>{var ee,oe,Ne,ye,Ee,ke,st,nr,bt,pr,ct,Ir,Rr,Sr,at,Bt;const F={...z,id:z.id,name:fo(z),first_name:((ee=z.acf)==null?void 0:ee.first_name)||"",last_name:((oe=z.acf)==null?void 0:oe.last_name)||"",is_favorite:((Ne=z.acf)==null?void 0:Ne.is_favorite)||!1,thumbnail:((ke=(Ee=(ye=z._embedded)==null?void 0:ye["wp:featuredmedia"])==null?void 0:Ee[0])==null?void 0:ke.source_url)||((Ir=(ct=(pr=(bt=(nr=(st=z._embedded)==null?void 0:st["wp:featuredmedia"])==null?void 0:nr[0])==null?void 0:bt.media_details)==null?void 0:pr.sizes)==null?void 0:ct.thumbnail)==null?void 0:Ir.source_url)||null,labels:((Bt=(at=(Sr=(Rr=z._embedded)==null?void 0:Rr["wp:term"])==null?void 0:Sr.flat())==null?void 0:at.filter($r=>($r==null?void 0:$r.taxonomy)==="person_label"))==null?void 0:Bt.map($r=>$r.name))||[]};W.set(F.id,F)}),Array.from(W.values())},[d,f]),{data:v=[]}=Ze({queryKey:["date-types"],queryFn:async()=>((await Ae.getDateTypes()).data||[]).sort((F,ee)=>{const oe=F.name||"",Ne=ee.name||"";return oe.localeCompare(Ne)})}),y=Ke({mutationFn:W=>Ae.createDate(W),onSuccess:()=>{n.invalidateQueries({queryKey:["reminders"]}),r(s?`/people/${s}`:"/dates")}}),x=Ke({mutationFn:W=>Ae.updateDate(t,W),onSuccess:()=>{n.invalidateQueries({queryKey:["reminders"]}),n.invalidateQueries({queryKey:["important-date",t]}),n.invalidateQueries({queryKey:["people"]});const W=b("related_people");(W==null?void 0:W.length)>0?r(`/people/${W[0]}`):r("/dates")}}),{register:g,handleSubmit:m,reset:w,watch:b,setValue:_,control:E,formState:{errors:N,isSubmitting:S}}=qu({defaultValues:{title:"",date_value:"",date_type:"",related_people:[],is_recurring:!0}}),j=b("related_people"),C=b("date_type"),P=b("title");T.useEffect(()=>{var F;if((!P||["'s Birthday","Wedding of "].some(ee=>P.endsWith(ee)||P.startsWith(ee)))&&(j==null?void 0:j.length)>0&&C){const ee=v.find(Ee=>Ee.id===parseInt(C)),oe=(ee==null?void 0:ee.name)||"",Ne=((F=ee==null?void 0:ee.slug)==null?void 0:F.toLowerCase())||oe.toLowerCase(),ye=j.map(Ee=>{var st,nr,bt;const ke=p.find(pr=>pr.id===Ee);return ke?di(((st=ke.acf)==null?void 0:st.first_name)||((bt=(nr=ke.title)==null?void 0:nr.rendered)==null?void 0:bt.split(" ")[0])||""):null}).filter(Boolean);if(ye.length>0&&oe){let Ee;Ne==="wedding"?ye.length>=2?Ee=`Wedding of ${ye[0]} & ${ye[1]}`:Ee=`Wedding of ${ye[0]}`:Ee=`${ye[0]}'s ${oe}`,_("title",Ee)}}},[j,C,p,v,_,P]);const[O,I]=T.useState(!1);T.useEffect(()=>{var z,F,ee,oe,Ne;if(O&&!i)return;const W=c.length===0||f.length>0;if(o&&p.length>0&&W){let ye=[];const Ee=(z=o.acf)==null?void 0:z.related_people;Ee&&(Array.isArray(Ee)?ye=Ee.map(st=>parseInt(typeof st=="object"&&st!==null?st.ID||st.id||st.post_id:st,10)).filter(st=>!isNaN(st)&&st>0):typeof Ee=="number"&&(ye=[Ee]));let ke="";((F=o.date_type)==null?void 0:F.length)>0&&(ke=o.date_type[0].toString()),w({title:di(((ee=o.title)==null?void 0:ee.rendered)||""),date_value:((oe=o.acf)==null?void 0:oe.date_value)||"",date_type:ke,related_people:ye,is_recurring:((Ne=o.acf)==null?void 0:Ne.is_recurring)??!0}),I(!0)}else if(!i&&p.length>0&&v.length>0){const ye={title:"",date_value:"",date_type:"",related_people:[],is_recurring:!0};if(s&&(ye.related_people=[parseInt(s)]),a){const Ee=v.find(ke=>ke.slug===a||ke.name.toLowerCase()===a.toLowerCase());Ee&&(ye.date_type=Ee.id.toString())}w(ye),I(!0)}},[o,w,i,s,a,v,p,c,f,O]),mn(i&&o?`Edit ${((G=o.title)==null?void 0:G.rendered)||o.title||"date"}`:"New date");const M=async W=>{const z={title:W.title,status:"publish",date_type:W.date_type?[parseInt(W.date_type)]:[],acf:{date_value:W.date_value,related_people:W.related_people,is_recurring:W.is_recurring}};i?x.mutate(z):y.mutate(z)};if(i&&l)return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});const k=b("related_people"),K=i&&(k==null?void 0:k.length)>0?k[0]:s,H=K?`/people/${K}`:"/dates",A=K?"Back to person":"Back to dates";return u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs(fe,{to:H,className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(jn,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:A})]})}),u.jsxs("div",{className:"card p-6",children:[u.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit date":"Add new date"}),u.jsxs("form",{onSubmit:m(M),className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Related people"}),u.jsx(Sp,{name:"related_people",control:E,render:({field:W})=>u.jsx(sae,{value:W.value,onChange:W.onChange,people:p,isLoading:h})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Date type *"}),u.jsx(Sp,{name:"date_type",control:E,rules:{required:"Please select a date type"},render:({field:W})=>{const z=W.value?String(W.value):"";return u.jsxs("select",{value:z,onChange:F=>{const ee=F.target.value;W.onChange(ee)},onBlur:W.onBlur,name:W.name,ref:W.ref,className:"input",children:[u.jsx("option",{value:"",children:"Select a type..."}),v.map(F=>u.jsx("option",{value:String(F.id),children:F.name},F.id))]})}}),N.date_type&&u.jsx("p",{className:"text-sm text-red-600 mt-1",children:N.date_type.message})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Label"}),u.jsx("input",{...g("title"),className:"input",placeholder:"e.g., Mom's Birthday, Wedding Anniversary"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-generated from person and date type. You can customize it."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Date *"}),u.jsx("input",{...g("date_value",{required:"Date is required"}),type:"date",className:"input"}),N.date_value&&u.jsx("p",{className:"text-sm text-red-600 mt-1",children:N.date_value.message})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",...g("is_recurring"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),u.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Repeats every year"})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[u.jsx(fe,{to:H,className:"btn-secondary",children:"Cancel"}),u.jsxs("button",{type:"submit",className:"btn-primary",disabled:S,children:[u.jsx(xa,{className:"w-4 h-4 mr-2"}),i?"Save changes":"Create date"]})]})]})]})]})}function aae(){mn("Todos");const[t,e]=T.useState(!1),[r,n]=T.useState(null),[i,s]=T.useState(!1),[a,o]=T.useState(!1),{data:l,isLoading:c}=yK(t),d=bK(),h=ene(),f=g=>{d.mutate({todoId:g.id,data:{content:g.content,due_date:g.due_date,is_completed:!g.is_completed}})},p=async g=>{r&&(await d.mutateAsync({todoId:r.id,data:g}),s(!1),n(null))},v=async g=>{window.confirm("Are you sure you want to delete this todo?")&&await h.mutateAsync(g)};if(c)return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});const y=(l==null?void 0:l.filter(g=>!g.is_completed))||[],x=(l==null?void 0:l.filter(g=>g.is_completed))||[];return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Todos"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("button",{onClick:()=>e(!t),className:`btn-secondary text-sm flex items-center gap-2 ${t?"bg-primary-50 border-primary-300":""}`,children:[u.jsx(Pj,{className:"w-4 h-4"}),t?"Hide completed":"Show completed"]}),u.jsxs("button",{onClick:()=>o(!0),className:"btn-primary text-sm flex items-center gap-2",children:[u.jsx(Mt,{className:"w-4 h-4"}),"Add todo"]})]})]}),u.jsxs("div",{className:"card",children:[u.jsx("div",{className:"p-4 border-b border-gray-200",children:u.jsxs("h2",{className:"font-semibold flex items-center",children:[u.jsx(gu,{className:"w-5 h-5 mr-2 text-gray-500"}),"Open todos (",y.length,")"]})}),y.length>0?u.jsx("div",{className:"divide-y divide-gray-100",children:y.map(g=>u.jsx(fR,{todo:g,onToggle:f,onEdit:m=>{n(m),s(!0)},onDelete:v},g.id))}):u.jsxs("div",{className:"p-8 text-center",children:[u.jsx(ns,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),u.jsx("p",{className:"text-gray-500",children:"No open todos"}),u.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Create todos from a person's detail page"})]})]}),t&&x.length>0&&u.jsxs("div",{className:"card",children:[u.jsx("div",{className:"p-4 border-b border-gray-200",children:u.jsxs("h2",{className:"font-semibold flex items-center",children:[u.jsx(ns,{className:"w-5 h-5 mr-2 text-primary-600"}),"Completed todos (",x.length,")"]})}),u.jsx("div",{className:"divide-y divide-gray-100",children:x.map(g=>u.jsx(fR,{todo:g,onToggle:f,onEdit:m=>{n(m),s(!0)},onDelete:v},g.id))})]}),u.jsx(kK,{isOpen:i,onClose:()=>{s(!1),n(null)},onSubmit:p,isLoading:d.isPending,todo:r}),u.jsx(_K,{isOpen:a,onClose:()=>o(!1)})]})}function fR({todo:t,onToggle:e,onEdit:r,onDelete:n}){var s;const i=nh(t);return u.jsxs("div",{className:"flex items-start p-4 hover:bg-gray-50 transition-colors group",children:[u.jsx("button",{onClick:()=>e(t),className:"mt-0.5 mr-3 flex-shrink-0",title:t.is_completed?"Mark as incomplete":"Mark as complete",children:t.is_completed?u.jsx(ns,{className:"w-5 h-5 text-primary-600"}):u.jsx(gu,{className:`w-5 h-5 ${i?"text-red-600":"text-gray-400"}`})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:`text-sm ${t.is_completed?"line-through text-gray-400":i?"text-red-600 font-medium":"text-gray-900"}`,children:t.content}),u.jsxs("div",{className:"flex flex-wrap items-center gap-3 mt-2",children:[u.jsxs(fe,{to:`/people/${t.person_id}`,className:"flex items-center gap-2 text-xs text-primary-600 hover:text-primary-700 hover:underline",children:[t.person_thumbnail?u.jsx("img",{src:t.person_thumbnail,alt:t.person_name,className:"w-5 h-5 rounded-full object-cover"}):u.jsx("div",{className:"w-5 h-5 bg-gray-200 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-xs text-gray-500",children:(s=t.person_name)==null?void 0:s[0]})}),t.person_name]}),t.due_date&&u.jsxs("span",{className:`text-xs ${i&&!t.is_completed?"text-red-600 font-medium":"text-gray-500"}`,children:["Due: ",rn(new Date(t.due_date),"MMM d, yyyy"),i&&!t.is_completed&&" (overdue)"]})]})]}),u.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[u.jsx("button",{onClick:()=>r(t),className:"p-1 hover:bg-gray-100 rounded",title:"Edit todo",children:u.jsx(za,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),u.jsx("button",{onClick:()=>n(t.id),className:"p-1 hover:bg-red-50 rounded",title:"Delete todo",children:u.jsx(Ln,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]})}function oae(){const t=window.prmConfig||{},e=t.isAdmin||!1,[r,n]=T.useState(""),[i,s]=T.useState(""),[a,o]=T.useState(!0),[l,c]=T.useState(!1),[d,h]=T.useState(!1),[f,p]=T.useState([]),[v,y]=T.useState(""),[x,g]=T.useState(!1),[m,w]=T.useState(""),[b,_]=T.useState("09:00"),[E,N]=T.useState(!0),[S,j]=T.useState(!1),[C,P]=T.useState(!1),[O,I]=T.useState(!1),[M,k]=T.useState(""),[K,H]=T.useState(!1),[A,G]=T.useState([]),[W,z]=T.useState([]),[F,ee]=T.useState([]),[oe,Ne]=T.useState(!1),[ye,Ee]=T.useState(!1),[ke,st]=T.useState(!1),[nr,bt]=T.useState(""),[pr,ct]=T.useState(!1),[Ir,Rr]=T.useState("");T.useEffect(()=>{(async()=>{try{const ue=await de.get("/prm/v1/user/ical-url");n(ue.data.url),s(ue.data.webcal_url)}catch(ue){console.error("Failed to fetch iCal URL:",ue)}finally{o(!1)}})()},[]);const Sr=async()=>{Ne(!0);try{const[V,ue]=await Promise.all([$e.getSlackChannels(),$e.getSlackTargets()]);G(V.data.channels||[]),z(V.data.users||[]),ee(ue.data.targets||[])}catch(V){console.error("Failed to fetch Slack data:",V),k("Failed to load Slack channels and users. Please try refreshing the page.")}finally{Ne(!1)}};T.useEffect(()=>{(async()=>{try{const ue=await $e.getNotificationChannels();p(ue.data.channels||["email"]),y(ue.data.slack_webhook||""),_(ue.data.notification_time||"09:00");const pe=await $e.getSlackStatus(),Ue=pe.data.connected||!1;g(Ue),w(pe.data.workspace_name||""),Ue&&await Sr()}catch(ue){console.error("Failed to fetch notification channels:",ue)}finally{N(!1)}})()},[]),T.useEffect(()=>{x&&Sr()},[x]),T.useEffect(()=>{const V=new URLSearchParams(window.location.search),ue=V.get("slack_connected"),pe=V.get("slack_error");ue==="1"?(k("Slack connected successfully!"),$e.getSlackStatus().then(Ue=>{g(Ue.data.connected||!1),w(Ue.data.workspace_name||"")}),window.history.replaceState({},"",window.location.pathname)):pe&&(k(`Slack connection failed: ${pe}`),window.history.replaceState({},"",window.location.pathname))},[]);const at=async()=>{var V,ue;try{const pe=await de.get("/prm/v1/slack/oauth/authorize");window.location.href=pe.data.oauth_url}catch(pe){console.error("Failed to get Slack OAuth URL:",pe),alert(((ue=(V=pe.response)==null?void 0:V.data)==null?void 0:ue.message)||"Failed to connect Slack")}},Bt=async()=>{var V,ue;if(confirm("Are you sure you want to disconnect Slack? You will stop receiving Slack notifications.")){H(!0);try{await $e.disconnectSlack(),g(!1),w(""),G([]),z([]),ee([]),k("Slack disconnected successfully"),f.includes("slack")&&await B("slack")}catch(pe){console.error("Failed to disconnect Slack:",pe),alert(((ue=(V=pe.response)==null?void 0:V.data)==null?void 0:ue.message)||"Failed to disconnect Slack")}finally{H(!1)}}},$r=V=>{const ue=F.includes(V)?F.filter(pe=>pe!==V):[...F,V];ee(ue)},kr=async()=>{var V,ue;Ee(!0);try{await $e.updateSlackTargets(F),k("Notification targets saved successfully"),setTimeout(()=>k(""),3e3)}catch(pe){console.error("Failed to save Slack targets:",pe),alert(((ue=(V=pe.response)==null?void 0:V.data)==null?void 0:ue.message)||"Failed to save notification targets")}finally{Ee(!1)}},$=async()=>{try{await navigator.clipboard.writeText(r),c(!0),setTimeout(()=>c(!1),2e3)}catch(V){console.error("Failed to copy:",V)}},q=async()=>{if(confirm("Are you sure you want to regenerate your calendar URL? Any existing calendar subscriptions will stop working until you update them with the new URL.")){h(!0);try{const V=await de.post("/prm/v1/user/regenerate-ical-token");n(V.data.url),s(V.data.webcal_url)}catch(V){console.error("Failed to regenerate token:",V)}finally{h(!1)}}},B=async V=>{var pe,Ue;const ue=f.includes(V)?f.filter(ge=>ge!==V):[...f,V];j(!0);try{await $e.updateNotificationChannels(ue),p(ue)}catch(ge){console.error("Failed to update notification channels:",ge),alert(((Ue=(pe=ge.response)==null?void 0:pe.data)==null?void 0:Ue.message)||"Failed to update notification channels")}finally{j(!1)}},ae=async V=>{var le,we;const[ue,pe]=V.split(":").map(Number),Ue=Math.round(pe/5)*5,ge=Ue===60?(ue+1)%24:ue,J=Ue===60?0:Ue,ce=`${String(ge).padStart(2,"0")}:${String(J).padStart(2,"0")}`;_(ce),I(!0);try{await $e.updateNotificationTime(ce)}catch(De){console.error("Failed to update notification time:",De),alert(((we=(le=De.response)==null?void 0:le.data)==null?void 0:we.message)||"Failed to update notification time");const Qr=await $e.getNotificationChannels();_(Qr.data.notification_time||"09:00")}finally{I(!1)}},ne=async()=>{var V,ue;if(confirm("This will send reminder emails for all reminders due today. Continue?")){st(!0),bt("");try{const pe=await $e.triggerReminders();bt(pe.data.message||"Reminders triggered successfully.")}catch(pe){console.error("Failed to trigger reminders:",pe),bt(((ue=(V=pe.response)==null?void 0:V.data)==null?void 0:ue.message)||"Failed to trigger reminders. Please check server logs.")}finally{st(!1)}}},X=async()=>{var V,ue;if(confirm("This will reschedule all user reminder cron jobs based on their notification time preferences. Continue?")){ct(!0),Rr("");try{const pe=await $e.rescheduleCronJobs();Rr(pe.data.message||"Cron jobs rescheduled successfully.")}catch(pe){console.error("Failed to reschedule cron jobs:",pe),Rr(((ue=(V=pe.response)==null?void 0:V.data)==null?void 0:ue.message)||"Failed to reschedule cron jobs. Please check server logs.")}finally{ct(!1)}}};return u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsxs("div",{className:"card p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Calendar Subscription"}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Subscribe to your important dates in any calendar app (Apple Calendar, Google Calendar, Outlook, etc.)"}),a?u.jsxs("div",{className:"animate-pulse",children:[u.jsx("div",{className:"h-10 bg-gray-200 rounded mb-3"}),u.jsx("div",{className:"h-9 bg-gray-200 rounded w-24"})]}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label mb-1",children:"Your Calendar Feed URL"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",readOnly:!0,value:r,className:"input flex-1 text-sm font-mono bg-gray-50",onClick:V=>V.target.select()}),u.jsx("button",{onClick:$,className:"btn-secondary whitespace-nowrap",title:"Copy URL",children:l?u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Copied"]}):u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})}),"Copy"]})})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx("a",{href:i,className:"btn-primary",children:u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Subscribe in Calendar App"]})}),u.jsx("button",{onClick:q,disabled:d,className:"btn-secondary",children:d?"Regenerating...":"Regenerate URL"})]}),u.jsx("p",{className:"text-xs text-gray-500",children:'Keep this URL private. Anyone with access to it can see your important dates. If you think it has been compromised, click "Regenerate URL" to get a new one.'})]})]}),u.jsxs("div",{className:"card p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Data"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs(fe,{to:"/settings/import",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[u.jsx("p",{className:"font-medium",children:"Import Data"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Import contacts from Monica CRM or other sources"})]}),u.jsxs(fe,{to:"/settings/export",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[u.jsx("p",{className:"font-medium",children:"Export Data"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Export all contacts as vCard or Google Contacts CSV"})]})]})]}),u.jsxs("div",{className:"card p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Notifications"}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Choose how you want to receive daily reminders about your important dates."}),E?u.jsxs("div",{className:"animate-pulse",children:[u.jsx("div",{className:"h-10 bg-gray-200 rounded mb-3"}),u.jsx("div",{className:"h-10 bg-gray-200 rounded"})]}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-gray-200",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:"Email"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Receive daily digest emails"})]}),u.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:f.includes("email"),onChange:()=>B("email"),disabled:S,className:"sr-only peer"}),u.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),u.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-gray-200",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:"Slack"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Receive notifications in Slack"})]}),u.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:f.includes("slack"),onChange:()=>B("slack"),disabled:S||!x,className:"sr-only peer"}),u.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),u.jsx("div",{children:x?u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-green-900",children:"Connected to Slack"}),m&&u.jsxs("p",{className:"text-sm text-green-700",children:["Workspace: ",m]})]}),u.jsx("button",{onClick:Bt,disabled:K,className:"btn-secondary text-sm",children:K?"Disconnecting...":"Disconnect"})]})}),M&&u.jsx("p",{className:`text-sm ${M.includes("successfully")||M.includes("disconnected")?"text-green-600":"text-red-600"}`,children:M}),f.includes("slack")&&u.jsxs("div",{className:"mt-4 p-4 border border-gray-200 rounded-lg",children:[u.jsx("h3",{className:"font-medium mb-3",children:"Notification targets"}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Choose where to send Slack notifications. You can select multiple channels and users."}),oe?u.jsx("p",{className:"text-sm text-gray-500",children:"Loading channels and users..."}):u.jsxs(u.Fragment,{children:[A.length>0&&u.jsxs("div",{className:"mb-4",children:[u.jsx("h4",{className:"text-sm font-medium mb-2",children:"Channels"}),u.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:A.map(V=>u.jsxs("label",{className:"flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:F.includes(V.id),onChange:()=>$r(V.id),className:"mr-2 cursor-pointer"}),u.jsx("span",{className:"text-sm",children:V.name})]},V.id))})]}),W.length>0&&u.jsxs("div",{className:"mb-4",children:[u.jsx("h4",{className:"text-sm font-medium mb-2",children:"Direct messages"}),u.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:W.map(V=>u.jsxs("label",{className:"flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:F.includes(V.id),onChange:()=>$r(V.id),className:"mr-2 cursor-pointer"}),u.jsxs("span",{className:"text-sm",children:[V.name,V.is_me&&u.jsx("span",{className:"text-gray-500 ml-1",children:"(you)"})]})]},V.id))})]}),A.length===0&&W.length===0&&!oe&&u.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"No channels or users found. Make sure the Slack app has the necessary permissions."}),u.jsx("button",{onClick:kr,disabled:ye,className:"btn-primary text-sm mt-4",children:ye?"Saving...":"Save targets"})]})]})]}):u.jsxs("div",{className:"space-y-3",children:[u.jsx("button",{onClick:at,className:"btn-primary w-full",disabled:K,children:"Connect Slack"}),M&&u.jsx("p",{className:`text-sm ${M.includes("successfully")?"text-green-600":"text-red-600"}`,children:M}),u.jsx("p",{className:"text-xs text-gray-500",children:"Connect your Slack workspace to receive daily reminder notifications. You'll be able to message channels or receive direct messages."})]})}),v&&!x&&u.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:u.jsxs("p",{className:"text-sm text-yellow-800",children:[u.jsx("strong",{children:"Legacy webhook detected."})," Please connect via OAuth for better functionality. Your webhook will continue to work until you connect via OAuth."]})}),u.jsxs("div",{children:[u.jsx("label",{className:"label mb-1",children:"Notification Time (UTC)"}),u.jsx("input",{type:"time",value:b,onChange:V=>ae(V.target.value),className:"input",disabled:O,step:"300"}),b&&u.jsxs("div",{className:"mt-2 p-2 bg-gray-50 rounded text-sm",children:[u.jsxs("p",{className:"text-gray-700",children:[u.jsx("span",{className:"font-medium",children:"UTC:"})," ",b]}),u.jsxs("p",{className:"text-gray-700 mt-1",children:[u.jsxs("span",{className:"font-medium",children:["Your time (",Intl.DateTimeFormat().resolvedOptions().timeZone,"):"]})," ",(()=>{try{const[V,ue]=b.split(":"),pe=new Date;return pe.setUTCHours(parseInt(V),parseInt(ue),0,0),pe.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})}catch{return b}})()]})]}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Choose the UTC time when you want to receive your daily reminder digest. Reminders are sent within a 1-hour window of your selected time."})]})]})]}),e&&u.jsxs("div",{className:"card p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Administration"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs(fe,{to:"/settings/relationship-types",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[u.jsx("p",{className:"font-medium",children:"Relationship Types"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Manage relationship types and their inverse mappings"})]}),u.jsxs(fe,{to:"/settings/user-approval",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[u.jsx("p",{className:"font-medium",children:"User Approval"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Approve or deny access for new users"})]}),u.jsxs("button",{onClick:ne,disabled:ke,className:"w-full text-left p-3 rounded-lg border border-gray-200 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx("p",{className:"font-medium",children:"Trigger reminders"}),u.jsx("p",{className:"text-sm text-gray-500",children:ke?"Sending...":"Manually send reminders for today"}),nr&&u.jsx("p",{className:"text-sm text-green-600 mt-1",children:nr})]}),u.jsxs("button",{onClick:X,disabled:pr,className:"w-full text-left p-3 rounded-lg border border-gray-200 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx("p",{className:"font-medium",children:"Reschedule cron jobs"}),u.jsx("p",{className:"text-sm text-gray-500",children:pr?"Rescheduling...":"Reschedule all user reminder cron jobs"}),Ir&&u.jsx("p",{className:"text-sm text-green-600 mt-1",children:Ir})]})]})]}),u.jsxs("div",{className:"card p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"About"}),u.jsxs("p",{className:"text-sm text-gray-600",children:[bu," v",t.version||"1.0.0",u.jsx("br",{}),"Built with WordPress, React, and Tailwind CSS."]})]})]})}function pR({value:t,onChange:e,relationshipTypes:r,currentTypeId:n=null}){const[i,s]=T.useState(""),[a,o]=T.useState(!1),l=T.useRef(null),c=T.useRef(null),d=T.useMemo(()=>r.sort((x,g)=>{const m=(x.name||"").toLowerCase(),w=(g.name||"").toLowerCase();return m<w?-1:m>w?1:0}),[r]),h=T.useMemo(()=>{if(!i)return d.slice(0,10);const x=i.toLowerCase();return d.filter(g=>(g.name||"").toLowerCase().includes(x)).slice(0,10)},[d,i]),f=T.useMemo(()=>d.find(x=>x.id===parseInt(t,10)),[d,t]);T.useEffect(()=>{const x=g=>{c.current&&!c.current.contains(g.target)&&l.current&&!l.current.contains(g.target)&&o(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]);const p=x=>{e(x?x.toString():""),s(""),o(!1)},v=()=>{e(""),s(""),o(!1)},y=f?f.name:"";return u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"relative",children:f&&!a?u.jsxs("div",{className:"flex items-center justify-between input pr-8 cursor-text",onClick:()=>o(!0),children:[u.jsx("span",{children:y}),u.jsx("button",{type:"button",onClick:x=>{x.stopPropagation(),v()},className:"absolute right-2 text-gray-400 hover:text-gray-600",children:u.jsx(hn,{className:"w-4 h-4"})})]}):u.jsx("input",{ref:l,type:"text",value:i,onChange:x=>{s(x.target.value),o(!0)},onFocus:()=>o(!0),placeholder:"Search for a relationship type...",className:"input"})}),a&&(i||!f)&&u.jsx("div",{ref:c,className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:h.length>0?u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",onClick:()=>p(null),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t?"":"bg-primary-50"}`,children:u.jsx("span",{className:"text-gray-500 italic",children:"None (no inverse)"})}),h.map(x=>u.jsx("button",{type:"button",onClick:()=>p(x.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t===x.id.toString()?"bg-primary-50":""}`,children:x.name},x.id))]}):u.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No relationship types found"})})]})}function lae(){mn("Relationship Types - Settings");const t=rt();if(!((window.prmConfig||{}).isAdmin||!1))return u.jsx("div",{className:"max-w-2xl mx-auto",children:u.jsxs("div",{className:"card p-8 text-center",children:[u.jsx(hK,{className:"w-16 h-16 mx-auto text-amber-500 mb-4"}),u.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Access Denied"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to manage relationship types. This feature is only available to administrators."}),u.jsx(fe,{to:"/settings",className:"btn-primary",children:"Back to Settings"})]})});const{data:n=[],isLoading:i}=Ze({queryKey:["relationship-types"],queryFn:async()=>(await Ae.getRelationshipTypes()).data}),[s,a]=T.useState(null),[o,l]=T.useState(""),[c,d]=T.useState(""),[h,f]=T.useState(""),[p,v]=T.useState(""),[y,x]=T.useState(!1),g=Ke({mutationFn:async({id:P,name:O,inverseId:I})=>{const M={name:O};return I&&(M.acf={inverse_relationship_type:parseInt(I,10)}),Ae.updateRelationshipType(P,M)},onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),a(null),l(""),d("")}}),m=Ke({mutationFn:async({name:P,inverseId:O})=>{const I={name:P};return O&&(I.acf={inverse_relationship_type:parseInt(O,10)}),Ae.createRelationshipType(I)},onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),f(""),v(""),x(!1)}}),w=Ke({mutationFn:P=>Ae.deleteRelationshipType(P),onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]})}}),b=Ke({mutationFn:()=>Ae.restoreRelationshipTypeDefaults(),onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),alert("Default relationship type configurations have been restored.")},onError:()=>{alert("Failed to restore defaults. Please try again.")}});function _(){return u.jsxs("button",{onClick:()=>{window.confirm("This will restore all default inverse mappings and gender-dependent settings. Continue?")&&b.mutate()},disabled:b.isPending,className:"btn-secondary flex items-center gap-2",title:"Restore default inverse mappings and gender-dependent settings",children:[b.isPending?u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600"}):u.jsx(cK,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden md:inline",children:"Restore Defaults"})]})}const E=P=>{var I;a(P.id),l(P.name);const O=(I=P.acf)==null?void 0:I.inverse_relationship_type;d(O?O.toString():"")},N=()=>{a(null),l(""),d("")},S=()=>{if(!o.trim()){alert("Name is required");return}g.mutate({id:s,name:o.trim(),inverseId:c||null})},j=()=>{if(!h.trim()){alert("Name is required");return}m.mutate({name:h.trim(),inverseId:p||null})},C=(P,O)=>{window.confirm(`Are you sure you want to delete "${O}"? This cannot be undone.`)&&w.mutate(P)};return i?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):u.jsx("div",{className:"max-w-4xl mx-auto space-y-6",children:u.jsxs("div",{className:"card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Relationship Types"}),u.jsx("div",{className:"flex gap-2",children:!y&&u.jsxs(u.Fragment,{children:[u.jsx(_,{}),u.jsxs("button",{onClick:()=>x(!0),className:"btn-primary flex items-center gap-2",children:[u.jsx(Mt,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden md:inline",children:"Add Relationship Type"})]})]})})]}),y&&u.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[u.jsx("h3",{className:"font-semibold mb-4",children:"Add New Relationship Type"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Name *"}),u.jsx("input",{type:"text",value:h,onChange:P=>f(P.target.value),className:"input",placeholder:"e.g., Parent, Spouse, Colleague"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Inverse Relationship Type"}),u.jsx(pR,{value:p,onChange:v,relationshipTypes:n}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Select the inverse relationship type. For example, if this is "Parent", select "Child". If this is "Spouse" or "Acquaintance", select the same type (e.g., "Spouse"  "Spouse").'})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:j,disabled:m.isPending,className:"btn-primary flex items-center gap-2",children:[m.isPending?u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):u.jsx(xa,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden md:inline",children:"Save"})]}),u.jsx("button",{onClick:()=>{x(!1),f(""),v("")},className:"btn-secondary",children:"Cancel"})]})]})]}),u.jsx("div",{className:"space-y-2",children:n.length===0?u.jsx("p",{className:"text-gray-500 text-center py-8",children:"No relationship types found."}):n.map(P=>{var K,H;const O=s===P.id,I=(K=P.acf)==null?void 0:K.inverse_relationship_type,M=typeof I=="object"&&(I!=null&&I.ID)?I.ID:typeof I=="object"&&(I!=null&&I.id)?I.id:I,k=M?n.find(A=>A.id===M):null;return u.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:O?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Name *"}),u.jsx("input",{type:"text",value:o,onChange:A=>l(A.target.value),className:"input"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Inverse Relationship Type"}),u.jsx(pR,{value:c,onChange:d,relationshipTypes:n,currentTypeId:P.id}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Select the inverse relationship type. For example, if this is "Parent", select "Child". If this is "Spouse" or "Acquaintance", select the same type (e.g., "Spouse"  "Spouse").'})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:S,disabled:g.isPending,className:"btn-primary flex items-center gap-2",children:[g.isPending?u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):u.jsx(xa,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden md:inline",children:"Save"})]}),u.jsxs("button",{onClick:N,className:"btn-secondary flex items-center gap-2",children:[u.jsx(hn,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden md:inline",children:"Cancel"})]})]})]}):u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-medium",children:P.name}),k&&u.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Inverse: ",u.jsx("span",{className:"font-medium",children:k.name})]}),!k&&((H=P.acf)==null?void 0:H.inverse_relationship_type)===null&&u.jsx("div",{className:"text-sm text-gray-400 mt-1 italic",children:"No inverse relationship"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>E(P),className:"p-2 text-gray-600 hover:text-primary-600 hover:bg-primary-50 rounded",title:"Edit",children:u.jsx(Vre,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>C(P.id,P.name),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded",title:"Delete",children:u.jsx(Ln,{className:"w-4 h-4"})})]})]})},P.id)})})]})})}function uae(){var g,m,w;const[t,e]=T.useState(null),[r,n]=T.useState(""),[i,s]=T.useState(!1),[a,o]=T.useState(null),l=rt(),c=Ke({mutationFn:async b=>{const _=new FormData;return _.append("file",b),(await de.post("/prm/v1/import/monica/validate",_,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:b=>{o(b)},onError:b=>{var _,E;o({valid:!1,error:((E=(_=b.response)==null?void 0:_.data)==null?void 0:E.message)||"Failed to validate file"})}}),d=Ke({mutationFn:async({file:b,monicaUrl:_})=>{const E=new FormData;return E.append("file",b),E.append("monica_url",_),(await de.post("/prm/v1/import/monica",E,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{l.invalidateQueries({queryKey:["people"]}),l.invalidateQueries({queryKey:["companies"]}),l.invalidateQueries({queryKey:["dates"]}),l.invalidateQueries({queryKey:["dashboard"]})}}),h=T.useCallback(b=>{b.preventDefault(),b.stopPropagation(),b.type==="dragenter"||b.type==="dragover"?s(!0):b.type==="dragleave"&&s(!1)},[]),f=T.useCallback(b=>{b.preventDefault(),b.stopPropagation(),s(!1),b.dataTransfer.files&&b.dataTransfer.files[0]&&v(b.dataTransfer.files[0])},[]),p=b=>{b.target.files&&b.target.files[0]&&v(b.target.files[0])},v=b=>{if(!b.name.endsWith(".sql")){o({valid:!1,error:"Please select a SQL file"});return}e(b),o(null),d.reset(),c.mutate(b)},y=()=>{if(!r.trim()){o(b=>({...b,urlError:"Please enter your Monica instance URL"}));return}t&&(a!=null&&a.valid)&&d.mutate({file:t,monicaUrl:r.trim()})},x=()=>{e(null),n(""),o(null),c.reset(),d.reset()};return u.jsxs("div",{className:"space-y-4",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Import from Monica"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Import contacts, relationships, notes, and photos from a Monica CRM SQL export file. Reimporting the same file will update existing contacts instead of creating duplicates."}),d.isSuccess?u.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(mu,{className:"h-5 w-5 text-green-600 mt-0.5"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-medium text-green-900",children:"Import Complete"}),u.jsxs("div",{className:"mt-2 text-sm text-green-800 space-y-1",children:[u.jsxs("p",{children:["Contacts imported: ",d.data.stats.contacts_imported]}),u.jsxs("p",{children:["Contacts updated: ",d.data.stats.contacts_updated]}),u.jsxs("p",{children:["Contacts skipped (partial): ",d.data.stats.contacts_skipped]}),u.jsxs("p",{children:["Photos imported: ",d.data.stats.photos_imported]}),u.jsxs("p",{children:["Organizations created: ",d.data.stats.companies_created]}),u.jsxs("p",{children:["Relationships created: ",d.data.stats.relationships_created]}),u.jsxs("p",{children:["Important dates created: ",d.data.stats.dates_created]}),u.jsxs("p",{children:["Notes created: ",d.data.stats.notes_created]}),((g=d.data.stats.errors)==null?void 0:g.length)>0&&u.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[u.jsx("p",{className:"font-medium",children:"Errors:"}),u.jsx("ul",{className:"list-disc list-inside",children:d.data.stats.errors.map((b,_)=>u.jsx("li",{children:b},_))})]})]}),u.jsx("button",{onClick:x,className:"mt-3 text-sm text-green-700 hover:text-green-800 font-medium",children:"Import another file"})]})]})}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${i?"border-primary-500 bg-primary-50":t?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:h,onDragLeave:h,onDragOver:h,onDrop:f,children:[u.jsx("input",{type:"file",accept:".sql",onChange:p,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),c.isPending?u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(Oo,{className:"h-8 w-8 text-primary-600 animate-spin"}),u.jsx("p",{className:"text-gray-600",children:"Validating file..."})]}):t?u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(eh,{className:"h-8 w-8 text-green-600"}),u.jsx("p",{className:"font-medium text-gray-900",children:t.name}),u.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024/1024).toFixed(2)," MB"]})]}):u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(Po,{className:"h-8 w-8 text-gray-400"}),u.jsx("p",{className:"text-gray-600",children:"Drag and drop your Monica SQL export file here, or click to browse"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Supports SQL export files"})]})]}),a&&u.jsx("div",{className:`rounded-lg border p-4 ${a.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:a.valid?u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(mu,{className:"h-5 w-5 text-green-600 mt-0.5"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-medium text-green-900",children:"File validated successfully"}),u.jsxs("div",{className:"mt-2 text-sm text-green-800",children:[u.jsxs("p",{children:["Export format: ",a.version]}),u.jsxs("p",{children:["Contacts to import: ",a.summary.contacts]}),u.jsxs("p",{children:["Relationships: ",a.summary.relationships]}),u.jsxs("p",{children:["Notes: ",a.summary.notes]}),u.jsxs("p",{children:["Dates: ",a.summary.reminders]}),u.jsxs("p",{children:["Photos: ",a.summary.photos]}),u.jsxs("p",{children:["Organizations: ",a.summary.companies_count]})]})]})]}):u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(gs,{className:"h-5 w-5 text-red-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-red-900",children:"Validation failed"}),u.jsx("p",{className:"text-sm text-red-700 mt-1",children:a.error})]})]})}),(a==null?void 0:a.valid)&&u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{htmlFor:"monica-url",className:"block text-sm font-medium text-gray-700",children:"Monica Instance URL"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(lK,{className:"h-4 w-4 text-gray-400"})}),u.jsx("input",{type:"url",id:"monica-url",value:r,onChange:b=>n(b.target.value),placeholder:"https://your-monica-instance.com",className:`block w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ${a.urlError?"border-red-300":"border-gray-300"}`})]}),a.urlError&&u.jsx("p",{className:"text-sm text-red-600",children:a.urlError}),u.jsx("p",{className:"text-xs text-gray-500",children:"Enter the URL of your Monica instance to import photos. Photos will be downloaded from this URL."})]}),(a==null?void 0:a.valid)&&u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:y,disabled:d.isPending,className:"btn-primary flex items-center gap-2",children:d.isPending?u.jsxs(u.Fragment,{children:[u.jsx(Oo,{className:"h-4 w-4 animate-spin"}),u.jsx("span",{className:"hidden md:inline",children:"Importing..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(Po,{className:"h-4 w-4"}),u.jsx("span",{className:"hidden md:inline",children:"Start Import"})]})}),u.jsx("button",{onClick:x,disabled:d.isPending,className:"btn-secondary",children:"Cancel"})]}),d.isError&&u.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(gs,{className:"h-5 w-5 text-red-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-red-900",children:"Import failed"}),u.jsx("p",{className:"text-sm text-red-700 mt-1",children:((w=(m=d.error.response)==null?void 0:m.data)==null?void 0:w.message)||"An error occurred during import"})]})]})})]})]})}function cae(){var y,x,g;const[t,e]=T.useState(null),[r,n]=T.useState(!1),[i,s]=T.useState(null),a=rt(),o=Ke({mutationFn:async m=>{const w=new FormData;return w.append("file",m),(await de.post("/prm/v1/import/vcard/validate",w,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:m=>{s(m)},onError:m=>{var w,b;s({valid:!1,error:((b=(w=m.response)==null?void 0:w.data)==null?void 0:b.message)||"Failed to validate file"})}}),l=Ke({mutationFn:async m=>{const w=new FormData;return w.append("file",m),(await de.post("/prm/v1/import/vcard",w,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{a.invalidateQueries({queryKey:["people"]}),a.invalidateQueries({queryKey:["companies"]}),a.invalidateQueries({queryKey:["dates"]}),a.invalidateQueries({queryKey:["dashboard"]})}}),c=T.useCallback(m=>{m.preventDefault(),m.stopPropagation(),m.type==="dragenter"||m.type==="dragover"?n(!0):m.type==="dragleave"&&n(!1)},[]),d=T.useCallback(m=>{m.preventDefault(),m.stopPropagation(),n(!1),m.dataTransfer.files&&m.dataTransfer.files[0]&&f(m.dataTransfer.files[0])},[]),h=m=>{m.target.files&&m.target.files[0]&&f(m.target.files[0])},f=m=>{const w=m.name.split(".").pop().toLowerCase();if(w!=="vcf"&&w!=="vcard"){s({valid:!1,error:"Please select a vCard file (.vcf)"});return}e(m),s(null),l.reset(),o.mutate(m)},p=()=>{t&&(i!=null&&i.valid)&&l.mutate(t)},v=()=>{e(null),s(null),o.reset(),l.reset()};return u.jsxs("div",{className:"space-y-4",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Import from vCard"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Import contacts from a vCard (.vcf) file. vCard is a standard format supported by most contact apps including Apple Contacts, Outlook, and Android. Files can contain one or multiple contacts."}),l.isSuccess?u.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(mu,{className:"h-5 w-5 text-green-600 mt-0.5"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-medium text-green-900",children:"Import Complete"}),u.jsxs("div",{className:"mt-2 text-sm text-green-800 space-y-1",children:[u.jsxs("p",{children:["Contacts imported: ",l.data.stats.contacts_imported]}),u.jsxs("p",{children:["Contacts updated: ",l.data.stats.contacts_updated]}),u.jsxs("p",{children:["Contacts skipped: ",l.data.stats.contacts_skipped]}),u.jsxs("p",{children:["Photos imported: ",l.data.stats.photos_imported]}),u.jsxs("p",{children:["Organizations created: ",l.data.stats.companies_created]}),u.jsxs("p",{children:["Birthdays created: ",l.data.stats.dates_created]}),u.jsxs("p",{children:["Notes created: ",l.data.stats.notes_created]}),((y=l.data.stats.errors)==null?void 0:y.length)>0&&u.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[u.jsx("p",{className:"font-medium",children:"Errors:"}),u.jsx("ul",{className:"list-disc list-inside",children:l.data.stats.errors.map((m,w)=>u.jsx("li",{children:m},w))})]})]}),u.jsx("button",{onClick:v,className:"mt-3 text-sm text-green-700 hover:text-green-800 font-medium",children:"Import another file"})]})]})}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${r?"border-primary-500 bg-primary-50":t?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:c,onDragLeave:c,onDragOver:c,onDrop:d,children:[u.jsx("input",{type:"file",accept:".vcf,.vcard",onChange:h,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),o.isPending?u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(Oo,{className:"h-8 w-8 text-primary-600 animate-spin"}),u.jsx("p",{className:"text-gray-600",children:"Validating file..."})]}):t?u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(eh,{className:"h-8 w-8 text-green-600"}),u.jsx("p",{className:"font-medium text-gray-900",children:t.name}),u.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024).toFixed(2)," KB"]})]}):u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(Po,{className:"h-8 w-8 text-gray-400"}),u.jsx("p",{className:"text-gray-600",children:"Drag and drop your vCard file here, or click to browse"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Supports .vcf and .vcard files"})]})]}),i&&u.jsx("div",{className:`rounded-lg border p-4 ${i.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:i.valid?u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(mu,{className:"h-5 w-5 text-green-600 mt-0.5"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-medium text-green-900",children:"File validated successfully"}),u.jsxs("div",{className:"mt-3 grid grid-cols-2 sm:grid-cols-3 gap-3",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx(Di,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.contacts," contacts"]})]}),i.summary.companies_count>0&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx(dn,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.companies_count," organizations"]})]}),i.summary.birthdays>0&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx(sK,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.birthdays," birthdays"]})]}),i.summary.photos>0&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx(oK,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.photos," photos"]})]}),i.summary.notes>0&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx(mK,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.notes," notes"]})]})]})]})]}):u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(gs,{className:"h-5 w-5 text-red-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-red-900",children:"Validation failed"}),u.jsx("p",{className:"text-sm text-red-700 mt-1",children:i.error})]})]})}),(i==null?void 0:i.valid)&&u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:p,disabled:l.isPending,className:"btn-primary flex items-center gap-2",children:l.isPending?u.jsxs(u.Fragment,{children:[u.jsx(Oo,{className:"h-4 w-4 animate-spin"}),u.jsx("span",{className:"hidden md:inline",children:"Importing..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(Po,{className:"h-4 w-4"}),u.jsx("span",{className:"hidden md:inline",children:"Start Import"})]})}),u.jsx("button",{onClick:v,disabled:l.isPending,className:"btn-secondary",children:"Cancel"})]}),l.isError&&u.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(gs,{className:"h-5 w-5 text-red-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-red-900",children:"Import failed"}),u.jsx("p",{className:"text-sm text-red-700 mt-1",children:((g=(x=l.error.response)==null?void 0:x.data)==null?void 0:g.message)||"An error occurred during import"})]})]})})]})]})}function dae(){var b,_,E;const[t,e]=T.useState(null),[r,n]=T.useState(!1),[i,s]=T.useState(null),[a,o]=T.useState({}),l=rt(),c=Ke({mutationFn:async N=>{const S=new FormData;return S.append("file",N),(await de.post("/prm/v1/import/google-contacts/validate",S,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:N=>{var S;if(s(N),((S=N.duplicates)==null?void 0:S.length)>0){const j={};N.duplicates.forEach(C=>{j[C.index]="merge"}),o(j)}},onError:N=>{var S,j;s({valid:!1,error:((j=(S=N.response)==null?void 0:S.data)==null?void 0:j.message)||"Failed to validate file"})}}),d=Ke({mutationFn:async({file:N,decisions:S})=>{const j=new FormData;return j.append("file",N),j.append("decisions",JSON.stringify(S)),(await de.post("/prm/v1/import/google-contacts",j,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{l.invalidateQueries({queryKey:["people"]}),l.invalidateQueries({queryKey:["companies"]}),l.invalidateQueries({queryKey:["dates"]}),l.invalidateQueries({queryKey:["dashboard"]})}}),h=T.useCallback(N=>{N.preventDefault(),N.stopPropagation(),N.type==="dragenter"||N.type==="dragover"?n(!0):N.type==="dragleave"&&n(!1)},[]),f=T.useCallback(N=>{N.preventDefault(),N.stopPropagation(),n(!1),N.dataTransfer.files&&N.dataTransfer.files[0]&&v(N.dataTransfer.files[0])},[]),p=N=>{N.target.files&&N.target.files[0]&&v(N.target.files[0])},v=N=>{if(!N.name.endsWith(".csv")){s({valid:!1,error:"Please select a CSV file"});return}e(N),s(null),o({}),d.reset(),c.mutate(N)},y=(N,S)=>{o(j=>({...j,[N]:S}))},x=()=>{t&&(i!=null&&i.valid)&&d.mutate({file:t,decisions:a})},g=()=>{e(null),s(null),o({}),c.reset(),d.reset()},m=(i==null?void 0:i.duplicates)||[],w=m.length>0;return u.jsxs("div",{className:"space-y-4",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Import from Google Contacts"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Import contacts from a Google Contacts CSV export. To export from Google:"}),u.jsxs("ol",{className:"text-sm text-gray-600 list-decimal list-inside space-y-1 ml-2",children:[u.jsxs("li",{children:["Go to ",u.jsx("a",{href:"https://contacts.google.com",target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline",children:"contacts.google.com"})]}),u.jsx("li",{children:'Click "Export" in the left sidebar'}),u.jsx("li",{children:'Select "Google CSV" format and click "Export"'})]}),d.isSuccess?u.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(mu,{className:"h-5 w-5 text-green-600 mt-0.5"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-medium text-green-900",children:"Import Complete"}),u.jsxs("div",{className:"mt-2 text-sm text-green-800 space-y-1",children:[u.jsxs("p",{children:["Contacts imported: ",d.data.stats.contacts_imported]}),u.jsxs("p",{children:["Contacts updated: ",d.data.stats.contacts_updated]}),u.jsxs("p",{children:["Contacts skipped: ",d.data.stats.contacts_skipped]}),u.jsxs("p",{children:["Organizations created: ",d.data.stats.companies_created]}),u.jsxs("p",{children:["Birthdays created: ",d.data.stats.dates_created]}),u.jsxs("p",{children:["Notes created: ",d.data.stats.notes_created]}),u.jsxs("p",{children:["Photos imported: ",d.data.stats.photos_imported]}),((b=d.data.stats.errors)==null?void 0:b.length)>0&&u.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[u.jsx("p",{className:"font-medium",children:"Errors:"}),u.jsx("ul",{className:"list-disc list-inside",children:d.data.stats.errors.map((N,S)=>u.jsx("li",{children:N},S))})]})]}),u.jsx("button",{onClick:g,className:"mt-3 text-sm text-green-700 hover:text-green-800 font-medium",children:"Import another file"})]})]})}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${r?"border-primary-500 bg-primary-50":t?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:h,onDragLeave:h,onDragOver:h,onDrop:f,children:[u.jsx("input",{type:"file",accept:".csv",onChange:p,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),c.isPending?u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(Oo,{className:"h-8 w-8 text-primary-600 animate-spin"}),u.jsx("p",{className:"text-gray-600",children:"Validating file..."})]}):t?u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(lO,{className:"h-8 w-8 text-green-600"}),u.jsx("p",{className:"font-medium text-gray-900",children:t.name}),u.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024).toFixed(2)," KB"]})]}):u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(Po,{className:"h-8 w-8 text-gray-400"}),u.jsx("p",{className:"text-gray-600",children:"Drag and drop your Google Contacts CSV here, or click to browse"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Supports Google CSV format"})]})]}),i&&u.jsx("div",{className:`rounded-lg border p-4 ${i.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:i.valid?u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(mu,{className:"h-5 w-5 text-green-600 mt-0.5"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-medium text-green-900",children:"File validated successfully"}),u.jsxs("div",{className:"mt-3 grid grid-cols-2 sm:grid-cols-3 gap-3",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx(Di,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.contacts," contacts"]})]}),i.summary.companies_count>0&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx(dn,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.companies_count," organizations"]})]}),i.summary.birthdays>0&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx(sK,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.birthdays," birthdays"]})]}),i.summary.notes>0&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx(mK,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.notes," notes"]})]}),i.summary.photos>0&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx(oK,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.photos," photos"]})]})]})]})]}):u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(gs,{className:"h-5 w-5 text-red-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-red-900",children:"Validation failed"}),u.jsx("p",{className:"text-sm text-red-700 mt-1",children:i.error})]})]})}),(i==null?void 0:i.valid)&&w&&u.jsx("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(kre,{className:"h-5 w-5 text-amber-600 mt-0.5 flex-shrink-0"}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("h3",{className:"font-medium text-amber-900",children:[m.length," contact",m.length>1?"s":""," may already exist"]}),u.jsx("p",{className:"text-sm text-amber-700 mt-1",children:"Choose how to handle each potential duplicate:"}),u.jsx("div",{className:"mt-4 space-y-4",children:m.map(N=>u.jsx(hae,{duplicate:N,decision:a[N.index]||"merge",onDecision:S=>y(N.index,S)},N.index))})]})]})}),(i==null?void 0:i.valid)&&u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:x,disabled:d.isPending,className:"btn-primary flex items-center gap-2",children:d.isPending?u.jsxs(u.Fragment,{children:[u.jsx(Oo,{className:"h-4 w-4 animate-spin"}),u.jsx("span",{className:"hidden md:inline",children:"Importing..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(Po,{className:"h-4 w-4"}),u.jsx("span",{className:"hidden md:inline",children:"Start Import"})]})}),u.jsx("button",{onClick:g,disabled:d.isPending,className:"btn-secondary",children:"Cancel"})]}),d.isError&&u.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(gs,{className:"h-5 w-5 text-red-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-red-900",children:"Import failed"}),u.jsx("p",{className:"text-sm text-red-700 mt-1",children:((E=(_=d.error.response)==null?void 0:_.data)==null?void 0:E.message)||"An error occurred during import"})]})]})})]})]})}function hae({duplicate:t,decision:e,onDecision:r}){var n,i;return u.jsxs("div",{className:"bg-white rounded-lg border border-amber-200 p-4",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"From CSV"}),u.jsx("p",{className:"font-medium text-gray-900 truncate",children:t.csv_name}),t.csv_org&&u.jsx("p",{className:"text-sm text-gray-600 truncate",children:t.csv_org}),t.csv_email&&u.jsx("p",{className:"text-sm text-gray-500 truncate",children:t.csv_email})]}),u.jsx("div",{className:"hidden sm:flex items-center text-gray-400",children:u.jsx("span",{className:"text-lg",children:""})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"Existing Contact"}),u.jsxs("div",{className:"flex items-start gap-3",children:[t.existing_photo?u.jsx("img",{src:t.existing_photo,alt:"",className:"w-10 h-10 rounded-full object-cover flex-shrink-0"}):u.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center flex-shrink-0",children:u.jsx("span",{className:"text-gray-500 text-sm font-medium",children:((i=(n=t.existing_name)==null?void 0:n.charAt(0))==null?void 0:i.toUpperCase())||"?"})}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("p",{className:"font-medium text-gray-900 truncate",children:t.existing_name}),t.existing_org&&u.jsx("p",{className:"text-sm text-gray-600 truncate",children:t.existing_org}),t.existing_email&&u.jsx("p",{className:"text-sm text-gray-500 truncate",children:t.existing_email})]})]})]})]}),u.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[u.jsxs("button",{type:"button",onClick:()=>r("merge"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${e==="merge"?"bg-primary-100 text-primary-800 ring-2 ring-primary-500":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[u.jsx(Hre,{className:"h-4 w-4"}),"Update existing"]}),u.jsxs("button",{type:"button",onClick:()=>r("new"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${e==="new"?"bg-green-100 text-green-800 ring-2 ring-green-500":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[u.jsx(Gre,{className:"h-4 w-4"}),"Create new"]}),u.jsxs("button",{type:"button",onClick:()=>r("skip"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${e==="skip"?"bg-gray-200 text-gray-800 ring-2 ring-gray-500":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[u.jsx(Kre,{className:"h-4 w-4"}),"Skip"]})]})]})}const mR=[{id:"vcard",name:"vCard",description:"Apple Contacts, Outlook, Android",icon:eh,component:cae},{id:"google",name:"Google Contacts",description:"CSV export from Google",icon:lO,component:dae},{id:"monica",name:"Monica CRM",description:"SQL export from Monica",icon:Are,component:uae}];function fae(){var n;mn("Import - Settings");const[t,e]=T.useState("vcard"),r=(n=mR.find(i=>i.id===t))==null?void 0:n.component;return u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(fe,{to:"/settings",className:"btn-secondary flex items-center gap-2",children:[u.jsx(jn,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden md:inline",children:"Back to Settings"})]}),u.jsx("h1",{className:"text-2xl font-semibold",children:"Import Contacts"})]}),u.jsxs("div",{className:"card p-6",children:[u.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Import your contacts from various sources. Existing contacts with matching names will be updated instead of duplicated."}),u.jsx("div",{className:"border-b border-gray-200 mb-6",children:u.jsx("nav",{className:"-mb-px flex space-x-6","aria-label":"Import types",children:mR.map(i=>{const s=i.icon,a=t===i.id;return u.jsxs("button",{onClick:()=>e(i.id),className:`group inline-flex items-center py-3 px-1 border-b-2 font-medium text-sm transition-colors ${a?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[u.jsx(s,{className:`mr-2 h-5 w-5 ${a?"text-primary-500":"text-gray-400 group-hover:text-gray-500"}`}),u.jsxs("div",{className:"text-left",children:[u.jsx("span",{className:"block",children:i.name}),u.jsx("span",{className:`block text-xs font-normal ${a?"text-primary-400":"text-gray-400"}`,children:i.description})]})]},i.id)})})}),r&&u.jsx(r,{})]})]})}function pae(){mn("Export Data - Settings");const t=e=>{e==="vcard"?window.location.href="/wp-json/prm/v1/export/vcard":e==="google-csv"&&(window.location.href="/wp-json/prm/v1/export/google-csv")};return u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(fe,{to:"/settings",className:"btn-secondary flex items-center gap-2",children:[u.jsx(jn,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden md:inline",children:"Back to Settings"})]}),u.jsx("h1",{className:"text-2xl font-semibold",children:"Export Data"})]}),u.jsxs("div",{className:"card p-6",children:[u.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Export all your contacts in a format compatible with other contact management systems."}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("button",{onClick:()=>t("vcard"),className:"w-full p-4 rounded-lg border border-gray-200 hover:bg-gray-50 text-left flex items-center gap-4",children:[u.jsx("div",{className:"p-3 bg-primary-50 rounded-lg",children:u.jsx(eh,{className:"w-6 h-6 text-primary-600"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-medium",children:"Export as vCard (.vcf)"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Compatible with Apple Contacts, Outlook, Android, and most contact apps"})]}),u.jsx(Oj,{className:"w-5 h-5 text-gray-400"})]}),u.jsxs("button",{onClick:()=>t("google-csv"),className:"w-full p-4 rounded-lg border border-gray-200 hover:bg-gray-50 text-left flex items-center gap-4",children:[u.jsx("div",{className:"p-3 bg-primary-50 rounded-lg",children:u.jsx(lO,{className:"w-6 h-6 text-primary-600"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-medium",children:"Export as Google Contacts CSV"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Import directly into Google Contacts or other CSV-compatible systems"})]}),u.jsx(Oj,{className:"w-5 h-5 text-gray-400"})]})]})]})]})}function mae(){mn("User Approval - Settings");const t=rt();if(!((window.prmConfig||{}).isAdmin||!1))return u.jsx("div",{className:"max-w-2xl mx-auto",children:u.jsxs("div",{className:"card p-8 text-center",children:[u.jsx(hK,{className:"w-16 h-16 mx-auto text-amber-500 mb-4"}),u.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Access Denied"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to manage user approvals. This feature is only available to administrators."}),u.jsx(fe,{to:"/settings",className:"btn-primary",children:"Back to Settings"})]})});const{data:n=[],isLoading:i}=Ze({queryKey:["users"],queryFn:async()=>(await $e.getUsers()).data}),s=Ke({mutationFn:p=>$e.approveUser(p),onSuccess:()=>{t.invalidateQueries({queryKey:["users"]})}}),a=Ke({mutationFn:p=>$e.denyUser(p),onSuccess:()=>{t.invalidateQueries({queryKey:["users"]})}}),o=Ke({mutationFn:p=>$e.deleteUser(p),onSuccess:()=>{t.invalidateQueries({queryKey:["users"]})}}),l=p=>{window.confirm("Are you sure you want to approve this user?")&&s.mutate(p)},c=p=>{window.confirm("Are you sure you want to deny this user? They will not be able to access the system.")&&a.mutate(p)},d=(p,v)=>{window.confirm(`Are you sure you want to delete ${v}? This will permanently delete their account and all their related data (people, organizations, dates). This action cannot be undone.`)&&o.mutate(p)};if(i)return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx(Oo,{className:"w-8 h-8 animate-spin text-primary-600"})});const h=n.filter(p=>!p.is_approved),f=n.filter(p=>p.is_approved);return u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(fe,{to:"/settings",className:"btn-secondary flex items-center gap-2",children:[u.jsx(jn,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden md:inline",children:"Back to Settings"})]}),u.jsx("h1",{className:"text-2xl font-semibold",children:"User Approval"})]}),u.jsxs("div",{className:"space-y-6",children:[h.length>0&&u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Pending Approval"}),u.jsx("div",{className:"space-y-3",children:h.map(p=>u.jsxs("div",{className:"card p-4 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:p.name}),u.jsx("p",{className:"text-sm text-gray-500",children:p.email}),u.jsxs("p",{className:"text-xs text-gray-400",children:["Registered: ",new Date(p.registered).toLocaleDateString()]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:()=>l(p.id),disabled:s.isPending||o.isPending,className:"btn-primary flex items-center gap-2",children:[u.jsx(qI,{className:"w-4 h-4"}),"Approve"]}),u.jsxs("button",{onClick:()=>c(p.id),disabled:a.isPending||o.isPending,className:"btn-secondary flex items-center gap-2",children:[u.jsx(LI,{className:"w-4 h-4"}),"Deny"]}),u.jsxs("button",{onClick:()=>d(p.id,p.name),disabled:s.isPending||a.isPending||o.isPending,className:"btn-danger flex items-center gap-2",children:[u.jsx(Ln,{className:"w-4 h-4"}),"Delete"]})]})]},p.id))})]}),f.length>0&&u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Approved Users"}),u.jsx("div",{className:"space-y-3",children:f.map(p=>u.jsxs("div",{className:"card p-4 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("p",{className:"font-medium flex items-center gap-2",children:[p.name,u.jsx(qI,{className:"w-4 h-4 text-green-600"})]}),u.jsx("p",{className:"text-sm text-gray-500",children:p.email})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:()=>c(p.id),disabled:a.isPending||o.isPending,className:"btn-secondary flex items-center gap-2",children:[u.jsx(LI,{className:"w-4 h-4"}),"Revoke Access"]}),u.jsxs("button",{onClick:()=>d(p.id,p.name),disabled:a.isPending||o.isPending,className:"btn-danger flex items-center gap-2",children:[u.jsx(Ln,{className:"w-4 h-4"}),"Delete"]})]})]},p.id))})]}),n.length===0&&u.jsx("div",{className:"card p-8 text-center",children:u.jsx("p",{className:"text-gray-600",children:"No Caelis users found."})})]})]})}/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 8.0.3
 * @date    2025-09-10T16:22:00.613Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var vR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Be(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Iv={exports:{}},gR={},Oc,yR;function Gt(){if(yR)return Oc;yR=1;var t=function(e){return e&&e.Math===Math&&e};return Oc=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof vR=="object"&&vR)||t(typeof Oc=="object"&&Oc)||function(){return this}()||Function("return this")(),Oc}var Rv,bR;function nt(){return bR||(bR=1,Rv=function(t){try{return!!t()}catch{return!0}}),Rv}var $v,xR;function sh(){if(xR)return $v;xR=1;var t=nt();return $v=!t(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),$v}var kv,wR;function dm(){if(wR)return kv;wR=1;var t=sh(),e=Function.prototype,r=e.apply,n=e.call;return kv=typeof Reflect=="object"&&Reflect.apply||(t?n.bind(r):function(){return n.apply(r,arguments)}),kv}var Dv,_R;function ut(){if(_R)return Dv;_R=1;var t=sh(),e=Function.prototype,r=e.call,n=t&&e.bind.bind(r,r);return Dv=t?n:function(i){return function(){return r.apply(i,arguments)}},Dv}var Mv,SR;function Es(){if(SR)return Mv;SR=1;var t=ut(),e=t({}.toString),r=t("".slice);return Mv=function(n){return r(e(n),8,-1)},Mv}var qv,ER;function HK(){if(ER)return qv;ER=1;var t=Es(),e=ut();return qv=function(r){if(t(r)==="Function")return e(r)},qv}var Av,NR;function lr(){if(NR)return Av;NR=1;var t=typeof document=="object"&&document.all;return Av=typeof t>"u"&&t!==void 0?function(e){return typeof e=="function"||e===t}:function(e){return typeof e=="function"},Av}var Fv={},Lv,jR;function Yt(){if(jR)return Lv;jR=1;var t=nt();return Lv=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),Lv}var Bv,CR;function vn(){if(CR)return Bv;CR=1;var t=sh(),e=Function.prototype.call;return Bv=t?e.bind(e):function(){return e.apply(e,arguments)},Bv}var zv={},OR;function bO(){if(OR)return zv;OR=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,r=e&&!t.call({1:2},1);return zv.f=r?function(i){var s=e(this,i);return!!s&&s.enumerable}:t,zv}var Uv,PR;function ah(){return PR||(PR=1,Uv=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}),Uv}var Wv,TR;function hm(){if(TR)return Wv;TR=1;var t=ut(),e=nt(),r=Es(),n=Object,i=t("".split);return Wv=e(function(){return!n("z").propertyIsEnumerable(0)})?function(s){return r(s)==="String"?i(s,""):n(s)}:n,Wv}var Vv,IR;function oh(){return IR||(IR=1,Vv=function(t){return t==null}),Vv}var Hv,RR;function Uo(){if(RR)return Hv;RR=1;var t=oh(),e=TypeError;return Hv=function(r){if(t(r))throw new e("Can't call method on "+r);return r},Hv}var Kv,$R;function Ai(){if($R)return Kv;$R=1;var t=hm(),e=Uo();return Kv=function(r){return t(e(r))},Kv}var Gv,kR;function Yr(){if(kR)return Gv;kR=1;var t=lr();return Gv=function(e){return typeof e=="object"?e!==null:t(e)},Gv}var Yv,DR;function rr(){return DR||(DR=1,Yv={}),Yv}var Qv,MR;function Pn(){if(MR)return Qv;MR=1;var t=rr(),e=Gt(),r=lr(),n=function(i){return r(i)?i:void 0};return Qv=function(i,s){return arguments.length<2?n(t[i])||n(e[i]):t[i]&&t[i][s]||e[i]&&e[i][s]},Qv}var Xv,qR;function ur(){if(qR)return Xv;qR=1;var t=ut();return Xv=t({}.isPrototypeOf),Xv}var Jv,AR;function Au(){if(AR)return Jv;AR=1;var t=Gt(),e=t.navigator,r=e&&e.userAgent;return Jv=r?String(r):"",Jv}var Zv,FR;function lh(){if(FR)return Zv;FR=1;var t=Gt(),e=Au(),r=t.process,n=t.Deno,i=r&&r.versions||n&&n.version,s=i&&i.v8,a,o;return s&&(a=s.split("."),o=a[0]>0&&a[0]<4?1:+(a[0]+a[1])),!o&&e&&(a=e.match(/Edge\/(\d+)/),(!a||a[1]>=74)&&(a=e.match(/Chrome\/(\d+)/),a&&(o=+a[1]))),Zv=o,Zv}var eg,LR;function Fu(){if(LR)return eg;LR=1;var t=lh(),e=nt(),r=Gt(),n=r.String;return eg=!!Object.getOwnPropertySymbols&&!e(function(){var i=Symbol("symbol detection");return!n(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&t&&t<41}),eg}var tg,BR;function KK(){if(BR)return tg;BR=1;var t=Fu();return tg=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol",tg}var rg,zR;function uh(){if(zR)return rg;zR=1;var t=Pn(),e=lr(),r=ur(),n=KK(),i=Object;return rg=n?function(s){return typeof s=="symbol"}:function(s){var a=t("Symbol");return e(a)&&r(a.prototype,i(s))},rg}var ng,UR;function Lu(){if(UR)return ng;UR=1;var t=String;return ng=function(e){try{return t(e)}catch{return"Object"}},ng}var ig,WR;function Ns(){if(WR)return ig;WR=1;var t=lr(),e=Lu(),r=TypeError;return ig=function(n){if(t(n))return n;throw new r(e(n)+" is not a function")},ig}var sg,VR;function xO(){if(VR)return sg;VR=1;var t=Ns(),e=oh();return sg=function(r,n){var i=r[n];return e(i)?void 0:t(i)},sg}var ag,HR;function vae(){if(HR)return ag;HR=1;var t=vn(),e=lr(),r=Yr(),n=TypeError;return ag=function(i,s){var a,o;if(s==="string"&&e(a=i.toString)&&!r(o=t(a,i))||e(a=i.valueOf)&&!r(o=t(a,i))||s!=="string"&&e(a=i.toString)&&!r(o=t(a,i)))return o;throw new n("Can't convert object to primitive value")},ag}var og={exports:{}},lg,KR;function Bu(){return KR||(KR=1,lg=!0),lg}var ug,GR;function gae(){if(GR)return ug;GR=1;var t=Gt(),e=Object.defineProperty;return ug=function(r,n){try{e(t,r,{value:n,configurable:!0,writable:!0})}catch{t[r]=n}return n},ug}var YR;function wO(){if(YR)return og.exports;YR=1;var t=Bu(),e=Gt(),r=gae(),n="__core-js_shared__",i=og.exports=e[n]||r(n,{});return(i.versions||(i.versions=[])).push({version:"3.44.0",mode:t?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),og.exports}var cg,QR;function zu(){if(QR)return cg;QR=1;var t=wO();return cg=function(e,r){return t[e]||(t[e]=r||{})},cg}var dg,XR;function yi(){if(XR)return dg;XR=1;var t=Uo(),e=Object;return dg=function(r){return e(t(r))},dg}var hg,JR;function cr(){if(JR)return hg;JR=1;var t=ut(),e=yi(),r=t({}.hasOwnProperty);return hg=Object.hasOwn||function(i,s){return r(e(i),s)},hg}var fg,ZR;function fm(){if(ZR)return fg;ZR=1;var t=ut(),e=0,r=Math.random(),n=t(1.1.toString);return fg=function(i){return"Symbol("+(i===void 0?"":i)+")_"+n(++e+r,36)},fg}var pg,e$;function dr(){if(e$)return pg;e$=1;var t=Gt(),e=zu(),r=cr(),n=fm(),i=Fu(),s=KK(),a=t.Symbol,o=e("wks"),l=s?a.for||a:a&&a.withoutSetter||n;return pg=function(c){return r(o,c)||(o[c]=i&&r(a,c)?a[c]:l("Symbol."+c)),o[c]},pg}var mg,t$;function GK(){if(t$)return mg;t$=1;var t=vn(),e=Yr(),r=uh(),n=xO(),i=vae(),s=dr(),a=TypeError,o=s("toPrimitive");return mg=function(l,c){if(!e(l)||r(l))return l;var d=n(l,o),h;if(d){if(c===void 0&&(c="default"),h=t(d,l,c),!e(h)||r(h))return h;throw new a("Can't convert object to primitive value")}return c===void 0&&(c="number"),i(l,c)},mg}var vg,r$;function _O(){if(r$)return vg;r$=1;var t=GK(),e=uh();return vg=function(r){var n=t(r,"string");return e(n)?n:n+""},vg}var gg,n$;function YK(){if(n$)return gg;n$=1;var t=Gt(),e=Yr(),r=t.document,n=e(r)&&e(r.createElement);return gg=function(i){return n?r.createElement(i):{}},gg}var yg,i$;function QK(){if(i$)return yg;i$=1;var t=Yt(),e=nt(),r=YK();return yg=!t&&!e(function(){return Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a!==7}),yg}var s$;function pm(){if(s$)return Fv;s$=1;var t=Yt(),e=vn(),r=bO(),n=ah(),i=Ai(),s=_O(),a=cr(),o=QK(),l=Object.getOwnPropertyDescriptor;return Fv.f=t?l:function(d,h){if(d=i(d),h=s(h),o)try{return l(d,h)}catch{}if(a(d,h))return n(!e(r.f,d,h),d[h])},Fv}var bg,a$;function yae(){if(a$)return bg;a$=1;var t=nt(),e=lr(),r=/#|\.prototype\./,n=function(l,c){var d=s[i(l)];return d===o?!0:d===a?!1:e(c)?t(c):!!c},i=n.normalize=function(l){return String(l).replace(r,".").toLowerCase()},s=n.data={},a=n.NATIVE="N",o=n.POLYFILL="P";return bg=n,bg}var xg,o$;function mm(){if(o$)return xg;o$=1;var t=HK(),e=Ns(),r=sh(),n=t(t.bind);return xg=function(i,s){return e(i),s===void 0?i:r?n(i,s):function(){return i.apply(s,arguments)}},xg}var wg={},_g,l$;function XK(){if(l$)return _g;l$=1;var t=Yt(),e=nt();return _g=t&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),_g}var Sg,u$;function js(){if(u$)return Sg;u$=1;var t=Yr(),e=String,r=TypeError;return Sg=function(n){if(t(n))return n;throw new r(e(n)+" is not an object")},Sg}var c$;function Gn(){if(c$)return wg;c$=1;var t=Yt(),e=QK(),r=XK(),n=js(),i=_O(),s=TypeError,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,l="enumerable",c="configurable",d="writable";return wg.f=t?r?function(f,p,v){if(n(f),p=i(p),n(v),typeof f=="function"&&p==="prototype"&&"value"in v&&d in v&&!v[d]){var y=o(f,p);y&&y[d]&&(f[p]=v.value,v={configurable:c in v?v[c]:y[c],enumerable:l in v?v[l]:y[l],writable:!1})}return a(f,p,v)}:a:function(f,p,v){if(n(f),p=i(p),n(v),e)try{return a(f,p,v)}catch{}if("get"in v||"set"in v)throw new s("Accessors not supported");return"value"in v&&(f[p]=v.value),f},wg}var Eg,d$;function Uu(){if(d$)return Eg;d$=1;var t=Yt(),e=Gn(),r=ah();return Eg=t?function(n,i,s){return e.f(n,i,r(1,s))}:function(n,i,s){return n[i]=s,n},Eg}var Ng,h$;function Te(){if(h$)return Ng;h$=1;var t=Gt(),e=dm(),r=HK(),n=lr(),i=pm().f,s=yae(),a=rr(),o=mm(),l=Uu(),c=cr(),d=function(h){var f=function(p,v,y){if(this instanceof f){switch(arguments.length){case 0:return new h;case 1:return new h(p);case 2:return new h(p,v)}return new h(p,v,y)}return e(h,this,arguments)};return f.prototype=h.prototype,f};return Ng=function(h,f){var p=h.target,v=h.global,y=h.stat,x=h.proto,g=v?t:y?t[p]:t[p]&&t[p].prototype,m=v?a:a[p]||l(a,p,{})[p],w=m.prototype,b,_,E,N,S,j,C,P,O;for(N in f)b=s(v?N:p+(y?".":"#")+N,h.forced),_=!b&&g&&c(g,N),j=m[N],_&&(h.dontCallGetSet?(O=i(g,N),C=O&&O.value):C=g[N]),S=_&&C?C:f[N],!(!b&&!x&&typeof j==typeof S)&&(h.bind&&_?P=o(S,t):h.wrap&&_?P=d(S):x&&n(S)?P=r(S):P=S,(h.sham||S&&S.sham||j&&j.sham)&&l(P,"sham",!0),l(m,N,P),x&&(E=p+"Prototype",c(a,E)||l(a,E,{}),l(a[E],N,S),h.real&&w&&(b||!w[N])&&l(w,N,S)))},Ng}var f$;function bae(){if(f$)return gR;f$=1;var t=Te(),e=Yt(),r=Gn().f;return t({target:"Object",stat:!0,forced:Object.defineProperty!==r,sham:!e},{defineProperty:r}),gR}var p$;function xae(){if(p$)return Iv.exports;p$=1,bae();var t=rr(),e=t.Object,r=Iv.exports=function(i,s,a){return e.defineProperty(i,s,a)};return e.defineProperty.sham&&(r.sham=!0),Iv.exports}var jg,m$;function JK(){if(m$)return jg;m$=1;var t=xae();return jg=t,jg}var Cg,v$;function wae(){if(v$)return Cg;v$=1;var t=JK();return Cg=t,Cg}var Og,g$;function _ae(){if(g$)return Og;g$=1;var t=wae();return Og=t,Og}var Pg,y$;function Sae(){return y$||(y$=1,Pg=_ae()),Pg}var Eae=Sae(),Nae=Be(Eae),b$={},Tg,x$;function Wo(){if(x$)return Tg;x$=1;var t=Es();return Tg=Array.isArray||function(r){return t(r)==="Array"},Tg}var Ig,w$;function jae(){if(w$)return Ig;w$=1;var t=Math.ceil,e=Math.floor;return Ig=Math.trunc||function(n){var i=+n;return(i>0?e:t)(i)},Ig}var Rg,_$;function Wu(){if(_$)return Rg;_$=1;var t=jae();return Rg=function(e){var r=+e;return r!==r||r===0?0:t(r)},Rg}var $g,S$;function ZK(){if(S$)return $g;S$=1;var t=Wu(),e=Math.min;return $g=function(r){var n=t(r);return n>0?e(n,9007199254740991):0},$g}var kg,E$;function Ca(){if(E$)return kg;E$=1;var t=ZK();return kg=function(e){return t(e.length)},kg}var Dg,N$;function eG(){if(N$)return Dg;N$=1;var t=TypeError,e=9007199254740991;return Dg=function(r){if(r>e)throw t("Maximum allowed index exceeded");return r},Dg}var Mg,j$;function vm(){if(j$)return Mg;j$=1;var t=Yt(),e=Gn(),r=ah();return Mg=function(n,i,s){t?e.f(n,i,r(0,s)):n[i]=s},Mg}var qg,C$;function SO(){if(C$)return qg;C$=1;var t=dr(),e=t("toStringTag"),r={};return r[e]="z",qg=String(r)==="[object z]",qg}var Ag,O$;function Oa(){if(O$)return Ag;O$=1;var t=SO(),e=lr(),r=Es(),n=dr(),i=n("toStringTag"),s=Object,a=r(function(){return arguments}())==="Arguments",o=function(l,c){try{return l[c]}catch{}};return Ag=t?r:function(l){var c,d,h;return l===void 0?"Undefined":l===null?"Null":typeof(d=o(c=s(l),i))=="string"?d:a?r(c):(h=r(c))==="Object"&&e(c.callee)?"Arguments":h},Ag}var Fg,P$;function Cae(){if(P$)return Fg;P$=1;var t=ut(),e=lr(),r=wO(),n=t(Function.toString);return e(r.inspectSource)||(r.inspectSource=function(i){return n(i)}),Fg=r.inspectSource,Fg}var Lg,T$;function tG(){if(T$)return Lg;T$=1;var t=ut(),e=nt(),r=lr(),n=Oa(),i=Pn(),s=Cae(),a=function(){},o=i("Reflect","construct"),l=/^\s*(?:class|function)\b/,c=t(l.exec),d=!l.test(a),h=function(v){if(!r(v))return!1;try{return o(a,[],v),!0}catch{return!1}},f=function(v){if(!r(v))return!1;switch(n(v)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!c(l,s(v))}catch{return!0}};return f.sham=!0,Lg=!o||e(function(){var p;return h(h.call)||!h(Object)||!h(function(){p=!0})||p})?f:h,Lg}var Bg,I$;function Oae(){if(I$)return Bg;I$=1;var t=Wo(),e=tG(),r=Yr(),n=dr(),i=n("species"),s=Array;return Bg=function(a){var o;return t(a)&&(o=a.constructor,e(o)&&(o===s||t(o.prototype))?o=void 0:r(o)&&(o=o[i],o===null&&(o=void 0))),o===void 0?s:o},Bg}var zg,R$;function EO(){if(R$)return zg;R$=1;var t=Oae();return zg=function(e,r){return new(t(e))(r===0?0:r)},zg}var Ug,$$;function ch(){if($$)return Ug;$$=1;var t=nt(),e=dr(),r=lh(),n=e("species");return Ug=function(i){return r>=51||!t(function(){var s=[],a=s.constructor={};return a[n]=function(){return{foo:1}},s[i](Boolean).foo!==1})},Ug}var k$;function rG(){if(k$)return b$;k$=1;var t=Te(),e=nt(),r=Wo(),n=Yr(),i=yi(),s=Ca(),a=eG(),o=vm(),l=EO(),c=ch(),d=dr(),h=lh(),f=d("isConcatSpreadable"),p=h>=51||!e(function(){var x=[];return x[f]=!1,x.concat()[0]!==x}),v=function(x){if(!n(x))return!1;var g=x[f];return g!==void 0?!!g:r(x)},y=!p||!c("concat");return t({target:"Array",proto:!0,arity:1,forced:y},{concat:function(g){var m=i(this),w=l(m,0),b=0,_,E,N,S,j;for(_=-1,N=arguments.length;_<N;_++)if(j=_===-1?m:arguments[_],v(j))for(S=s(j),a(b+S),E=0;E<S;E++,b++)E in j&&o(w,b,j[E]);else a(b+1),o(w,b++,j);return w.length=b,w}}),b$}var D$={},M$={},Wg,q$;function Pa(){if(q$)return Wg;q$=1;var t=Oa(),e=String;return Wg=function(r){if(t(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(r)},Wg}var Vg={},Hg,A$;function NO(){if(A$)return Hg;A$=1;var t=Wu(),e=Math.max,r=Math.min;return Hg=function(n,i){var s=t(n);return s<0?e(s+i,0):r(s,i)},Hg}var Kg,F$;function Pae(){if(F$)return Kg;F$=1;var t=Ai(),e=NO(),r=Ca(),n=function(i){return function(s,a,o){var l=t(s),c=r(l);if(c===0)return!i&&-1;var d=e(o,c),h;if(i&&a!==a){for(;c>d;)if(h=l[d++],h!==h)return!0}else for(;c>d;d++)if((i||d in l)&&l[d]===a)return i||d||0;return!i&&-1}};return Kg={includes:n(!0),indexOf:n(!1)},Kg}var Gg,L$;function dh(){return L$||(L$=1,Gg={}),Gg}var Yg,B$;function nG(){if(B$)return Yg;B$=1;var t=ut(),e=cr(),r=Ai(),n=Pae().indexOf,i=dh(),s=t([].push);return Yg=function(a,o){var l=r(a),c=0,d=[],h;for(h in l)!e(i,h)&&e(l,h)&&s(d,h);for(;o.length>c;)e(l,h=o[c++])&&(~n(d,h)||s(d,h));return d},Yg}var Qg,z$;function jO(){return z$||(z$=1,Qg=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),Qg}var Xg,U$;function gm(){if(U$)return Xg;U$=1;var t=nG(),e=jO();return Xg=Object.keys||function(n){return t(n,e)},Xg}var W$;function CO(){if(W$)return Vg;W$=1;var t=Yt(),e=XK(),r=Gn(),n=js(),i=Ai(),s=gm();return Vg.f=t&&!e?Object.defineProperties:function(o,l){n(o);for(var c=i(l),d=s(l),h=d.length,f=0,p;h>f;)r.f(o,p=d[f++],c[p]);return o},Vg}var Jg,V$;function Tae(){if(V$)return Jg;V$=1;var t=Pn();return Jg=t("document","documentElement"),Jg}var Zg,H$;function ym(){if(H$)return Zg;H$=1;var t=zu(),e=fm(),r=t("keys");return Zg=function(n){return r[n]||(r[n]=e(n))},Zg}var ey,K$;function hh(){if(K$)return ey;K$=1;var t=js(),e=CO(),r=jO(),n=dh(),i=Tae(),s=YK(),a=ym(),o=">",l="<",c="prototype",d="script",h=a("IE_PROTO"),f=function(){},p=function(m){return l+d+o+m+l+"/"+d+o},v=function(m){m.write(p("")),m.close();var w=m.parentWindow.Object;return m=null,w},y=function(){var m=s("iframe"),w="java"+d+":",b;return m.style.display="none",i.appendChild(m),m.src=String(w),b=m.contentWindow.document,b.open(),b.write(p("document.F=Object")),b.close(),b.F},x,g=function(){try{x=new ActiveXObject("htmlfile")}catch{}g=typeof document<"u"?document.domain&&x?v(x):y():v(x);for(var m=r.length;m--;)delete g[c][r[m]];return g()};return n[h]=!0,ey=Object.create||function(w,b){var _;return w!==null?(f[c]=t(w),_=new f,f[c]=null,_[h]=w):_=g(),b===void 0?_:e.f(_,b)},ey}var ty={},G$;function bm(){if(G$)return ty;G$=1;var t=nG(),e=jO(),r=e.concat("length","prototype");return ty.f=Object.getOwnPropertyNames||function(i){return t(i,r)},ty}var ry={},ny,Y$;function Vu(){if(Y$)return ny;Y$=1;var t=ut();return ny=t([].slice),ny}var Q$;function iG(){if(Q$)return ry;Q$=1;var t=Es(),e=Ai(),r=bm().f,n=Vu(),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(a){try{return r(a)}catch{return n(i)}};return ry.f=function(o){return i&&t(o)==="Window"?s(o):r(e(o))},ry}var iy={},X$;function xm(){return X$||(X$=1,iy.f=Object.getOwnPropertySymbols),iy}var sy,J$;function fh(){if(J$)return sy;J$=1;var t=Uu();return sy=function(e,r,n,i){return i&&i.enumerable?e[r]=n:t(e,r,n),e},sy}var ay,Z$;function OO(){if(Z$)return ay;Z$=1;var t=Gn();return ay=function(e,r,n){return t.f(e,r,n)},ay}var oy={},ek;function wm(){if(ek)return oy;ek=1;var t=dr();return oy.f=t,oy}var ly,tk;function Ct(){if(tk)return ly;tk=1;var t=rr(),e=cr(),r=wm(),n=Gn().f;return ly=function(i){var s=t.Symbol||(t.Symbol={});e(s,i)||n(s,i,{value:r.f(i)})},ly}var uy,rk;function sG(){if(rk)return uy;rk=1;var t=vn(),e=Pn(),r=dr(),n=fh();return uy=function(){var i=e("Symbol"),s=i&&i.prototype,a=s&&s.valueOf,o=r("toPrimitive");s&&!s[o]&&n(s,o,function(l){return t(a,this)},{arity:1})},uy}var cy,nk;function Iae(){if(nk)return cy;nk=1;var t=SO(),e=Oa();return cy=t?{}.toString:function(){return"[object "+e(this)+"]"},cy}var dy,ik;function Vo(){if(ik)return dy;ik=1;var t=SO(),e=Gn().f,r=Uu(),n=cr(),i=Iae(),s=dr(),a=s("toStringTag");return dy=function(o,l,c,d){var h=c?o:o&&o.prototype;h&&(n(h,a)||e(h,a,{configurable:!0,value:l}),d&&!t&&r(h,"toString",i))},dy}var hy,sk;function Rae(){if(sk)return hy;sk=1;var t=Gt(),e=lr(),r=t.WeakMap;return hy=e(r)&&/native code/.test(String(r)),hy}var fy,ak;function ph(){if(ak)return fy;ak=1;var t=Rae(),e=Gt(),r=Yr(),n=Uu(),i=cr(),s=wO(),a=ym(),o=dh(),l="Object already initialized",c=e.TypeError,d=e.WeakMap,h,f,p,v=function(m){return p(m)?f(m):h(m,{})},y=function(m){return function(w){var b;if(!r(w)||(b=f(w)).type!==m)throw new c("Incompatible receiver, "+m+" required");return b}};if(t||s.state){var x=s.state||(s.state=new d);x.get=x.get,x.has=x.has,x.set=x.set,h=function(m,w){if(x.has(m))throw new c(l);return w.facade=m,x.set(m,w),w},f=function(m){return x.get(m)||{}},p=function(m){return x.has(m)}}else{var g=a("state");o[g]=!0,h=function(m,w){if(i(m,g))throw new c(l);return w.facade=m,n(m,g,w),w},f=function(m){return i(m,g)?m[g]:{}},p=function(m){return i(m,g)}}return fy={set:h,get:f,has:p,enforce:v,getterFor:y},fy}var py,ok;function Hu(){if(ok)return py;ok=1;var t=mm(),e=ut(),r=hm(),n=yi(),i=Ca(),s=EO(),a=e([].push),o=function(l){var c=l===1,d=l===2,h=l===3,f=l===4,p=l===6,v=l===7,y=l===5||p;return function(x,g,m,w){for(var b=n(x),_=r(b),E=i(_),N=t(g,m),S=0,j=w||s,C=c?j(x,E):d||v?j(x,0):void 0,P,O;E>S;S++)if((y||S in _)&&(P=_[S],O=N(P,S,b),l))if(c)C[S]=O;else if(O)switch(l){case 3:return!0;case 5:return P;case 6:return S;case 2:a(C,P)}else switch(l){case 4:return!1;case 7:a(C,P)}return p?-1:h||f?f:C}};return py={forEach:o(0),map:o(1),filter:o(2),some:o(3),every:o(4),find:o(5),findIndex:o(6),filterReject:o(7)},py}var lk;function $ae(){if(lk)return M$;lk=1;var t=Te(),e=Gt(),r=vn(),n=ut(),i=Bu(),s=Yt(),a=Fu(),o=nt(),l=cr(),c=ur(),d=js(),h=Ai(),f=_O(),p=Pa(),v=ah(),y=hh(),x=gm(),g=bm(),m=iG(),w=xm(),b=pm(),_=Gn(),E=CO(),N=bO(),S=fh(),j=OO(),C=zu(),P=ym(),O=dh(),I=fm(),M=dr(),k=wm(),K=Ct(),H=sG(),A=Vo(),G=ph(),W=Hu().forEach,z=P("hidden"),F="Symbol",ee="prototype",oe=G.set,Ne=G.getterFor(F),ye=Object[ee],Ee=e.Symbol,ke=Ee&&Ee[ee],st=e.RangeError,nr=e.TypeError,bt=e.QObject,pr=b.f,ct=_.f,Ir=m.f,Rr=N.f,Sr=n([].push),at=C("symbols"),Bt=C("op-symbols"),$r=C("wks"),kr=!bt||!bt[ee]||!bt[ee].findChild,$=function(ge,J,ce){var le=pr(ye,J);le&&delete ye[J],ct(ge,J,ce),le&&ge!==ye&&ct(ye,J,le)},q=s&&o(function(){return y(ct({},"a",{get:function(){return ct(this,"a",{value:7}).a}})).a!==7})?$:ct,B=function(ge,J){var ce=at[ge]=y(ke);return oe(ce,{type:F,tag:ge,description:J}),s||(ce.description=J),ce},ae=function(J,ce,le){J===ye&&ae(Bt,ce,le),d(J);var we=f(ce);return d(le),l(at,we)?(le.enumerable?(l(J,z)&&J[z][we]&&(J[z][we]=!1),le=y(le,{enumerable:v(0,!1)})):(l(J,z)||ct(J,z,v(1,y(null))),J[z][we]=!0),q(J,we,le)):ct(J,we,le)},ne=function(J,ce){d(J);var le=h(ce),we=x(le).concat(Ue(le));return W(we,function(De){(!s||r(V,le,De))&&ae(J,De,le[De])}),J},X=function(J,ce){return ce===void 0?y(J):ne(y(J),ce)},V=function(J){var ce=f(J),le=r(Rr,this,ce);return this===ye&&l(at,ce)&&!l(Bt,ce)?!1:le||!l(this,ce)||!l(at,ce)||l(this,z)&&this[z][ce]?le:!0},ue=function(J,ce){var le=h(J),we=f(ce);if(!(le===ye&&l(at,we)&&!l(Bt,we))){var De=pr(le,we);return De&&l(at,we)&&!(l(le,z)&&le[z][we])&&(De.enumerable=!0),De}},pe=function(J){var ce=Ir(h(J)),le=[];return W(ce,function(we){!l(at,we)&&!l(O,we)&&Sr(le,we)}),le},Ue=function(ge){var J=ge===ye,ce=Ir(J?Bt:h(ge)),le=[];return W(ce,function(we){l(at,we)&&(!J||l(ye,we))&&Sr(le,at[we])}),le};return a||(Ee=function(){if(c(ke,this))throw new nr("Symbol is not a constructor");var J=!arguments.length||arguments[0]===void 0?void 0:p(arguments[0]),ce=I(J),le=function(we){var De=this===void 0?e:this;De===ye&&r(le,Bt,we),l(De,z)&&l(De[z],ce)&&(De[z][ce]=!1);var Qr=v(1,we);try{q(De,ce,Qr)}catch(Rn){if(!(Rn instanceof st))throw Rn;$(De,ce,Qr)}};return s&&kr&&q(ye,ce,{configurable:!0,set:le}),B(ce,J)},ke=Ee[ee],S(ke,"toString",function(){return Ne(this).tag}),S(Ee,"withoutSetter",function(ge){return B(I(ge),ge)}),N.f=V,_.f=ae,E.f=ne,b.f=ue,g.f=m.f=pe,w.f=Ue,k.f=function(ge){return B(M(ge),ge)},s&&(j(ke,"description",{configurable:!0,get:function(){return Ne(this).description}}),i||S(ye,"propertyIsEnumerable",V,{unsafe:!0}))),t({global:!0,constructor:!0,wrap:!0,forced:!a,sham:!a},{Symbol:Ee}),W(x($r),function(ge){K(ge)}),t({target:F,stat:!0,forced:!a},{useSetter:function(){kr=!0},useSimple:function(){kr=!1}}),t({target:"Object",stat:!0,forced:!a,sham:!s},{create:X,defineProperty:ae,defineProperties:ne,getOwnPropertyDescriptor:ue}),t({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:pe}),H(),A(Ee,F),O[z]=!0,M$}var uk={},my,ck;function aG(){if(ck)return my;ck=1;var t=Fu();return my=t&&!!Symbol.for&&!!Symbol.keyFor,my}var dk;function kae(){if(dk)return uk;dk=1;var t=Te(),e=Pn(),r=cr(),n=Pa(),i=zu(),s=aG(),a=i("string-to-symbol-registry"),o=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{for:function(l){var c=n(l);if(r(a,c))return a[c];var d=e("Symbol")(c);return a[c]=d,o[d]=c,d}}),uk}var hk={},fk;function Dae(){if(fk)return hk;fk=1;var t=Te(),e=cr(),r=uh(),n=Lu(),i=zu(),s=aG(),a=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{keyFor:function(l){if(!r(l))throw new TypeError(n(l)+" is not a symbol");if(e(a,l))return a[l]}}),hk}var pk={},vy,mk;function Mae(){if(mk)return vy;mk=1;var t=ut(),e=Wo(),r=lr(),n=Es(),i=Pa(),s=t([].push);return vy=function(a){if(r(a))return a;if(e(a)){for(var o=a.length,l=[],c=0;c<o;c++){var d=a[c];typeof d=="string"?s(l,d):(typeof d=="number"||n(d)==="Number"||n(d)==="String")&&s(l,i(d))}var h=l.length,f=!0;return function(p,v){if(f)return f=!1,v;if(e(this))return v;for(var y=0;y<h;y++)if(l[y]===p)return v}}},vy}var vk;function oG(){if(vk)return pk;vk=1;var t=Te(),e=Pn(),r=dm(),n=vn(),i=ut(),s=nt(),a=lr(),o=uh(),l=Vu(),c=Mae(),d=Fu(),h=String,f=e("JSON","stringify"),p=i(/./.exec),v=i("".charAt),y=i("".charCodeAt),x=i("".replace),g=i(1.1.toString),m=/[\uD800-\uDFFF]/g,w=/^[\uD800-\uDBFF]$/,b=/^[\uDC00-\uDFFF]$/,_=!d||s(function(){var j=e("Symbol")("stringify detection");return f([j])!=="[null]"||f({a:j})!=="{}"||f(Object(j))!=="{}"}),E=s(function(){return f("\uDF06\uD834")!=='"\\udf06\\ud834"'||f("\uDEAD")!=='"\\udead"'}),N=function(j,C){var P=l(arguments),O=c(C);if(!(!a(O)&&(j===void 0||o(j))))return P[1]=function(I,M){if(a(O)&&(M=n(O,this,h(I),M)),!o(M))return M},r(f,null,P)},S=function(j,C,P){var O=v(P,C-1),I=v(P,C+1);return p(w,j)&&!p(b,I)||p(b,j)&&!p(w,O)?"\\u"+g(y(j,0),16):j};return f&&t({target:"JSON",stat:!0,arity:3,forced:_||E},{stringify:function(C,P,O){var I=l(arguments),M=r(_?N:f,null,I);return E&&typeof M=="string"?x(M,m,S):M}}),pk}var gk={},yk;function qae(){if(yk)return gk;yk=1;var t=Te(),e=Fu(),r=nt(),n=xm(),i=yi(),s=!e||r(function(){n.f(1)});return t({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(o){var l=n.f;return l?l(i(o)):[]}}),gk}var bk;function lG(){return bk||(bk=1,$ae(),kae(),Dae(),oG(),qae()),D$}var xk={},wk;function uG(){if(wk)return xk;wk=1;var t=Ct();return t("asyncDispose"),xk}var _k={},Sk;function Aae(){if(Sk)return _k;Sk=1;var t=Ct();return t("asyncIterator"),_k}var Ek={},Nk;function cG(){if(Nk)return Ek;Nk=1;var t=Ct();return t("dispose"),Ek}var jk={},Ck;function Fae(){if(Ck)return jk;Ck=1;var t=Ct();return t("hasInstance"),jk}var Ok={},Pk;function Lae(){if(Pk)return Ok;Pk=1;var t=Ct();return t("isConcatSpreadable"),Ok}var Tk={},Ik;function dG(){if(Ik)return Tk;Ik=1;var t=Ct();return t("iterator"),Tk}var Rk={},$k;function Bae(){if($k)return Rk;$k=1;var t=Ct();return t("match"),Rk}var kk={},Dk;function zae(){if(Dk)return kk;Dk=1;var t=Ct();return t("matchAll"),kk}var Mk={},qk;function Uae(){if(qk)return Mk;qk=1;var t=Ct();return t("replace"),Mk}var Ak={},Fk;function Wae(){if(Fk)return Ak;Fk=1;var t=Ct();return t("search"),Ak}var Lk={},Bk;function Vae(){if(Bk)return Lk;Bk=1;var t=Ct();return t("species"),Lk}var zk={},Uk;function Hae(){if(Uk)return zk;Uk=1;var t=Ct();return t("split"),zk}var Wk={},Vk;function hG(){if(Vk)return Wk;Vk=1;var t=Ct(),e=sG();return t("toPrimitive"),e(),Wk}var Hk={},Kk;function Kae(){if(Kk)return Hk;Kk=1;var t=Pn(),e=Ct(),r=Vo();return e("toStringTag"),r(t("Symbol"),"Symbol"),Hk}var Gk={},Yk;function Gae(){if(Yk)return Gk;Yk=1;var t=Ct();return t("unscopables"),Gk}var Qk={},Xk;function Yae(){if(Xk)return Qk;Xk=1;var t=Gt(),e=Vo();return e(t.JSON,"JSON",!0),Qk}var gy,Jk;function Qae(){if(Jk)return gy;Jk=1,rG(),lG(),uG(),Aae(),cG(),Fae(),Lae(),dG(),Bae(),zae(),Uae(),Wae(),Vae(),Hae(),hG(),Kae(),Gae(),Yae();var t=rr();return gy=t.Symbol,gy}var Zk={},yy,eD;function Xae(){return eD||(eD=1,yy=function(){}),yy}var by,tD;function Ku(){return tD||(tD=1,by={}),by}var xy,rD;function Jae(){if(rD)return xy;rD=1;var t=Yt(),e=cr(),r=Function.prototype,n=t&&Object.getOwnPropertyDescriptor,i=e(r,"name"),s=i&&(function(){}).name==="something",a=i&&(!t||t&&n(r,"name").configurable);return xy={EXISTS:i,PROPER:s,CONFIGURABLE:a},xy}var wy,nD;function Zae(){if(nD)return wy;nD=1;var t=nt();return wy=!t(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),wy}var _y,iD;function fG(){if(iD)return _y;iD=1;var t=cr(),e=lr(),r=yi(),n=ym(),i=Zae(),s=n("IE_PROTO"),a=Object,o=a.prototype;return _y=i?a.getPrototypeOf:function(l){var c=r(l);if(t(c,s))return c[s];var d=c.constructor;return e(d)&&c instanceof d?d.prototype:c instanceof a?o:null},_y}var Sy,sD;function pG(){if(sD)return Sy;sD=1;var t=nt(),e=lr(),r=Yr(),n=hh(),i=fG(),s=fh(),a=dr(),o=Bu(),l=a("iterator"),c=!1,d,h,f;[].keys&&(f=[].keys(),"next"in f?(h=i(i(f)),h!==Object.prototype&&(d=h)):c=!0);var p=!r(d)||t(function(){var v={};return d[l].call(v)!==v});return p?d={}:o&&(d=n(d)),e(d[l])||s(d,l,function(){return this}),Sy={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:c},Sy}var Ey,aD;function eoe(){if(aD)return Ey;aD=1;var t=pG().IteratorPrototype,e=hh(),r=ah(),n=Vo(),i=Ku(),s=function(){return this};return Ey=function(a,o,l,c){var d=o+" Iterator";return a.prototype=e(t,{next:r(+!c,l)}),n(a,d,!1,!0),i[d]=s,a},Ey}var Ny,oD;function toe(){if(oD)return Ny;oD=1;var t=ut(),e=Ns();return Ny=function(r,n,i){try{return t(e(Object.getOwnPropertyDescriptor(r,n)[i]))}catch{}},Ny}var jy,lD;function roe(){if(lD)return jy;lD=1;var t=Yr();return jy=function(e){return t(e)||e===null},jy}var Cy,uD;function noe(){if(uD)return Cy;uD=1;var t=roe(),e=String,r=TypeError;return Cy=function(n){if(t(n))return n;throw new r("Can't set "+e(n)+" as a prototype")},Cy}var Oy,cD;function ioe(){if(cD)return Oy;cD=1;var t=toe(),e=Yr(),r=Uo(),n=noe();return Oy=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,s={},a;try{a=t(Object.prototype,"__proto__","set"),a(s,[]),i=s instanceof Array}catch{}return function(l,c){return r(l),n(c),e(l)&&(i?a(l,c):l.__proto__=c),l}}():void 0),Oy}var Py,dD;function PO(){if(dD)return Py;dD=1;var t=Te(),e=vn(),r=Bu(),n=Jae(),i=lr(),s=eoe(),a=fG(),o=ioe(),l=Vo(),c=Uu(),d=fh(),h=dr(),f=Ku(),p=pG(),v=n.PROPER,y=n.CONFIGURABLE,x=p.IteratorPrototype,g=p.BUGGY_SAFARI_ITERATORS,m=h("iterator"),w="keys",b="values",_="entries",E=function(){return this};return Py=function(N,S,j,C,P,O,I){s(j,S,C);var M=function(oe){if(oe===P&&G)return G;if(!g&&oe&&oe in H)return H[oe];switch(oe){case w:return function(){return new j(this,oe)};case b:return function(){return new j(this,oe)};case _:return function(){return new j(this,oe)}}return function(){return new j(this)}},k=S+" Iterator",K=!1,H=N.prototype,A=H[m]||H["@@iterator"]||P&&H[P],G=!g&&A||M(P),W=S==="Array"&&H.entries||A,z,F,ee;if(W&&(z=a(W.call(new N)),z!==Object.prototype&&z.next&&(!r&&a(z)!==x&&(o?o(z,x):i(z[m])||d(z,m,E)),l(z,k,!0,!0),r&&(f[k]=E))),v&&P===b&&A&&A.name!==b&&(!r&&y?c(H,"name",b):(K=!0,G=function(){return e(A,this)})),P)if(F={values:M(b),keys:O?G:M(w),entries:M(_)},I)for(ee in F)(g||K||!(ee in H))&&d(H,ee,F[ee]);else t({target:S,proto:!0,forced:g||K},F);return(!r||I)&&H[m]!==G&&d(H,m,G,{name:P}),f[S]=G,F},Py}var Ty,hD;function TO(){return hD||(hD=1,Ty=function(t,e){return{value:t,done:e}}),Ty}var Iy,fD;function Ta(){if(fD)return Iy;fD=1;var t=Ai(),e=Xae(),r=Ku(),n=ph(),i=Gn().f,s=PO(),a=TO(),o=Bu(),l=Yt(),c="Array Iterator",d=n.set,h=n.getterFor(c);Iy=s(Array,"Array",function(p,v){d(this,{type:c,target:t(p),index:0,kind:v})},function(){var p=h(this),v=p.target,y=p.index++;if(!v||y>=v.length)return p.target=null,a(void 0,!0);switch(p.kind){case"keys":return a(y,!1);case"values":return a(v[y],!1)}return a([y,v[y]],!1)},"values");var f=r.Arguments=r.Array;if(e("keys"),e("values"),e("entries"),!o&&l&&f.name!=="values")try{i(f,"name",{value:"values"})}catch{}return Iy}var Ry,pD;function soe(){return pD||(pD=1,Ry={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),Ry}var mD;function Ia(){if(mD)return Zk;mD=1,Ta();var t=soe(),e=Gt(),r=Vo(),n=Ku();for(var i in t)r(e[i],i),n[i]=n.Array;return Zk}var $y,vD;function mG(){if(vD)return $y;vD=1;var t=Qae();return Ia(),$y=t,$y}var gD={},yD;function aoe(){if(yD)return gD;yD=1;var t=dr(),e=Gn().f,r=t("metadata"),n=Function.prototype;return n[r]===void 0&&e(n,r,{value:null}),gD}var bD={},xD;function ooe(){return xD||(xD=1,uG()),bD}var wD={},_D;function loe(){return _D||(_D=1,cG()),wD}var SD={},ED;function uoe(){if(ED)return SD;ED=1;var t=Ct();return t("metadata"),SD}var ky,ND;function coe(){if(ND)return ky;ND=1;var t=mG();return aoe(),ooe(),loe(),uoe(),ky=t,ky}var jD={},Dy,CD;function vG(){if(CD)return Dy;CD=1;var t=Pn(),e=ut(),r=t("Symbol"),n=r.keyFor,i=e(r.prototype.valueOf);return Dy=r.isRegisteredSymbol||function(a){try{return n(i(a))!==void 0}catch{return!1}},Dy}var OD;function doe(){if(OD)return jD;OD=1;var t=Te(),e=vG();return t({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),jD}var PD={},My,TD;function gG(){if(TD)return My;TD=1;for(var t=zu(),e=Pn(),r=ut(),n=uh(),i=dr(),s=e("Symbol"),a=s.isWellKnownSymbol,o=e("Object","getOwnPropertyNames"),l=r(s.prototype.valueOf),c=t("wks"),d=0,h=o(s),f=h.length;d<f;d++)try{var p=h[d];n(s[p])&&i(p)}catch{}return My=function(y){if(a&&a(y))return!0;try{for(var x=l(y),g=0,m=o(c),w=m.length;g<w;g++)if(c[m[g]]==x)return!0}catch{}return!1},My}var ID;function hoe(){if(ID)return PD;ID=1;var t=Te(),e=gG();return t({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),PD}var RD={},$D;function foe(){if($D)return RD;$D=1;var t=Ct();return t("customMatcher"),RD}var kD={},DD;function poe(){if(DD)return kD;DD=1;var t=Ct();return t("observable"),kD}var MD={},qD;function moe(){if(qD)return MD;qD=1;var t=Te(),e=vG();return t({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),MD}var AD={},FD;function voe(){if(FD)return AD;FD=1;var t=Te(),e=gG();return t({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),AD}var LD={},BD;function goe(){if(BD)return LD;BD=1;var t=Ct();return t("matcher"),LD}var zD={},UD;function yoe(){if(UD)return zD;UD=1;var t=Ct();return t("metadataKey"),zD}var WD={},VD;function boe(){if(VD)return WD;VD=1;var t=Ct();return t("patternMatch"),WD}var HD={},KD;function xoe(){if(KD)return HD;KD=1;var t=Ct();return t("replaceAll"),HD}var qy,GD;function woe(){if(GD)return qy;GD=1;var t=coe();return doe(),hoe(),foe(),poe(),moe(),voe(),goe(),yoe(),boe(),xoe(),qy=t,qy}var Ay,YD;function _oe(){return YD||(YD=1,Ay=woe()),Ay}var Soe=_oe(),hf=Be(Soe),QD={},Fy,XD;function Eoe(){if(XD)return Fy;XD=1;var t=ut(),e=Wu(),r=Pa(),n=Uo(),i=t("".charAt),s=t("".charCodeAt),a=t("".slice),o=function(l){return function(c,d){var h=r(n(c)),f=e(d),p=h.length,v,y;return f<0||f>=p?l?"":void 0:(v=s(h,f),v<55296||v>56319||f+1===p||(y=s(h,f+1))<56320||y>57343?l?i(h,f):v:l?a(h,f,f+2):(v-55296<<10)+(y-56320)+65536)}};return Fy={codeAt:o(!1),charAt:o(!0)},Fy}var JD;function _m(){if(JD)return QD;JD=1;var t=Eoe().charAt,e=Pa(),r=ph(),n=PO(),i=TO(),s="String Iterator",a=r.set,o=r.getterFor(s);return n(String,"String",function(l){a(this,{type:s,string:e(l),index:0})},function(){var c=o(this),d=c.string,h=c.index,f;return h>=d.length?i(void 0,!0):(f=t(d,h),c.index+=f.length,i(f,!1))}),QD}var Ly,ZD;function Noe(){if(ZD)return Ly;ZD=1,Ta(),_m(),dG();var t=wm();return Ly=t.f("iterator"),Ly}var By,eM;function yG(){if(eM)return By;eM=1;var t=Noe();return Ia(),By=t,By}var zy,tM;function joe(){if(tM)return zy;tM=1;var t=yG();return zy=t,zy}var Uy,rM;function Coe(){if(rM)return Uy;rM=1;var t=joe();return Uy=t,Uy}var Wy,nM;function Ooe(){return nM||(nM=1,Wy=Coe()),Wy}var Poe=Ooe(),Toe=Be(Poe);function Nd(t){"@babel/helpers - typeof";return Nd=typeof hf=="function"&&typeof Toe=="symbol"?function(e){return typeof e}:function(e){return e&&typeof hf=="function"&&e.constructor===hf&&e!==hf.prototype?"symbol":typeof e},Nd(t)}var Vy,iM;function Ioe(){if(iM)return Vy;iM=1,hG();var t=wm();return Vy=t.f("toPrimitive"),Vy}var Hy,sM;function Roe(){if(sM)return Hy;sM=1;var t=Ioe();return Hy=t,Hy}var Ky,aM;function $oe(){if(aM)return Ky;aM=1;var t=Roe();return Ky=t,Ky}var Gy,oM;function koe(){if(oM)return Gy;oM=1;var t=$oe();return Gy=t,Gy}var Yy,lM;function Doe(){return lM||(lM=1,Yy=koe()),Yy}var Moe=Doe(),qoe=Be(Moe);function Aoe(t,e){if(Nd(t)!="object"||!t)return t;var r=t[qoe];if(r!==void 0){var n=r.call(t,e);if(Nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Foe(t){var e=Aoe(t,"string");return Nd(e)=="symbol"?e:e+""}function ha(t,e,r){return(e=Foe(e))in t?Nae(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var uM={},Qy,cM;function Loe(){if(cM)return Qy;cM=1;var t=ut(),e=Ns(),r=Yr(),n=cr(),i=Vu(),s=sh(),a=Function,o=t([].concat),l=t([].join),c={},d=function(h,f,p){if(!n(c,f)){for(var v=[],y=0;y<f;y++)v[y]="a["+y+"]";c[f]=a("C,a","return new C("+l(v,",")+")")}return c[f](h,p)};return Qy=s?a.bind:function(f){var p=e(this),v=p.prototype,y=i(arguments,1),x=function(){var m=o(y,i(arguments));return this instanceof x?d(p,m.length,m):p.apply(f,m)};return r(v)&&(x.prototype=v),x},Qy}var dM;function Boe(){if(dM)return uM;dM=1;var t=Te(),e=Loe();return t({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),uM}var Xy,hM;function gn(){if(hM)return Xy;hM=1;var t=Gt(),e=rr();return Xy=function(r,n){var i=e[r+"Prototype"],s=i&&i[n];if(s)return s;var a=t[r],o=a&&a.prototype;return o&&o[n]},Xy}var Jy,fM;function zoe(){if(fM)return Jy;fM=1,Boe();var t=gn();return Jy=t("Function","bind"),Jy}var Zy,pM;function Uoe(){if(pM)return Zy;pM=1;var t=ur(),e=zoe(),r=Function.prototype;return Zy=function(n){var i=n.bind;return n===r||t(r,n)&&i===r.bind?e:i},Zy}var e0,mM;function Woe(){if(mM)return e0;mM=1;var t=Uoe();return e0=t,e0}var t0,vM;function Voe(){return vM||(vM=1,t0=Woe()),t0}var Hoe=Voe(),bG=Be(Hoe),gM={},r0,yM;function Koe(){if(yM)return r0;yM=1;var t=Ns(),e=yi(),r=hm(),n=Ca(),i=TypeError,s="Reduce of empty array with no initial value",a=function(o){return function(l,c,d,h){var f=e(l),p=r(f),v=n(f);if(t(c),v===0&&d<2)throw new i(s);var y=o?v-1:0,x=o?-1:1;if(d<2)for(;;){if(y in p){h=p[y],y+=x;break}if(y+=x,o?y<0:v<=y)throw new i(s)}for(;o?y>=0:v>y;y+=x)y in p&&(h=c(h,p[y],y,f));return h}};return r0={left:a(!1),right:a(!0)},r0}var n0,bM;function Sm(){if(bM)return n0;bM=1;var t=nt();return n0=function(e,r){var n=[][e];return!!n&&t(function(){n.call(null,r||function(){return 1},1)})},n0}var i0,xM;function xG(){if(xM)return i0;xM=1;var t=Gt(),e=Au(),r=Es(),n=function(i){return e.slice(0,i.length)===i};return i0=function(){return n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":t.Bun&&typeof Bun.version=="string"?"BUN":t.Deno&&typeof Deno.version=="object"?"DENO":r(t.process)==="process"?"NODE":t.window&&t.document?"BROWSER":"REST"}(),i0}var s0,wM;function Goe(){if(wM)return s0;wM=1;var t=xG();return s0=t==="NODE",s0}var _M;function Yoe(){if(_M)return gM;_M=1;var t=Te(),e=Koe().left,r=Sm(),n=lh(),i=Goe(),s=!i&&n>79&&n<83,a=s||!r("reduce");return t({target:"Array",proto:!0,forced:a},{reduce:function(l){var c=arguments.length;return e(this,l,c,c>1?arguments[1]:void 0)}}),gM}var a0,SM;function Qoe(){if(SM)return a0;SM=1,Yoe();var t=gn();return a0=t("Array","reduce"),a0}var o0,EM;function Xoe(){if(EM)return o0;EM=1;var t=ur(),e=Qoe(),r=Array.prototype;return o0=function(n){var i=n.reduce;return n===r||t(r,n)&&i===r.reduce?e:i},o0}var l0,NM;function Joe(){if(NM)return l0;NM=1;var t=Xoe();return l0=t,l0}var u0,jM;function Zoe(){return jM||(jM=1,u0=Joe()),u0}var ele=Zoe(),tle=Be(ele),CM={},OM;function rle(){if(OM)return CM;OM=1;var t=Te(),e=Hu().filter,r=ch(),n=r("filter");return t({target:"Array",proto:!0,forced:!n},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),CM}var c0,PM;function nle(){if(PM)return c0;PM=1,rle();var t=gn();return c0=t("Array","filter"),c0}var d0,TM;function ile(){if(TM)return d0;TM=1;var t=ur(),e=nle(),r=Array.prototype;return d0=function(n){var i=n.filter;return n===r||t(r,n)&&i===r.filter?e:i},d0}var h0,IM;function sle(){if(IM)return h0;IM=1;var t=ile();return h0=t,h0}var f0,RM;function ale(){return RM||(RM=1,f0=sle()),f0}var ole=ale(),Ol=Be(ole),$M={},kM;function lle(){if(kM)return $M;kM=1;var t=Te(),e=Hu().map,r=ch(),n=r("map");return t({target:"Array",proto:!0,forced:!n},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),$M}var p0,DM;function ule(){if(DM)return p0;DM=1,lle();var t=gn();return p0=t("Array","map"),p0}var m0,MM;function cle(){if(MM)return m0;MM=1;var t=ur(),e=ule(),r=Array.prototype;return m0=function(n){var i=n.map;return n===r||t(r,n)&&i===r.map?e:i},m0}var v0,qM;function dle(){if(qM)return v0;qM=1;var t=cle();return v0=t,v0}var g0,AM;function hle(){return AM||(AM=1,g0=dle()),g0}var fle=hle(),oi=Be(fle),y0,FM;function ple(){return FM||(FM=1,y0=mG()),y0}var mle=ple(),vle=Be(mle),LM={},BM;function gle(){if(BM)return LM;BM=1;var t=Te(),e=Wo(),r=tG(),n=Yr(),i=NO(),s=Ca(),a=Ai(),o=vm(),l=dr(),c=ch(),d=Vu(),h=c("slice"),f=l("species"),p=Array,v=Math.max;return t({target:"Array",proto:!0,forced:!h},{slice:function(x,g){var m=a(this),w=s(m),b=i(x,w),_=i(g===void 0?w:g,w),E,N,S;if(e(m)&&(E=m.constructor,r(E)&&(E===p||e(E.prototype))?E=void 0:n(E)&&(E=E[f],E===null&&(E=void 0)),E===p||E===void 0))return d(m,b,_);for(N=new(E===void 0?p:E)(v(_-b,0)),S=0;b<_;b++,S++)b in m&&o(N,S,m[b]);return N.length=S,N}}),LM}var b0,zM;function yle(){if(zM)return b0;zM=1,gle();var t=gn();return b0=t("Array","slice"),b0}var x0,UM;function ble(){if(UM)return x0;UM=1;var t=ur(),e=yle(),r=Array.prototype;return x0=function(n){var i=n.slice;return n===r||t(r,n)&&i===r.slice?e:i},x0}var w0,WM;function xle(){if(WM)return w0;WM=1;var t=ble();return w0=t,w0}var _0,VM;function wle(){return VM||(VM=1,_0=xle()),_0}var _le=wle(),Sle=Be(_le),HM={},S0,KM;function wG(){if(KM)return S0;KM=1;var t=Pn(),e=ut(),r=bm(),n=xm(),i=js(),s=e([].concat);return S0=t("Reflect","ownKeys")||function(o){var l=r.f(i(o)),c=n.f;return c?s(l,c(o)):l},S0}var GM;function Ele(){if(GM)return HM;GM=1;var t=Te(),e=wG();return t({target:"Reflect",stat:!0},{ownKeys:e}),HM}var E0,YM;function Nle(){if(YM)return E0;YM=1,Ele();var t=rr();return E0=t.Reflect.ownKeys,E0}var N0,QM;function jle(){if(QM)return N0;QM=1;var t=Nle();return N0=t,N0}var j0,XM;function Cle(){return XM||(XM=1,j0=jle()),j0}var Ole=Cle(),Ple=Be(Ole),JM={},ZM;function Tle(){if(ZM)return JM;ZM=1;var t=Te(),e=Wo();return t({target:"Array",stat:!0},{isArray:e}),JM}var C0,eq;function Ile(){if(eq)return C0;eq=1,Tle();var t=rr();return C0=t.Array.isArray,C0}var O0,tq;function Rle(){if(tq)return O0;tq=1;var t=Ile();return O0=t,O0}var P0,rq;function $le(){return rq||(rq=1,P0=Rle()),P0}var kle=$le(),Ei=Be(kle),nq={},iq;function Dle(){if(iq)return nq;iq=1;var t=Te(),e=yi(),r=gm(),n=nt(),i=n(function(){r(1)});return t({target:"Object",stat:!0,forced:i},{keys:function(a){return r(e(a))}}),nq}var T0,sq;function Mle(){if(sq)return T0;sq=1,Dle();var t=rr();return T0=t.Object.keys,T0}var I0,aq;function qle(){if(aq)return I0;aq=1;var t=Mle();return I0=t,I0}var R0,oq;function Ale(){return oq||(oq=1,R0=qle()),R0}var Fle=Ale(),IO=Be(Fle),lq={},$0,uq;function Lle(){if(uq)return $0;uq=1;var t=Hu().forEach,e=Sm(),r=e("forEach");return $0=r?[].forEach:function(i){return t(this,i,arguments.length>1?arguments[1]:void 0)},$0}var cq;function Ble(){if(cq)return lq;cq=1;var t=Te(),e=Lle();return t({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),lq}var k0,dq;function zle(){if(dq)return k0;dq=1,Ble();var t=gn();return k0=t("Array","forEach"),k0}var D0,hq;function Ule(){if(hq)return D0;hq=1;var t=zle();return D0=t,D0}var M0,fq;function Wle(){if(fq)return M0;fq=1;var t=Oa(),e=cr(),r=ur(),n=Ule(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return M0=function(a){var o=a.forEach;return a===i||r(i,a)&&o===i.forEach||e(s,t(a))?n:o},M0}var q0,pq;function Vle(){return pq||(pq=1,q0=Wle()),q0}var Hle=Vle(),Io=Be(Hle),mq={},vq;function Kle(){if(vq)return mq;vq=1;var t=Te(),e=ut(),r=Wo(),n=e([].reverse),i=[1,2];return t({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),n(this)}}),mq}var A0,gq;function Gle(){if(gq)return A0;gq=1,Kle();var t=gn();return A0=t("Array","reverse"),A0}var F0,yq;function Yle(){if(yq)return F0;yq=1;var t=ur(),e=Gle(),r=Array.prototype;return F0=function(n){var i=n.reverse;return n===r||t(r,n)&&i===r.reverse?e:i},F0}var L0,bq;function Qle(){if(bq)return L0;bq=1;var t=Yle();return L0=t,L0}var B0,xq;function Xle(){return xq||(xq=1,B0=Qle()),B0}var Jle=Xle(),Zle=Be(Jle),wq={},z0,_q;function eue(){if(_q)return z0;_q=1;var t=Yt(),e=Wo(),r=TypeError,n=Object.getOwnPropertyDescriptor,i=t&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();return z0=i?function(s,a){if(e(s)&&!n(s,"length").writable)throw new r("Cannot set read only .length");return s.length=a}:function(s,a){return s.length=a},z0}var U0,Sq;function _G(){if(Sq)return U0;Sq=1;var t=Lu(),e=TypeError;return U0=function(r,n){if(!delete r[n])throw new e("Cannot delete property "+t(n)+" of "+t(r))},U0}var Eq;function tue(){if(Eq)return wq;Eq=1;var t=Te(),e=yi(),r=NO(),n=Wu(),i=Ca(),s=eue(),a=eG(),o=EO(),l=vm(),c=_G(),d=ch(),h=d("splice"),f=Math.max,p=Math.min;return t({target:"Array",proto:!0,forced:!h},{splice:function(y,x){var g=e(this),m=i(g),w=r(y,m),b=arguments.length,_,E,N,S,j,C;for(b===0?_=E=0:b===1?(_=0,E=m-w):(_=b-2,E=p(f(n(x),0),m-w)),a(m+_-E),N=o(g,E),S=0;S<E;S++)j=w+S,j in g&&l(N,S,g[j]);if(N.length=E,_<E){for(S=w;S<m-E;S++)j=S+E,C=S+_,j in g?g[C]=g[j]:c(g,C);for(S=m;S>m-E+_;S--)c(g,S-1)}else if(_>E)for(S=m-E;S>w;S--)j=S+E-1,C=S+_-1,j in g?g[C]=g[j]:c(g,C);for(S=0;S<_;S++)g[S+w]=arguments[S+2];return s(g,m-E+_),N}}),wq}var W0,Nq;function rue(){if(Nq)return W0;Nq=1,tue();var t=gn();return W0=t("Array","splice"),W0}var V0,jq;function nue(){if(jq)return V0;jq=1;var t=ur(),e=rue(),r=Array.prototype;return V0=function(n){var i=n.splice;return n===r||t(r,n)&&i===r.splice?e:i},V0}var H0,Cq;function iue(){if(Cq)return H0;Cq=1;var t=nue();return H0=t,H0}var K0,Oq;function sue(){return Oq||(Oq=1,K0=iue()),K0}var aue=sue(),SG=Be(aue),Pq={},G0,Tq;function oue(){if(Tq)return G0;Tq=1;var t=Yt(),e=ut(),r=vn(),n=nt(),i=gm(),s=xm(),a=bO(),o=yi(),l=hm(),c=Object.assign,d=Object.defineProperty,h=e([].concat);return G0=!c||n(function(){if(t&&c({b:1},c(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var f={},p={},v=Symbol("assign detection"),y="abcdefghijklmnopqrst";return f[v]=7,y.split("").forEach(function(x){p[x]=x}),c({},f)[v]!==7||i(c({},p)).join("")!==y})?function(p,v){for(var y=o(p),x=arguments.length,g=1,m=s.f,w=a.f;x>g;)for(var b=l(arguments[g++]),_=m?h(i(b),m(b)):i(b),E=_.length,N=0,S;E>N;)S=_[N++],(!t||r(w,b,S))&&(y[S]=b[S]);return y}:c,G0}var Iq;function lue(){if(Iq)return Pq;Iq=1;var t=Te(),e=oue();return t({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),Pq}var Y0,Rq;function uue(){if(Rq)return Y0;Rq=1,lue();var t=rr();return Y0=t.Object.assign,Y0}var Q0,$q;function cue(){if($q)return Q0;$q=1;var t=uue();return Q0=t,Q0}var X0,kq;function due(){return kq||(kq=1,X0=cue()),X0}var hue=due(),fue=Be(hue),J0,Dq;function pue(){if(Dq)return J0;Dq=1,rG();var t=gn();return J0=t("Array","concat"),J0}var Z0,Mq;function mue(){if(Mq)return Z0;Mq=1;var t=ur(),e=pue(),r=Array.prototype;return Z0=function(n){var i=n.concat;return n===r||t(r,n)&&i===r.concat?e:i},Z0}var eb,qq;function vue(){if(qq)return eb;qq=1;var t=mue();return eb=t,eb}var tb,Aq;function gue(){return Aq||(Aq=1,tb=vue()),tb}var yue=gue(),bue=Be(yue),Fq={},Lq;function xue(){if(Lq)return Fq;Lq=1;var t=Te(),e=Yt(),r=hh();return t({target:"Object",stat:!0,sham:!e},{create:r}),Fq}var rb,Bq;function wue(){if(Bq)return rb;Bq=1,xue();var t=rr(),e=t.Object;return rb=function(n,i){return e.create(n,i)},rb}var nb,zq;function _ue(){if(zq)return nb;zq=1;var t=wue();return nb=t,nb}var ib,Uq;function Sue(){return Uq||(Uq=1,ib=_ue()),ib}var Eue=Sue(),Nue=Be(Eue),Wq={},sb,Vq;function jue(){if(Vq)return sb;Vq=1;var t=Wu(),e=Pa(),r=Uo(),n=RangeError;return sb=function(s){var a=e(r(this)),o="",l=t(s);if(l<0||l===1/0)throw new n("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(a+=a))l&1&&(o+=a);return o},sb}var ab,Hq;function Cue(){if(Hq)return ab;Hq=1;var t=ut(),e=ZK(),r=Pa(),n=jue(),i=Uo(),s=t(n),a=t("".slice),o=Math.ceil,l=function(c){return function(d,h,f){var p=r(i(d)),v=e(h),y=p.length,x=f===void 0?" ":r(f),g,m;return v<=y||x===""?p:(g=v-y,m=s(x,o(g/x.length)),m.length>g&&(m=a(m,0,g)),c?p+m:m+p)}};return ab={start:l(!1),end:l(!0)},ab}var ob,Kq;function Oue(){if(Kq)return ob;Kq=1;var t=ut(),e=nt(),r=Cue().start,n=RangeError,i=isFinite,s=Math.abs,a=Date.prototype,o=a.toISOString,l=t(a.getTime),c=t(a.getUTCDate),d=t(a.getUTCFullYear),h=t(a.getUTCHours),f=t(a.getUTCMilliseconds),p=t(a.getUTCMinutes),v=t(a.getUTCMonth),y=t(a.getUTCSeconds);return ob=e(function(){return o.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){o.call(new Date(NaN))})?function(){if(!i(l(this)))throw new n("Invalid time value");var g=this,m=d(g),w=f(g),b=m<0?"-":m>9999?"+":"";return b+r(s(m),b?6:4,0)+"-"+r(v(g)+1,2,0)+"-"+r(c(g),2,0)+"T"+r(h(g),2,0)+":"+r(p(g),2,0)+":"+r(y(g),2,0)+"."+r(w,3,0)+"Z"}:o,ob}var Gq;function Pue(){if(Gq)return Wq;Gq=1;var t=Te(),e=vn(),r=yi(),n=GK(),i=Oue(),s=Es(),a=nt(),o=a(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return t({target:"Date",proto:!0,forced:o},{toJSON:function(c){var d=r(this),h=n(d,"number");return typeof h=="number"&&!isFinite(h)?null:!("toISOString"in d)&&s(d)==="Date"?e(i,d):d.toISOString()}}),Wq}var lb,Yq;function Tue(){if(Yq)return lb;Yq=1,Pue(),oG();var t=rr(),e=dm();return t.JSON||(t.JSON={stringify:JSON.stringify}),lb=function(n,i,s){return e(t.JSON.stringify,null,arguments)},lb}var ub,Qq;function Iue(){if(Qq)return ub;Qq=1;var t=Tue();return ub=t,ub}var cb,Xq;function Rue(){return Xq||(Xq=1,cb=Iue()),cb}var $ue=Rue(),kue=Be($ue),Jq={},Zq={},db,eA;function Due(){if(eA)return db;eA=1;var t=TypeError;return db=function(e,r){if(e<r)throw new t("Not enough arguments");return e},db}var hb,tA;function EG(){if(tA)return hb;tA=1;var t=Gt(),e=dm(),r=lr(),n=xG(),i=Au(),s=Vu(),a=Due(),o=t.Function,l=/MSIE .\./.test(i)||n==="BUN"&&function(){var c=t.Bun.version.split(".");return c.length<3||c[0]==="0"&&(c[1]<3||c[1]==="3"&&c[2]==="0")}();return hb=function(c,d){var h=d?2:1;return l?function(f,p){var v=a(arguments.length,1)>h,y=r(f)?f:o(f),x=v?s(arguments,h):[],g=v?function(){e(y,this,x)}:y;return d?c(g,p):c(g)}:c},hb}var rA;function Mue(){if(rA)return Zq;rA=1;var t=Te(),e=Gt(),r=EG(),n=r(e.setInterval,!0);return t({global:!0,bind:!0,forced:e.setInterval!==n},{setInterval:n}),Zq}var nA={},iA;function que(){if(iA)return nA;iA=1;var t=Te(),e=Gt(),r=EG(),n=r(e.setTimeout,!0);return t({global:!0,bind:!0,forced:e.setTimeout!==n},{setTimeout:n}),nA}var sA;function Aue(){return sA||(sA=1,Mue(),que()),Jq}var fb,aA;function Fue(){if(aA)return fb;aA=1,Aue();var t=rr();return fb=t.setTimeout,fb}var pb,oA;function Lue(){return oA||(oA=1,pb=Fue()),pb}var Bue=Lue(),zue=Be(Bue),mb={exports:{}},lA;function Uue(){return lA||(lA=1,function(t){function e(n){if(n)return r(n);this._callbacks=new Map}function r(n){return Object.assign(n,e.prototype),n._callbacks=new Map,n}e.prototype.on=function(n,i){const s=this._callbacks.get(n)??[];return s.push(i),this._callbacks.set(n,s),this},e.prototype.once=function(n,i){const s=(...a)=>{this.off(n,s),i.apply(this,a)};return s.fn=i,this.on(n,s),this},e.prototype.off=function(n,i){if(n===void 0&&i===void 0)return this._callbacks.clear(),this;if(i===void 0)return this._callbacks.delete(n),this;const s=this._callbacks.get(n);if(s){for(const[a,o]of s.entries())if(o===i||o.fn===i){s.splice(a,1);break}s.length===0?this._callbacks.delete(n):this._callbacks.set(n,s)}return this},e.prototype.emit=function(n,...i){const s=this._callbacks.get(n);if(s){const a=[...s];for(const o of a)o.apply(this,i)}return this},e.prototype.listeners=function(n){return this._callbacks.get(n)??[]},e.prototype.listenerCount=function(n){if(n)return this.listeners(n).length;let i=0;for(const s of this._callbacks.values())i+=s.length;return i},e.prototype.hasListeners=function(n){return this.listenerCount(n)>0},e.prototype.addEventListener=e.prototype.on,e.prototype.removeListener=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,t.exports=e}(mb)),mb.exports}var Wue=Uue(),Vue=Be(Wue);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function mi(){return mi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mi.apply(this,arguments)}function Yn(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function ff(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var $j;typeof Object.assign!="function"?$j=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])}return r}:$j=Object.assign;var Ro=$j,uA=["","webkit","Moz","MS","ms","o"],Hue=typeof document>"u"?{style:{}}:document.createElement("div"),Kue="function",Pl=Math.round,$o=Math.abs,RO=Date.now;function Em(t,e){for(var r,n,i=e[0].toUpperCase()+e.slice(1),s=0;s<uA.length;){if(r=uA[s],n=r?r+i:e,n in t)return n;s++}}var is;typeof window>"u"?is={}:is=window;var NG=Em(Hue.style,"touchAction"),jG=NG!==void 0;function Gue(){if(!jG)return!1;var t={},e=is.CSS&&is.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){return t[r]=e?is.CSS.supports("touch-action",r):!0}),t}var CG="compute",OG="auto",kj="manipulation",po="none",jd="pan-x",Cd="pan-y",pf=Gue(),Yue=/mobile|tablet|ip(ad|hone|od)|android/i,PG="ontouchstart"in is,Que=Em(is,"PointerEvent")!==void 0,Xue=PG&&Yue.test(navigator.userAgent),mh="touch",Jue="pen",$O="mouse",Zue="kinect",ece=25,Wr=1,Ho=2,Vt=4,fn=8,jp=1,vh=2,gh=4,yh=8,xu=16,Mi=vh|gh,mo=yh|xu,TG=Mi|mo,IG=["x","y"],Cp=["clientX","clientY"];function ss(t,e,r){var n;if(t)if(t.forEach)t.forEach(e,r);else if(t.length!==void 0)for(n=0;n<t.length;)e.call(r,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t)}function Nm(t,e){return typeof t===Kue?t.apply(e&&e[0]||void 0,e):t}function Qa(t,e){return t.indexOf(e)>-1}function tce(t){if(Qa(t,po))return po;var e=Qa(t,jd),r=Qa(t,Cd);return e&&r?po:e||r?e?jd:Cd:Qa(t,kj)?kj:OG}var RG=function(){function t(r,n){this.manager=r,this.set(n)}var e=t.prototype;return e.set=function(n){n===CG&&(n=this.compute()),jG&&this.manager.element.style&&pf[n]&&(this.manager.element.style[NG]=n),this.actions=n.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var n=[];return ss(this.manager.recognizers,function(i){Nm(i.options.enable,[i])&&(n=n.concat(i.getTouchAction()))}),tce(n.join(" "))},e.preventDefaults=function(n){var i=n.srcEvent,s=n.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var a=this.actions,o=Qa(a,po)&&!pf[po],l=Qa(a,Cd)&&!pf[Cd],c=Qa(a,jd)&&!pf[jd];if(o){var d=n.pointers.length===1,h=n.distance<2,f=n.deltaTime<250;if(d&&h&&f)return}if(!(c&&l)&&(o||l&&s&Mi||c&&s&mo))return this.preventSrc(i)},e.preventSrc=function(n){this.manager.session.prevented=!0,n.preventDefault()},t}();function kO(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function $G(t){var e=t.length;if(e===1)return{x:Pl(t[0].clientX),y:Pl(t[0].clientY)};for(var r=0,n=0,i=0;i<e;)r+=t[i].clientX,n+=t[i].clientY,i++;return{x:Pl(r/e),y:Pl(n/e)}}function cA(t){for(var e=[],r=0;r<t.pointers.length;)e[r]={clientX:Pl(t.pointers[r].clientX),clientY:Pl(t.pointers[r].clientY)},r++;return{timeStamp:RO(),pointers:e,center:$G(e),deltaX:t.deltaX,deltaY:t.deltaY}}function Op(t,e,r){r||(r=IG);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.sqrt(n*n+i*i)}function Dj(t,e,r){r||(r=IG);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.atan2(i,n)*180/Math.PI}function kG(t,e){return t===e?jp:$o(t)>=$o(e)?t<0?vh:gh:e<0?yh:xu}function rce(t,e){var r=e.center,n=t.offsetDelta||{},i=t.prevDelta||{},s=t.prevInput||{};(e.eventType===Wr||s.eventType===Vt)&&(i=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:r.x,y:r.y}),e.deltaX=i.x+(r.x-n.x),e.deltaY=i.y+(r.y-n.y)}function DG(t,e,r){return{x:e/t||0,y:r/t||0}}function nce(t,e){return Op(e[0],e[1],Cp)/Op(t[0],t[1],Cp)}function ice(t,e){return Dj(e[1],e[0],Cp)+Dj(t[1],t[0],Cp)}function sce(t,e){var r=t.lastInterval||e,n=e.timeStamp-r.timeStamp,i,s,a,o;if(e.eventType!==fn&&(n>ece||r.velocity===void 0)){var l=e.deltaX-r.deltaX,c=e.deltaY-r.deltaY,d=DG(n,l,c);s=d.x,a=d.y,i=$o(d.x)>$o(d.y)?d.x:d.y,o=kG(l,c),t.lastInterval=e}else i=r.velocity,s=r.velocityX,a=r.velocityY,o=r.direction;e.velocity=i,e.velocityX=s,e.velocityY=a,e.direction=o}function ace(t,e){var r=t.session,n=e.pointers,i=n.length;r.firstInput||(r.firstInput=cA(e)),i>1&&!r.firstMultiple?r.firstMultiple=cA(e):i===1&&(r.firstMultiple=!1);var s=r.firstInput,a=r.firstMultiple,o=a?a.center:s.center,l=e.center=$G(n);e.timeStamp=RO(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=Dj(o,l),e.distance=Op(o,l),rce(r,e),e.offsetDirection=kG(e.deltaX,e.deltaY);var c=DG(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=$o(c.x)>$o(c.y)?c.x:c.y,e.scale=a?nce(a.pointers,n):1,e.rotation=a?ice(a.pointers,n):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,sce(r,e);var d=t.element,h=e.srcEvent,f;h.composedPath?f=h.composedPath()[0]:h.path?f=h.path[0]:f=h.target,kO(f,d)&&(d=f),e.target=d}function oce(t,e,r){var n=r.pointers.length,i=r.changedPointers.length,s=e&Wr&&n-i===0,a=e&(Vt|fn)&&n-i===0;r.isFirst=!!s,r.isFinal=!!a,s&&(t.session={}),r.eventType=e,ace(t,r),t.emit("hammer.input",r),t.recognize(r),t.session.prevInput=r}function Od(t){return t.trim().split(/\s+/g)}function Qc(t,e,r){ss(Od(e),function(n){t.addEventListener(n,r,!1)})}function Xc(t,e,r){ss(Od(e),function(n){t.removeEventListener(n,r,!1)})}function dA(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var Gu=function(){function t(r,n){var i=this;this.manager=r,this.callback=n,this.element=r.element,this.target=r.options.inputTarget,this.domHandler=function(s){Nm(r.options.enable,[r])&&i.handler(s)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Qc(this.element,this.evEl,this.domHandler),this.evTarget&&Qc(this.target,this.evTarget,this.domHandler),this.evWin&&Qc(dA(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&Xc(this.element,this.evEl,this.domHandler),this.evTarget&&Xc(this.target,this.evTarget,this.domHandler),this.evWin&&Xc(dA(this.element),this.evWin,this.domHandler)},t}();function ko(t,e,r){if(t.indexOf&&!r)return t.indexOf(e);for(var n=0;n<t.length;){if(r&&t[n][r]==e||!r&&t[n]===e)return n;n++}return-1}var lce={pointerdown:Wr,pointermove:Ho,pointerup:Vt,pointercancel:fn,pointerout:fn},uce={2:mh,3:Jue,4:$O,5:Zue},MG="pointerdown",qG="pointermove pointerup pointercancel";is.MSPointerEvent&&!is.PointerEvent&&(MG="MSPointerDown",qG="MSPointerMove MSPointerUp MSPointerCancel");var AG=function(t){Yn(e,t);function e(){var n,i=e.prototype;return i.evEl=MG,i.evWin=qG,n=t.apply(this,arguments)||this,n.store=n.manager.session.pointerEvents=[],n}var r=e.prototype;return r.handler=function(i){var s=this.store,a=!1,o=i.type.toLowerCase().replace("ms",""),l=lce[o],c=uce[i.pointerType]||i.pointerType,d=c===mh,h=ko(s,i.pointerId,"pointerId");l&Wr&&(i.button===0||d)?h<0&&(s.push(i),h=s.length-1):l&(Vt|fn)&&(a=!0),!(h<0)&&(s[h]=i,this.callback(this.manager,l,{pointers:s,changedPointers:[i],pointerType:c,srcEvent:i}),a&&s.splice(h,1))},e}(Gu);function Pd(t){return Array.prototype.slice.call(t,0)}function DO(t,e,r){for(var n=[],i=[],s=0;s<t.length;){var a=e?t[s][e]:t[s];ko(i,a)<0&&n.push(t[s]),i[s]=a,s++}return r&&(e?n=n.sort(function(o,l){return o[e]>l[e]}):n=n.sort()),n}var cce={touchstart:Wr,touchmove:Ho,touchend:Vt,touchcancel:fn},dce="touchstart touchmove touchend touchcancel",MO=function(t){Yn(e,t);function e(){var n;return e.prototype.evTarget=dce,n=t.apply(this,arguments)||this,n.targetIds={},n}var r=e.prototype;return r.handler=function(i){var s=cce[i.type],a=hce.call(this,i,s);a&&this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:mh,srcEvent:i})},e}(Gu);function hce(t,e){var r=Pd(t.touches),n=this.targetIds;if(e&(Wr|Ho)&&r.length===1)return n[r[0].identifier]=!0,[r,r];var i,s,a=Pd(t.changedTouches),o=[],l=this.target;if(s=r.filter(function(c){return kO(c.target,l)}),e===Wr)for(i=0;i<s.length;)n[s[i].identifier]=!0,i++;for(i=0;i<a.length;)n[a[i].identifier]&&o.push(a[i]),e&(Vt|fn)&&delete n[a[i].identifier],i++;if(o.length)return[DO(s.concat(o),"identifier",!0),o]}var fce={mousedown:Wr,mousemove:Ho,mouseup:Vt},pce="mousedown",mce="mousemove mouseup",qO=function(t){Yn(e,t);function e(){var n,i=e.prototype;return i.evEl=pce,i.evWin=mce,n=t.apply(this,arguments)||this,n.pressed=!1,n}var r=e.prototype;return r.handler=function(i){var s=fce[i.type];s&Wr&&i.button===0&&(this.pressed=!0),s&Ho&&i.which!==1&&(s=Vt),this.pressed&&(s&Vt&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[i],changedPointers:[i],pointerType:$O,srcEvent:i}))},e}(Gu),vce=2500,hA=25;function fA(t){var e=t.changedPointers,r=e[0];if(r.identifier===this.primaryTouch){var n={x:r.clientX,y:r.clientY},i=this.lastTouches;this.lastTouches.push(n);var s=function(){var o=i.indexOf(n);o>-1&&i.splice(o,1)};setTimeout(s,vce)}}function gce(t,e){t&Wr?(this.primaryTouch=e.changedPointers[0].identifier,fA.call(this,e)):t&(Vt|fn)&&fA.call(this,e)}function yce(t){for(var e=t.srcEvent.clientX,r=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var i=this.lastTouches[n],s=Math.abs(e-i.x),a=Math.abs(r-i.y);if(s<=hA&&a<=hA)return!0}return!1}var FG=function(){var t=function(e){Yn(r,e);function r(i,s){var a;return a=e.call(this,i,s)||this,a.handler=function(o,l,c){var d=c.pointerType===mh,h=c.pointerType===$O;if(!(h&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(d)gce.call(ff(ff(a)),l,c);else if(h&&yce.call(ff(ff(a)),c))return;a.callback(o,l,c)}},a.touch=new MO(a.manager,a.handler),a.mouse=new qO(a.manager,a.handler),a.primaryTouch=null,a.lastTouches=[],a}var n=r.prototype;return n.destroy=function(){this.touch.destroy(),this.mouse.destroy()},r}(Gu);return t}();function bce(t){var e,r=t.options.inputClass;return r?e=r:Que?e=AG:Xue?e=MO:PG?e=FG:e=qO,new e(t,oce)}function Tl(t,e,r){return Array.isArray(t)?(ss(t,r[e],r),!0):!1}var Af=1,Wn=2,wu=4,fa=8,as=fa,Td=16,Ti=32,xce=1;function wce(){return xce++}function mf(t,e){var r=e.manager;return r?r.get(t):t}function pA(t){return t&Td?"cancel":t&fa?"end":t&wu?"move":t&Wn?"start":""}var bh=function(){function t(r){r===void 0&&(r={}),this.options=mi({enable:!0},r),this.id=wce(),this.manager=null,this.state=Af,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(n){return Ro(this.options,n),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(n){if(Tl(n,"recognizeWith",this))return this;var i=this.simultaneous;return n=mf(n,this),i[n.id]||(i[n.id]=n,n.recognizeWith(this)),this},e.dropRecognizeWith=function(n){return Tl(n,"dropRecognizeWith",this)?this:(n=mf(n,this),delete this.simultaneous[n.id],this)},e.requireFailure=function(n){if(Tl(n,"requireFailure",this))return this;var i=this.requireFail;return n=mf(n,this),ko(i,n)===-1&&(i.push(n),n.requireFailure(this)),this},e.dropRequireFailure=function(n){if(Tl(n,"dropRequireFailure",this))return this;n=mf(n,this);var i=ko(this.requireFail,n);return i>-1&&this.requireFail.splice(i,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(n){return!!this.simultaneous[n.id]},e.emit=function(n){var i=this,s=this.state;function a(o){i.manager.emit(o,n)}s<fa&&a(i.options.event+pA(s)),a(i.options.event),n.additionalEvent&&a(n.additionalEvent),s>=fa&&a(i.options.event+pA(s))},e.tryEmit=function(n){if(this.canEmit())return this.emit(n);this.state=Ti},e.canEmit=function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(Ti|Af)))return!1;n++}return!0},e.recognize=function(n){var i=Ro({},n);if(!Nm(this.options.enable,[this,i])){this.reset(),this.state=Ti;return}this.state&(as|Td|Ti)&&(this.state=Af),this.state=this.process(i),this.state&(Wn|wu|fa|Td)&&this.tryEmit(i)},e.process=function(n){},e.getTouchAction=function(){},e.reset=function(){},t}(),Mj=function(t){Yn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,mi({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},n))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var r=e.prototype;return r.getTouchAction=function(){return[kj]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,l=i.distance<a.threshold,c=i.deltaTime<a.time;if(this.reset(),i.eventType&Wr&&this.count===0)return this.failTimeout();if(l&&c&&o){if(i.eventType!==Vt)return this.failTimeout();var d=this.pTime?i.timeStamp-this.pTime<a.interval:!0,h=!this.pCenter||Op(this.pCenter,i.center)<a.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!h||!d?this.count=1:this.count+=1,this._input=i;var f=this.count%a.taps;if(f===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=as,s.tryEmit()},a.interval),Wn):as}return Ti},r.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=Ti},this.options.interval),Ti},r.reset=function(){clearTimeout(this._timer)},r.emit=function(){this.state===as&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(bh),_u=function(t){Yn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,mi({pointers:1},n))||this}var r=e.prototype;return r.attrTest=function(i){var s=this.options.pointers;return s===0||i.pointers.length===s},r.process=function(i){var s=this.state,a=i.eventType,o=s&(Wn|wu),l=this.attrTest(i);return o&&(a&fn||!l)?s|Td:o||l?a&Vt?s|fa:s&Wn?s|wu:Wn:Ti},e}(bh);function LG(t){return t===xu?"down":t===yh?"up":t===vh?"left":t===gh?"right":""}var AO=function(t){Yn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,mi({event:"pan",threshold:10,pointers:1,direction:TG},n))||this,i.pX=null,i.pY=null,i}var r=e.prototype;return r.getTouchAction=function(){var i=this.options.direction,s=[];return i&Mi&&s.push(Cd),i&mo&&s.push(jd),s},r.directionTest=function(i){var s=this.options,a=!0,o=i.distance,l=i.direction,c=i.deltaX,d=i.deltaY;return l&s.direction||(s.direction&Mi?(l=c===0?jp:c<0?vh:gh,a=c!==this.pX,o=Math.abs(i.deltaX)):(l=d===0?jp:d<0?yh:xu,a=d!==this.pY,o=Math.abs(i.deltaY))),i.direction=l,a&&o>s.threshold&&l&s.direction},r.attrTest=function(i){return _u.prototype.attrTest.call(this,i)&&(this.state&Wn||!(this.state&Wn)&&this.directionTest(i))},r.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var s=LG(i.direction);s&&(i.additionalEvent=this.options.event+s),t.prototype.emit.call(this,i)},e}(_u),BG=function(t){Yn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,mi({event:"swipe",threshold:10,velocity:.3,direction:Mi|mo,pointers:1},n))||this}var r=e.prototype;return r.getTouchAction=function(){return AO.prototype.getTouchAction.call(this)},r.attrTest=function(i){var s=this.options.direction,a;return s&(Mi|mo)?a=i.overallVelocity:s&Mi?a=i.overallVelocityX:s&mo&&(a=i.overallVelocityY),t.prototype.attrTest.call(this,i)&&s&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&$o(a)>this.options.velocity&&i.eventType&Vt},r.emit=function(i){var s=LG(i.offsetDirection);s&&this.manager.emit(this.options.event+s,i),this.manager.emit(this.options.event,i)},e}(_u),zG=function(t){Yn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,mi({event:"pinch",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[po]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&Wn)},r.emit=function(i){if(i.scale!==1){var s=i.scale<1?"in":"out";i.additionalEvent=this.options.event+s}t.prototype.emit.call(this,i)},e}(_u),UG=function(t){Yn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,mi({event:"rotate",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[po]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&Wn)},e}(_u),WG=function(t){Yn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,mi({event:"press",pointers:1,time:251,threshold:9},n))||this,i._timer=null,i._input=null,i}var r=e.prototype;return r.getTouchAction=function(){return[OG]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,l=i.distance<a.threshold,c=i.deltaTime>a.time;if(this._input=i,!l||!o||i.eventType&(Vt|fn)&&!c)this.reset();else if(i.eventType&Wr)this.reset(),this._timer=setTimeout(function(){s.state=as,s.tryEmit()},a.time);else if(i.eventType&Vt)return as;return Ti},r.reset=function(){clearTimeout(this._timer)},r.emit=function(i){this.state===as&&(i&&i.eventType&Vt?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=RO(),this.manager.emit(this.options.event,this._input)))},e}(bh),VG={domEvents:!1,touchAction:CG,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},mA=[[UG,{enable:!1}],[zG,{enable:!1},["rotate"]],[BG,{direction:Mi}],[AO,{direction:Mi},["swipe"]],[Mj],[Mj,{event:"doubletap",taps:2},["tap"]],[WG]],_ce=1,vA=2;function gA(t,e){var r=t.element;if(r.style){var n;ss(t.options.cssProps,function(i,s){n=Em(r.style,s),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={})}}function Sce(t,e){var r=document.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}var yA=function(){function t(r,n){var i=this;this.options=Ro({},VG,n||{}),this.options.inputTarget=this.options.inputTarget||r,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=r,this.input=bce(this),this.touchAction=new RG(this,this.options.touchAction),gA(this,!0),ss(this.options.recognizers,function(s){var a=i.add(new s[0](s[1]));s[2]&&a.recognizeWith(s[2]),s[3]&&a.requireFailure(s[3])},this)}var e=t.prototype;return e.set=function(n){return Ro(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},e.stop=function(n){this.session.stopped=n?vA:_ce},e.recognize=function(n){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(n);var s,a=this.recognizers,o=i.curRecognizer;(!o||o&&o.state&as)&&(i.curRecognizer=null,o=null);for(var l=0;l<a.length;)s=a[l],i.stopped!==vA&&(!o||s===o||s.canRecognizeWith(o))?s.recognize(n):s.reset(),!o&&s.state&(Wn|wu|fa)&&(i.curRecognizer=s,o=s),l++}},e.get=function(n){if(n instanceof bh)return n;for(var i=this.recognizers,s=0;s<i.length;s++)if(i[s].options.event===n)return i[s];return null},e.add=function(n){if(Tl(n,"add",this))return this;var i=this.get(n.options.event);return i&&this.remove(i),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},e.remove=function(n){if(Tl(n,"remove",this))return this;var i=this.get(n);if(n){var s=this.recognizers,a=ko(s,i);a!==-1&&(s.splice(a,1),this.touchAction.update())}return this},e.on=function(n,i){if(n===void 0||i===void 0)return this;var s=this.handlers;return ss(Od(n),function(a){s[a]=s[a]||[],s[a].push(i)}),this},e.off=function(n,i){if(n===void 0)return this;var s=this.handlers;return ss(Od(n),function(a){i?s[a]&&s[a].splice(ko(s[a],i),1):delete s[a]}),this},e.emit=function(n,i){this.options.domEvents&&Sce(n,i);var s=this.handlers[n]&&this.handlers[n].slice();if(!(!s||!s.length)){i.type=n,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var a=0;a<s.length;)s[a](i),a++}},e.destroy=function(){this.element&&gA(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),Ece={touchstart:Wr,touchmove:Ho,touchend:Vt,touchcancel:fn},Nce="touchstart",jce="touchstart touchmove touchend touchcancel",Cce=function(t){Yn(e,t);function e(){var n,i=e.prototype;return i.evTarget=Nce,i.evWin=jce,n=t.apply(this,arguments)||this,n.started=!1,n}var r=e.prototype;return r.handler=function(i){var s=Ece[i.type];if(s===Wr&&(this.started=!0),!!this.started){var a=Oce.call(this,i,s);s&(Vt|fn)&&a[0].length-a[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:mh,srcEvent:i})}},e}(Gu);function Oce(t,e){var r=Pd(t.touches),n=Pd(t.changedTouches);return e&(Vt|fn)&&(r=DO(r.concat(n),"identifier",!0)),[r,n]}function HG(t,e,r){var n="DEPRECATED METHOD: "+e+`
`+r+` AT 
`;return function(){var i=new Error("get-stack-trace"),s=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=window.console&&(window.console.warn||window.console.log);return a&&a.call(window.console,n,s),t.apply(this,arguments)}}var KG=HG(function(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;)(!r||r&&t[n[i]]===void 0)&&(t[n[i]]=e[n[i]]),i++;return t},"extend","Use `assign`."),Pce=HG(function(t,e){return KG(t,e,!0)},"merge","Use `assign`.");function Tce(t,e,r){var n=e.prototype,i;i=t.prototype=Object.create(n),i.constructor=t,i._super=n,r&&Ro(i,r)}function bA(t,e){return function(){return t.apply(e,arguments)}}var Ice=function(){var t=function(r,n){return n===void 0&&(n={}),new yA(r,mi({recognizers:mA.concat()},n))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=TG,t.DIRECTION_DOWN=xu,t.DIRECTION_LEFT=vh,t.DIRECTION_RIGHT=gh,t.DIRECTION_UP=yh,t.DIRECTION_HORIZONTAL=Mi,t.DIRECTION_VERTICAL=mo,t.DIRECTION_NONE=jp,t.DIRECTION_DOWN=xu,t.INPUT_START=Wr,t.INPUT_MOVE=Ho,t.INPUT_END=Vt,t.INPUT_CANCEL=fn,t.STATE_POSSIBLE=Af,t.STATE_BEGAN=Wn,t.STATE_CHANGED=wu,t.STATE_ENDED=fa,t.STATE_RECOGNIZED=as,t.STATE_CANCELLED=Td,t.STATE_FAILED=Ti,t.Manager=yA,t.Input=Gu,t.TouchAction=RG,t.TouchInput=MO,t.MouseInput=qO,t.PointerEventInput=AG,t.TouchMouseInput=FG,t.SingleTouchInput=Cce,t.Recognizer=bh,t.AttrRecognizer=_u,t.Tap=Mj,t.Pan=AO,t.Swipe=BG,t.Pinch=zG,t.Rotate=UG,t.Press=WG,t.on=Qc,t.off=Xc,t.each=ss,t.merge=Pce,t.extend=KG,t.bindFn=bA,t.assign=Ro,t.inherit=Tce,t.bindFn=bA,t.prefixed=Em,t.toArray=Pd,t.inArray=ko,t.uniqueArray=DO,t.splitStr=Od,t.boolOrFn=Nm,t.hasParent=kO,t.addEventListeners=Qc,t.removeEventListeners=Xc,t.defaults=Ro({},VG,{preset:mA}),t}();const GG=vle("DELETE");function Rce(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return YG({},t,...r)}function YG(){const t=Pp(...arguments);return XG(t),t}function Pp(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e.length<2)return e[0];if(e.length>2)return Pp(YG(e[0],e[1]),...Sle(e).call(e,2));const n=e[0],i=e[1];if(n instanceof Date&&i instanceof Date)return n.setTime(i.getTime()),n;for(const s of Ple(i))Object.prototype.propertyIsEnumerable.call(i,s)&&(i[s]===GG?delete n[s]:n[s]!==null&&i[s]!==null&&typeof n[s]=="object"&&typeof i[s]=="object"&&!Ei(n[s])&&!Ei(i[s])?n[s]=Pp(n[s],i[s]):n[s]=QG(i[s]));return n}function QG(t){return Ei(t)?oi(t).call(t,e=>QG(e)):typeof t=="object"&&t!==null?t instanceof Date?new Date(t.getTime()):Pp({},t):t}function XG(t){for(const e of IO(t))t[e]===GG?delete t[e]:typeof t[e]=="object"&&t[e]!==null&&XG(t[e])}function $ce(){const t=()=>{};return{on:t,off:t,destroy:t,emit:t,get(){return{set:t}}}}const kce=typeof window<"u"?window.Hammer||Ice:function(){return $ce()};function es(t){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const r=kce(this._dom.overlay);r.on("tap",bG(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{r.destroy()});const n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Io(n).call(n,i=>{r.on(i,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=i=>{Dce(i.target,t)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=i=>{("key"in i?i.key==="Escape":i.keyCode===27)&&this.deactivate()}}Vue(es.prototype);es.current=null;es.prototype.destroy=function(){this.deactivate();for(const r of Zle(t=SG(e=this._cleanupQueue).call(e,0)).call(t)){var t,e;r()}};es.prototype.activate=function(){es.current&&es.current.deactivate(),es.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};es.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};es.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};function Dce(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}var vb,xA;function Mce(){if(xA)return vb;xA=1,lG();var t=rr();return vb=t.Object.getOwnPropertySymbols,vb}var gb,wA;function qce(){if(wA)return gb;wA=1;var t=Mce();return gb=t,gb}var yb,_A;function Ace(){return _A||(_A=1,yb=qce()),yb}var Fce=Ace(),SA=Be(Fce),bb={exports:{}},EA={},NA;function Lce(){if(NA)return EA;NA=1;var t=Te(),e=nt(),r=Ai(),n=pm().f,i=Yt(),s=!i||e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(o,l){return n(r(o),l)}}),EA}var jA;function Bce(){if(jA)return bb.exports;jA=1,Lce();var t=rr(),e=t.Object,r=bb.exports=function(i,s){return e.getOwnPropertyDescriptor(i,s)};return e.getOwnPropertyDescriptor.sham&&(r.sham=!0),bb.exports}var xb,CA;function zce(){if(CA)return xb;CA=1;var t=Bce();return xb=t,xb}var wb,OA;function Uce(){return OA||(OA=1,wb=zce()),wb}var Wce=Uce(),JG=Be(Wce),PA={},TA;function Vce(){if(TA)return PA;TA=1;var t=Te(),e=Yt(),r=wG(),n=Ai(),i=pm(),s=vm();return t({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(o){for(var l=n(o),c=i.f,d=r(l),h={},f=0,p,v;d.length>f;)v=c(l,p=d[f++]),v!==void 0&&s(h,p,v);return h}}),PA}var _b,IA;function Hce(){if(IA)return _b;IA=1,Vce();var t=rr();return _b=t.Object.getOwnPropertyDescriptors,_b}var Sb,RA;function Kce(){if(RA)return Sb;RA=1;var t=Hce();return Sb=t,Sb}var Eb,$A;function Gce(){return $A||($A=1,Eb=Kce()),Eb}var Yce=Gce(),kA=Be(Yce),Nb={exports:{}},DA={},MA;function Qce(){if(MA)return DA;MA=1;var t=Te(),e=Yt(),r=CO().f;return t({target:"Object",stat:!0,forced:Object.defineProperties!==r,sham:!e},{defineProperties:r}),DA}var qA;function Xce(){if(qA)return Nb.exports;qA=1,Qce();var t=rr(),e=t.Object,r=Nb.exports=function(i,s){return e.defineProperties(i,s)};return e.defineProperties.sham&&(r.sham=!0),Nb.exports}var jb,AA;function Jce(){if(AA)return jb;AA=1;var t=Xce();return jb=t,jb}var Cb,FA;function Zce(){return FA||(FA=1,Cb=Jce()),Cb}var ede=Zce(),tde=Be(ede),Ob,LA;function rde(){return LA||(LA=1,Ob=JK()),Ob}var nde=rde(),ide=Be(nde),BA={},zA={},Pb={exports:{}},Tb,UA;function sde(){if(UA)return Tb;UA=1;var t=nt();return Tb=t(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),Tb}var Ib,WA;function ade(){if(WA)return Ib;WA=1;var t=nt(),e=Yr(),r=Es(),n=sde(),i=Object.isExtensible,s=t(function(){});return Ib=s||n?function(o){return!e(o)||n&&r(o)==="ArrayBuffer"?!1:i?i(o):!0}:i,Ib}var Rb,VA;function ode(){if(VA)return Rb;VA=1;var t=nt();return Rb=!t(function(){return Object.isExtensible(Object.preventExtensions({}))}),Rb}var HA;function ZG(){if(HA)return Pb.exports;HA=1;var t=Te(),e=ut(),r=dh(),n=Yr(),i=cr(),s=Gn().f,a=bm(),o=iG(),l=ade(),c=fm(),d=ode(),h=!1,f=c("meta"),p=0,v=function(b){s(b,f,{value:{objectID:"O"+p++,weakData:{}}})},y=function(b,_){if(!n(b))return typeof b=="symbol"?b:(typeof b=="string"?"S":"P")+b;if(!i(b,f)){if(!l(b))return"F";if(!_)return"E";v(b)}return b[f].objectID},x=function(b,_){if(!i(b,f)){if(!l(b))return!0;if(!_)return!1;v(b)}return b[f].weakData},g=function(b){return d&&h&&l(b)&&!i(b,f)&&v(b),b},m=function(){w.enable=function(){},h=!0;var b=a.f,_=e([].splice),E={};E[f]=1,b(E).length&&(a.f=function(N){for(var S=b(N),j=0,C=S.length;j<C;j++)if(S[j]===f){_(S,j,1);break}return S},t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:o.f}))},w=Pb.exports={enable:m,fastKey:y,getWeakData:x,onFreeze:g};return r[f]=!0,Pb.exports}var $b,KA;function lde(){if(KA)return $b;KA=1;var t=dr(),e=Ku(),r=t("iterator"),n=Array.prototype;return $b=function(i){return i!==void 0&&(e.Array===i||n[r]===i)},$b}var kb,GA;function eY(){if(GA)return kb;GA=1;var t=Oa(),e=xO(),r=oh(),n=Ku(),i=dr(),s=i("iterator");return kb=function(a){if(!r(a))return e(a,s)||e(a,"@@iterator")||n[t(a)]},kb}var Db,YA;function tY(){if(YA)return Db;YA=1;var t=vn(),e=Ns(),r=js(),n=Lu(),i=eY(),s=TypeError;return Db=function(a,o){var l=arguments.length<2?i(a):o;if(e(l))return r(t(l,a));throw new s(n(a)+" is not iterable")},Db}var Mb,QA;function FO(){if(QA)return Mb;QA=1;var t=vn(),e=js(),r=xO();return Mb=function(n,i,s){var a,o;e(n);try{if(a=r(n,"return"),!a){if(i==="throw")throw s;return s}a=t(a,n)}catch(l){o=!0,a=l}if(i==="throw")throw s;if(o)throw a;return e(a),s},Mb}var qb,XA;function LO(){if(XA)return qb;XA=1;var t=mm(),e=vn(),r=js(),n=Lu(),i=lde(),s=Ca(),a=ur(),o=tY(),l=eY(),c=FO(),d=TypeError,h=function(p,v){this.stopped=p,this.result=v},f=h.prototype;return qb=function(p,v,y){var x=y&&y.that,g=!!(y&&y.AS_ENTRIES),m=!!(y&&y.IS_RECORD),w=!!(y&&y.IS_ITERATOR),b=!!(y&&y.INTERRUPTED),_=t(v,x),E,N,S,j,C,P,O,I=function(k){return E&&c(E,"normal"),new h(!0,k)},M=function(k){return g?(r(k),b?_(k[0],k[1],I):_(k[0],k[1])):b?_(k,I):_(k)};if(m)E=p.iterator;else if(w)E=p;else{if(N=l(p),!N)throw new d(n(p)+" is not iterable");if(i(N)){for(S=0,j=s(p);j>S;S++)if(C=M(p[S]),C&&a(f,C))return C;return new h(!1)}E=o(p,N)}for(P=m?p.next:E.next;!(O=e(P,E)).done;){try{C=M(O.value)}catch(k){c(E,"throw",k)}if(typeof C=="object"&&C&&a(f,C))return C}return new h(!1)},qb}var Ab,JA;function rY(){if(JA)return Ab;JA=1;var t=ur(),e=TypeError;return Ab=function(r,n){if(t(n,r))return r;throw new e("Incorrect invocation")},Ab}var Fb,ZA;function nY(){if(ZA)return Fb;ZA=1;var t=Te(),e=Gt(),r=ZG(),n=nt(),i=Uu(),s=LO(),a=rY(),o=lr(),l=Yr(),c=oh(),d=Vo(),h=Gn().f,f=Hu().forEach,p=Yt(),v=ph(),y=v.set,x=v.getterFor;return Fb=function(g,m,w){var b=g.indexOf("Map")!==-1,_=g.indexOf("Weak")!==-1,E=b?"set":"add",N=e[g],S=N&&N.prototype,j={},C;if(!p||!o(N)||!(_||S.forEach&&!n(function(){new N().entries().next()})))C=w.getConstructor(m,g,b,E),r.enable();else{C=m(function(I,M){y(a(I,P),{type:g,collection:new N}),c(M)||s(M,I[E],{that:I,AS_ENTRIES:b})});var P=C.prototype,O=x(g);f(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(I){var M=I==="add"||I==="set";I in S&&!(_&&I==="clear")&&i(P,I,function(k,K){var H=O(this).collection;if(!M&&_&&!l(k))return I==="get"?void 0:!1;var A=H[I](k===0?0:k,K);return M?this:A})}),_||h(P,"size",{configurable:!0,get:function(){return O(this).collection.size}})}return d(C,g,!1,!0),j[g]=C,t({global:!0,forced:!0},j),_||w.setStrong(C,g,b),C},Fb}var Lb,eF;function ude(){if(eF)return Lb;eF=1;var t=fh();return Lb=function(e,r,n){for(var i in r)n&&n.unsafe&&e[i]?e[i]=r[i]:t(e,i,r[i],n);return e},Lb}var Bb,tF;function cde(){if(tF)return Bb;tF=1;var t=Pn(),e=OO(),r=dr(),n=Yt(),i=r("species");return Bb=function(s){var a=t(s);n&&a&&!a[i]&&e(a,i,{configurable:!0,get:function(){return this}})},Bb}var zb,rF;function iY(){if(rF)return zb;rF=1;var t=hh(),e=OO(),r=ude(),n=mm(),i=rY(),s=oh(),a=LO(),o=PO(),l=TO(),c=cde(),d=Yt(),h=ZG().fastKey,f=ph(),p=f.set,v=f.getterFor;return zb={getConstructor:function(y,x,g,m){var w=y(function(S,j){i(S,b),p(S,{type:x,index:t(null),first:null,last:null,size:0}),d||(S.size=0),s(j)||a(j,S[m],{that:S,AS_ENTRIES:g})}),b=w.prototype,_=v(x),E=function(S,j,C){var P=_(S),O=N(S,j),I,M;return O?O.value=C:(P.last=O={index:M=h(j,!0),key:j,value:C,previous:I=P.last,next:null,removed:!1},P.first||(P.first=O),I&&(I.next=O),d?P.size++:S.size++,M!=="F"&&(P.index[M]=O)),S},N=function(S,j){var C=_(S),P=h(j),O;if(P!=="F")return C.index[P];for(O=C.first;O;O=O.next)if(O.key===j)return O};return r(b,{clear:function(){for(var j=this,C=_(j),P=C.first;P;)P.removed=!0,P.previous&&(P.previous=P.previous.next=null),P=P.next;C.first=C.last=null,C.index=t(null),d?C.size=0:j.size=0},delete:function(S){var j=this,C=_(j),P=N(j,S);if(P){var O=P.next,I=P.previous;delete C.index[P.index],P.removed=!0,I&&(I.next=O),O&&(O.previous=I),C.first===P&&(C.first=O),C.last===P&&(C.last=I),d?C.size--:j.size--}return!!P},forEach:function(j){for(var C=_(this),P=n(j,arguments.length>1?arguments[1]:void 0),O;O=O?O.next:C.first;)for(P(O.value,O.key,this);O&&O.removed;)O=O.previous},has:function(j){return!!N(this,j)}}),r(b,g?{get:function(j){var C=N(this,j);return C&&C.value},set:function(j,C){return E(this,j===0?0:j,C)}}:{add:function(j){return E(this,j=j===0?0:j,j)}}),d&&e(b,"size",{configurable:!0,get:function(){return _(this).size}}),w},setStrong:function(y,x,g){var m=x+" Iterator",w=v(x),b=v(m);o(y,x,function(_,E){p(this,{type:m,target:_,state:w(_),kind:E,last:null})},function(){for(var _=b(this),E=_.kind,N=_.last;N&&N.removed;)N=N.previous;return!_.target||!(_.last=N=N?N.next:_.state.first)?(_.target=null,l(void 0,!0)):l(E==="keys"?N.key:E==="values"?N.value:[N.key,N.value],!1)},g?"entries":"values",!g,!0),c(x)}},zb}var nF;function dde(){if(nF)return zA;nF=1;var t=nY(),e=iY();return t("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),zA}var iF;function hde(){return iF||(iF=1,dde()),BA}var sF={},Ub,aF;function sY(){return aF||(aF=1,Ub=function(t,e){return e===1?function(r,n){return r[t](n)}:function(r,n,i){return r[t](n,i)}}),Ub}var Wb,oF;function fde(){if(oF)return Wb;oF=1;var t=Pn(),e=sY(),r=t("Map");return Wb={Map:r,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:r.prototype},Wb}var lF;function pde(){if(lF)return sF;lF=1;var t=Te(),e=ut(),r=Ns(),n=Uo(),i=LO(),s=fde(),a=Bu(),o=nt(),l=s.Map,c=s.has,d=s.get,h=s.set,f=e([].push),p=a||o(function(){return l.groupBy("ab",function(v){return v}).get("a").length!==1});return t({target:"Map",stat:!0,forced:a||p},{groupBy:function(y,x){n(y),r(x);var g=new l,m=0;return i(y,function(w){var b=x(w,m++);c(g,b)?f(d(g,b),w):h(g,b,[w])}),g}}),sF}var Vb,uF;function mde(){if(uF)return Vb;uF=1,Ta(),hde(),pde(),_m();var t=rr();return Vb=t.Map,Vb}var Hb,cF;function vde(){if(cF)return Hb;cF=1;var t=mde();return Ia(),Hb=t,Hb}var Kb,dF;function gde(){return dF||(dF=1,Kb=vde()),Kb}var yde=gde(),aY=Be(yde),hF={},fF;function bde(){if(fF)return hF;fF=1;var t=Te(),e=Hu().some,r=Sm(),n=r("some");return t({target:"Array",proto:!0,forced:!n},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),hF}var Gb,pF;function xde(){if(pF)return Gb;pF=1,bde();var t=gn();return Gb=t("Array","some"),Gb}var Yb,mF;function wde(){if(mF)return Yb;mF=1;var t=ur(),e=xde(),r=Array.prototype;return Yb=function(n){var i=n.some;return n===r||t(r,n)&&i===r.some?e:i},Yb}var Qb,vF;function _de(){if(vF)return Qb;vF=1;var t=wde();return Qb=t,Qb}var Xb,gF;function Sde(){return gF||(gF=1,Xb=_de()),Xb}var Ede=Sde(),Nde=Be(Ede),Jb,yF;function jde(){if(yF)return Jb;yF=1,Ta();var t=gn();return Jb=t("Array","keys"),Jb}var Zb,bF;function Cde(){if(bF)return Zb;bF=1;var t=jde();return Zb=t,Zb}var e1,xF;function Ode(){if(xF)return e1;xF=1,Ia();var t=Oa(),e=cr(),r=ur(),n=Cde(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return e1=function(a){var o=a.keys;return a===i||r(i,a)&&o===i.keys||e(s,t(a))?n:o},e1}var t1,wF;function Pde(){return wF||(wF=1,t1=Ode()),t1}var Tde=Pde(),hl=Be(Tde),_F={},r1,SF;function Ide(){if(SF)return r1;SF=1;var t=Vu(),e=Math.floor,r=function(n,i){var s=n.length;if(s<8)for(var a=1,o,l;a<s;){for(l=a,o=n[a];l&&i(n[l-1],o)>0;)n[l]=n[--l];l!==a++&&(n[l]=o)}else for(var c=e(s/2),d=r(t(n,0,c),i),h=r(t(n,c),i),f=d.length,p=h.length,v=0,y=0;v<f||y<p;)n[v+y]=v<f&&y<p?i(d[v],h[y])<=0?d[v++]:h[y++]:v<f?d[v++]:h[y++];return n};return r1=r,r1}var n1,EF;function Rde(){if(EF)return n1;EF=1;var t=Au(),e=t.match(/firefox\/(\d+)/i);return n1=!!e&&+e[1],n1}var i1,NF;function $de(){if(NF)return i1;NF=1;var t=Au();return i1=/MSIE|Trident/.test(t),i1}var s1,jF;function kde(){if(jF)return s1;jF=1;var t=Au(),e=t.match(/AppleWebKit\/(\d+)\./);return s1=!!e&&+e[1],s1}var CF;function Dde(){if(CF)return _F;CF=1;var t=Te(),e=ut(),r=Ns(),n=yi(),i=Ca(),s=_G(),a=Pa(),o=nt(),l=Ide(),c=Sm(),d=Rde(),h=$de(),f=lh(),p=kde(),v=[],y=e(v.sort),x=e(v.push),g=o(function(){v.sort(void 0)}),m=o(function(){v.sort(null)}),w=c("sort"),b=!o(function(){if(f)return f<70;if(!(d&&d>3)){if(h)return!0;if(p)return p<603;var N="",S,j,C,P;for(S=65;S<76;S++){switch(j=String.fromCharCode(S),S){case 66:case 69:case 70:case 72:C=3;break;case 68:case 71:C=4;break;default:C=2}for(P=0;P<47;P++)v.push({k:j+P,v:C})}for(v.sort(function(O,I){return I.v-O.v}),P=0;P<v.length;P++)j=v[P].k.charAt(0),N.charAt(N.length-1)!==j&&(N+=j);return N!=="DGBEFHACIJK"}}),_=g||!m||!w||!b,E=function(N){return function(S,j){return j===void 0?-1:S===void 0?1:N!==void 0?+N(S,j)||0:a(S)>a(j)?1:-1}};return t({target:"Array",proto:!0,forced:_},{sort:function(S){S!==void 0&&r(S);var j=n(this);if(b)return S===void 0?y(j):y(j,S);var C=[],P=i(j),O,I;for(I=0;I<P;I++)I in j&&x(C,j[I]);for(l(C,E(S)),O=i(C),I=0;I<O;)j[I]=C[I++];for(;I<P;)s(j,I++);return j}}),_F}var a1,OF;function Mde(){if(OF)return a1;OF=1,Dde();var t=gn();return a1=t("Array","sort"),a1}var o1,PF;function qde(){if(PF)return o1;PF=1;var t=ur(),e=Mde(),r=Array.prototype;return o1=function(n){var i=n.sort;return n===r||t(r,n)&&i===r.sort?e:i},o1}var l1,TF;function Ade(){if(TF)return l1;TF=1;var t=qde();return l1=t,l1}var u1,IF;function Fde(){return IF||(IF=1,u1=Ade()),u1}var Lde=Fde(),qj=Be(Lde),c1,RF;function Bde(){if(RF)return c1;RF=1,Ta();var t=gn();return c1=t("Array","values"),c1}var d1,$F;function zde(){if($F)return d1;$F=1;var t=Bde();return d1=t,d1}var h1,kF;function Ude(){if(kF)return h1;kF=1,Ia();var t=Oa(),e=cr(),r=ur(),n=zde(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return h1=function(a){var o=a.values;return a===i||r(i,a)&&o===i.values||e(s,t(a))?n:o},h1}var f1,DF;function Wde(){return DF||(DF=1,f1=Ude()),f1}var Vde=Wde(),MF=Be(Vde),p1,qF;function Hde(){return qF||(qF=1,p1=yG()),p1}var Kde=Hde(),Il=Be(Kde),m1,AF;function Gde(){if(AF)return m1;AF=1,Ta();var t=gn();return m1=t("Array","entries"),m1}var v1,FF;function Yde(){if(FF)return v1;FF=1;var t=Gde();return v1=t,v1}var g1,LF;function Qde(){if(LF)return g1;LF=1,Ia();var t=Oa(),e=cr(),r=ur(),n=Yde(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return g1=function(a){var o=a.entries;return a===i||r(i,a)&&o===i.entries||e(s,t(a))?n:o},g1}var y1,BF;function Xde(){return BF||(BF=1,y1=Qde()),y1}var Jde=Xde(),Zde=Be(Jde);const mr=[];for(let t=0;t<256;++t)mr.push((t+256).toString(16).slice(1));function ehe(t,e=0){return(mr[t[e+0]]+mr[t[e+1]]+mr[t[e+2]]+mr[t[e+3]]+"-"+mr[t[e+4]]+mr[t[e+5]]+"-"+mr[t[e+6]]+mr[t[e+7]]+"-"+mr[t[e+8]]+mr[t[e+9]]+"-"+mr[t[e+10]]+mr[t[e+11]]+mr[t[e+12]]+mr[t[e+13]]+mr[t[e+14]]+mr[t[e+15]]).toLowerCase()}let b1;const the=new Uint8Array(16);function rhe(){if(!b1){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");b1=crypto.getRandomValues.bind(crypto)}return b1(the)}const nhe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var zF={randomUUID:nhe};function ihe(t,e,r){var i;t=t||{};const n=t.random??((i=t.rng)==null?void 0:i.call(t))??rhe();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,ehe(n)}function she(t,e,r){return zF.randomUUID&&!t?zF.randomUUID():ihe(t)}function UF(t){return typeof t=="string"||typeof t=="number"}class BO{constructor(e){ha(this,"_queue",[]),ha(this,"_timeout",null),ha(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(e)}setOptions(e){e&&typeof e.delay<"u"&&(this.delay=e.delay),e&&typeof e.max<"u"&&(this.max=e.max),this._flushIfNeeded()}static extend(e,r){const n=new BO(r);if(e.flush!==void 0)throw new Error("Target object already has a property flush");e.flush=()=>{n.flush()};const i=[{name:"flush",original:void 0}];if(r&&r.replace)for(let s=0;s<r.replace.length;s++){const a=r.replace[s];i.push({name:a,original:e[a]}),n.replace(e,a)}return n._extended={object:e,methods:i},n}destroy(){if(this.flush(),this._extended){const e=this._extended.object,r=this._extended.methods;for(let n=0;n<r.length;n++){const i=r[n];i.original?e[i.name]=i.original:delete e[i.name]}this._extended=null}}replace(e,r){const n=this,i=e[r];if(!i)throw new Error("Method "+r+" undefined");e[r]=function(){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];n.queue({args:a,fn:i,context:this})}}queue(e){typeof e=="function"?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}_flushIfNeeded(){this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=zue(()=>{this.flush()},this.delay))}flush(){var e,r;Io(e=SG(r=this._queue).call(r,0)).call(e,n=>{n.fn.apply(n.context||n.fn,n.args||[])})}}class Tp{constructor(){ha(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),ha(this,"subscribe",Tp.prototype.on),ha(this,"unsubscribe",Tp.prototype.off)}_trigger(e,r,n){var i;if(e==="*")throw new Error("Cannot trigger event *");Io(i=[...this._subscribers[e],...this._subscribers["*"]]).call(i,s=>{s(e,r,n??null)})}on(e,r){typeof r=="function"&&this._subscribers[e].push(r)}off(e,r){var n;this._subscribers[e]=Ol(n=this._subscribers[e]).call(n,i=>i!==r)}}var WF={},VF={},HF;function ahe(){if(HF)return VF;HF=1;var t=nY(),e=iY();return t("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),VF}var KF;function ohe(){return KF||(KF=1,ahe()),WF}var GF={},x1,YF;function Ko(){if(YF)return x1;YF=1;var t=Lu(),e=TypeError;return x1=function(r){if(typeof r=="object"&&"size"in r&&"has"in r&&"add"in r&&"delete"in r&&"keys"in r)return r;throw new e(t(r)+" is not a set")},x1}var w1,QF;function Go(){if(QF)return w1;QF=1;var t=Pn(),e=sY(),r=t("Set"),n=r.prototype;return w1={Set:r,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:n},w1}var _1,XF;function Yo(){if(XF)return _1;XF=1;var t=vn();return _1=function(e,r,n){for(var i=n?e:e.iterator,s=e.next,a,o;!(a=t(s,i)).done;)if(o=r(a.value),o!==void 0)return o},_1}var S1,JF;function xh(){if(JF)return S1;JF=1;var t=Yo();return S1=function(e,r,n){return n?t(e.keys(),r,!0):e.forEach(r)},S1}var E1,ZF;function zO(){if(ZF)return E1;ZF=1;var t=Go(),e=xh(),r=t.Set,n=t.add;return E1=function(i){var s=new r;return e(i,function(a){n(s,a)}),s},E1}var N1,e4;function wh(){return e4||(e4=1,N1=function(t){return t.size}),N1}var j1,t4;function lhe(){return t4||(t4=1,j1=function(t){return{iterator:t,next:t.next,done:!1}}),j1}var C1,r4;function Qo(){if(r4)return C1;r4=1;var t=Ns(),e=js(),r=vn(),n=Wu(),i=lhe(),s="Invalid size",a=RangeError,o=TypeError,l=Math.max,c=function(d,h){this.set=d,this.size=l(h,0),this.has=t(d.has),this.keys=t(d.keys)};return c.prototype={getIterator:function(){return i(e(r(this.keys,this.set)))},includes:function(d){return r(this.has,this.set,d)}},C1=function(d){e(d);var h=+d.size;if(h!==h)throw new o(s);var f=n(h);if(f<0)throw new a(s);return new c(d,f)},C1}var O1,n4;function uhe(){if(n4)return O1;n4=1;var t=Ko(),e=Go(),r=zO(),n=wh(),i=Qo(),s=xh(),a=Yo(),o=e.has,l=e.remove;return O1=function(d){var h=t(this),f=i(d),p=r(h);return n(h)<=f.size?s(h,function(v){f.includes(v)&&l(p,v)}):a(f.getIterator(),function(v){o(p,v)&&l(p,v)}),p},O1}var P1,i4;function Xo(){return i4||(i4=1,P1=function(){return!1}),P1}var s4;function che(){if(s4)return GF;s4=1;var t=Te(),e=uhe(),r=nt(),n=Xo(),i=!n("difference",function(a){return a.size===0}),s=i||r(function(){var a={size:1,has:function(){return!0},keys:function(){var l=0;return{next:function(){var c=l++>1;return o.has(1)&&o.clear(),{done:c,value:2}}}}},o=new Set([1,2,3,4]);return o.difference(a).size!==3});return t({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),GF}var a4={},T1,o4;function dhe(){if(o4)return T1;o4=1;var t=Ko(),e=Go(),r=wh(),n=Qo(),i=xh(),s=Yo(),a=e.Set,o=e.add,l=e.has;return T1=function(d){var h=t(this),f=n(d),p=new a;return r(h)>f.size?s(f.getIterator(),function(v){l(h,v)&&o(p,v)}):i(h,function(v){f.includes(v)&&o(p,v)}),p},T1}var l4;function hhe(){if(l4)return a4;l4=1;var t=Te(),e=nt(),r=dhe(),n=Xo(),i=!n("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return t({target:"Set",proto:!0,real:!0,forced:i},{intersection:r}),a4}var u4={},I1,c4;function fhe(){if(c4)return I1;c4=1;var t=Ko(),e=Go().has,r=wh(),n=Qo(),i=xh(),s=Yo(),a=FO();return I1=function(l){var c=t(this),d=n(l);if(r(c)<=d.size)return i(c,function(f){if(d.includes(f))return!1},!0)!==!1;var h=d.getIterator();return s(h,function(f){if(e(c,f))return a(h,"normal",!1)})!==!1},I1}var d4;function phe(){if(d4)return u4;d4=1;var t=Te(),e=fhe(),r=Xo(),n=!r("isDisjointFrom",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isDisjointFrom:e}),u4}var h4={},R1,f4;function mhe(){if(f4)return R1;f4=1;var t=Ko(),e=wh(),r=xh(),n=Qo();return R1=function(s){var a=t(this),o=n(s);return e(a)>o.size?!1:r(a,function(l){if(!o.includes(l))return!1},!0)!==!1},R1}var p4;function vhe(){if(p4)return h4;p4=1;var t=Te(),e=mhe(),r=Xo(),n=!r("isSubsetOf",function(i){return i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSubsetOf:e}),h4}var m4={},$1,v4;function ghe(){if(v4)return $1;v4=1;var t=Ko(),e=Go().has,r=wh(),n=Qo(),i=Yo(),s=FO();return $1=function(o){var l=t(this),c=n(o);if(r(l)<c.size)return!1;var d=c.getIterator();return i(d,function(h){if(!e(l,h))return s(d,"normal",!1)})!==!1},$1}var g4;function yhe(){if(g4)return m4;g4=1;var t=Te(),e=ghe(),r=Xo(),n=!r("isSupersetOf",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSupersetOf:e}),m4}var y4={},k1,b4;function bhe(){if(b4)return k1;b4=1;var t=Ko(),e=Go(),r=zO(),n=Qo(),i=Yo(),s=e.add,a=e.has,o=e.remove;return k1=function(c){var d=t(this),h=n(c).getIterator(),f=r(d);return i(h,function(p){a(d,p)?o(f,p):s(f,p)}),f},k1}var D1,x4;function oY(){return x4||(x4=1,D1=function(t){try{var e=new Set,r={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},n=e[t](r);return n.size===1&&n.values().next().value===4}catch{return!1}}),D1}var w4;function xhe(){if(w4)return y4;w4=1;var t=Te(),e=bhe(),r=oY(),n=Xo(),i=!n("symmetricDifference")||!r("symmetricDifference");return t({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:e}),y4}var _4={},M1,S4;function whe(){if(S4)return M1;S4=1;var t=Ko(),e=Go().add,r=zO(),n=Qo(),i=Yo();return M1=function(a){var o=t(this),l=n(a).getIterator(),c=r(o);return i(l,function(d){e(c,d)}),c},M1}var E4;function _he(){if(E4)return _4;E4=1;var t=Te(),e=whe(),r=oY(),n=Xo(),i=!n("union")||!r("union");return t({target:"Set",proto:!0,real:!0,forced:i},{union:e}),_4}var q1,N4;function She(){if(N4)return q1;N4=1,Ta(),ohe(),che(),hhe(),phe(),vhe(),yhe(),xhe(),_he(),_m();var t=rr();return q1=t.Set,q1}var A1,j4;function Ehe(){if(j4)return A1;j4=1;var t=She();return Ia(),A1=t,A1}var F1,C4;function Nhe(){return C4||(C4=1,F1=Ehe()),F1}var jhe=Nhe(),L1=Be(jhe),B1,O4;function Che(){if(O4)return B1;O4=1,Ta(),_m();var t=tY();return B1=t,B1}var z1,P4;function Ohe(){if(P4)return z1;P4=1;var t=Che();return Ia(),z1=t,z1}var U1,T4;function Phe(){if(T4)return U1;T4=1;var t=Ohe();return U1=t,U1}var W1,I4;function The(){if(I4)return W1;I4=1;var t=Phe();return W1=t,W1}var V1,R4;function Ihe(){return R4||(R4=1,V1=The()),V1}var H1,$4;function Rhe(){return $4||($4=1,H1=Ihe()),H1}var $he=Rhe(),K1=Be($he);class Xa{constructor(e){this._pairs=e}*[Il](){for(const[e,r]of this._pairs)yield[e,r]}*entries(){for(const[e,r]of this._pairs)yield[e,r]}*keys(){for(const[e]of this._pairs)yield e}*values(){for(const[,e]of this._pairs)yield e}toIdArray(){var e;return oi(e=[...this._pairs]).call(e,r=>r[0])}toItemArray(){var e;return oi(e=[...this._pairs]).call(e,r=>r[1])}toEntryArray(){return[...this._pairs]}toObjectMap(){const e=Nue(null);for(const[r,n]of this._pairs)e[r]=n;return e}toMap(){return new aY(this._pairs)}toIdSet(){return new L1(this.toIdArray())}toItemSet(){return new L1(this.toItemArray())}cache(){return new Xa([...this._pairs])}distinct(e){const r=new L1;for(const[n,i]of this._pairs)r.add(e(i,n));return r}filter(e){const r=this._pairs;return new Xa({*[Il](){for(const[n,i]of r)e(i,n)&&(yield[n,i])}})}forEach(e){for(const[r,n]of this._pairs)e(n,r)}map(e){const r=this._pairs;return new Xa({*[Il](){for(const[n,i]of r)yield[n,e(i,n)]}})}max(e){const r=K1(this._pairs);let n=r.next();if(n.done)return null;let i=n.value[1],s=e(n.value[1],n.value[0]);for(;!(n=r.next()).done;){const[a,o]=n.value,l=e(o,a);l>s&&(s=l,i=o)}return i}min(e){const r=K1(this._pairs);let n=r.next();if(n.done)return null;let i=n.value[1],s=e(n.value[1],n.value[0]);for(;!(n=r.next()).done;){const[a,o]=n.value,l=e(o,a);l<s&&(s=l,i=o)}return i}reduce(e,r){for(const[n,i]of this._pairs)r=e(r,i,n);return r}sort(e){return new Xa({[Il]:()=>{var r;return K1(qj(r=[...this._pairs]).call(r,(n,i)=>{let[s,a]=n,[o,l]=i;return e(a,l,s,o)}))}})}}function k4(t,e){var r=IO(t);if(SA){var n=SA(t);e&&(n=Ol(n).call(n,function(i){return JG(t,i).enumerable})),r.push.apply(r,n)}return r}function D4(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?Io(r=k4(Object(i),!0)).call(r,function(s){ha(t,s,i[s])}):kA?tde(t,kA(i)):Io(n=k4(Object(i))).call(n,function(s){ide(t,s,JG(i,s))})}return t}function khe(t,e){return t[e]==null&&(t[e]=she()),t}class Su extends Tp{get idProp(){return this._idProp}constructor(e,r){super(),ha(this,"_queue",null),e&&!Ei(e)&&(r=e,e=[]),this._options=r||{},this._data=new aY,this.length=0,this._idProp=this._options.fieldId||"id",e&&e.length&&this.add(e),this.setOptions(r)}setOptions(e){e&&e.queue!==void 0&&(e.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=BO.extend(this,{replace:["add","update","remove"]})),e.queue&&typeof e.queue=="object"&&this._queue.setOptions(e.queue)))}add(e,r){const n=[];let i;if(Ei(e)){const s=oi(e).call(e,a=>a[this._idProp]);if(Nde(s).call(s,a=>this._data.has(a)))throw new Error("A duplicate id was found in the parameter array.");for(let a=0,o=e.length;a<o;a++)i=this._addItem(e[a]),n.push(i)}else if(e&&typeof e=="object")i=this._addItem(e),n.push(i);else throw new Error("Unknown dataType");return n.length&&this._trigger("add",{items:n},r),n}update(e,r){const n=[],i=[],s=[],a=[],o=this._idProp,l=c=>{const d=c[o];if(d!=null&&this._data.has(d)){const h=c,f=fue({},this._data.get(d)),p=this._updateItem(h);i.push(p),a.push(h),s.push(f)}else{const h=this._addItem(c);n.push(h)}};if(Ei(e))for(let c=0,d=e.length;c<d;c++)e[c]&&typeof e[c]=="object"?l(e[c]):console.warn("Ignoring input item, which is not an object at index "+c);else if(e&&typeof e=="object")l(e);else throw new Error("Unknown dataType");if(n.length&&this._trigger("add",{items:n},r),i.length){const c={items:i,oldData:s,data:a};this._trigger("update",c,r)}return bue(n).call(n,i)}updateOnly(e,r){var n;Ei(e)||(e=[e]);const i=oi(n=oi(e).call(e,s=>{const a=this._data.get(s[this._idProp]);if(a==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:a,update:s}})).call(n,s=>{let{oldData:a,update:o}=s;const l=a[this._idProp],c=Rce(a,o);return this._data.set(l,c),{id:l,oldData:a,updatedData:c}});if(i.length){const s={items:oi(i).call(i,a=>a.id),oldData:oi(i).call(i,a=>a.oldData),data:oi(i).call(i,a=>a.updatedData)};return this._trigger("update",s,r),s.items}else return[]}get(e,r){let n,i,s;UF(e)?(n=e,s=r):Ei(e)?(i=e,s=r):s=e;const a=s&&s.returnType==="Object"?"Object":"Array",o=s&&Ol(s),l=[];let c,d,h;if(n!=null)c=this._data.get(n),c&&o&&!o(c)&&(c=void 0);else if(i!=null)for(let p=0,v=i.length;p<v;p++)c=this._data.get(i[p]),c!=null&&(!o||o(c))&&l.push(c);else{var f;d=[...hl(f=this._data).call(f)];for(let p=0,v=d.length;p<v;p++)h=d[p],c=this._data.get(h),c!=null&&(!o||o(c))&&l.push(c)}if(s&&s.order&&n==null&&this._sort(l,s.order),s&&s.fields){const p=s.fields;if(n!=null&&c!=null)c=this._filterFields(c,p);else for(let v=0,y=l.length;v<y;v++)l[v]=this._filterFields(l[v],p)}if(a=="Object"){const p={};for(let v=0,y=l.length;v<y;v++){const x=l[v],g=x[this._idProp];p[g]=x}return p}else return n!=null?c??null:l}getIds(e){const r=this._data,n=e&&Ol(e),i=e&&e.order,s=[...hl(r).call(r)],a=[];if(n)if(i){const o=[];for(let l=0,c=s.length;l<c;l++){const d=s[l],h=this._data.get(d);h!=null&&n(h)&&o.push(h)}this._sort(o,i);for(let l=0,c=o.length;l<c;l++)a.push(o[l][this._idProp])}else for(let o=0,l=s.length;o<l;o++){const c=s[o],d=this._data.get(c);d!=null&&n(d)&&a.push(d[this._idProp])}else if(i){const o=[];for(let l=0,c=s.length;l<c;l++){const d=s[l];o.push(r.get(d))}this._sort(o,i);for(let l=0,c=o.length;l<c;l++)a.push(o[l][this._idProp])}else for(let o=0,l=s.length;o<l;o++){const c=s[o],d=r.get(c);d!=null&&a.push(d[this._idProp])}return a}getDataSet(){return this}forEach(e,r){const n=r&&Ol(r),i=this._data,s=[...hl(i).call(i)];if(r&&r.order){const a=this.get(r);for(let o=0,l=a.length;o<l;o++){const c=a[o],d=c[this._idProp];e(c,d)}}else for(let a=0,o=s.length;a<o;a++){const l=s[a],c=this._data.get(l);c!=null&&(!n||n(c))&&e(c,l)}}map(e,r){const n=r&&Ol(r),i=[],s=this._data,a=[...hl(s).call(s)];for(let o=0,l=a.length;o<l;o++){const c=a[o],d=this._data.get(c);d!=null&&(!n||n(d))&&i.push(e(d,c))}return r&&r.order&&this._sort(i,r.order),i}_filterFields(e,r){var n;return e&&tle(n=Ei(r)?r:IO(r)).call(n,(i,s)=>(i[s]=e[s],i),{})}_sort(e,r){if(typeof r=="string"){const n=r;qj(e).call(e,(i,s)=>{const a=i[n],o=s[n];return a>o?1:a<o?-1:0})}else if(typeof r=="function")qj(e).call(e,r);else throw new TypeError("Order must be a function or a string")}remove(e,r){const n=[],i=[],s=Ei(e)?e:[e];for(let a=0,o=s.length;a<o;a++){const l=this._remove(s[a]);if(l){const c=l[this._idProp];c!=null&&(n.push(c),i.push(l))}}return n.length&&this._trigger("remove",{items:n,oldData:i},r),n}_remove(e){let r;if(UF(e)?r=e:e&&typeof e=="object"&&(r=e[this._idProp]),r!=null&&this._data.has(r)){const n=this._data.get(r)||null;return this._data.delete(r),--this.length,n}return null}clear(e){var r;const n=[...hl(r=this._data).call(r)],i=[];for(let s=0,a=n.length;s<a;s++)i.push(this._data.get(n[s]));return this._data.clear(),this.length=0,this._trigger("remove",{items:n,oldData:i},e),n}max(e){let r=null,n=null;for(const s of MF(i=this._data).call(i)){var i;const a=s[e];typeof a=="number"&&(n==null||a>n)&&(r=s,n=a)}return r||null}min(e){let r=null,n=null;for(const s of MF(i=this._data).call(i)){var i;const a=s[e];typeof a=="number"&&(n==null||a<n)&&(r=s,n=a)}return r||null}distinct(e){const r=this._data,n=[...hl(r).call(r)],i=[];let s=0;for(let a=0,o=n.length;a<o;a++){const l=n[a],d=r.get(l)[e];let h=!1;for(let f=0;f<s;f++)if(i[f]==d){h=!0;break}!h&&d!==void 0&&(i[s]=d,s++)}return i}_addItem(e){const r=khe(e,this._idProp),n=r[this._idProp];if(this._data.has(n))throw new Error("Cannot add item: item with id "+n+" already exists");return this._data.set(n,r),++this.length,n}_updateItem(e){const r=e[this._idProp];if(r==null)throw new Error("Cannot update item: item has no id (item: "+kue(e)+")");const n=this._data.get(r);if(!n)throw new Error("Cannot update item: no item with id "+r+" found");return this._data.set(r,D4(D4({},n),e)),r}stream(e){if(e){const n=this._data;return new Xa({*[Il](){for(const i of e){const s=n.get(i);s!=null&&(yield[i,s])}}})}else{var r;return new Xa({[Il]:bG(r=Zde(this._data)).call(r,this._data)})}}}function Dhe(t,e){return typeof e=="object"&&e!==null&&t===e.idProp&&typeof e.add=="function"&&typeof e.clear=="function"&&typeof e.distinct=="function"&&typeof Io(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof oi(e)=="function"&&typeof e.max=="function"&&typeof e.min=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.remove=="function"&&typeof e.setOptions=="function"&&typeof e.stream=="function"&&typeof e.update=="function"&&typeof e.updateOnly=="function"}function lY(t,e){return typeof e=="object"&&e!==null&&t===e.idProp&&typeof Io(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof oi(e)=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.stream=="function"&&Dhe(t,e.getDataSet())}/**
 * vis-network
 * https://visjs.github.io/vis-network/
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 10.0.2
 * @date    2025-09-15T17:48:13.838Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var M4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var q4={},Pc,A4;function _t(){if(A4)return Pc;A4=1;var t=function(e){return e&&e.Math===Math&&e};return Pc=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof M4=="object"&&M4)||t(typeof Pc=="object"&&Pc)||function(){return this}()||Function("return this")(),Pc}var G1,F4;function ze(){return F4||(F4=1,G1=function(t){try{return!!t()}catch{return!0}}),G1}var Y1,L4;function _h(){if(L4)return Y1;L4=1;var t=ze();return Y1=!t(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),Y1}var Q1,B4;function jm(){if(B4)return Q1;B4=1;var t=_h(),e=Function.prototype,r=e.apply,n=e.call;return Q1=typeof Reflect=="object"&&Reflect.apply||(t?n.bind(r):function(){return n.apply(r,arguments)}),Q1}var X1,z4;function Ve(){if(z4)return X1;z4=1;var t=_h(),e=Function.prototype,r=e.call,n=t&&e.bind.bind(r,r);return X1=t?n:function(i){return function(){return r.apply(i,arguments)}},X1}var J1,U4;function Fi(){if(U4)return J1;U4=1;var t=Ve(),e=t({}.toString),r=t("".slice);return J1=function(n){return r(e(n),8,-1)},J1}var Z1,W4;function UO(){if(W4)return Z1;W4=1;var t=Fi(),e=Ve();return Z1=function(r){if(t(r)==="Function")return e(r)},Z1}var ex,V4;function hr(){if(V4)return ex;V4=1;var t=typeof document=="object"&&document.all;return ex=typeof t>"u"&&t!==void 0?function(e){return typeof e=="function"||e===t}:function(e){return typeof e=="function"},ex}var tx={},rx,H4;function Lt(){if(H4)return rx;H4=1;var t=ze();return rx=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),rx}var nx,K4;function yn(){if(K4)return nx;K4=1;var t=_h(),e=Function.prototype.call;return nx=t?e.bind(e):function(){return e.apply(e,arguments)},nx}var ix={},G4;function Cm(){if(G4)return ix;G4=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,r=e&&!t.call({1:2},1);return ix.f=r?function(i){var s=e(this,i);return!!s&&s.enumerable}:t,ix}var sx,Y4;function Sh(){return Y4||(Y4=1,sx=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}),sx}var ax,Q4;function Om(){if(Q4)return ax;Q4=1;var t=Ve(),e=ze(),r=Fi(),n=Object,i=t("".split);return ax=e(function(){return!n("z").propertyIsEnumerable(0)})?function(s){return r(s)==="String"?i(s,""):n(s)}:n,ax}var ox,X4;function Yu(){return X4||(X4=1,ox=function(t){return t==null}),ox}var lx,J4;function Cs(){if(J4)return lx;J4=1;var t=Yu(),e=TypeError;return lx=function(r){if(t(r))throw new e("Can't call method on "+r);return r},lx}var ux,Z4;function bi(){if(Z4)return ux;Z4=1;var t=Om(),e=Cs();return ux=function(r){return t(e(r))},ux}var cx,e5;function fr(){if(e5)return cx;e5=1;var t=hr();return cx=function(e){return typeof e=="object"?e!==null:t(e)},cx}var dx,t5;function it(){return t5||(t5=1,dx={}),dx}var hx,r5;function Tn(){if(r5)return hx;r5=1;var t=it(),e=_t(),r=hr(),n=function(i){return r(i)?i:void 0};return hx=function(i,s){return arguments.length<2?n(t[i])||n(e[i]):t[i]&&t[i][s]||e[i]&&e[i][s]},hx}var fx,n5;function Qt(){if(n5)return fx;n5=1;var t=Ve();return fx=t({}.isPrototypeOf),fx}var px,i5;function Qu(){if(i5)return px;i5=1;var t=_t(),e=t.navigator,r=e&&e.userAgent;return px=r?String(r):"",px}var mx,s5;function Eh(){if(s5)return mx;s5=1;var t=_t(),e=Qu(),r=t.process,n=t.Deno,i=r&&r.versions||n&&n.version,s=i&&i.v8,a,o;return s&&(a=s.split("."),o=a[0]>0&&a[0]<4?1:+(a[0]+a[1])),!o&&e&&(a=e.match(/Edge\/(\d+)/),(!a||a[1]>=74)&&(a=e.match(/Chrome\/(\d+)/),a&&(o=+a[1]))),mx=o,mx}var vx,a5;function Xu(){if(a5)return vx;a5=1;var t=Eh(),e=ze(),r=_t(),n=r.String;return vx=!!Object.getOwnPropertySymbols&&!e(function(){var i=Symbol("symbol detection");return!n(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&t&&t<41}),vx}var gx,o5;function uY(){if(o5)return gx;o5=1;var t=Xu();return gx=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol",gx}var yx,l5;function Nh(){if(l5)return yx;l5=1;var t=Tn(),e=hr(),r=Qt(),n=uY(),i=Object;return yx=n?function(s){return typeof s=="symbol"}:function(s){var a=t("Symbol");return e(a)&&r(a.prototype,i(s))},yx}var bx,u5;function Ju(){if(u5)return bx;u5=1;var t=String;return bx=function(e){try{return t(e)}catch{return"Object"}},bx}var xx,c5;function Os(){if(c5)return xx;c5=1;var t=hr(),e=Ju(),r=TypeError;return xx=function(n){if(t(n))return n;throw new r(e(n)+" is not a function")},xx}var wx,d5;function WO(){if(d5)return wx;d5=1;var t=Os(),e=Yu();return wx=function(r,n){var i=r[n];return e(i)?void 0:t(i)},wx}var _x,h5;function Mhe(){if(h5)return _x;h5=1;var t=yn(),e=hr(),r=fr(),n=TypeError;return _x=function(i,s){var a,o;if(s==="string"&&e(a=i.toString)&&!r(o=t(a,i))||e(a=i.valueOf)&&!r(o=t(a,i))||s!=="string"&&e(a=i.toString)&&!r(o=t(a,i)))return o;throw new n("Can't convert object to primitive value")},_x}var Sx={exports:{}},Ex,f5;function Zu(){return f5||(f5=1,Ex=!0),Ex}var Nx,p5;function qhe(){if(p5)return Nx;p5=1;var t=_t(),e=Object.defineProperty;return Nx=function(r,n){try{e(t,r,{value:n,configurable:!0,writable:!0})}catch{t[r]=n}return n},Nx}var m5;function VO(){if(m5)return Sx.exports;m5=1;var t=Zu(),e=_t(),r=qhe(),n="__core-js_shared__",i=Sx.exports=e[n]||r(n,{});return(i.versions||(i.versions=[])).push({version:"3.44.0",mode:t?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),Sx.exports}var jx,v5;function ec(){if(v5)return jx;v5=1;var t=VO();return jx=function(e,r){return t[e]||(t[e]=r||{})},jx}var Cx,g5;function In(){if(g5)return Cx;g5=1;var t=Cs(),e=Object;return Cx=function(r){return e(t(r))},Cx}var Ox,y5;function wr(){if(y5)return Ox;y5=1;var t=Ve(),e=In(),r=t({}.hasOwnProperty);return Ox=Object.hasOwn||function(i,s){return r(e(i),s)},Ox}var Px,b5;function Pm(){if(b5)return Px;b5=1;var t=Ve(),e=0,r=Math.random(),n=t(1.1.toString);return Px=function(i){return"Symbol("+(i===void 0?"":i)+")_"+n(++e+r,36)},Px}var Tx,x5;function Xt(){if(x5)return Tx;x5=1;var t=_t(),e=ec(),r=wr(),n=Pm(),i=Xu(),s=uY(),a=t.Symbol,o=e("wks"),l=s?a.for||a:a&&a.withoutSetter||n;return Tx=function(c){return r(o,c)||(o[c]=i&&r(a,c)?a[c]:l("Symbol."+c)),o[c]},Tx}var Ix,w5;function cY(){if(w5)return Ix;w5=1;var t=yn(),e=fr(),r=Nh(),n=WO(),i=Mhe(),s=Xt(),a=TypeError,o=s("toPrimitive");return Ix=function(l,c){if(!e(l)||r(l))return l;var d=n(l,o),h;if(d){if(c===void 0&&(c="default"),h=t(d,l,c),!e(h)||r(h))return h;throw new a("Can't convert object to primitive value")}return c===void 0&&(c="number"),i(l,c)},Ix}var Rx,_5;function HO(){if(_5)return Rx;_5=1;var t=cY(),e=Nh();return Rx=function(r){var n=t(r,"string");return e(n)?n:n+""},Rx}var $x,S5;function dY(){if(S5)return $x;S5=1;var t=_t(),e=fr(),r=t.document,n=e(r)&&e(r.createElement);return $x=function(i){return n?r.createElement(i):{}},$x}var kx,E5;function hY(){if(E5)return kx;E5=1;var t=Lt(),e=ze(),r=dY();return kx=!t&&!e(function(){return Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a!==7}),kx}var N5;function Tm(){if(N5)return tx;N5=1;var t=Lt(),e=yn(),r=Cm(),n=Sh(),i=bi(),s=HO(),a=wr(),o=hY(),l=Object.getOwnPropertyDescriptor;return tx.f=t?l:function(d,h){if(d=i(d),h=s(h),o)try{return l(d,h)}catch{}if(a(d,h))return n(!e(r.f,d,h),d[h])},tx}var Dx,j5;function Ahe(){if(j5)return Dx;j5=1;var t=ze(),e=hr(),r=/#|\.prototype\./,n=function(l,c){var d=s[i(l)];return d===o?!0:d===a?!1:e(c)?t(c):!!c},i=n.normalize=function(l){return String(l).replace(r,".").toLowerCase()},s=n.data={},a=n.NATIVE="N",o=n.POLYFILL="P";return Dx=n,Dx}var Mx,C5;function Im(){if(C5)return Mx;C5=1;var t=UO(),e=Os(),r=_h(),n=t(t.bind);return Mx=function(i,s){return e(i),s===void 0?i:r?n(i,s):function(){return i.apply(s,arguments)}},Mx}var qx={},Ax,O5;function fY(){if(O5)return Ax;O5=1;var t=Lt(),e=ze();return Ax=t&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),Ax}var Fx,P5;function Li(){if(P5)return Fx;P5=1;var t=fr(),e=String,r=TypeError;return Fx=function(n){if(t(n))return n;throw new r(e(n)+" is not an object")},Fx}var T5;function Qn(){if(T5)return qx;T5=1;var t=Lt(),e=hY(),r=fY(),n=Li(),i=HO(),s=TypeError,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,l="enumerable",c="configurable",d="writable";return qx.f=t?r?function(f,p,v){if(n(f),p=i(p),n(v),typeof f=="function"&&p==="prototype"&&"value"in v&&d in v&&!v[d]){var y=o(f,p);y&&y[d]&&(f[p]=v.value,v={configurable:c in v?v[c]:y[c],enumerable:l in v?v[l]:y[l],writable:!1})}return a(f,p,v)}:a:function(f,p,v){if(n(f),p=i(p),n(v),e)try{return a(f,p,v)}catch{}if("get"in v||"set"in v)throw new s("Accessors not supported");return"value"in v&&(f[p]=v.value),f},qx}var Lx,I5;function tc(){if(I5)return Lx;I5=1;var t=Lt(),e=Qn(),r=Sh();return Lx=t?function(n,i,s){return e.f(n,i,r(1,s))}:function(n,i,s){return n[i]=s,n},Lx}var Bx,R5;function Se(){if(R5)return Bx;R5=1;var t=_t(),e=jm(),r=UO(),n=hr(),i=Tm().f,s=Ahe(),a=it(),o=Im(),l=tc(),c=wr(),d=function(h){var f=function(p,v,y){if(this instanceof f){switch(arguments.length){case 0:return new h;case 1:return new h(p);case 2:return new h(p,v)}return new h(p,v,y)}return e(h,this,arguments)};return f.prototype=h.prototype,f};return Bx=function(h,f){var p=h.target,v=h.global,y=h.stat,x=h.proto,g=v?t:y?t[p]:t[p]&&t[p].prototype,m=v?a:a[p]||l(a,p,{})[p],w=m.prototype,b,_,E,N,S,j,C,P,O;for(N in f)b=s(v?N:p+(y?".":"#")+N,h.forced),_=!b&&g&&c(g,N),j=m[N],_&&(h.dontCallGetSet?(O=i(g,N),C=O&&O.value):C=g[N]),S=_&&C?C:f[N],!(!b&&!x&&typeof j==typeof S)&&(h.bind&&_?P=o(S,t):h.wrap&&_?P=d(S):x&&n(S)?P=r(S):P=S,(h.sham||S&&S.sham||j&&j.sham)&&l(P,"sham",!0),l(m,N,P),x&&(E=p+"Prototype",c(a,E)||l(a,E,{}),l(a[E],N,S),h.real&&w&&(b||!w[N])&&l(w,N,S)))},Bx}var zx,$5;function Fhe(){if($5)return zx;$5=1;var t=Math.ceil,e=Math.floor;return zx=Math.trunc||function(n){var i=+n;return(i>0?e:t)(i)},zx}var Ux,k5;function rc(){if(k5)return Ux;k5=1;var t=Fhe();return Ux=function(e){var r=+e;return r!==r||r===0?0:t(r)},Ux}var Wx,D5;function Rm(){if(D5)return Wx;D5=1;var t=rc(),e=Math.max,r=Math.min;return Wx=function(n,i){var s=t(n);return s<0?e(s+i,0):r(s,i)},Wx}var Vx,M5;function pY(){if(M5)return Vx;M5=1;var t=rc(),e=Math.min;return Vx=function(r){var n=t(r);return n>0?e(n,9007199254740991):0},Vx}var Hx,q5;function Ps(){if(q5)return Hx;q5=1;var t=pY();return Hx=function(e){return t(e.length)},Hx}var Kx,A5;function KO(){if(A5)return Kx;A5=1;var t=bi(),e=Rm(),r=Ps(),n=function(i){return function(s,a,o){var l=t(s),c=r(l);if(c===0)return!i&&-1;var d=e(o,c),h;if(i&&a!==a){for(;c>d;)if(h=l[d++],h!==h)return!0}else for(;c>d;d++)if((i||d in l)&&l[d]===a)return i||d||0;return!i&&-1}};return Kx={includes:n(!0),indexOf:n(!1)},Kx}var Gx,F5;function jh(){return F5||(F5=1,Gx={}),Gx}var Yx,L5;function mY(){if(L5)return Yx;L5=1;var t=Ve(),e=wr(),r=bi(),n=KO().indexOf,i=jh(),s=t([].push);return Yx=function(a,o){var l=r(a),c=0,d=[],h;for(h in l)!e(i,h)&&e(l,h)&&s(d,h);for(;o.length>c;)e(l,h=o[c++])&&(~n(d,h)||s(d,h));return d},Yx}var Qx,B5;function GO(){return B5||(B5=1,Qx=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),Qx}var Xx,z5;function Ch(){if(z5)return Xx;z5=1;var t=mY(),e=GO();return Xx=Object.keys||function(n){return t(n,e)},Xx}var Jx={},U5;function $m(){return U5||(U5=1,Jx.f=Object.getOwnPropertySymbols),Jx}var Zx,W5;function Lhe(){if(W5)return Zx;W5=1;var t=Lt(),e=Ve(),r=yn(),n=ze(),i=Ch(),s=$m(),a=Cm(),o=In(),l=Om(),c=Object.assign,d=Object.defineProperty,h=e([].concat);return Zx=!c||n(function(){if(t&&c({b:1},c(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var f={},p={},v=Symbol("assign detection"),y="abcdefghijklmnopqrst";return f[v]=7,y.split("").forEach(function(x){p[x]=x}),c({},f)[v]!==7||i(c({},p)).join("")!==y})?function(p,v){for(var y=o(p),x=arguments.length,g=1,m=s.f,w=a.f;x>g;)for(var b=l(arguments[g++]),_=m?h(i(b),m(b)):i(b),E=_.length,N=0,S;E>N;)S=_[N++],(!t||r(w,b,S))&&(y[S]=b[S]);return y}:c,Zx}var V5;function Bhe(){if(V5)return q4;V5=1;var t=Se(),e=Lhe();return t({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),q4}var ew,H5;function zhe(){if(H5)return ew;H5=1,Bhe();var t=it();return ew=t.Object.assign,ew}var tw,K5;function Uhe(){if(K5)return tw;K5=1;var t=zhe();return tw=t,tw}var rw,G5;function Whe(){return G5||(G5=1,rw=Uhe()),rw}var Vhe=Whe(),Ht=Pe(Vhe),Y5={},nw,Q5;function nc(){if(Q5)return nw;Q5=1;var t=Ve();return nw=t([].slice),nw}var iw,X5;function Hhe(){if(X5)return iw;X5=1;var t=Ve(),e=Os(),r=fr(),n=wr(),i=nc(),s=_h(),a=Function,o=t([].concat),l=t([].join),c={},d=function(h,f,p){if(!n(c,f)){for(var v=[],y=0;y<f;y++)v[y]="a["+y+"]";c[f]=a("C,a","return new C("+l(v,",")+")")}return c[f](h,p)};return iw=s?a.bind:function(f){var p=e(this),v=p.prototype,y=i(arguments,1),x=function(){var m=o(y,i(arguments));return this instanceof x?d(p,m.length,m):p.apply(f,m)};return r(v)&&(x.prototype=v),x},iw}var J5;function Khe(){if(J5)return Y5;J5=1;var t=Se(),e=Hhe();return t({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),Y5}var sw,Z5;function _r(){if(Z5)return sw;Z5=1;var t=_t(),e=it();return sw=function(r,n){var i=e[r+"Prototype"],s=i&&i[n];if(s)return s;var a=t[r],o=a&&a.prototype;return o&&o[n]},sw}var aw,e3;function Ghe(){if(e3)return aw;e3=1,Khe();var t=_r();return aw=t("Function","bind"),aw}var ow,t3;function Yhe(){if(t3)return ow;t3=1;var t=Qt(),e=Ghe(),r=Function.prototype;return ow=function(n){var i=n.bind;return n===r||t(r,n)&&i===r.bind?e:i},ow}var lw,r3;function Qhe(){if(r3)return lw;r3=1;var t=Yhe();return lw=t,lw}var uw,n3;function Xhe(){return n3||(n3=1,uw=Qhe()),uw}var Jhe=Xhe(),re=Pe(Jhe);function YO(t,e,r,n){t.beginPath(),t.arc(e,r,n,0,2*Math.PI,!1),t.closePath()}function Zhe(t,e,r,n){t.beginPath(),t.rect(e-n,r-n,n*2,n*2),t.closePath()}function efe(t,e,r,n){t.beginPath(),n*=1.15,r+=.275*n;const i=n*2,s=i/2,a=Math.sqrt(3)/6*i,o=Math.sqrt(i*i-s*s);t.moveTo(e,r-(o-a)),t.lineTo(e+s,r+a),t.lineTo(e-s,r+a),t.lineTo(e,r-(o-a)),t.closePath()}function tfe(t,e,r,n){t.beginPath(),n*=1.15,r-=.275*n;const i=n*2,s=i/2,a=Math.sqrt(3)/6*i,o=Math.sqrt(i*i-s*s);t.moveTo(e,r+(o-a)),t.lineTo(e+s,r-a),t.lineTo(e-s,r-a),t.lineTo(e,r+(o-a)),t.closePath()}function rfe(t,e,r,n){t.beginPath(),n*=.82,r+=.1*n;for(let i=0;i<10;i++){const s=i%2===0?n*1.3:n*.5;t.lineTo(e+s*Math.sin(i*2*Math.PI/10),r-s*Math.cos(i*2*Math.PI/10))}t.closePath()}function nfe(t,e,r,n){t.beginPath(),t.lineTo(e,r+n),t.lineTo(e+n,r),t.lineTo(e,r-n),t.lineTo(e-n,r),t.closePath()}function vY(t,e,r,n,i,s){const a=Math.PI/180;n-2*s<0&&(s=n/2),i-2*s<0&&(s=i/2),t.beginPath(),t.moveTo(e+s,r),t.lineTo(e+n-s,r),t.arc(e+n-s,r+s,s,a*270,a*360,!1),t.lineTo(e+n,r+i-s),t.arc(e+n-s,r+i-s,s,0,a*90,!1),t.lineTo(e+s,r+i),t.arc(e+s,r+i-s,s,a*90,a*180,!1),t.lineTo(e,r+s),t.arc(e+s,r+s,s,a*180,a*270,!1),t.closePath()}function Aj(t,e,r,n,i){const s=.5522848,a=n/2*s,o=i/2*s,l=e+n,c=r+i,d=e+n/2,h=r+i/2;t.beginPath(),t.moveTo(e,h),t.bezierCurveTo(e,h-o,d-a,r,d,r),t.bezierCurveTo(d+a,r,l,h-o,l,h),t.bezierCurveTo(l,h+o,d+a,c,d,c),t.bezierCurveTo(d-a,c,e,h+o,e,h),t.closePath()}function gY(t,e,r,n,i){const s=.3333333333333333,a=n,o=i*s,l=.5522848,c=a/2*l,d=o/2*l,h=e+a,f=r+o,p=e+a/2,v=r+o/2,y=r+(i-o/2),x=r+i;t.beginPath(),t.moveTo(h,v),t.bezierCurveTo(h,v+d,p+c,f,p,f),t.bezierCurveTo(p-c,f,e,v+d,e,v),t.bezierCurveTo(e,v-d,p-c,r,p,r),t.bezierCurveTo(p+c,r,h,v-d,h,v),t.lineTo(h,y),t.bezierCurveTo(h,y+d,p+c,x,p,x),t.bezierCurveTo(p-c,x,e,y+d,e,y),t.lineTo(e,v)}function yY(t,e,r,n,i,s){t.beginPath(),t.moveTo(e,r);const a=s.length,o=n-e,l=i-r,c=l/o;let d=Math.sqrt(o*o+l*l),h=0,f=!0,p=0,v=+s[0];for(;d>=.1;)v=+s[h++%a],v>d&&(v=d),p=Math.sqrt(v*v/(1+c*c)),p=o<0?-p:p,e+=p,r+=c*p,f===!0?t.lineTo(e,r):t.moveTo(e,r),d-=v,f=!f}function ife(t,e,r,n){t.beginPath();const i=6,s=Math.PI*2/i;t.moveTo(e+n,r);for(let a=1;a<i;a++)t.lineTo(e+n*Math.cos(s*a),r+n*Math.sin(s*a));t.closePath()}const i3={circle:YO,dashedLine:yY,database:gY,diamond:nfe,ellipse:Aj,ellipse_vis:Aj,hexagon:ife,roundRect:vY,square:Zhe,star:rfe,triangle:efe,triangleDown:tfe};function sfe(t){return Object.prototype.hasOwnProperty.call(i3,t)?i3[t]:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];CanvasRenderingContext2D.prototype[t].call(e,n)}}var cw={exports:{}},s3;function afe(){return s3||(s3=1,function(t){t.exports=e;function e(n){if(n)return r(n)}function r(n){for(var i in e.prototype)n[i]=e.prototype[i];return n}e.prototype.on=e.prototype.addEventListener=function(n,i){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(i),this},e.prototype.once=function(n,i){function s(){this.off(n,s),i.apply(this,arguments)}return s.fn=i,this.on(n,s),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(n,i){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+n];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var a,o=0;o<s.length;o++)if(a=s[o],a===i||a.fn===i){s.splice(o,1);break}return s.length===0&&delete this._callbacks["$"+n],this},e.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var i=new Array(arguments.length-1),s=this._callbacks["$"+n],a=1;a<arguments.length;a++)i[a-1]=arguments[a];if(s){s=s.slice(0);for(var a=0,o=s.length;a<o;++a)s[a].apply(this,i)}return this},e.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},e.prototype.hasListeners=function(n){return!!this.listeners(n).length}}(cw)),cw.exports}var ofe=afe(),bY=Pe(ofe),a3={},dw,o3;function Jo(){if(o3)return dw;o3=1;var t=Fi();return dw=Array.isArray||function(r){return t(r)==="Array"},dw}var hw,l3;function xY(){if(l3)return hw;l3=1;var t=TypeError,e=9007199254740991;return hw=function(r){if(r>e)throw t("Maximum allowed index exceeded");return r},hw}var fw,u3;function km(){if(u3)return fw;u3=1;var t=Lt(),e=Qn(),r=Sh();return fw=function(n,i,s){t?e.f(n,i,r(0,s)):n[i]=s},fw}var pw,c3;function QO(){if(c3)return pw;c3=1;var t=Xt(),e=t("toStringTag"),r={};return r[e]="z",pw=String(r)==="[object z]",pw}var mw,d3;function ic(){if(d3)return mw;d3=1;var t=QO(),e=hr(),r=Fi(),n=Xt(),i=n("toStringTag"),s=Object,a=r(function(){return arguments}())==="Arguments",o=function(l,c){try{return l[c]}catch{}};return mw=t?r:function(l){var c,d,h;return l===void 0?"Undefined":l===null?"Null":typeof(d=o(c=s(l),i))=="string"?d:a?r(c):(h=r(c))==="Object"&&e(c.callee)?"Arguments":h},mw}var vw,h3;function lfe(){if(h3)return vw;h3=1;var t=Ve(),e=hr(),r=VO(),n=t(Function.toString);return e(r.inspectSource)||(r.inspectSource=function(i){return n(i)}),vw=r.inspectSource,vw}var gw,f3;function wY(){if(f3)return gw;f3=1;var t=Ve(),e=ze(),r=hr(),n=ic(),i=Tn(),s=lfe(),a=function(){},o=i("Reflect","construct"),l=/^\s*(?:class|function)\b/,c=t(l.exec),d=!l.test(a),h=function(v){if(!r(v))return!1;try{return o(a,[],v),!0}catch{return!1}},f=function(v){if(!r(v))return!1;switch(n(v)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!c(l,s(v))}catch{return!0}};return f.sham=!0,gw=!o||e(function(){var p;return h(h.call)||!h(Object)||!h(function(){p=!0})||p})?f:h,gw}var yw,p3;function ufe(){if(p3)return yw;p3=1;var t=Jo(),e=wY(),r=fr(),n=Xt(),i=n("species"),s=Array;return yw=function(a){var o;return t(a)&&(o=a.constructor,e(o)&&(o===s||t(o.prototype))?o=void 0:r(o)&&(o=o[i],o===null&&(o=void 0))),o===void 0?s:o},yw}var bw,m3;function XO(){if(m3)return bw;m3=1;var t=ufe();return bw=function(e,r){return new(t(e))(r===0?0:r)},bw}var xw,v3;function Oh(){if(v3)return xw;v3=1;var t=ze(),e=Xt(),r=Eh(),n=e("species");return xw=function(i){return r>=51||!t(function(){var s=[],a=s.constructor={};return a[n]=function(){return{foo:1}},s[i](Boolean).foo!==1})},xw}var g3;function _Y(){if(g3)return a3;g3=1;var t=Se(),e=ze(),r=Jo(),n=fr(),i=In(),s=Ps(),a=xY(),o=km(),l=XO(),c=Oh(),d=Xt(),h=Eh(),f=d("isConcatSpreadable"),p=h>=51||!e(function(){var x=[];return x[f]=!1,x.concat()[0]!==x}),v=function(x){if(!n(x))return!1;var g=x[f];return g!==void 0?!!g:r(x)},y=!p||!c("concat");return t({target:"Array",proto:!0,arity:1,forced:y},{concat:function(g){var m=i(this),w=l(m,0),b=0,_,E,N,S,j;for(_=-1,N=arguments.length;_<N;_++)if(j=_===-1?m:arguments[_],v(j))for(S=s(j),a(b+S),E=0;E<S;E++,b++)E in j&&o(w,b,j[E]);else a(b+1),o(w,b++,j);return w.length=b,w}}),a3}var y3={},b3={},ww,x3;function Xn(){if(x3)return ww;x3=1;var t=ic(),e=String;return ww=function(r){if(t(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(r)},ww}var _w={},w3;function JO(){if(w3)return _w;w3=1;var t=Lt(),e=fY(),r=Qn(),n=Li(),i=bi(),s=Ch();return _w.f=t&&!e?Object.defineProperties:function(o,l){n(o);for(var c=i(l),d=s(l),h=d.length,f=0,p;h>f;)r.f(o,p=d[f++],c[p]);return o},_w}var Sw,_3;function cfe(){if(_3)return Sw;_3=1;var t=Tn();return Sw=t("document","documentElement"),Sw}var Ew,S3;function Dm(){if(S3)return Ew;S3=1;var t=ec(),e=Pm(),r=t("keys");return Ew=function(n){return r[n]||(r[n]=e(n))},Ew}var Nw,E3;function Ph(){if(E3)return Nw;E3=1;var t=Li(),e=JO(),r=GO(),n=jh(),i=cfe(),s=dY(),a=Dm(),o=">",l="<",c="prototype",d="script",h=a("IE_PROTO"),f=function(){},p=function(m){return l+d+o+m+l+"/"+d+o},v=function(m){m.write(p("")),m.close();var w=m.parentWindow.Object;return m=null,w},y=function(){var m=s("iframe"),w="java"+d+":",b;return m.style.display="none",i.appendChild(m),m.src=String(w),b=m.contentWindow.document,b.open(),b.write(p("document.F=Object")),b.close(),b.F},x,g=function(){try{x=new ActiveXObject("htmlfile")}catch{}g=typeof document<"u"?document.domain&&x?v(x):y():v(x);for(var m=r.length;m--;)delete g[c][r[m]];return g()};return n[h]=!0,Nw=Object.create||function(w,b){var _;return w!==null?(f[c]=t(w),_=new f,f[c]=null,_[h]=w):_=g(),b===void 0?_:e.f(_,b)},Nw}var jw={},N3;function Mm(){if(N3)return jw;N3=1;var t=mY(),e=GO(),r=e.concat("length","prototype");return jw.f=Object.getOwnPropertyNames||function(i){return t(i,r)},jw}var Cw={},j3;function ZO(){if(j3)return Cw;j3=1;var t=Fi(),e=bi(),r=Mm().f,n=nc(),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(a){try{return r(a)}catch{return n(i)}};return Cw.f=function(o){return i&&t(o)==="Window"?s(o):r(e(o))},Cw}var Ow,C3;function Th(){if(C3)return Ow;C3=1;var t=tc();return Ow=function(e,r,n,i){return i&&i.enumerable?e[r]=n:t(e,r,n),e},Ow}var Pw,O3;function eP(){if(O3)return Pw;O3=1;var t=Qn();return Pw=function(e,r,n){return t.f(e,r,n)},Pw}var Tw={},P3;function qm(){if(P3)return Tw;P3=1;var t=Xt();return Tw.f=t,Tw}var Iw,T3;function Ot(){if(T3)return Iw;T3=1;var t=it(),e=wr(),r=qm(),n=Qn().f;return Iw=function(i){var s=t.Symbol||(t.Symbol={});e(s,i)||n(s,i,{value:r.f(i)})},Iw}var Rw,I3;function SY(){if(I3)return Rw;I3=1;var t=yn(),e=Tn(),r=Xt(),n=Th();return Rw=function(){var i=e("Symbol"),s=i&&i.prototype,a=s&&s.valueOf,o=r("toPrimitive");s&&!s[o]&&n(s,o,function(l){return t(a,this)},{arity:1})},Rw}var $w,R3;function dfe(){if(R3)return $w;R3=1;var t=QO(),e=ic();return $w=t?{}.toString:function(){return"[object "+e(this)+"]"},$w}var kw,$3;function Zo(){if($3)return kw;$3=1;var t=QO(),e=Qn().f,r=tc(),n=wr(),i=dfe(),s=Xt(),a=s("toStringTag");return kw=function(o,l,c,d){var h=c?o:o&&o.prototype;h&&(n(h,a)||e(h,a,{configurable:!0,value:l}),d&&!t&&r(h,"toString",i))},kw}var Dw,k3;function EY(){if(k3)return Dw;k3=1;var t=_t(),e=hr(),r=t.WeakMap;return Dw=e(r)&&/native code/.test(String(r)),Dw}var Mw,D3;function el(){if(D3)return Mw;D3=1;var t=EY(),e=_t(),r=fr(),n=tc(),i=wr(),s=VO(),a=Dm(),o=jh(),l="Object already initialized",c=e.TypeError,d=e.WeakMap,h,f,p,v=function(m){return p(m)?f(m):h(m,{})},y=function(m){return function(w){var b;if(!r(w)||(b=f(w)).type!==m)throw new c("Incompatible receiver, "+m+" required");return b}};if(t||s.state){var x=s.state||(s.state=new d);x.get=x.get,x.has=x.has,x.set=x.set,h=function(m,w){if(x.has(m))throw new c(l);return w.facade=m,x.set(m,w),w},f=function(m){return x.get(m)||{}},p=function(m){return x.has(m)}}else{var g=a("state");o[g]=!0,h=function(m,w){if(i(m,g))throw new c(l);return w.facade=m,n(m,g,w),w},f=function(m){return i(m,g)?m[g]:{}},p=function(m){return i(m,g)}}return Mw={set:h,get:f,has:p,enforce:v,getterFor:y},Mw}var qw,M3;function Ra(){if(M3)return qw;M3=1;var t=Im(),e=Ve(),r=Om(),n=In(),i=Ps(),s=XO(),a=e([].push),o=function(l){var c=l===1,d=l===2,h=l===3,f=l===4,p=l===6,v=l===7,y=l===5||p;return function(x,g,m,w){for(var b=n(x),_=r(b),E=i(_),N=t(g,m),S=0,j=w||s,C=c?j(x,E):d||v?j(x,0):void 0,P,O;E>S;S++)if((y||S in _)&&(P=_[S],O=N(P,S,b),l))if(c)C[S]=O;else if(O)switch(l){case 3:return!0;case 5:return P;case 6:return S;case 2:a(C,P)}else switch(l){case 4:return!1;case 7:a(C,P)}return p?-1:h||f?f:C}};return qw={forEach:o(0),map:o(1),filter:o(2),some:o(3),every:o(4),find:o(5),findIndex:o(6),filterReject:o(7)},qw}var q3;function hfe(){if(q3)return b3;q3=1;var t=Se(),e=_t(),r=yn(),n=Ve(),i=Zu(),s=Lt(),a=Xu(),o=ze(),l=wr(),c=Qt(),d=Li(),h=bi(),f=HO(),p=Xn(),v=Sh(),y=Ph(),x=Ch(),g=Mm(),m=ZO(),w=$m(),b=Tm(),_=Qn(),E=JO(),N=Cm(),S=Th(),j=eP(),C=ec(),P=Dm(),O=jh(),I=Pm(),M=Xt(),k=qm(),K=Ot(),H=SY(),A=Zo(),G=el(),W=Ra().forEach,z=P("hidden"),F="Symbol",ee="prototype",oe=G.set,Ne=G.getterFor(F),ye=Object[ee],Ee=e.Symbol,ke=Ee&&Ee[ee],st=e.RangeError,nr=e.TypeError,bt=e.QObject,pr=b.f,ct=_.f,Ir=m.f,Rr=N.f,Sr=n([].push),at=C("symbols"),Bt=C("op-symbols"),$r=C("wks"),kr=!bt||!bt[ee]||!bt[ee].findChild,$=function(ge,J,ce){var le=pr(ye,J);le&&delete ye[J],ct(ge,J,ce),le&&ge!==ye&&ct(ye,J,le)},q=s&&o(function(){return y(ct({},"a",{get:function(){return ct(this,"a",{value:7}).a}})).a!==7})?$:ct,B=function(ge,J){var ce=at[ge]=y(ke);return oe(ce,{type:F,tag:ge,description:J}),s||(ce.description=J),ce},ae=function(J,ce,le){J===ye&&ae(Bt,ce,le),d(J);var we=f(ce);return d(le),l(at,we)?(le.enumerable?(l(J,z)&&J[z][we]&&(J[z][we]=!1),le=y(le,{enumerable:v(0,!1)})):(l(J,z)||ct(J,z,v(1,y(null))),J[z][we]=!0),q(J,we,le)):ct(J,we,le)},ne=function(J,ce){d(J);var le=h(ce),we=x(le).concat(Ue(le));return W(we,function(De){(!s||r(V,le,De))&&ae(J,De,le[De])}),J},X=function(J,ce){return ce===void 0?y(J):ne(y(J),ce)},V=function(J){var ce=f(J),le=r(Rr,this,ce);return this===ye&&l(at,ce)&&!l(Bt,ce)?!1:le||!l(this,ce)||!l(at,ce)||l(this,z)&&this[z][ce]?le:!0},ue=function(J,ce){var le=h(J),we=f(ce);if(!(le===ye&&l(at,we)&&!l(Bt,we))){var De=pr(le,we);return De&&l(at,we)&&!(l(le,z)&&le[z][we])&&(De.enumerable=!0),De}},pe=function(J){var ce=Ir(h(J)),le=[];return W(ce,function(we){!l(at,we)&&!l(O,we)&&Sr(le,we)}),le},Ue=function(ge){var J=ge===ye,ce=Ir(J?Bt:h(ge)),le=[];return W(ce,function(we){l(at,we)&&(!J||l(ye,we))&&Sr(le,at[we])}),le};return a||(Ee=function(){if(c(ke,this))throw new nr("Symbol is not a constructor");var J=!arguments.length||arguments[0]===void 0?void 0:p(arguments[0]),ce=I(J),le=function(we){var De=this===void 0?e:this;De===ye&&r(le,Bt,we),l(De,z)&&l(De[z],ce)&&(De[z][ce]=!1);var Qr=v(1,we);try{q(De,ce,Qr)}catch(Rn){if(!(Rn instanceof st))throw Rn;$(De,ce,Qr)}};return s&&kr&&q(ye,ce,{configurable:!0,set:le}),B(ce,J)},ke=Ee[ee],S(ke,"toString",function(){return Ne(this).tag}),S(Ee,"withoutSetter",function(ge){return B(I(ge),ge)}),N.f=V,_.f=ae,E.f=ne,b.f=ue,g.f=m.f=pe,w.f=Ue,k.f=function(ge){return B(M(ge),ge)},s&&(j(ke,"description",{configurable:!0,get:function(){return Ne(this).description}}),i||S(ye,"propertyIsEnumerable",V,{unsafe:!0}))),t({global:!0,constructor:!0,wrap:!0,forced:!a,sham:!a},{Symbol:Ee}),W(x($r),function(ge){K(ge)}),t({target:F,stat:!0,forced:!a},{useSetter:function(){kr=!0},useSimple:function(){kr=!1}}),t({target:"Object",stat:!0,forced:!a,sham:!s},{create:X,defineProperty:ae,defineProperties:ne,getOwnPropertyDescriptor:ue}),t({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:pe}),H(),A(Ee,F),O[z]=!0,b3}var A3={},Aw,F3;function NY(){if(F3)return Aw;F3=1;var t=Xu();return Aw=t&&!!Symbol.for&&!!Symbol.keyFor,Aw}var L3;function ffe(){if(L3)return A3;L3=1;var t=Se(),e=Tn(),r=wr(),n=Xn(),i=ec(),s=NY(),a=i("string-to-symbol-registry"),o=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{for:function(l){var c=n(l);if(r(a,c))return a[c];var d=e("Symbol")(c);return a[c]=d,o[d]=c,d}}),A3}var B3={},z3;function pfe(){if(z3)return B3;z3=1;var t=Se(),e=wr(),r=Nh(),n=Ju(),i=ec(),s=NY(),a=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{keyFor:function(l){if(!r(l))throw new TypeError(n(l)+" is not a symbol");if(e(a,l))return a[l]}}),B3}var U3={},Fw,W3;function mfe(){if(W3)return Fw;W3=1;var t=Ve(),e=Jo(),r=hr(),n=Fi(),i=Xn(),s=t([].push);return Fw=function(a){if(r(a))return a;if(e(a)){for(var o=a.length,l=[],c=0;c<o;c++){var d=a[c];typeof d=="string"?s(l,d):(typeof d=="number"||n(d)==="Number"||n(d)==="String")&&s(l,i(d))}var h=l.length,f=!0;return function(p,v){if(f)return f=!1,v;if(e(this))return v;for(var y=0;y<h;y++)if(l[y]===p)return v}}},Fw}var V3;function jY(){if(V3)return U3;V3=1;var t=Se(),e=Tn(),r=jm(),n=yn(),i=Ve(),s=ze(),a=hr(),o=Nh(),l=nc(),c=mfe(),d=Xu(),h=String,f=e("JSON","stringify"),p=i(/./.exec),v=i("".charAt),y=i("".charCodeAt),x=i("".replace),g=i(1.1.toString),m=/[\uD800-\uDFFF]/g,w=/^[\uD800-\uDBFF]$/,b=/^[\uDC00-\uDFFF]$/,_=!d||s(function(){var j=e("Symbol")("stringify detection");return f([j])!=="[null]"||f({a:j})!=="{}"||f(Object(j))!=="{}"}),E=s(function(){return f("\uDF06\uD834")!=='"\\udf06\\ud834"'||f("\uDEAD")!=='"\\udead"'}),N=function(j,C){var P=l(arguments),O=c(C);if(!(!a(O)&&(j===void 0||o(j))))return P[1]=function(I,M){if(a(O)&&(M=n(O,this,h(I),M)),!o(M))return M},r(f,null,P)},S=function(j,C,P){var O=v(P,C-1),I=v(P,C+1);return p(w,j)&&!p(b,I)||p(b,j)&&!p(w,O)?"\\u"+g(y(j,0),16):j};return f&&t({target:"JSON",stat:!0,arity:3,forced:_||E},{stringify:function(C,P,O){var I=l(arguments),M=r(_?N:f,null,I);return E&&typeof M=="string"?x(M,m,S):M}}),U3}var H3={},K3;function vfe(){if(K3)return H3;K3=1;var t=Se(),e=Xu(),r=ze(),n=$m(),i=In(),s=!e||r(function(){n.f(1)});return t({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(o){var l=n.f;return l?l(i(o)):[]}}),H3}var G3;function CY(){return G3||(G3=1,hfe(),ffe(),pfe(),jY(),vfe()),y3}var Y3={},Q3;function OY(){if(Q3)return Y3;Q3=1;var t=Ot();return t("asyncDispose"),Y3}var X3={},J3;function gfe(){if(J3)return X3;J3=1;var t=Ot();return t("asyncIterator"),X3}var Z3={},eL;function PY(){if(eL)return Z3;eL=1;var t=Ot();return t("dispose"),Z3}var tL={},rL;function yfe(){if(rL)return tL;rL=1;var t=Ot();return t("hasInstance"),tL}var nL={},iL;function bfe(){if(iL)return nL;iL=1;var t=Ot();return t("isConcatSpreadable"),nL}var sL={},aL;function TY(){if(aL)return sL;aL=1;var t=Ot();return t("iterator"),sL}var oL={},lL;function xfe(){if(lL)return oL;lL=1;var t=Ot();return t("match"),oL}var uL={},cL;function wfe(){if(cL)return uL;cL=1;var t=Ot();return t("matchAll"),uL}var dL={},hL;function _fe(){if(hL)return dL;hL=1;var t=Ot();return t("replace"),dL}var fL={},pL;function Sfe(){if(pL)return fL;pL=1;var t=Ot();return t("search"),fL}var mL={},vL;function Efe(){if(vL)return mL;vL=1;var t=Ot();return t("species"),mL}var gL={},yL;function Nfe(){if(yL)return gL;yL=1;var t=Ot();return t("split"),gL}var bL={},xL;function IY(){if(xL)return bL;xL=1;var t=Ot(),e=SY();return t("toPrimitive"),e(),bL}var wL={},_L;function jfe(){if(_L)return wL;_L=1;var t=Tn(),e=Ot(),r=Zo();return e("toStringTag"),r(t("Symbol"),"Symbol"),wL}var SL={},EL;function Cfe(){if(EL)return SL;EL=1;var t=Ot();return t("unscopables"),SL}var NL={},jL;function Ofe(){if(jL)return NL;jL=1;var t=_t(),e=Zo();return e(t.JSON,"JSON",!0),NL}var Lw,CL;function Pfe(){if(CL)return Lw;CL=1,_Y(),CY(),OY(),gfe(),PY(),yfe(),bfe(),TY(),xfe(),wfe(),_fe(),Sfe(),Efe(),Nfe(),IY(),jfe(),Cfe(),Ofe();var t=it();return Lw=t.Symbol,Lw}var OL={},Bw,PL;function tP(){return PL||(PL=1,Bw=function(){}),Bw}var zw,TL;function sc(){return TL||(TL=1,zw={}),zw}var Uw,IL;function Tfe(){if(IL)return Uw;IL=1;var t=Lt(),e=wr(),r=Function.prototype,n=t&&Object.getOwnPropertyDescriptor,i=e(r,"name"),s=i&&(function(){}).name==="something",a=i&&(!t||t&&n(r,"name").configurable);return Uw={EXISTS:i,PROPER:s,CONFIGURABLE:a},Uw}var Ww,RL;function RY(){if(RL)return Ww;RL=1;var t=ze();return Ww=!t(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),Ww}var Vw,$L;function Am(){if($L)return Vw;$L=1;var t=wr(),e=hr(),r=In(),n=Dm(),i=RY(),s=n("IE_PROTO"),a=Object,o=a.prototype;return Vw=i?a.getPrototypeOf:function(l){var c=r(l);if(t(c,s))return c[s];var d=c.constructor;return e(d)&&c instanceof d?d.prototype:c instanceof a?o:null},Vw}var Hw,kL;function $Y(){if(kL)return Hw;kL=1;var t=ze(),e=hr(),r=fr(),n=Ph(),i=Am(),s=Th(),a=Xt(),o=Zu(),l=a("iterator"),c=!1,d,h,f;[].keys&&(f=[].keys(),"next"in f?(h=i(i(f)),h!==Object.prototype&&(d=h)):c=!0);var p=!r(d)||t(function(){var v={};return d[l].call(v)!==v});return p?d={}:o&&(d=n(d)),e(d[l])||s(d,l,function(){return this}),Hw={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:c},Hw}var Kw,DL;function Ife(){if(DL)return Kw;DL=1;var t=$Y().IteratorPrototype,e=Ph(),r=Sh(),n=Zo(),i=sc(),s=function(){return this};return Kw=function(a,o,l,c){var d=o+" Iterator";return a.prototype=e(t,{next:r(+!c,l)}),n(a,d,!1,!0),i[d]=s,a},Kw}var Gw,ML;function Rfe(){if(ML)return Gw;ML=1;var t=Ve(),e=Os();return Gw=function(r,n,i){try{return t(e(Object.getOwnPropertyDescriptor(r,n)[i]))}catch{}},Gw}var Yw,qL;function $fe(){if(qL)return Yw;qL=1;var t=fr();return Yw=function(e){return t(e)||e===null},Yw}var Qw,AL;function kfe(){if(AL)return Qw;AL=1;var t=$fe(),e=String,r=TypeError;return Qw=function(n){if(t(n))return n;throw new r("Can't set "+e(n)+" as a prototype")},Qw}var Xw,FL;function Dfe(){if(FL)return Xw;FL=1;var t=Rfe(),e=fr(),r=Cs(),n=kfe();return Xw=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,s={},a;try{a=t(Object.prototype,"__proto__","set"),a(s,[]),i=s instanceof Array}catch{}return function(l,c){return r(l),n(c),e(l)&&(i?a(l,c):l.__proto__=c),l}}():void 0),Xw}var Jw,LL;function rP(){if(LL)return Jw;LL=1;var t=Se(),e=yn(),r=Zu(),n=Tfe(),i=hr(),s=Ife(),a=Am(),o=Dfe(),l=Zo(),c=tc(),d=Th(),h=Xt(),f=sc(),p=$Y(),v=n.PROPER,y=n.CONFIGURABLE,x=p.IteratorPrototype,g=p.BUGGY_SAFARI_ITERATORS,m=h("iterator"),w="keys",b="values",_="entries",E=function(){return this};return Jw=function(N,S,j,C,P,O,I){s(j,S,C);var M=function(oe){if(oe===P&&G)return G;if(!g&&oe&&oe in H)return H[oe];switch(oe){case w:return function(){return new j(this,oe)};case b:return function(){return new j(this,oe)};case _:return function(){return new j(this,oe)}}return function(){return new j(this)}},k=S+" Iterator",K=!1,H=N.prototype,A=H[m]||H["@@iterator"]||P&&H[P],G=!g&&A||M(P),W=S==="Array"&&H.entries||A,z,F,ee;if(W&&(z=a(W.call(new N)),z!==Object.prototype&&z.next&&(!r&&a(z)!==x&&(o?o(z,x):i(z[m])||d(z,m,E)),l(z,k,!0,!0),r&&(f[k]=E))),v&&P===b&&A&&A.name!==b&&(!r&&y?c(H,"name",b):(K=!0,G=function(){return e(A,this)})),P)if(F={values:M(b),keys:O?G:M(w),entries:M(_)},I)for(ee in F)(g||K||!(ee in H))&&d(H,ee,F[ee]);else t({target:S,proto:!0,forced:g||K},F);return(!r||I)&&H[m]!==G&&d(H,m,G,{name:P}),f[S]=G,F},Jw}var Zw,BL;function nP(){return BL||(BL=1,Zw=function(t,e){return{value:t,done:e}}),Zw}var e_,zL;function ac(){if(zL)return e_;zL=1;var t=bi(),e=tP(),r=sc(),n=el(),i=Qn().f,s=rP(),a=nP(),o=Zu(),l=Lt(),c="Array Iterator",d=n.set,h=n.getterFor(c);e_=s(Array,"Array",function(p,v){d(this,{type:c,target:t(p),index:0,kind:v})},function(){var p=h(this),v=p.target,y=p.index++;if(!v||y>=v.length)return p.target=null,a(void 0,!0);switch(p.kind){case"keys":return a(y,!1);case"values":return a(v[y],!1)}return a([y,v[y]],!1)},"values");var f=r.Arguments=r.Array;if(e("keys"),e("values"),e("entries"),!o&&l&&f.name!=="values")try{i(f,"name",{value:"values"})}catch{}return e_}var t_,UL;function Mfe(){return UL||(UL=1,t_={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),t_}var WL;function oc(){if(WL)return OL;WL=1,ac();var t=Mfe(),e=_t(),r=Zo(),n=sc();for(var i in t)r(e[i],i),n[i]=n.Array;return OL}var r_,VL;function kY(){if(VL)return r_;VL=1;var t=Pfe();return oc(),r_=t,r_}var n_,HL;function qfe(){return HL||(HL=1,n_=kY()),n_}var Afe=qfe(),Ffe=Pe(Afe),KL={},GL;function Lfe(){if(GL)return KL;GL=1;var t=Se(),e=Jo(),r=wY(),n=fr(),i=Rm(),s=Ps(),a=bi(),o=km(),l=Xt(),c=Oh(),d=nc(),h=c("slice"),f=l("species"),p=Array,v=Math.max;return t({target:"Array",proto:!0,forced:!h},{slice:function(x,g){var m=a(this),w=s(m),b=i(x,w),_=i(g===void 0?w:g,w),E,N,S;if(e(m)&&(E=m.constructor,r(E)&&(E===p||e(E.prototype))?E=void 0:n(E)&&(E=E[f],E===null&&(E=void 0)),E===p||E===void 0))return d(m,b,_);for(N=new(E===void 0?p:E)(v(_-b,0)),S=0;b<_;b++,S++)b in m&&o(N,S,m[b]);return N.length=S,N}}),KL}var i_,YL;function Bfe(){if(YL)return i_;YL=1,Lfe();var t=_r();return i_=t("Array","slice"),i_}var s_,QL;function zfe(){if(QL)return s_;QL=1;var t=Qt(),e=Bfe(),r=Array.prototype;return s_=function(n){var i=n.slice;return n===r||t(r,n)&&i===r.slice?e:i},s_}var a_,XL;function Ufe(){if(XL)return a_;XL=1;var t=zfe();return a_=t,a_}var o_,JL;function Wfe(){return JL||(JL=1,o_=Ufe()),o_}var Vfe=Wfe(),Pi=Pe(Vfe),l_,ZL;function Hfe(){if(ZL)return l_;ZL=1;var t=Tn(),e=Ve(),r=Mm(),n=$m(),i=Li(),s=e([].concat);return l_=t("Reflect","ownKeys")||function(o){var l=r.f(i(o)),c=n.f;return c?s(l,c(o)):l},l_}var e6={},t6;function Kfe(){if(t6)return e6;t6=1;var t=Se(),e=Jo();return t({target:"Array",stat:!0},{isArray:e}),e6}var u_,r6;function Gfe(){if(r6)return u_;r6=1,Kfe();var t=it();return u_=t.Array.isArray,u_}var c_,n6;function Yfe(){if(n6)return c_;n6=1;var t=Gfe();return c_=t,c_}var d_,i6;function Qfe(){return i6||(i6=1,d_=Yfe()),d_}var Xfe=Qfe(),Dt=Pe(Xfe),s6={},a6;function Jfe(){if(a6)return s6;a6=1;var t=Se(),e=Ra().map,r=Oh(),n=r("map");return t({target:"Array",proto:!0,forced:!n},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),s6}var h_,o6;function Zfe(){if(o6)return h_;o6=1,Jfe();var t=_r();return h_=t("Array","map"),h_}var f_,l6;function epe(){if(l6)return f_;l6=1;var t=Qt(),e=Zfe(),r=Array.prototype;return f_=function(n){var i=n.map;return n===r||t(r,n)&&i===r.map?e:i},f_}var p_,u6;function tpe(){if(u6)return p_;u6=1;var t=epe();return p_=t,p_}var m_,c6;function rpe(){return c6||(c6=1,m_=tpe()),m_}var npe=rpe(),Eu=Pe(npe),d6={},h6;function ipe(){if(h6)return d6;h6=1;var t=Se(),e=In(),r=Ch(),n=ze(),i=n(function(){r(1)});return t({target:"Object",stat:!0,forced:i},{keys:function(a){return r(e(a))}}),d6}var v_,f6;function spe(){if(f6)return v_;f6=1,ipe();var t=it();return v_=t.Object.keys,v_}var g_,p6;function ape(){if(p6)return g_;p6=1;var t=spe();return g_=t,g_}var y_,m6;function ope(){return m6||(m6=1,y_=ape()),y_}var lpe=ope(),Rt=Pe(lpe),v6={},g6;function upe(){if(g6)return v6;g6=1;var t=Se(),e=Ve(),r=Date,n=e(r.prototype.getTime);return t({target:"Date",stat:!0},{now:function(){return n(new r)}}),v6}var b_,y6;function cpe(){if(y6)return b_;y6=1,upe();var t=it();return b_=t.Date.now,b_}var x_,b6;function dpe(){if(b6)return x_;b6=1;var t=cpe();return x_=t,x_}var w_,x6;function hpe(){return x6||(x6=1,w_=dpe()),w_}var fpe=hpe(),Ip=Pe(fpe),w6={},__,_6;function lc(){if(_6)return __;_6=1;var t=ze();return __=function(e,r){var n=[][e];return!!n&&t(function(){n.call(null,r||function(){return 1},1)})},__}var S_,S6;function ppe(){if(S6)return S_;S6=1;var t=Ra().forEach,e=lc(),r=e("forEach");return S_=r?[].forEach:function(i){return t(this,i,arguments.length>1?arguments[1]:void 0)},S_}var E6;function mpe(){if(E6)return w6;E6=1;var t=Se(),e=ppe();return t({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),w6}var E_,N6;function vpe(){if(N6)return E_;N6=1,mpe();var t=_r();return E_=t("Array","forEach"),E_}var N_,j6;function gpe(){if(j6)return N_;j6=1;var t=vpe();return N_=t,N_}var j_,C6;function ype(){if(C6)return j_;C6=1;var t=ic(),e=wr(),r=Qt(),n=gpe(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return j_=function(a){var o=a.forEach;return a===i||r(i,a)&&o===i.forEach||e(s,t(a))?n:o},j_}var C_,O6;function bpe(){return O6||(O6=1,C_=ype()),C_}var xpe=bpe(),lt=Pe(xpe),P6={},T6;function wpe(){if(T6)return P6;T6=1;var t=Se(),e=Ve(),r=Jo(),n=e([].reverse),i=[1,2];return t({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),n(this)}}),P6}var O_,I6;function _pe(){if(I6)return O_;I6=1,wpe();var t=_r();return O_=t("Array","reverse"),O_}var P_,R6;function Spe(){if(R6)return P_;R6=1;var t=Qt(),e=_pe(),r=Array.prototype;return P_=function(n){var i=n.reverse;return n===r||t(r,n)&&i===r.reverse?e:i},P_}var T_,$6;function Epe(){if($6)return T_;$6=1;var t=Spe();return T_=t,T_}var I_,k6;function Npe(){return k6||(k6=1,I_=Epe()),I_}var jpe=Npe(),vo=Pe(jpe),D6={},R_,M6;function Cpe(){if(M6)return R_;M6=1;var t=Lt(),e=Jo(),r=TypeError,n=Object.getOwnPropertyDescriptor,i=t&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();return R_=i?function(s,a){if(e(s)&&!n(s,"length").writable)throw new r("Cannot set read only .length");return s.length=a}:function(s,a){return s.length=a},R_}var $_,q6;function DY(){if(q6)return $_;q6=1;var t=Ju(),e=TypeError;return $_=function(r,n){if(!delete r[n])throw new e("Cannot delete property "+t(n)+" of "+t(r))},$_}var A6;function Ope(){if(A6)return D6;A6=1;var t=Se(),e=In(),r=Rm(),n=rc(),i=Ps(),s=Cpe(),a=xY(),o=XO(),l=km(),c=DY(),d=Oh(),h=d("splice"),f=Math.max,p=Math.min;return t({target:"Array",proto:!0,forced:!h},{splice:function(y,x){var g=e(this),m=i(g),w=r(y,m),b=arguments.length,_,E,N,S,j,C;for(b===0?_=E=0:b===1?(_=0,E=m-w):(_=b-2,E=p(f(n(x),0),m-w)),a(m+_-E),N=o(g,E),S=0;S<E;S++)j=w+S,j in g&&l(N,S,g[j]);if(N.length=E,_<E){for(S=w;S<m-E;S++)j=S+E,C=S+_,j in g?g[C]=g[j]:c(g,C);for(S=m;S>m-E+_;S--)c(g,S-1)}else if(_>E)for(S=m-E;S>w;S--)j=S+E-1,C=S+_-1,j in g?g[C]=g[j]:c(g,C);for(S=0;S<_;S++)g[S+w]=arguments[S+2];return s(g,m-E+_),N}}),D6}var k_,F6;function Ppe(){if(F6)return k_;F6=1,Ope();var t=_r();return k_=t("Array","splice"),k_}var D_,L6;function Tpe(){if(L6)return D_;L6=1;var t=Qt(),e=Ppe(),r=Array.prototype;return D_=function(n){var i=n.splice;return n===r||t(r,n)&&i===r.splice?e:i},D_}var M_,B6;function Ipe(){if(B6)return M_;B6=1;var t=Tpe();return M_=t,M_}var q_,z6;function Rpe(){return z6||(z6=1,q_=Ipe()),q_}var $pe=Rpe(),os=Pe($pe),U6={},W6;function kpe(){if(W6)return U6;W6=1;var t=Se(),e=KO().includes,r=ze(),n=tP(),i=r(function(){return!Array(1).includes()});return t({target:"Array",proto:!0,forced:i},{includes:function(a){return e(this,a,arguments.length>1?arguments[1]:void 0)}}),n("includes"),U6}var A_,V6;function Dpe(){if(V6)return A_;V6=1,kpe();var t=_r();return A_=t("Array","includes"),A_}var H6={},F_,K6;function Mpe(){if(K6)return F_;K6=1;var t=fr(),e=Fi(),r=Xt(),n=r("match");return F_=function(i){var s;return t(i)&&((s=i[n])!==void 0?!!s:e(i)==="RegExp")},F_}var L_,G6;function qpe(){if(G6)return L_;G6=1;var t=Mpe(),e=TypeError;return L_=function(r){if(t(r))throw new e("The method doesn't accept regular expressions");return r},L_}var B_,Y6;function Ape(){if(Y6)return B_;Y6=1;var t=Xt(),e=t("match");return B_=function(r){var n=/./;try{"/./"[r](n)}catch{try{return n[e]=!1,"/./"[r](n)}catch{}}return!1},B_}var Q6;function Fpe(){if(Q6)return H6;Q6=1;var t=Se(),e=Ve(),r=qpe(),n=Cs(),i=Xn(),s=Ape(),a=e("".indexOf);return t({target:"String",proto:!0,forced:!s("includes")},{includes:function(l){return!!~a(i(n(this)),i(r(l)),arguments.length>1?arguments[1]:void 0)}}),H6}var z_,X6;function Lpe(){if(X6)return z_;X6=1,Fpe();var t=_r();return z_=t("String","includes"),z_}var U_,J6;function Bpe(){if(J6)return U_;J6=1;var t=Qt(),e=Dpe(),r=Lpe(),n=Array.prototype,i=String.prototype;return U_=function(s){var a=s.includes;return s===n||t(n,s)&&a===n.includes?e:typeof s=="string"||s===i||t(i,s)&&a===i.includes?r:a},U_}var W_,Z6;function zpe(){if(Z6)return W_;Z6=1;var t=Bpe();return W_=t,W_}var V_,eB;function Upe(){return eB||(eB=1,V_=zpe()),V_}var Wpe=Upe(),pa=Pe(Wpe),tB={},rB;function Vpe(){if(rB)return tB;rB=1;var t=Se(),e=ze(),r=In(),n=Am(),i=RY(),s=e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getPrototypeOf:function(o){return n(r(o))}}),tB}var H_,nB;function Hpe(){if(nB)return H_;nB=1,Vpe();var t=it();return H_=t.Object.getPrototypeOf,H_}var K_,iB;function Kpe(){if(iB)return K_;iB=1;var t=Hpe();return K_=t,K_}var G_,sB;function Gpe(){return sB||(sB=1,G_=Kpe()),G_}var Ype=Gpe(),aB=Pe(Ype),Y_,oB;function Qpe(){if(oB)return Y_;oB=1,_Y();var t=_r();return Y_=t("Array","concat"),Y_}var Q_,lB;function Xpe(){if(lB)return Q_;lB=1;var t=Qt(),e=Qpe(),r=Array.prototype;return Q_=function(n){var i=n.concat;return n===r||t(r,n)&&i===r.concat?e:i},Q_}var X_,uB;function Jpe(){if(uB)return X_;uB=1;var t=Xpe();return X_=t,X_}var J_,cB;function Zpe(){return cB||(cB=1,J_=Jpe()),J_}var eme=Zpe(),tme=Pe(eme),dB={},hB;function rme(){if(hB)return dB;hB=1;var t=Se(),e=Ra().filter,r=Oh(),n=r("filter");return t({target:"Array",proto:!0,forced:!n},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),dB}var Z_,fB;function nme(){if(fB)return Z_;fB=1,rme();var t=_r();return Z_=t("Array","filter"),Z_}var eS,pB;function ime(){if(pB)return eS;pB=1;var t=Qt(),e=nme(),r=Array.prototype;return eS=function(n){var i=n.filter;return n===r||t(r,n)&&i===r.filter?e:i},eS}var tS,mB;function sme(){if(mB)return tS;mB=1;var t=ime();return tS=t,tS}var rS,vB;function ame(){return vB||(vB=1,rS=sme()),rS}var ome=ame(),nn=Pe(ome),gB={},nS,yB;function lme(){if(yB)return nS;yB=1;var t=Lt(),e=ze(),r=Ve(),n=Am(),i=Ch(),s=bi(),a=Cm().f,o=r(a),l=r([].push),c=t&&e(function(){var h=Object.create(null);return h[2]=2,!o(h,2)}),d=function(h){return function(f){for(var p=s(f),v=i(p),y=c&&n(p)===null,x=v.length,g=0,m=[],w;x>g;)w=v[g++],(!t||(y?w in p:o(p,w)))&&l(m,h?[w,p[w]]:p[w]);return m}};return nS={entries:d(!0),values:d(!1)},nS}var bB;function ume(){if(bB)return gB;bB=1;var t=Se(),e=lme().values;return t({target:"Object",stat:!0},{values:function(n){return e(n)}}),gB}var iS,xB;function cme(){if(xB)return iS;xB=1,ume();var t=it();return iS=t.Object.values,iS}var sS,wB;function dme(){if(wB)return sS;wB=1;var t=cme();return sS=t,sS}var aS,_B;function hme(){return _B||(_B=1,aS=dme()),aS}var fme=hme(),pme=Pe(fme),SB={},oS,EB;function iP(){return EB||(EB=1,oS=`	
\v\f\r \u2028\u2029\uFEFF`),oS}var lS,NB;function MY(){if(NB)return lS;NB=1;var t=Ve(),e=Cs(),r=Xn(),n=iP(),i=t("".replace),s=RegExp("^["+n+"]+"),a=RegExp("(^|[^"+n+"])["+n+"]+$"),o=function(l){return function(c){var d=r(e(c));return l&1&&(d=i(d,s,"")),l&2&&(d=i(d,a,"$1")),d}};return lS={start:o(1),end:o(2),trim:o(3)},lS}var uS,jB;function mme(){if(jB)return uS;jB=1;var t=_t(),e=ze(),r=Ve(),n=Xn(),i=MY().trim,s=iP(),a=t.parseInt,o=t.Symbol,l=o&&o.iterator,c=/^[+-]?0x/i,d=r(c.exec),h=a(s+"08")!==8||a(s+"0x16")!==22||l&&!e(function(){a(Object(l))});return uS=h?function(p,v){var y=i(n(p));return a(y,v>>>0||(d(c,y)?16:10))}:a,uS}var CB;function vme(){if(CB)return SB;CB=1;var t=Se(),e=mme();return t({global:!0,forced:parseInt!==e},{parseInt:e}),SB}var cS,OB;function gme(){if(OB)return cS;OB=1,vme();var t=it();return cS=t.parseInt,cS}var dS,PB;function yme(){if(PB)return dS;PB=1;var t=gme();return dS=t,dS}var hS,TB;function bme(){return TB||(TB=1,hS=yme()),hS}var xme=bme(),li=Pe(xme),IB={},RB;function wme(){if(RB)return IB;RB=1;var t=Se(),e=UO(),r=KO().indexOf,n=lc(),i=e([].indexOf),s=!!i&&1/i([1],1,-0)<0,a=s||!n("indexOf");return t({target:"Array",proto:!0,forced:a},{indexOf:function(l){var c=arguments.length>1?arguments[1]:void 0;return s?i(this,l,c)||0:r(this,l,c)}}),IB}var fS,$B;function _me(){if($B)return fS;$B=1,wme();var t=_r();return fS=t("Array","indexOf"),fS}var pS,kB;function Sme(){if(kB)return pS;kB=1;var t=Qt(),e=_me(),r=Array.prototype;return pS=function(n){var i=n.indexOf;return n===r||t(r,n)&&i===r.indexOf?e:i},pS}var mS,DB;function Eme(){if(DB)return mS;DB=1;var t=Sme();return mS=t,mS}var vS,MB;function Nme(){return MB||(MB=1,vS=Eme()),vS}var jme=Nme(),et=Pe(jme),qB={},AB;function Cme(){if(AB)return qB;AB=1;var t=Se(),e=Lt(),r=Ph();return t({target:"Object",stat:!0,sham:!e},{create:r}),qB}var gS,FB;function Ome(){if(FB)return gS;FB=1,Cme();var t=it(),e=t.Object;return gS=function(n,i){return e.create(n,i)},gS}var yS,LB;function Pme(){if(LB)return yS;LB=1;var t=Ome();return yS=t,yS}var bS,BB;function Tme(){return BB||(BB=1,bS=Pme()),bS}var Ime=Tme(),go=Pe(Ime),zB={},xS,UB;function Rme(){if(UB)return xS;UB=1;var t=rc(),e=Xn(),r=Cs(),n=RangeError;return xS=function(s){var a=e(r(this)),o="",l=t(s);if(l<0||l===1/0)throw new n("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(a+=a))l&1&&(o+=a);return o},xS}var wS,WB;function $me(){if(WB)return wS;WB=1;var t=Ve(),e=pY(),r=Xn(),n=Rme(),i=Cs(),s=t(n),a=t("".slice),o=Math.ceil,l=function(c){return function(d,h,f){var p=r(i(d)),v=e(h),y=p.length,x=f===void 0?" ":r(f),g,m;return v<=y||x===""?p:(g=v-y,m=s(x,o(g/x.length)),m.length>g&&(m=a(m,0,g)),c?p+m:m+p)}};return wS={start:l(!1),end:l(!0)},wS}var _S,VB;function kme(){if(VB)return _S;VB=1;var t=Ve(),e=ze(),r=$me().start,n=RangeError,i=isFinite,s=Math.abs,a=Date.prototype,o=a.toISOString,l=t(a.getTime),c=t(a.getUTCDate),d=t(a.getUTCFullYear),h=t(a.getUTCHours),f=t(a.getUTCMilliseconds),p=t(a.getUTCMinutes),v=t(a.getUTCMonth),y=t(a.getUTCSeconds);return _S=e(function(){return o.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){o.call(new Date(NaN))})?function(){if(!i(l(this)))throw new n("Invalid time value");var g=this,m=d(g),w=f(g),b=m<0?"-":m>9999?"+":"";return b+r(s(m),b?6:4,0)+"-"+r(v(g)+1,2,0)+"-"+r(c(g),2,0)+"T"+r(h(g),2,0)+":"+r(p(g),2,0)+":"+r(y(g),2,0)+"."+r(w,3,0)+"Z"}:o,_S}var HB;function Dme(){if(HB)return zB;HB=1;var t=Se(),e=yn(),r=In(),n=cY(),i=kme(),s=Fi(),a=ze(),o=a(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return t({target:"Date",proto:!0,forced:o},{toJSON:function(c){var d=r(this),h=n(d,"number");return typeof h=="number"&&!isFinite(h)?null:!("toISOString"in d)&&s(d)==="Date"?e(i,d):d.toISOString()}}),zB}var SS,KB;function Mme(){if(KB)return SS;KB=1,Dme(),jY();var t=it(),e=jm();return t.JSON||(t.JSON={stringify:JSON.stringify}),SS=function(n,i,s){return e(t.JSON.stringify,null,arguments)},SS}var ES,GB;function qme(){if(GB)return ES;GB=1;var t=Mme();return ES=t,ES}var NS,YB;function Ame(){return YB||(YB=1,NS=qme()),NS}var Fme=Ame(),Ih=Pe(Fme),QB={},XB={},jS,JB;function qY(){if(JB)return jS;JB=1;var t=_t(),e=Qu(),r=Fi(),n=function(i){return e.slice(0,i.length)===i};return jS=function(){return n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":t.Bun&&typeof Bun.version=="string"?"BUN":t.Deno&&typeof Deno.version=="object"?"DENO":r(t.process)==="process"?"NODE":t.window&&t.document?"BROWSER":"REST"}(),jS}var CS,ZB;function Lme(){if(ZB)return CS;ZB=1;var t=TypeError;return CS=function(e,r){if(e<r)throw new t("Not enough arguments");return e},CS}var OS,ez;function AY(){if(ez)return OS;ez=1;var t=_t(),e=jm(),r=hr(),n=qY(),i=Qu(),s=nc(),a=Lme(),o=t.Function,l=/MSIE .\./.test(i)||n==="BUN"&&function(){var c=t.Bun.version.split(".");return c.length<3||c[0]==="0"&&(c[1]<3||c[1]==="3"&&c[2]==="0")}();return OS=function(c,d){var h=d?2:1;return l?function(f,p){var v=a(arguments.length,1)>h,y=r(f)?f:o(f),x=v?s(arguments,h):[],g=v?function(){e(y,this,x)}:y;return d?c(g,p):c(g)}:c},OS}var tz;function Bme(){if(tz)return XB;tz=1;var t=Se(),e=_t(),r=AY(),n=r(e.setInterval,!0);return t({global:!0,bind:!0,forced:e.setInterval!==n},{setInterval:n}),XB}var rz={},nz;function zme(){if(nz)return rz;nz=1;var t=Se(),e=_t(),r=AY(),n=r(e.setTimeout,!0);return t({global:!0,bind:!0,forced:e.setTimeout!==n},{setTimeout:n}),rz}var iz;function FY(){return iz||(iz=1,Bme(),zme()),QB}var PS,sz;function Ume(){if(sz)return PS;sz=1,FY();var t=it();return PS=t.setTimeout,PS}var TS,az;function Wme(){return az||(az=1,TS=Ume()),TS}var Vme=Wme(),ls=Pe(Vme),oz={},IS,lz;function Hme(){if(lz)return IS;lz=1;var t=In(),e=Rm(),r=Ps();return IS=function(i){for(var s=t(this),a=r(s),o=arguments.length,l=e(o>1?arguments[1]:void 0,a),c=o>2?arguments[2]:void 0,d=c===void 0?a:e(c,a);d>l;)s[l++]=i;return s},IS}var uz;function Kme(){if(uz)return oz;uz=1;var t=Se(),e=Hme(),r=tP();return t({target:"Array",proto:!0},{fill:e}),r("fill"),oz}var RS,cz;function Gme(){if(cz)return RS;cz=1,Kme();var t=_r();return RS=t("Array","fill"),RS}var $S,dz;function Yme(){if(dz)return $S;dz=1;var t=Qt(),e=Gme(),r=Array.prototype;return $S=function(n){var i=n.fill;return n===r||t(r,n)&&i===r.fill?e:i},$S}var kS,hz;function Qme(){if(hz)return kS;hz=1;var t=Yme();return kS=t,kS}var DS,fz;function Xme(){return fz||(fz=1,DS=Qme()),DS}var Jme=Xme(),Rh=Pe(Jme);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function vi(){return vi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vi.apply(this,arguments)}function Jn(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function vf(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Fj;typeof Object.assign!="function"?Fj=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])}return r}:Fj=Object.assign;var Do=Fj,pz=["","webkit","Moz","MS","ms","o"],Zme=typeof document>"u"?{style:{}}:document.createElement("div"),eve="function",Rl=Math.round,Mo=Math.abs,sP=Date.now;function Fm(t,e){for(var r,n,i=e[0].toUpperCase()+e.slice(1),s=0;s<pz.length;){if(r=pz[s],n=r?r+i:e,n in t)return n;s++}}var us;typeof window>"u"?us={}:us=window;var LY=Fm(Zme.style,"touchAction"),BY=LY!==void 0;function tve(){if(!BY)return!1;var t={},e=us.CSS&&us.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){return t[r]=e?us.CSS.supports("touch-action",r):!0}),t}var zY="compute",UY="auto",Lj="manipulation",yo="none",Id="pan-x",Rd="pan-y",gf=tve(),rve=/mobile|tablet|ip(ad|hone|od)|android/i,WY="ontouchstart"in us,nve=Fm(us,"PointerEvent")!==void 0,ive=WY&&rve.test(navigator.userAgent),$h="touch",sve="pen",aP="mouse",ave="kinect",ove=25,Vr=1,tl=2,Kt=4,pn=8,Rp=1,kh=2,Dh=4,Mh=8,Nu=16,qi=kh|Dh,bo=Mh|Nu,VY=qi|bo,HY=["x","y"],$p=["clientX","clientY"];function cs(t,e,r){var n;if(t)if(t.forEach)t.forEach(e,r);else if(t.length!==void 0)for(n=0;n<t.length;)e.call(r,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t)}function Lm(t,e){return typeof t===eve?t.apply(e&&e[0]||void 0,e):t}function Ja(t,e){return t.indexOf(e)>-1}function lve(t){if(Ja(t,yo))return yo;var e=Ja(t,Id),r=Ja(t,Rd);return e&&r?yo:e||r?e?Id:Rd:Ja(t,Lj)?Lj:UY}var KY=function(){function t(r,n){this.manager=r,this.set(n)}var e=t.prototype;return e.set=function(n){n===zY&&(n=this.compute()),BY&&this.manager.element.style&&gf[n]&&(this.manager.element.style[LY]=n),this.actions=n.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var n=[];return cs(this.manager.recognizers,function(i){Lm(i.options.enable,[i])&&(n=n.concat(i.getTouchAction()))}),lve(n.join(" "))},e.preventDefaults=function(n){var i=n.srcEvent,s=n.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var a=this.actions,o=Ja(a,yo)&&!gf[yo],l=Ja(a,Rd)&&!gf[Rd],c=Ja(a,Id)&&!gf[Id];if(o){var d=n.pointers.length===1,h=n.distance<2,f=n.deltaTime<250;if(d&&h&&f)return}if(!(c&&l)&&(o||l&&s&qi||c&&s&bo))return this.preventSrc(i)},e.preventSrc=function(n){this.manager.session.prevented=!0,n.preventDefault()},t}();function oP(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function GY(t){var e=t.length;if(e===1)return{x:Rl(t[0].clientX),y:Rl(t[0].clientY)};for(var r=0,n=0,i=0;i<e;)r+=t[i].clientX,n+=t[i].clientY,i++;return{x:Rl(r/e),y:Rl(n/e)}}function mz(t){for(var e=[],r=0;r<t.pointers.length;)e[r]={clientX:Rl(t.pointers[r].clientX),clientY:Rl(t.pointers[r].clientY)},r++;return{timeStamp:sP(),pointers:e,center:GY(e),deltaX:t.deltaX,deltaY:t.deltaY}}function kp(t,e,r){r||(r=HY);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.sqrt(n*n+i*i)}function Bj(t,e,r){r||(r=HY);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.atan2(i,n)*180/Math.PI}function YY(t,e){return t===e?Rp:Mo(t)>=Mo(e)?t<0?kh:Dh:e<0?Mh:Nu}function uve(t,e){var r=e.center,n=t.offsetDelta||{},i=t.prevDelta||{},s=t.prevInput||{};(e.eventType===Vr||s.eventType===Kt)&&(i=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:r.x,y:r.y}),e.deltaX=i.x+(r.x-n.x),e.deltaY=i.y+(r.y-n.y)}function QY(t,e,r){return{x:e/t||0,y:r/t||0}}function cve(t,e){return kp(e[0],e[1],$p)/kp(t[0],t[1],$p)}function dve(t,e){return Bj(e[1],e[0],$p)+Bj(t[1],t[0],$p)}function hve(t,e){var r=t.lastInterval||e,n=e.timeStamp-r.timeStamp,i,s,a,o;if(e.eventType!==pn&&(n>ove||r.velocity===void 0)){var l=e.deltaX-r.deltaX,c=e.deltaY-r.deltaY,d=QY(n,l,c);s=d.x,a=d.y,i=Mo(d.x)>Mo(d.y)?d.x:d.y,o=YY(l,c),t.lastInterval=e}else i=r.velocity,s=r.velocityX,a=r.velocityY,o=r.direction;e.velocity=i,e.velocityX=s,e.velocityY=a,e.direction=o}function fve(t,e){var r=t.session,n=e.pointers,i=n.length;r.firstInput||(r.firstInput=mz(e)),i>1&&!r.firstMultiple?r.firstMultiple=mz(e):i===1&&(r.firstMultiple=!1);var s=r.firstInput,a=r.firstMultiple,o=a?a.center:s.center,l=e.center=GY(n);e.timeStamp=sP(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=Bj(o,l),e.distance=kp(o,l),uve(r,e),e.offsetDirection=YY(e.deltaX,e.deltaY);var c=QY(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=Mo(c.x)>Mo(c.y)?c.x:c.y,e.scale=a?cve(a.pointers,n):1,e.rotation=a?dve(a.pointers,n):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,hve(r,e);var d=t.element,h=e.srcEvent,f;h.composedPath?f=h.composedPath()[0]:h.path?f=h.path[0]:f=h.target,oP(f,d)&&(d=f),e.target=d}function pve(t,e,r){var n=r.pointers.length,i=r.changedPointers.length,s=e&Vr&&n-i===0,a=e&(Kt|pn)&&n-i===0;r.isFirst=!!s,r.isFinal=!!a,s&&(t.session={}),r.eventType=e,fve(t,r),t.emit("hammer.input",r),t.recognize(r),t.session.prevInput=r}function $d(t){return t.trim().split(/\s+/g)}function Jc(t,e,r){cs($d(e),function(n){t.addEventListener(n,r,!1)})}function Zc(t,e,r){cs($d(e),function(n){t.removeEventListener(n,r,!1)})}function vz(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var uc=function(){function t(r,n){var i=this;this.manager=r,this.callback=n,this.element=r.element,this.target=r.options.inputTarget,this.domHandler=function(s){Lm(r.options.enable,[r])&&i.handler(s)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Jc(this.element,this.evEl,this.domHandler),this.evTarget&&Jc(this.target,this.evTarget,this.domHandler),this.evWin&&Jc(vz(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&Zc(this.element,this.evEl,this.domHandler),this.evTarget&&Zc(this.target,this.evTarget,this.domHandler),this.evWin&&Zc(vz(this.element),this.evWin,this.domHandler)},t}();function qo(t,e,r){if(t.indexOf&&!r)return t.indexOf(e);for(var n=0;n<t.length;){if(r&&t[n][r]==e||!r&&t[n]===e)return n;n++}return-1}var mve={pointerdown:Vr,pointermove:tl,pointerup:Kt,pointercancel:pn,pointerout:pn},vve={2:$h,3:sve,4:aP,5:ave},XY="pointerdown",JY="pointermove pointerup pointercancel";us.MSPointerEvent&&!us.PointerEvent&&(XY="MSPointerDown",JY="MSPointerMove MSPointerUp MSPointerCancel");var ZY=function(t){Jn(e,t);function e(){var n,i=e.prototype;return i.evEl=XY,i.evWin=JY,n=t.apply(this,arguments)||this,n.store=n.manager.session.pointerEvents=[],n}var r=e.prototype;return r.handler=function(i){var s=this.store,a=!1,o=i.type.toLowerCase().replace("ms",""),l=mve[o],c=vve[i.pointerType]||i.pointerType,d=c===$h,h=qo(s,i.pointerId,"pointerId");l&Vr&&(i.button===0||d)?h<0&&(s.push(i),h=s.length-1):l&(Kt|pn)&&(a=!0),!(h<0)&&(s[h]=i,this.callback(this.manager,l,{pointers:s,changedPointers:[i],pointerType:c,srcEvent:i}),a&&s.splice(h,1))},e}(uc);function kd(t){return Array.prototype.slice.call(t,0)}function lP(t,e,r){for(var n=[],i=[],s=0;s<t.length;){var a=e?t[s][e]:t[s];qo(i,a)<0&&n.push(t[s]),i[s]=a,s++}return r&&(e?n=n.sort(function(o,l){return o[e]>l[e]}):n=n.sort()),n}var gve={touchstart:Vr,touchmove:tl,touchend:Kt,touchcancel:pn},yve="touchstart touchmove touchend touchcancel",uP=function(t){Jn(e,t);function e(){var n;return e.prototype.evTarget=yve,n=t.apply(this,arguments)||this,n.targetIds={},n}var r=e.prototype;return r.handler=function(i){var s=gve[i.type],a=bve.call(this,i,s);a&&this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:$h,srcEvent:i})},e}(uc);function bve(t,e){var r=kd(t.touches),n=this.targetIds;if(e&(Vr|tl)&&r.length===1)return n[r[0].identifier]=!0,[r,r];var i,s,a=kd(t.changedTouches),o=[],l=this.target;if(s=r.filter(function(c){return oP(c.target,l)}),e===Vr)for(i=0;i<s.length;)n[s[i].identifier]=!0,i++;for(i=0;i<a.length;)n[a[i].identifier]&&o.push(a[i]),e&(Kt|pn)&&delete n[a[i].identifier],i++;if(o.length)return[lP(s.concat(o),"identifier",!0),o]}var xve={mousedown:Vr,mousemove:tl,mouseup:Kt},wve="mousedown",_ve="mousemove mouseup",cP=function(t){Jn(e,t);function e(){var n,i=e.prototype;return i.evEl=wve,i.evWin=_ve,n=t.apply(this,arguments)||this,n.pressed=!1,n}var r=e.prototype;return r.handler=function(i){var s=xve[i.type];s&Vr&&i.button===0&&(this.pressed=!0),s&tl&&i.which!==1&&(s=Kt),this.pressed&&(s&Kt&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[i],changedPointers:[i],pointerType:aP,srcEvent:i}))},e}(uc),Sve=2500,gz=25;function yz(t){var e=t.changedPointers,r=e[0];if(r.identifier===this.primaryTouch){var n={x:r.clientX,y:r.clientY},i=this.lastTouches;this.lastTouches.push(n);var s=function(){var o=i.indexOf(n);o>-1&&i.splice(o,1)};setTimeout(s,Sve)}}function Eve(t,e){t&Vr?(this.primaryTouch=e.changedPointers[0].identifier,yz.call(this,e)):t&(Kt|pn)&&yz.call(this,e)}function Nve(t){for(var e=t.srcEvent.clientX,r=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var i=this.lastTouches[n],s=Math.abs(e-i.x),a=Math.abs(r-i.y);if(s<=gz&&a<=gz)return!0}return!1}var eQ=function(){var t=function(e){Jn(r,e);function r(i,s){var a;return a=e.call(this,i,s)||this,a.handler=function(o,l,c){var d=c.pointerType===$h,h=c.pointerType===aP;if(!(h&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(d)Eve.call(vf(vf(a)),l,c);else if(h&&Nve.call(vf(vf(a)),c))return;a.callback(o,l,c)}},a.touch=new uP(a.manager,a.handler),a.mouse=new cP(a.manager,a.handler),a.primaryTouch=null,a.lastTouches=[],a}var n=r.prototype;return n.destroy=function(){this.touch.destroy(),this.mouse.destroy()},r}(uc);return t}();function jve(t){var e,r=t.options.inputClass;return r?e=r:nve?e=ZY:ive?e=uP:WY?e=eQ:e=cP,new e(t,pve)}function $l(t,e,r){return Array.isArray(t)?(cs(t,r[e],r),!0):!1}var Ff=1,Vn=2,ju=4,ma=8,ds=ma,Dd=16,Ii=32,Cve=1;function Ove(){return Cve++}function yf(t,e){var r=e.manager;return r?r.get(t):t}function bz(t){return t&Dd?"cancel":t&ma?"end":t&ju?"move":t&Vn?"start":""}var qh=function(){function t(r){r===void 0&&(r={}),this.options=vi({enable:!0},r),this.id=Ove(),this.manager=null,this.state=Ff,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(n){return Do(this.options,n),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(n){if($l(n,"recognizeWith",this))return this;var i=this.simultaneous;return n=yf(n,this),i[n.id]||(i[n.id]=n,n.recognizeWith(this)),this},e.dropRecognizeWith=function(n){return $l(n,"dropRecognizeWith",this)?this:(n=yf(n,this),delete this.simultaneous[n.id],this)},e.requireFailure=function(n){if($l(n,"requireFailure",this))return this;var i=this.requireFail;return n=yf(n,this),qo(i,n)===-1&&(i.push(n),n.requireFailure(this)),this},e.dropRequireFailure=function(n){if($l(n,"dropRequireFailure",this))return this;n=yf(n,this);var i=qo(this.requireFail,n);return i>-1&&this.requireFail.splice(i,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(n){return!!this.simultaneous[n.id]},e.emit=function(n){var i=this,s=this.state;function a(o){i.manager.emit(o,n)}s<ma&&a(i.options.event+bz(s)),a(i.options.event),n.additionalEvent&&a(n.additionalEvent),s>=ma&&a(i.options.event+bz(s))},e.tryEmit=function(n){if(this.canEmit())return this.emit(n);this.state=Ii},e.canEmit=function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(Ii|Ff)))return!1;n++}return!0},e.recognize=function(n){var i=Do({},n);if(!Lm(this.options.enable,[this,i])){this.reset(),this.state=Ii;return}this.state&(ds|Dd|Ii)&&(this.state=Ff),this.state=this.process(i),this.state&(Vn|ju|ma|Dd)&&this.tryEmit(i)},e.process=function(n){},e.getTouchAction=function(){},e.reset=function(){},t}(),zj=function(t){Jn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,vi({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},n))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var r=e.prototype;return r.getTouchAction=function(){return[Lj]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,l=i.distance<a.threshold,c=i.deltaTime<a.time;if(this.reset(),i.eventType&Vr&&this.count===0)return this.failTimeout();if(l&&c&&o){if(i.eventType!==Kt)return this.failTimeout();var d=this.pTime?i.timeStamp-this.pTime<a.interval:!0,h=!this.pCenter||kp(this.pCenter,i.center)<a.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!h||!d?this.count=1:this.count+=1,this._input=i;var f=this.count%a.taps;if(f===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=ds,s.tryEmit()},a.interval),Vn):ds}return Ii},r.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=Ii},this.options.interval),Ii},r.reset=function(){clearTimeout(this._timer)},r.emit=function(){this.state===ds&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(qh),Cu=function(t){Jn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,vi({pointers:1},n))||this}var r=e.prototype;return r.attrTest=function(i){var s=this.options.pointers;return s===0||i.pointers.length===s},r.process=function(i){var s=this.state,a=i.eventType,o=s&(Vn|ju),l=this.attrTest(i);return o&&(a&pn||!l)?s|Dd:o||l?a&Kt?s|ma:s&Vn?s|ju:Vn:Ii},e}(qh);function tQ(t){return t===Nu?"down":t===Mh?"up":t===kh?"left":t===Dh?"right":""}var dP=function(t){Jn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,vi({event:"pan",threshold:10,pointers:1,direction:VY},n))||this,i.pX=null,i.pY=null,i}var r=e.prototype;return r.getTouchAction=function(){var i=this.options.direction,s=[];return i&qi&&s.push(Rd),i&bo&&s.push(Id),s},r.directionTest=function(i){var s=this.options,a=!0,o=i.distance,l=i.direction,c=i.deltaX,d=i.deltaY;return l&s.direction||(s.direction&qi?(l=c===0?Rp:c<0?kh:Dh,a=c!==this.pX,o=Math.abs(i.deltaX)):(l=d===0?Rp:d<0?Mh:Nu,a=d!==this.pY,o=Math.abs(i.deltaY))),i.direction=l,a&&o>s.threshold&&l&s.direction},r.attrTest=function(i){return Cu.prototype.attrTest.call(this,i)&&(this.state&Vn||!(this.state&Vn)&&this.directionTest(i))},r.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var s=tQ(i.direction);s&&(i.additionalEvent=this.options.event+s),t.prototype.emit.call(this,i)},e}(Cu),rQ=function(t){Jn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,vi({event:"swipe",threshold:10,velocity:.3,direction:qi|bo,pointers:1},n))||this}var r=e.prototype;return r.getTouchAction=function(){return dP.prototype.getTouchAction.call(this)},r.attrTest=function(i){var s=this.options.direction,a;return s&(qi|bo)?a=i.overallVelocity:s&qi?a=i.overallVelocityX:s&bo&&(a=i.overallVelocityY),t.prototype.attrTest.call(this,i)&&s&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&Mo(a)>this.options.velocity&&i.eventType&Kt},r.emit=function(i){var s=tQ(i.offsetDirection);s&&this.manager.emit(this.options.event+s,i),this.manager.emit(this.options.event,i)},e}(Cu),nQ=function(t){Jn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,vi({event:"pinch",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[yo]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&Vn)},r.emit=function(i){if(i.scale!==1){var s=i.scale<1?"in":"out";i.additionalEvent=this.options.event+s}t.prototype.emit.call(this,i)},e}(Cu),iQ=function(t){Jn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,vi({event:"rotate",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[yo]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&Vn)},e}(Cu),sQ=function(t){Jn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,vi({event:"press",pointers:1,time:251,threshold:9},n))||this,i._timer=null,i._input=null,i}var r=e.prototype;return r.getTouchAction=function(){return[UY]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,l=i.distance<a.threshold,c=i.deltaTime>a.time;if(this._input=i,!l||!o||i.eventType&(Kt|pn)&&!c)this.reset();else if(i.eventType&Vr)this.reset(),this._timer=setTimeout(function(){s.state=ds,s.tryEmit()},a.time);else if(i.eventType&Kt)return ds;return Ii},r.reset=function(){clearTimeout(this._timer)},r.emit=function(i){this.state===ds&&(i&&i.eventType&Kt?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=sP(),this.manager.emit(this.options.event,this._input)))},e}(qh),aQ={domEvents:!1,touchAction:zY,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},xz=[[iQ,{enable:!1}],[nQ,{enable:!1},["rotate"]],[rQ,{direction:qi}],[dP,{direction:qi},["swipe"]],[zj],[zj,{event:"doubletap",taps:2},["tap"]],[sQ]],Pve=1,wz=2;function _z(t,e){var r=t.element;if(r.style){var n;cs(t.options.cssProps,function(i,s){n=Fm(r.style,s),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={})}}function Tve(t,e){var r=document.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}var Sz=function(){function t(r,n){var i=this;this.options=Do({},aQ,n||{}),this.options.inputTarget=this.options.inputTarget||r,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=r,this.input=jve(this),this.touchAction=new KY(this,this.options.touchAction),_z(this,!0),cs(this.options.recognizers,function(s){var a=i.add(new s[0](s[1]));s[2]&&a.recognizeWith(s[2]),s[3]&&a.requireFailure(s[3])},this)}var e=t.prototype;return e.set=function(n){return Do(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},e.stop=function(n){this.session.stopped=n?wz:Pve},e.recognize=function(n){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(n);var s,a=this.recognizers,o=i.curRecognizer;(!o||o&&o.state&ds)&&(i.curRecognizer=null,o=null);for(var l=0;l<a.length;)s=a[l],i.stopped!==wz&&(!o||s===o||s.canRecognizeWith(o))?s.recognize(n):s.reset(),!o&&s.state&(Vn|ju|ma)&&(i.curRecognizer=s,o=s),l++}},e.get=function(n){if(n instanceof qh)return n;for(var i=this.recognizers,s=0;s<i.length;s++)if(i[s].options.event===n)return i[s];return null},e.add=function(n){if($l(n,"add",this))return this;var i=this.get(n.options.event);return i&&this.remove(i),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},e.remove=function(n){if($l(n,"remove",this))return this;var i=this.get(n);if(n){var s=this.recognizers,a=qo(s,i);a!==-1&&(s.splice(a,1),this.touchAction.update())}return this},e.on=function(n,i){if(n===void 0||i===void 0)return this;var s=this.handlers;return cs($d(n),function(a){s[a]=s[a]||[],s[a].push(i)}),this},e.off=function(n,i){if(n===void 0)return this;var s=this.handlers;return cs($d(n),function(a){i?s[a]&&s[a].splice(qo(s[a],i),1):delete s[a]}),this},e.emit=function(n,i){this.options.domEvents&&Tve(n,i);var s=this.handlers[n]&&this.handlers[n].slice();if(!(!s||!s.length)){i.type=n,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var a=0;a<s.length;)s[a](i),a++}},e.destroy=function(){this.element&&_z(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),Ive={touchstart:Vr,touchmove:tl,touchend:Kt,touchcancel:pn},Rve="touchstart",$ve="touchstart touchmove touchend touchcancel",kve=function(t){Jn(e,t);function e(){var n,i=e.prototype;return i.evTarget=Rve,i.evWin=$ve,n=t.apply(this,arguments)||this,n.started=!1,n}var r=e.prototype;return r.handler=function(i){var s=Ive[i.type];if(s===Vr&&(this.started=!0),!!this.started){var a=Dve.call(this,i,s);s&(Kt|pn)&&a[0].length-a[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:$h,srcEvent:i})}},e}(uc);function Dve(t,e){var r=kd(t.touches),n=kd(t.changedTouches);return e&(Kt|pn)&&(r=lP(r.concat(n),"identifier",!0)),[r,n]}function oQ(t,e,r){var n="DEPRECATED METHOD: "+e+`
`+r+` AT 
`;return function(){var i=new Error("get-stack-trace"),s=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=window.console&&(window.console.warn||window.console.log);return a&&a.call(window.console,n,s),t.apply(this,arguments)}}var lQ=oQ(function(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;)(!r||r&&t[n[i]]===void 0)&&(t[n[i]]=e[n[i]]),i++;return t},"extend","Use `assign`."),Mve=oQ(function(t,e){return lQ(t,e,!0)},"merge","Use `assign`.");function qve(t,e,r){var n=e.prototype,i;i=t.prototype=Object.create(n),i.constructor=t,i._super=n,r&&Do(i,r)}function Ez(t,e){return function(){return t.apply(e,arguments)}}var uQ=function(){var t=function(r,n){return n===void 0&&(n={}),new Sz(r,vi({recognizers:xz.concat()},n))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=VY,t.DIRECTION_DOWN=Nu,t.DIRECTION_LEFT=kh,t.DIRECTION_RIGHT=Dh,t.DIRECTION_UP=Mh,t.DIRECTION_HORIZONTAL=qi,t.DIRECTION_VERTICAL=bo,t.DIRECTION_NONE=Rp,t.DIRECTION_DOWN=Nu,t.INPUT_START=Vr,t.INPUT_MOVE=tl,t.INPUT_END=Kt,t.INPUT_CANCEL=pn,t.STATE_POSSIBLE=Ff,t.STATE_BEGAN=Vn,t.STATE_CHANGED=ju,t.STATE_ENDED=ma,t.STATE_RECOGNIZED=ds,t.STATE_CANCELLED=Dd,t.STATE_FAILED=Ii,t.Manager=Sz,t.Input=uc,t.TouchAction=KY,t.TouchInput=uP,t.MouseInput=cP,t.PointerEventInput=ZY,t.TouchMouseInput=eQ,t.SingleTouchInput=kve,t.Recognizer=qh,t.AttrRecognizer=Cu,t.Tap=zj,t.Pan=dP,t.Swipe=rQ,t.Pinch=nQ,t.Rotate=iQ,t.Press=sQ,t.on=Jc,t.off=Zc,t.each=cs,t.merge=Mve,t.extend=lQ,t.bindFn=Ez,t.assign=Do,t.inherit=qve,t.bindFn=Ez,t.prefixed=Fm,t.toArray=kd,t.inArray=qo,t.uniqueArray=lP,t.splitStr=$d,t.boolOrFn=Lm,t.hasParent=oP,t.addEventListeners=Jc,t.removeEventListeners=Zc,t.defaults=Do({},aQ,{preset:xz}),t}();uQ.defaults;Ffe("DELETE");function Bm(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Ave(e.length?e:[Ip()])}function Ave(t){let[e,r,n]=Fve(t),i=1;const s=()=>{const a=2091639*e+i*23283064365386963e-26;return e=r,r=n,n=a-(i=a|0)};return s.uint32=()=>s()*4294967296,s.fract53=()=>s()+(s()*2097152|0)*11102230246251565e-32,s.algorithm="Alea",s.seed=t,s.version="0.9",s}function Fve(){const t=Lve();let e=t(" "),r=t(" "),n=t(" ");for(let i=0;i<arguments.length;i++)e-=t(i<0||arguments.length<=i?void 0:arguments[i]),e<0&&(e+=1),r-=t(i<0||arguments.length<=i?void 0:arguments[i]),r<0&&(r+=1),n-=t(i<0||arguments.length<=i?void 0:arguments[i]),n<0&&(n+=1);return[e,r,n]}function Lve(){let t=4022871197;return function(e){const r=e.toString();for(let n=0;n<r.length;n++){t+=r.charCodeAt(n);let i=.02519603282416938*t;t=i>>>0,i-=t,i*=t,t=i>>>0,i-=t,t+=i*4294967296}return(t>>>0)*23283064365386963e-26}}function Bve(){const t=()=>{};return{on:t,off:t,destroy:t,emit:t,get(){return{set:t}}}}const hP=typeof window<"u"?window.Hammer||uQ:function(){return Bve()};function Ri(t){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const r=hP(this._dom.overlay);r.on("tap",re(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{r.destroy()});const n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];lt(n).call(n,i=>{r.on(i,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=i=>{zve(i.target,t)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=i=>{("key"in i?i.key==="Escape":i.keyCode===27)&&this.deactivate()}}bY(Ri.prototype);Ri.current=null;Ri.prototype.destroy=function(){this.deactivate();for(const r of vo(t=os(e=this._cleanupQueue).call(e,0)).call(t)){var t,e;r()}};Ri.prototype.activate=function(){Ri.current&&Ri.current.deactivate(),Ri.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};Ri.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};Ri.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};function zve(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}const Uve=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Wve=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Vve=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,Hve=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function Ms(t){if(t)for(;t.hasChildNodes()===!0;){const e=t.firstChild;e&&(Ms(e),t.removeChild(e))}}function Bl(t){return t instanceof String||typeof t=="string"}function Nz(t){return typeof t=="object"&&t!==null}function Ao(t,e,r,n){let i=!1;n===!0&&(i=e[r]===null&&t[r]!==void 0),i?delete t[r]:t[r]=e[r]}function cQ(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;for(const n in t)if(e[n]!==void 0)if(e[n]===null||typeof e[n]!="object")Ao(t,e,n,r);else{const i=t[n],s=e[n];Nz(i)&&Nz(s)&&cQ(i,s,r)}}function cc(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Dt(r))throw new TypeError("Arrays are not supported by deepExtend");for(let i=0;i<t.length;i++){const s=t[i];if(Object.prototype.hasOwnProperty.call(r,s))if(r[s]&&r[s].constructor===Object)e[s]===void 0&&(e[s]={}),e[s].constructor===Object?ft(e[s],r[s],!1,n):Ao(e,r,s,n);else{if(Dt(r[s]))throw new TypeError("Arrays are not supported by deepExtend");Ao(e,r,s,n)}}return e}function Dp(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Dt(r))throw new TypeError("Arrays are not supported by deepExtend");for(const i in r)if(Object.prototype.hasOwnProperty.call(r,i)&&!pa(t).call(t,i))if(r[i]&&r[i].constructor===Object)e[i]===void 0&&(e[i]={}),e[i].constructor===Object?ft(e[i],r[i]):Ao(e,r,i,n);else if(Dt(r[i])){e[i]=[];for(let s=0;s<r[i].length;s++)e[i].push(r[i][s])}else Ao(e,r,i,n);return e}function ft(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)||r===!0)if(typeof e[s]=="object"&&e[s]!==null&&aB(e[s])===Object.prototype)t[s]===void 0?t[s]=ft({},e[s],r):typeof t[s]=="object"&&t[s]!==null&&aB(t[s])===Object.prototype?ft(t[s],e[s],r):Ao(t,e,s,n);else if(Dt(e[s])){var i;t[s]=Pi(i=e[s]).call(i)}else Ao(t,e,s,n);return t}function Mp(t,e){return[...t,e]}function Kve(t){return Pi(t).call(t)}function Gve(t){return t.getBoundingClientRect().left}function Yve(t){return t.getBoundingClientRect().top}function qe(t,e){if(Dt(t)){const r=t.length;for(let n=0;n<r;n++)e(t[n],n,t)}else for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(t[r],r,t)}function fP(t){let e;switch(t.length){case 3:case 4:return e=Wve.exec(t),e?{r:li(e[1]+e[1],16),g:li(e[2]+e[2],16),b:li(e[3]+e[3],16)}:null;case 6:case 7:return e=Uve.exec(t),e?{r:li(e[1],16),g:li(e[2],16),b:li(e[3],16)}:null;default:return null}}function Bn(t,e){if(pa(t).call(t,"rgba"))return t;if(pa(t).call(t,"rgb")){const r=t.substr(et(t).call(t,"(")+1).replace(")","").split(",");return"rgba("+r[0]+","+r[1]+","+r[2]+","+e+")"}else{const r=fP(t);return r==null?t:"rgba("+r.r+","+r.g+","+r.b+","+e+")"}}function dQ(t,e,r){var n;return"#"+Pi(n=((1<<24)+(t<<16)+(e<<8)+r).toString(16)).call(n,1)}function Uj(t,e){if(Bl(t)){let n=t;if(fQ(n)){var r;const i=Eu(r=n.substr(4).substr(0,n.length-5).split(",")).call(r,function(s){return li(s)});n=dQ(i[0],i[1],i[2])}if(hQ(n)===!0){const i=Qve(n),s={h:i.h,s:i.s*.8,v:Math.min(1,i.v*1.02)},a={h:i.h,s:Math.min(1,i.s*1.25),v:i.v*.8},o=Wj(a.h,a.s,a.v),l=Wj(s.h,s.s,s.v);return{background:n,border:o,highlight:{background:l,border:o},hover:{background:l,border:o}}}else return{background:n,border:n,highlight:{background:n,border:n},hover:{background:n,border:n}}}else return{background:t.background||void 0,border:t.border||void 0,highlight:Bl(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||void 0,border:t.highlight&&t.highlight.border||void 0},hover:Bl(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||void 0,background:t.hover&&t.hover.background||void 0}}}function qc(t,e,r){t=t/255,e=e/255,r=r/255;const n=Math.min(t,Math.min(e,r)),i=Math.max(t,Math.max(e,r));if(n===i)return{h:0,s:0,v:n};const s=t===n?e-r:r===n?t-e:r-t,o=60*((t===n?3:r===n?1:5)-s/(i-n))/360,l=(i-n)/i;return{h:o,s:l,v:i}}function Lf(t,e,r){let n,i,s;const a=Math.floor(t*6),o=t*6-a,l=r*(1-e),c=r*(1-o*e),d=r*(1-(1-o)*e);switch(a%6){case 0:n=r,i=d,s=l;break;case 1:n=c,i=r,s=l;break;case 2:n=l,i=r,s=d;break;case 3:n=l,i=c,s=r;break;case 4:n=d,i=l,s=r;break;case 5:n=r,i=l,s=c;break}return{r:Math.floor(n*255),g:Math.floor(i*255),b:Math.floor(s*255)}}function Wj(t,e,r){const n=Lf(t,e,r);return dQ(n.r,n.g,n.b)}function Qve(t){const e=fP(t);if(!e)throw new TypeError("'".concat(t,"' is not a valid color."));return qc(e.r,e.g,e.b)}function hQ(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)}function fQ(t){return Vve.test(t)}function Xve(t){return Hve.test(t)}function va(t){if(t===null||typeof t!="object")return null;if(t instanceof Element)return t;const e=go(t);for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&typeof t[r]=="object"&&(e[r]=va(t[r]));return e}function qn(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=function(p){return p!=null},s=function(p){return p!==null&&typeof p=="object"},a=function(p){for(const v in p)if(Object.prototype.hasOwnProperty.call(p,v))return!1;return!0};if(!s(t))throw new Error("Parameter mergeTarget must be an object");if(!s(e))throw new Error("Parameter options must be an object");if(!i(r))throw new Error("Parameter option must have a value");if(!s(n))throw new Error("Parameter globalOptions must be an object");const o=function(p,v,y){s(p[y])||(p[y]={});const x=v[y],g=p[y];for(const m in x)Object.prototype.hasOwnProperty.call(x,m)&&(g[m]=x[m])},l=e[r],d=s(n)&&!a(n)?n[r]:void 0,h=d?d.enabled:void 0;if(l===void 0)return;if(typeof l=="boolean"){s(t[r])||(t[r]={}),t[r].enabled=l;return}if(l===null&&!s(t[r]))if(i(d))t[r]=go(d);else return;if(!s(l))return;let f=!0;l.enabled!==void 0?f=l.enabled:h!==void 0&&(f=d.enabled),o(t,e,r),t[r].enabled=f}const Jve={linear(t){return t},easeInQuad(t){return t*t},easeOutQuad(t){return t*(2-t)},easeInOutQuad(t){return t<.5?2*t*t:-1+(4-2*t)*t},easeInCubic(t){return t*t*t},easeOutCubic(t){return--t*t*t+1},easeInOutCubic(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart(t){return t*t*t*t},easeOutQuart(t){return 1- --t*t*t*t},easeInOutQuart(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint(t){return t*t*t*t*t},easeOutQuint(t){return 1+--t*t*t*t*t},easeInOutQuint(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}};function qs(t,e){let r;Dt(e)||(e=[e]);for(const n of t)if(n){r=n[e[0]];for(let i=1;i<e.length;i++)r&&(r=r[e[i]]);if(typeof r<"u")break}return r}const Zve={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};let ege=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return Zve[e]}setColor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e==="none")return;let n;const i=this._isColorString(e);if(i!==void 0&&(e=i),Bl(e)===!0){if(fQ(e)===!0){const s=e.substr(4).substr(0,e.length-5).split(",");n={r:s[0],g:s[1],b:s[2],a:1}}else if(Xve(e)===!0){const s=e.substr(5).substr(0,e.length-6).split(",");n={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(hQ(e)===!0){const s=fP(e);n={r:s.r,g:s.g,b:s.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){const s=e.a!==void 0?e.a:"1.0";n={r:e.r,g:e.g,b:e.b,a:s}}if(n===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+Ih(e));this._setColor(n,r)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0&&(this.previousColor=Ht({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",ls(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)===!0&&(this.initialColor=Ht({},e)),this.color=e;const n=qc(e.r,e.g,e.b),i=2*Math.PI,s=this.r*n.s,a=this.centerCoordinates.x+s*Math.sin(i*n.h),o=this.centerCoordinates.y+s*Math.cos(i*n.h);this.colorPickerSelector.style.left=a-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=o-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){const r=qc(this.color.r,this.color.g,this.color.b);r.v=e/100;const n=Lf(r.h,r.s,r.v);n.a=this.color.a,this.color=n,this._updatePicker()}_updatePicker(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color;const r=qc(e.r,e.g,e.b),n=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1)),n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const i=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;n.clearRect(0,0,i,s),n.putImageData(this.hueCircle,0,0),n.fillStyle="rgba(0,0,0,"+(1-r.v)+")",n.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),Rh(n).call(n),this.brightnessRange.value=100*r.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){var e,r,n,i;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){const a=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{const a=document.createElement("DIV");a.style.color="red",a.style.fontWeight="bold",a.style.padding="10px",a.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(a)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);const s=this;this.opacityRange.onchange=function(){s._setOpacity(this.value)},this.opacityRange.oninput=function(){s._setOpacity(this.value)},this.brightnessRange.onchange=function(){s._setBrightness(this.value)},this.brightnessRange.oninput=function(){s._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=re(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=re(r=this._apply).call(r,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=re(n=this._save).call(n,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=re(i=this._loadLast).call(i,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new hP(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",e=>{e.isFirst&&this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){const e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const r=this.colorPickerCanvas.clientWidth,n=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,r,n);let i,s,a,o;this.centerCoordinates={x:r*.5,y:n*.5},this.r=.49*r;const l=2*Math.PI/360,c=1/360,d=1/this.r;let h;for(a=0;a<360;a++)for(o=0;o<this.r;o++)i=this.centerCoordinates.x+o*Math.sin(l*a),s=this.centerCoordinates.y+o*Math.cos(l*a),h=Lf(a*c,o*d,1),e.fillStyle="rgb("+h.r+","+h.g+","+h.b+")",e.fillRect(i-.5,s-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,r,n)}this.generated=!0}_moveSelector(e){const r=this.colorPickerDiv.getBoundingClientRect(),n=e.center.x-r.left,i=e.center.y-r.top,s=.5*this.colorPickerDiv.clientHeight,a=.5*this.colorPickerDiv.clientWidth,o=n-a,l=i-s,c=Math.atan2(o,l),d=.98*Math.min(Math.sqrt(o*o+l*l),a),h=Math.cos(c)*d+s,f=Math.sin(c)*d+a;this.colorPickerSelector.style.top=h-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=f-.5*this.colorPickerSelector.clientWidth+"px";let p=c/(2*Math.PI);p=p<0?p+1:p;const v=d/this.r,y=qc(this.color.r,this.color.g,this.color.b);y.h=p,y.s=v;const x=Lf(y.h,y.s,y.v);x.a=this.color.a,this.color=x,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}};function Vj(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e.length<1)throw new TypeError("Invalid arguments.");if(e.length===1)return document.createTextNode(e[0]);{const n=document.createElement(e[0]);return n.appendChild(Vj(...Pi(e).call(e,1))),n}}let tge=class{constructor(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:()=>!1;this.parent=e,this.changedOptions=[],this.container=r,this.allowCreation=!1,this.hideOption=s,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},Ht(this.options,this.defaultOptions),this.configureOptions=n,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new ege(i),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let r=!0;if(typeof e=="string")this.options.filter=e;else if(Dt(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),nn(e)!==void 0&&(this.options.filter=nn(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(r=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,r=e):typeof e=="function"&&(this.options.filter=e,r=!0);nn(this.options)===!1&&(r=!1),this.options.enabled=r}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];const e=nn(this.options);let r=0,n=!1;for(const i in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,i)&&(this.allowCreation=!1,n=!1,typeof e=="function"?(n=e(i,[]),n=n||this._handleObject(this.configureOptions[i],[i],!0)):(e===!0||et(e).call(e,i)!==-1)&&(n=!0),n!==!1&&(this.allowCreation=!0,r>0&&this._makeItem([]),this._makeHeader(i),this._handleObject(this.configureOptions[i],[i])),r++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(let e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(let e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let r=this.moduleOptions;for(let n=0;n<e.length;n++)if(r[e[n]]!==void 0)r=r[e[n]];else{r=void 0;break}return r}_makeItem(e){if(this.allowCreation===!0){const s=document.createElement("div");s.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return lt(n).call(n,a=>{s.appendChild(a)}),this.domElements.push(s),this.domElements.length}return 0}_makeHeader(e){const r=document.createElement("div");r.className="vis-configuration vis-config-header",r.innerText=e,this._makeItem([],r)}_makeLabel(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=document.createElement("div");if(i.className="vis-configuration vis-config-label vis-config-s"+r.length,n===!0){for(;i.firstChild;)i.removeChild(i.firstChild);i.appendChild(Vj("i","b",e))}else i.innerText=e+":";return i}_makeDropdown(e,r,n){const i=document.createElement("select");i.className="vis-configuration vis-config-select";let s=0;r!==void 0&&et(e).call(e,r)!==-1&&(s=et(e).call(e,r));for(let l=0;l<e.length;l++){const c=document.createElement("option");c.value=e[l],l===s&&(c.selected="selected"),c.innerText=e[l],i.appendChild(c)}const a=this;i.onchange=function(){a._update(this.value,n)};const o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,i)}_makeRange(e,r,n){const i=e[0],s=e[1],a=e[2],o=e[3],l=document.createElement("input");l.className="vis-configuration vis-config-range";try{l.type="range",l.min=s,l.max=a}catch{}l.step=o;let c="",d=0;r!==void 0?(r<0&&r*1.2<s?(l.min=Math.ceil(r*1.2),d=l.min,c="range increased"):r/1.2<s&&(l.min=Math.ceil(r/1.2),d=l.min,c="range increased"),r*1.2>a&&a!==1&&(l.max=Math.ceil(r*1.2),d=l.max,c="range increased"),l.value=r):l.value=i;const h=document.createElement("input");h.className="vis-configuration vis-config-rangeinput",h.value=l.value;const f=this;l.onchange=function(){h.value=this.value,f._update(Number(this.value),n)},l.oninput=function(){h.value=this.value};const p=this._makeLabel(n[n.length-1],n),v=this._makeItem(n,p,l,h);c!==""&&this.popupHistory[v]!==d&&(this.popupHistory[v]=d,this._setupPopup(c,v))}_makeButton(){if(this.options.showButton===!0){const e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerText="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,r){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){const n=document.createElement("div");n.id="vis-configuration-popup",n.className="vis-configuration-popup",n.innerText=e,n.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:n,index:r}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){const r=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=r.left+"px",this.popupDiv.html.style.top=r.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=ls(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=ls(()=>{this._removePopup()},1800)}}_makeCheckbox(e,r,n){const i=document.createElement("input");i.type="checkbox",i.className="vis-configuration vis-config-checkbox",i.checked=e,r!==void 0&&(i.checked=r,r!==e&&(typeof e=="object"?r!==e.enabled&&this.changedOptions.push({path:n,value:r}):this.changedOptions.push({path:n,value:r})));const s=this;i.onchange=function(){s._update(this.checked,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,i)}_makeTextInput(e,r,n){const i=document.createElement("input");i.type="text",i.className="vis-configuration vis-config-text",i.value=r,r!==e&&this.changedOptions.push({path:n,value:r});const s=this;i.onchange=function(){s._update(this.value,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,i)}_makeColorField(e,r,n){const i=e[1],s=document.createElement("div");r=r===void 0?i:r,r!=="none"?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=r):s.className="vis-configuration vis-config-colorBlock none",r=r===void 0?i:r,s.onclick=()=>{this._showColorPicker(r,s,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,s)}_showColorPicker(e,r,n){r.onclick=function(){},this.colorPicker.insertTo(r),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(i=>{const s="rgba("+i.r+","+i.g+","+i.b+","+i.a+")";r.style.backgroundColor=s,this._update(s,n)}),this.colorPicker.setCloseCallback(()=>{r.onclick=()=>{this._showColorPicker(e,r,n)}})}_handleObject(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=!1;const s=nn(this.options);let a=!1;for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){i=!0;const l=e[o],c=Mp(r,o);if(typeof s=="function"&&(i=s(o,r),i===!1&&!Dt(l)&&typeof l!="string"&&typeof l!="boolean"&&l instanceof Object&&(this.allowCreation=!1,i=this._handleObject(l,c,!0),this.allowCreation=n===!1)),i!==!1){a=!0;const d=this._getValue(c);if(Dt(l))this._handleArray(l,d,c);else if(typeof l=="string")this._makeTextInput(l,d,c);else if(typeof l=="boolean")this._makeCheckbox(l,d,c);else if(l instanceof Object){if(!this.hideOption(r,o,this.moduleOptions))if(l.enabled!==void 0){const h=Mp(c,"enabled"),f=this._getValue(h);if(f===!0){const p=this._makeLabel(o,c,!0);this._makeItem(c,p),a=this._handleObject(l,c)||a}else this._makeCheckbox(l,f,c)}else{const h=this._makeLabel(o,c,!0);this._makeItem(c,h),a=this._handleObject(l,c)||a}}else console.error("dont know how to handle",l,o,c)}}return a}_handleArray(e,r,n){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,r,n),e[1]!==r&&this.changedOptions.push({path:n,value:r})):typeof e[0]=="string"?(this._makeDropdown(e,r,n),e[0]!==r&&this.changedOptions.push({path:n,value:r})):typeof e[0]=="number"&&(this._makeRange(e,r,n),e[0]!==r&&this.changedOptions.push({path:n,value:Number(r)}))}_update(e,r){const n=this._constructOptions(e,r);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",n),this.initialized=!0,this.parent.setOptions(n)}_constructOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let s=0;s<r.length;s++)r[s]!=="global"&&(i[r[s]]===void 0&&(i[r[s]]={}),s!==r.length-1?i=i[r[s]]:i[r[s]]=e);return n}_printOptions(){const e=this.getOptions();for(;this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(Vj("pre","const options = "+Ih(e,null,2)))}getOptions(){const e={};for(let r=0;r<this.changedOptions.length;r++)this._constructOptions(this.changedOptions[r].value,this.changedOptions[r].path,e);return e}},rge=class{constructor(e,r){this.container=e,this.overflowMethod=r||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,r){this.x=li(e),this.y=li(r)}setText(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}show(e){if(e===void 0&&(e=!0),e===!0){const r=this.frame.clientHeight,n=this.frame.clientWidth,i=this.frame.parentNode.clientHeight,s=this.frame.parentNode.clientWidth;let a=0,o=0;if(this.overflowMethod=="flip"){let l=!1,c=!0;this.y-r<this.padding&&(c=!1),this.x+n>s-this.padding&&(l=!0),l?a=this.x-n:a=this.x,c?o=this.y-r:o=this.y}else o=this.y-r,o+r+this.padding>i&&(o=i-r-this.padding),o<this.padding&&(o=this.padding),a=this.x,a+n+this.padding>s&&(a=s-n-this.padding),a<this.padding&&(a=this.padding);this.frame.style.left=a+"px",this.frame.style.top=o+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}},Tc=!1,jz;const Hj="background: #FFeeee; color: #dd0000";let nge=class Pt{static validate(e,r,n){Tc=!1,jz=r;let i=r;return n!==void 0&&(i=r[n]),Pt.parse(e,i,[]),Tc}static parse(e,r,n){for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&Pt.check(i,e,r,n)}static check(e,r,n,i){if(n[e]===void 0&&n.__any__===void 0){Pt.getSuggestion(e,n,i);return}let s=e,a=!0;n[e]===void 0&&n.__any__!==void 0&&(s="__any__",a=Pt.getType(r[e])==="object");let o=n[s];a&&o.__type__!==void 0&&(o=o.__type__),Pt.checkFields(e,r,n,s,o,i)}static checkFields(e,r,n,i,s,a){const o=function(d){console.error("%c"+d+Pt.printLocation(a,e),Hj)},l=Pt.getType(r[e]),c=s[l];c!==void 0?Pt.getType(c)==="array"&&et(c).call(c,r[e])===-1?(o('Invalid option detected in "'+e+'". Allowed values are:'+Pt.print(c)+' not "'+r[e]+'". '),Tc=!0):l==="object"&&i!=="__any__"&&(a=Mp(a,e),Pt.parse(r[e],n[i],a)):s.any===void 0&&(o('Invalid type received for "'+e+'". Expected: '+Pt.print(Rt(s))+". Received ["+l+'] "'+r[e]+'"'),Tc=!0)}static getType(e){const r=typeof e;return r==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Dt(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":r==="number"?"number":r==="boolean"?"boolean":r==="string"?"string":r===void 0?"undefined":r}static getSuggestion(e,r,n){const i=Pt.findInOptions(e,r,n,!1),s=Pt.findInOptions(e,jz,[],!0),a=8,o=4;let l;i.indexMatch!==void 0?l=" in "+Pt.printLocation(i.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+i.indexMatch+`"?

`:s.distance<=o&&i.distance>s.distance?l=" in "+Pt.printLocation(i.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+Pt.printLocation(s.path,s.closestMatch,""):i.distance<=a?l='. Did you mean "'+i.closestMatch+'"?'+Pt.printLocation(i.path,e):l=". Did you mean one of these: "+Pt.print(Rt(r))+Pt.printLocation(n,e),console.error('%cUnknown option detected: "'+e+'"'+l,Hj),Tc=!0}static findInOptions(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=1e9,a="",o=[];const l=e.toLowerCase();let c;for(const h in r){let f;if(r[h].__type__!==void 0&&i===!0){const p=Pt.findInOptions(e,r[h],Mp(n,h));s>p.distance&&(a=p.closestMatch,o=p.path,s=p.distance,c=p.indexMatch)}else{var d;et(d=h.toLowerCase()).call(d,l)!==-1&&(c=h),f=Pt.levenshteinDistance(e,h),s>f&&(a=h,o=Kve(n),s=f)}}return{closestMatch:a,path:o,distance:s,indexMatch:c}}static printLocation(e,r){let i=`

`+(arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`)+`options = {
`;for(let s=0;s<e.length;s++){for(let a=0;a<s+1;a++)i+="  ";i+=e[s]+`: {
`}for(let s=0;s<e.length+1;s++)i+="  ";i+=r+`
`;for(let s=0;s<e.length+1;s++){for(let a=0;a<e.length-s;a++)i+="  ";i+=`}
`}return i+`

`}static print(e){return Ih(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(e,r){if(e.length===0)return r.length;if(r.length===0)return e.length;const n=[];let i;for(i=0;i<=r.length;i++)n[i]=[i];let s;for(s=0;s<=e.length;s++)n[0][s]=s;for(i=1;i<=r.length;i++)for(s=1;s<=e.length;s++)r.charAt(i-1)==e.charAt(s-1)?n[i][s]=n[i-1][s-1]:n[i][s]=Math.min(n[i-1][s-1]+1,Math.min(n[i][s-1]+1,n[i-1][s]+1));return n[r.length][e.length]}};const ige=Ri,sge=tge,zl=hP,age=rge,pQ=Hj,oge=nge;function lge(t){return ea=t,hge()}var mQ={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},pP=go(mQ);pP.color="color.color";pP.style="dashes";var Fr={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},Cz={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},ea="",Ou=0,Me="",je="",en=Fr.NULL;function uge(){Ou=0,Me=ea.charAt(0)}function ir(){Ou++,Me=ea.charAt(Ou)}function fl(){return ea.charAt(Ou+1)}function Oz(t){var e=t.charCodeAt(0);return e<47?e===35||e===46:e<59?e>47:e<91?e>64:e<96?e===95:e<123?e>96:!1}function wa(t,e){if(t||(t={}),e)for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function cge(t,e,r){for(var n=e.split("."),i=t;n.length;){var s=n.shift();n.length?(i[s]||(i[s]={}),i=i[s]):i[s]=r}}function vQ(t,e){for(var r,n,i=null,s=[t],a=t;a.parent;)s.push(a.parent),a=a.parent;if(a.nodes){for(r=0,n=a.nodes.length;r<n;r++)if(e.id===a.nodes[r].id){i=a.nodes[r];break}}for(i||(i={id:e.id},t.node&&(i.attr=wa(i.attr,t.node))),r=s.length-1;r>=0;r--){var o,l=s[r];l.nodes||(l.nodes=[]),et(o=l.nodes).call(o,i)===-1&&l.nodes.push(i)}e.attr&&(i.attr=wa(i.attr,e.attr))}function dge(t,e){if(t.edges||(t.edges=[]),t.edges.push(e),t.edge){var r=wa({},t.edge);e.attr=wa(r,e.attr)}}function gQ(t,e,r,n,i){var s={from:e,to:r,type:n};return t.edge&&(s.attr=wa({},t.edge)),s.attr=wa(s.attr||{},i),i!=null&&i.hasOwnProperty("arrows")&&i.arrows!=null&&(s.arrows={to:{enabled:!0,type:i.arrows.type}},i.arrows=null),s}function pt(){for(en=Fr.NULL,je="";Me===" "||Me==="	"||Me===`
`||Me==="\r";)ir();do{var t=!1;if(Me==="#"){for(var e=Ou-1;ea.charAt(e)===" "||ea.charAt(e)==="	";)e--;if(ea.charAt(e)===`
`||ea.charAt(e)===""){for(;Me!=""&&Me!=`
`;)ir();t=!0}}if(Me==="/"&&fl()==="/"){for(;Me!=""&&Me!=`
`;)ir();t=!0}if(Me==="/"&&fl()==="*"){for(;Me!="";)if(Me==="*"&&fl()==="/"){ir(),ir();break}else ir();t=!0}for(;Me===" "||Me==="	"||Me===`
`||Me==="\r";)ir()}while(t);if(Me===""){en=Fr.DELIMITER;return}var r=Me+fl();if(Cz[r]){en=Fr.DELIMITER,je=r,ir(),ir();return}if(Cz[Me]){en=Fr.DELIMITER,je=Me,ir();return}if(Oz(Me)||Me==="-"){for(je+=Me,ir();Oz(Me);)je+=Me,ir();je==="false"?je=!1:je==="true"?je=!0:isNaN(Number(je))||(je=Number(je)),en=Fr.IDENTIFIER;return}if(Me==='"'){for(ir();Me!=""&&(Me!='"'||Me==='"'&&fl()==='"');)Me==='"'?(je+=Me,ir()):Me==="\\"&&fl()==="n"?(je+=`
`,ir()):je+=Me,ir();if(Me!='"')throw Lr('End of string " expected');ir(),en=Fr.IDENTIFIER;return}for(en=Fr.UNKNOWN;Me!="";)je+=Me,ir();throw new SyntaxError('Syntax error in part "'+wQ(je,30)+'"')}function hge(){var t={};if(uge(),pt(),je==="strict"&&(t.strict=!0,pt()),(je==="graph"||je==="digraph")&&(t.type=je,pt()),en===Fr.IDENTIFIER&&(t.id=je,pt()),je!="{")throw Lr("Angle bracket { expected");if(pt(),yQ(t),je!="}")throw Lr("Angle bracket } expected");if(pt(),je!=="")throw Lr("End of file expected");return pt(),delete t.node,delete t.edge,delete t.graph,t}function yQ(t){for(;je!==""&&je!="}";)fge(t),je===";"&&pt()}function fge(t){var e=bQ(t);if(e){xQ(t,e);return}var r=pge(t);if(!r){if(en!=Fr.IDENTIFIER)throw Lr("Identifier expected");var n=je;if(pt(),je==="="){if(pt(),en!=Fr.IDENTIFIER)throw Lr("Identifier expected");t[n]=je,pt()}else mge(t,n)}}function bQ(t){var e=null;if(je==="subgraph"&&(e={},e.type="subgraph",pt(),en===Fr.IDENTIFIER&&(e.id=je,pt())),je==="{"){if(pt(),e||(e={}),e.parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,yQ(e),je!="}")throw Lr("Angle bracket } expected");pt(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function pge(t){return je==="node"?(pt(),t.node=ed(),"node"):je==="edge"?(pt(),t.edge=ed(),"edge"):je==="graph"?(pt(),t.graph=ed(),"graph"):null}function mge(t,e){var r={id:e},n=ed();n&&(r.attr=n),vQ(t,r),xQ(t,e)}function xQ(t,e){for(;je==="->"||je==="--";){var r,n=je;pt();var i=bQ(t);if(i)r=i;else{if(en!=Fr.IDENTIFIER)throw Lr("Identifier or subgraph expected");r=je,vQ(t,{id:r}),pt()}var s=ed(),a=gQ(t,e,r,n,s);dge(t,a),e=r}}function ed(){for(var t,e=null,r={dashed:!0,solid:!1,dotted:[1,5]},n={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},i=new Array,s=new Array;je==="[";){for(pt(),e={};je!==""&&je!="]";){if(en!=Fr.IDENTIFIER)throw Lr("Attribute name expected");var a=je;if(pt(),je!="=")throw Lr("Equal sign = expected");if(pt(),en!=Fr.IDENTIFIER)throw Lr("Attribute value expected");var o=je;a==="style"&&(o=r[o]);var l;a==="arrowhead"&&(l=n[o],a="arrows",o={to:{enabled:!0,type:l}}),a==="arrowtail"&&(l=n[o],a="arrows",o={from:{enabled:!0,type:l}}),i.push({attr:e,name:a,value:o}),s.push(a),pt(),je==","&&pt()}if(je!="]")throw Lr("Bracket ] expected");pt()}if(pa(s).call(s,"dir")){var c={};for(c.arrows={},t=0;t<i.length;t++)if(i[t].name==="arrows")if(i[t].value.to!=null)c.arrows.to=t;else if(i[t].value.from!=null)c.arrows.from=t;else throw Lr("Invalid value of arrows");else i[t].name==="dir"&&(c.dir=t);var d=i[c.dir].value;if(!pa(s).call(s,"arrows"))if(d==="both")i.push({attr:i[c.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),c.arrows.to=i.length-1,i.push({attr:i[c.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),c.arrows.from=i.length-1;else if(d==="forward")i.push({attr:i[c.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),c.arrows.to=i.length-1;else if(d==="back")i.push({attr:i[c.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),c.arrows.from=i.length-1;else if(d==="none")i.push({attr:i[c.dir].attr,name:"arrows",value:""}),c.arrows.to=i.length-1;else throw Lr('Invalid dir type "'+d+'"');var h,f;if(d==="both")c.arrows.to&&c.arrows.from?(f=i[c.arrows.to].value.to.type,h=i[c.arrows.from].value.from.type,i[c.arrows.to]={attr:i[c.arrows.to].attr,name:i[c.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}},os(i).call(i,c.arrows.from,1)):c.arrows.to?(f=i[c.arrows.to].value.to.type,h="arrow",i[c.arrows.to]={attr:i[c.arrows.to].attr,name:i[c.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):c.arrows.from&&(f="arrow",h=i[c.arrows.from].value.from.type,i[c.arrows.from]={attr:i[c.arrows.from].attr,name:i[c.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}});else if(d==="back")c.arrows.to&&c.arrows.from?(f="",h=i[c.arrows.from].value.from.type,i[c.arrows.from]={attr:i[c.arrows.from].attr,name:i[c.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):c.arrows.to?(f="",h="arrow",c.arrows.from=c.arrows.to,i[c.arrows.from]={attr:i[c.arrows.from].attr,name:i[c.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):c.arrows.from&&(f="",h=i[c.arrows.from].value.from.type,i[c.arrows.to]={attr:i[c.arrows.from].attr,name:i[c.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}),i[c.arrows.from]={attr:i[c.arrows.from].attr,name:i[c.arrows.from].name,value:{from:{enabled:!0,type:i[c.arrows.from].value.from.type}}};else if(d==="none"){var p;c.arrows.to?p=c.arrows.to:p=c.arrows.from,i[p]={attr:i[p].attr,name:i[p].name,value:""}}else if(d==="forward")c.arrows.to&&c.arrows.from?(f=i[c.arrows.to].value.to.type,h="",i[c.arrows.to]={attr:i[c.arrows.to].attr,name:i[c.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):c.arrows.to?(f=i[c.arrows.to].value.to.type,h="",i[c.arrows.to]={attr:i[c.arrows.to].attr,name:i[c.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):c.arrows.from&&(f="arrow",h="",c.arrows.to=c.arrows.from,i[c.arrows.to]={attr:i[c.arrows.to].attr,name:i[c.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}),i[c.arrows.to]={attr:i[c.arrows.to].attr,name:i[c.arrows.to].name,value:{to:{enabled:!0,type:i[c.arrows.to].value.to.type}}};else throw Lr('Invalid dir type "'+d+'"');os(i).call(i,c.dir,1)}var v;if(pa(s).call(s,"penwidth")){var y=[];for(v=i.length,t=0;t<v;t++)i[t].name!=="width"&&(i[t].name==="penwidth"&&(i[t].name="width"),y.push(i[t]));i=y}for(v=i.length,t=0;t<v;t++)cge(i[t].attr,i[t].name,i[t].value);return e}function Lr(t){return new SyntaxError(t+', got "'+wQ(je,30)+'" (char '+Ou+")")}function wQ(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function vge(t,e,r){Dt(t)?lt(t).call(t,function(n){Dt(e)?lt(e).call(e,function(i){r(n,i)}):r(n,e)}):Dt(e)?lt(e).call(e,function(n){r(t,n)}):r(t,e)}function MS(t,e,r){for(var n=e.split("."),i=n.pop(),s=t,a=0;a<n.length;a++){var o=n[a];o in s||(s[o]={}),s=s[o]}return s[i]=r,t}function Pz(t,e){var r={};for(var n in t)if(t.hasOwnProperty(n)){var i=e[n];Dt(i)?lt(i).call(i,function(s){MS(r,s,t[n])}):typeof i=="string"?MS(r,i,t[n]):MS(r,n,t[n])}return r}function gge(t){var e=lge(t),r={nodes:[],edges:[],options:{}};if(e.nodes){var n;lt(n=e.nodes).call(n,function(a){var o={id:a.id,label:String(a.label||a.id)};wa(o,Pz(a.attr,mQ)),o.image&&(o.shape="image"),r.nodes.push(o)})}if(e.edges){var i,s=function(a){var o={from:a.from,to:a.to};return wa(o,Pz(a.attr,pP)),o.arrows==null&&a.type==="->"&&(o.arrows="to"),o};lt(i=e.edges).call(i,function(a){var o,l;if(a.from instanceof Object?o=a.from.nodes:o={id:a.from},a.to instanceof Object?l=a.to.nodes:l={id:a.to},a.from instanceof Object&&a.from.edges){var c;lt(c=a.from.edges).call(c,function(h){var f=s(h);r.edges.push(f)})}if(vge(o,l,function(h,f){var p=gQ(r,h.id,f.id,a.type,a.attr),v=s(p);r.edges.push(v)}),a.to instanceof Object&&a.to.edges){var d;lt(d=a.to.edges).call(d,function(h){var f=s(h);r.edges.push(f)})}})}return e.attr&&(r.options=e.attr),r}function yge(t,e){var r;const n={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};e!=null&&(e.fixed!=null&&(n.nodes.fixed=e.fixed),e.parseColor!=null&&(n.nodes.parseColor=e.parseColor),e.inheritColor!=null&&(n.edges.inheritColor=e.inheritColor));const i=t.edges,s=Eu(i).call(i,o=>{const l={from:o.source,id:o.id,to:o.target};return o.attributes!=null&&(l.attributes=o.attributes),o.label!=null&&(l.label=o.label),o.attributes!=null&&o.attributes.title!=null&&(l.title=o.attributes.title),o.type==="Directed"&&(l.arrows="to"),o.color&&n.edges.inheritColor===!1&&(l.color=o.color),l});return{nodes:Eu(r=t.nodes).call(r,o=>{const l={id:o.id,fixed:n.nodes.fixed&&o.x!=null&&o.y!=null};return o.attributes!=null&&(l.attributes=o.attributes),o.label!=null&&(l.label=o.label),o.size!=null&&(l.size=o.size),o.attributes!=null&&o.attributes.title!=null&&(l.title=o.attributes.title),o.title!=null&&(l.title=o.title),o.x!=null&&(l.x=o.x),o.y!=null&&(l.y=o.y),o.color!=null&&(n.nodes.parseColor===!0?l.color=o.color:l.color={background:o.color,border:o.color,highlight:{background:o.color,border:o.color},hover:{background:o.color,border:o.color}}),l}),edges:s}}const bge={addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},xge={addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzufgen",addNode:"Knoten hinzufgen",back:"Zurck",close:"Schlieen",createEdgeError:"Es ist nicht mglich, Kanten mit Clustern zu verbinden.",del:"Lsche Auswahl",deleteClusterError:"Cluster knnen nicht gelscht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster knnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},wge={addDescription:"Haga clic en un lugar vaco para colocar un nuevo nodo.",addEdge:"Aadir arista",addNode:"Aadir nodo",back:"Atrs",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar seleccin",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},_ge={addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},Sge={addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},Ege={addDescription:"Clique em um espao em branco para adicionar um novo n",addEdge:"Adicionar aresta",addNode:"Adicionar n",back:"Voltar",close:"Fechar",createEdgeError:"No foi possvel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters no puderam ser removidos.",edgeDescription:"Clique em um n e arraste a aresta at outro n para conect-los",edit:"Editar",editClusterError:"Clusters no puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n para conect-los",editNode:"Editar n"},Nge={addDescription:"   ,    .",addEdge:" ",addNode:" ",back:"",close:"",createEdgeError:"    .",del:" ",deleteClusterError:"    ",edgeDescription:"        ,   .",edit:"",editClusterError:"   .",editEdge:" ",editEdgeDescription:"        ,    .",editNode:" "},jge={addDescription:"",addEdge:"",addNode:"",back:"",close:"",createEdgeError:"",del:"",deleteClusterError:"",edgeDescription:"",edit:"",editClusterError:"",editEdge:"",editEdgeDescription:"",editNode:""},Cge={addDescription:"K   ,    .",addEdge:" ",addNode:" ",back:"",close:"",createEdgeError:"  '   .",del:" ",deleteClusterError:"    .",edgeDescription:"        ,   '.",edit:"",editClusterError:"   .",editEdge:" ",editEdgeDescription:"        ,    .",editNode:" "},Oge={addDescription:"Cliquez dans un endroit vide pour placer un nud.",addEdge:"Ajouter un lien",addNode:"Ajouter un nud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de crer un lien vers un cluster.",del:"Effacer la slection",deleteClusterError:"Les clusters ne peuvent pas tre effacs.",edgeDescription:"Cliquez sur un nud et glissez le lien vers un autre nud pour les connecter.",edit:"diter",editClusterError:"Les clusters ne peuvent pas tre dits.",editEdge:"diter le lien",editEdgeDescription:"Cliquez sur les points de contrle et glissez-les pour connecter un nud.",editNode:"diter le nud"},Pge={addDescription:"Kluknutm do przdnho prostoru mete pidat nov vrchol.",addEdge:"Pidat hranu",addNode:"Pidat vrchol",back:"Zpt",close:"Zavt",createEdgeError:"Nelze pipojit hranu ke shluku.",del:"Smazat vbr",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"Petaenm z jednoho vrcholu do druhho mete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"Petaenm kontrolnho vrcholu hrany ji mete pipojit k jinmu vrcholu.",editNode:"Upravit vrchol"};var Tge=Object.freeze({__proto__:null,cn:jge,cs:Pge,de:xge,en:bge,es:wge,fr:Oge,it:_ge,nl:Sge,pt:Ege,ru:Nge,uk:Cge});function Ige(t,e){try{const[n,i]=e.split(/[-_ /]/,2),s=n!=null?n.toLowerCase():null,a=i!=null?i.toUpperCase():null;if(s&&a){const o=s+"-"+a;if(Object.prototype.hasOwnProperty.call(t,o))return o;var r;console.warn(tme(r="Unknown variant ".concat(a," of language ")).call(r,s,"."))}if(s){const o=s;if(Object.prototype.hasOwnProperty.call(t,o))return o;console.warn("Unknown language ".concat(s))}return console.warn("Unknown locale ".concat(e,", falling back to English.")),"en"}catch(n){return console.error(n),console.warn("Unexpected error while normalizing locale ".concat(e,", falling back to English.")),"en"}}class Rge{constructor(){this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}init(){if(this.initialized())return;this.src=this.image.src;const e=this.image.width,r=this.image.height;this.width=e,this.height=r;const n=Math.floor(r/2),i=Math.floor(r/4),s=Math.floor(r/8),a=Math.floor(r/16),o=Math.floor(e/2),l=Math.floor(e/4),c=Math.floor(e/8),d=Math.floor(e/16);this.canvas.width=3*l,this.canvas.height=n,this.coordinates=[[0,0,o,n],[o,0,l,i],[o,i,c,s],[5*c,i,d,a]],this._fillMipMap()}initialized(){return this.coordinates!==void 0}_fillMipMap(){const e=this.canvas.getContext("2d"),r=this.coordinates[0];e.drawImage(this.image,r[0],r[1],r[2],r[3]);for(let n=1;n<this.NUM_ITERATIONS;n++){const i=this.coordinates[n-1],s=this.coordinates[n];e.drawImage(this.canvas,i[0],i[1],i[2],i[3],s[0],s[1],s[2],s[3])}}drawImageAtPosition(e,r,n,i,s,a){if(this.initialized())if(r>2){r*=.5;let o=0;for(;r>2&&o<this.NUM_ITERATIONS;)r*=.5,o+=1;o>=this.NUM_ITERATIONS&&(o=this.NUM_ITERATIONS-1);const l=this.coordinates[o];e.drawImage(this.canvas,l[0],l[1],l[2],l[3],n,i,s,a)}else e.drawImage(this.image,n,i,s,a)}}class $ge{constructor(e){this.images={},this.imageBroken={},this.callback=e}_tryloadBrokenUrl(e,r,n){if(!(e===void 0||n===void 0)){if(r===void 0){console.warn("No broken url image defined");return}n.image.onerror=()=>{console.error("Could not load brokenImage:",r)},n.image.src=r}}_redrawWithImage(e){this.callback&&this.callback(e)}load(e,r){const n=this.images[e];if(n)return n;const i=new Rge;return this.images[e]=i,i.image.onload=()=>{this._fixImageCoordinates(i.image),i.init(),this._redrawWithImage(i)},i.image.onerror=()=>{console.error("Could not load image:",e),this._tryloadBrokenUrl(e,r,i)},i.image.src=e,i}_fixImageCoordinates(e){e.width===0&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}var Tz={},Iz={},qS={exports:{}},AS,Rz;function kge(){if(Rz)return AS;Rz=1;var t=ze();return AS=t(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),AS}var FS,$z;function Dge(){if($z)return FS;$z=1;var t=ze(),e=fr(),r=Fi(),n=kge(),i=Object.isExtensible,s=t(function(){});return FS=s||n?function(o){return!e(o)||n&&r(o)==="ArrayBuffer"?!1:i?i(o):!0}:i,FS}var LS,kz;function _Q(){if(kz)return LS;kz=1;var t=ze();return LS=!t(function(){return Object.isExtensible(Object.preventExtensions({}))}),LS}var Dz;function zm(){if(Dz)return qS.exports;Dz=1;var t=Se(),e=Ve(),r=jh(),n=fr(),i=wr(),s=Qn().f,a=Mm(),o=ZO(),l=Dge(),c=Pm(),d=_Q(),h=!1,f=c("meta"),p=0,v=function(b){s(b,f,{value:{objectID:"O"+p++,weakData:{}}})},y=function(b,_){if(!n(b))return typeof b=="symbol"?b:(typeof b=="string"?"S":"P")+b;if(!i(b,f)){if(!l(b))return"F";if(!_)return"E";v(b)}return b[f].objectID},x=function(b,_){if(!i(b,f)){if(!l(b))return!0;if(!_)return!1;v(b)}return b[f].weakData},g=function(b){return d&&h&&l(b)&&!i(b,f)&&v(b),b},m=function(){w.enable=function(){},h=!0;var b=a.f,_=e([].splice),E={};E[f]=1,b(E).length&&(a.f=function(N){for(var S=b(N),j=0,C=S.length;j<C;j++)if(S[j]===f){_(S,j,1);break}return S},t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:o.f}))},w=qS.exports={enable:m,fastKey:y,getWeakData:x,onFreeze:g};return r[f]=!0,qS.exports}var BS,Mz;function Mge(){if(Mz)return BS;Mz=1;var t=Xt(),e=sc(),r=t("iterator"),n=Array.prototype;return BS=function(i){return i!==void 0&&(e.Array===i||n[r]===i)},BS}var zS,qz;function SQ(){if(qz)return zS;qz=1;var t=ic(),e=WO(),r=Yu(),n=sc(),i=Xt(),s=i("iterator");return zS=function(a){if(!r(a))return e(a,s)||e(a,"@@iterator")||n[t(a)]},zS}var US,Az;function qge(){if(Az)return US;Az=1;var t=yn(),e=Os(),r=Li(),n=Ju(),i=SQ(),s=TypeError;return US=function(a,o){var l=arguments.length<2?i(a):o;if(e(l))return r(t(l,a));throw new s(n(a)+" is not iterable")},US}var WS,Fz;function mP(){if(Fz)return WS;Fz=1;var t=yn(),e=Li(),r=WO();return WS=function(n,i,s){var a,o;e(n);try{if(a=r(n,"return"),!a){if(i==="throw")throw s;return s}a=t(a,n)}catch(l){o=!0,a=l}if(i==="throw")throw s;if(o)throw a;return e(a),s},WS}var VS,Lz;function Um(){if(Lz)return VS;Lz=1;var t=Im(),e=yn(),r=Li(),n=Ju(),i=Mge(),s=Ps(),a=Qt(),o=qge(),l=SQ(),c=mP(),d=TypeError,h=function(p,v){this.stopped=p,this.result=v},f=h.prototype;return VS=function(p,v,y){var x=y&&y.that,g=!!(y&&y.AS_ENTRIES),m=!!(y&&y.IS_RECORD),w=!!(y&&y.IS_ITERATOR),b=!!(y&&y.INTERRUPTED),_=t(v,x),E,N,S,j,C,P,O,I=function(k){return E&&c(E,"normal"),new h(!0,k)},M=function(k){return g?(r(k),b?_(k[0],k[1],I):_(k[0],k[1])):b?_(k,I):_(k)};if(m)E=p.iterator;else if(w)E=p;else{if(N=l(p),!N)throw new d(n(p)+" is not iterable");if(i(N)){for(S=0,j=s(p);j>S;S++)if(C=M(p[S]),C&&a(f,C))return C;return new h(!1)}E=o(p,N)}for(P=m?p.next:E.next;!(O=e(P,E)).done;){try{C=M(O.value)}catch(k){c(E,"throw",k)}if(typeof C=="object"&&C&&a(f,C))return C}return new h(!1)},VS}var HS,Bz;function vP(){if(Bz)return HS;Bz=1;var t=Qt(),e=TypeError;return HS=function(r,n){if(t(n,r))return r;throw new e("Incorrect invocation")},HS}var KS,zz;function gP(){if(zz)return KS;zz=1;var t=Se(),e=_t(),r=zm(),n=ze(),i=tc(),s=Um(),a=vP(),o=hr(),l=fr(),c=Yu(),d=Zo(),h=Qn().f,f=Ra().forEach,p=Lt(),v=el(),y=v.set,x=v.getterFor;return KS=function(g,m,w){var b=g.indexOf("Map")!==-1,_=g.indexOf("Weak")!==-1,E=b?"set":"add",N=e[g],S=N&&N.prototype,j={},C;if(!p||!o(N)||!(_||S.forEach&&!n(function(){new N().entries().next()})))C=w.getConstructor(m,g,b,E),r.enable();else{C=m(function(I,M){y(a(I,P),{type:g,collection:new N}),c(M)||s(M,I[E],{that:I,AS_ENTRIES:b})});var P=C.prototype,O=x(g);f(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(I){var M=I==="add"||I==="set";I in S&&!(_&&I==="clear")&&i(P,I,function(k,K){var H=O(this).collection;if(!M&&_&&!l(k))return I==="get"?void 0:!1;var A=H[I](k===0?0:k,K);return M?this:A})}),_||h(P,"size",{configurable:!0,get:function(){return O(this).collection.size}})}return d(C,g,!1,!0),j[g]=C,t({global:!0,forced:!0},j),_||w.setStrong(C,g,b),C},KS}var GS,Uz;function yP(){if(Uz)return GS;Uz=1;var t=Th();return GS=function(e,r,n){for(var i in r)n&&n.unsafe&&e[i]?e[i]=r[i]:t(e,i,r[i],n);return e},GS}var YS,Wz;function Age(){if(Wz)return YS;Wz=1;var t=Tn(),e=eP(),r=Xt(),n=Lt(),i=r("species");return YS=function(s){var a=t(s);n&&a&&!a[i]&&e(a,i,{configurable:!0,get:function(){return this}})},YS}var QS,Vz;function EQ(){if(Vz)return QS;Vz=1;var t=Ph(),e=eP(),r=yP(),n=Im(),i=vP(),s=Yu(),a=Um(),o=rP(),l=nP(),c=Age(),d=Lt(),h=zm().fastKey,f=el(),p=f.set,v=f.getterFor;return QS={getConstructor:function(y,x,g,m){var w=y(function(S,j){i(S,b),p(S,{type:x,index:t(null),first:null,last:null,size:0}),d||(S.size=0),s(j)||a(j,S[m],{that:S,AS_ENTRIES:g})}),b=w.prototype,_=v(x),E=function(S,j,C){var P=_(S),O=N(S,j),I,M;return O?O.value=C:(P.last=O={index:M=h(j,!0),key:j,value:C,previous:I=P.last,next:null,removed:!1},P.first||(P.first=O),I&&(I.next=O),d?P.size++:S.size++,M!=="F"&&(P.index[M]=O)),S},N=function(S,j){var C=_(S),P=h(j),O;if(P!=="F")return C.index[P];for(O=C.first;O;O=O.next)if(O.key===j)return O};return r(b,{clear:function(){for(var j=this,C=_(j),P=C.first;P;)P.removed=!0,P.previous&&(P.previous=P.previous.next=null),P=P.next;C.first=C.last=null,C.index=t(null),d?C.size=0:j.size=0},delete:function(S){var j=this,C=_(j),P=N(j,S);if(P){var O=P.next,I=P.previous;delete C.index[P.index],P.removed=!0,I&&(I.next=O),O&&(O.previous=I),C.first===P&&(C.first=O),C.last===P&&(C.last=I),d?C.size--:j.size--}return!!P},forEach:function(j){for(var C=_(this),P=n(j,arguments.length>1?arguments[1]:void 0),O;O=O?O.next:C.first;)for(P(O.value,O.key,this);O&&O.removed;)O=O.previous},has:function(j){return!!N(this,j)}}),r(b,g?{get:function(j){var C=N(this,j);return C&&C.value},set:function(j,C){return E(this,j===0?0:j,C)}}:{add:function(j){return E(this,j=j===0?0:j,j)}}),d&&e(b,"size",{configurable:!0,get:function(){return _(this).size}}),w},setStrong:function(y,x,g){var m=x+" Iterator",w=v(x),b=v(m);o(y,x,function(_,E){p(this,{type:m,target:_,state:w(_),kind:E,last:null})},function(){for(var _=b(this),E=_.kind,N=_.last;N&&N.removed;)N=N.previous;return!_.target||!(_.last=N=N?N.next:_.state.first)?(_.target=null,l(void 0,!0)):l(E==="keys"?N.key:E==="values"?N.value:[N.key,N.value],!1)},g?"entries":"values",!g,!0),c(x)}},QS}var Hz;function Fge(){if(Hz)return Iz;Hz=1;var t=gP(),e=EQ();return t("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),Iz}var Kz;function Lge(){return Kz||(Kz=1,Fge()),Tz}var Gz={},XS,Yz;function NQ(){return Yz||(Yz=1,XS=function(t,e){return e===1?function(r,n){return r[t](n)}:function(r,n,i){return r[t](n,i)}}),XS}var JS,Qz;function Bge(){if(Qz)return JS;Qz=1;var t=Tn(),e=NQ(),r=t("Map");return JS={Map:r,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:r.prototype},JS}var Xz;function zge(){if(Xz)return Gz;Xz=1;var t=Se(),e=Ve(),r=Os(),n=Cs(),i=Um(),s=Bge(),a=Zu(),o=ze(),l=s.Map,c=s.has,d=s.get,h=s.set,f=e([].push),p=a||o(function(){return l.groupBy("ab",function(v){return v}).get("a").length!==1});return t({target:"Map",stat:!0,forced:a||p},{groupBy:function(y,x){n(y),r(x);var g=new l,m=0;return i(y,function(w){var b=x(w,m++);c(g,b)?f(d(g,b),w):h(g,b,[w])}),g}}),Gz}var Jz={},ZS,Zz;function Uge(){if(Zz)return ZS;Zz=1;var t=Ve(),e=rc(),r=Xn(),n=Cs(),i=t("".charAt),s=t("".charCodeAt),a=t("".slice),o=function(l){return function(c,d){var h=r(n(c)),f=e(d),p=h.length,v,y;return f<0||f>=p?l?"":void 0:(v=s(h,f),v<55296||v>56319||f+1===p||(y=s(h,f+1))<56320||y>57343?l?i(h,f):v:l?a(h,f,f+2):(v-55296<<10)+(y-56320)+65536)}};return ZS={codeAt:o(!1),charAt:o(!0)},ZS}var e8;function bP(){if(e8)return Jz;e8=1;var t=Uge().charAt,e=Xn(),r=el(),n=rP(),i=nP(),s="String Iterator",a=r.set,o=r.getterFor(s);return n(String,"String",function(l){a(this,{type:s,string:e(l),index:0})},function(){var c=o(this),d=c.string,h=c.index,f;return h>=d.length?i(void 0,!0):(f=t(d,h),c.index+=f.length,i(f,!1))}),Jz}var eE,t8;function Wge(){if(t8)return eE;t8=1,ac(),Lge(),zge(),bP();var t=it();return eE=t.Map,eE}var tE,r8;function Vge(){if(r8)return tE;r8=1;var t=Wge();return oc(),tE=t,tE}var rE,n8;function Hge(){return n8||(n8=1,rE=Vge()),rE}var Kge=Hge(),xP=Pe(Kge);class Gge{constructor(){this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},Ht(this.options,this.defaultOptions)}setOptions(e){const r=["useDefaultGroups"];if(e!==void 0){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&et(r).call(r,n)===-1){const i=e[n];this.add(n,i)}}}clear(){this._groups=new xP,this._groupNames=[]}get(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this._groups.get(e);if(n===void 0&&r)if(this.options.useDefaultGroups===!1&&this._groupNames.length>0){const i=this._groupIndex%this._groupNames.length;++this._groupIndex,n={},n.color=this._groups.get(this._groupNames[i]),this._groups.set(e,n)}else{const i=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,n={},n.color=this._defaultGroups[i],this._groups.set(e,n)}return n}add(e,r){return this._groups.has(e)||this._groupNames.push(e),this._groups.set(e,r),r}}var i8={},s8;function Yge(){if(s8)return i8;s8=1;var t=Se();return t({target:"Number",stat:!0},{isNaN:function(r){return r!==r}}),i8}var nE,a8;function Qge(){if(a8)return nE;a8=1,Yge();var t=it();return nE=t.Number.isNaN,nE}var iE,o8;function Xge(){if(o8)return iE;o8=1;var t=Qge();return iE=t,iE}var sE,l8;function Jge(){return l8||(l8=1,sE=Xge()),sE}var Zge=Jge(),Kj=Pe(Zge),u8={},aE,c8;function eye(){if(c8)return aE;c8=1;var t=_t(),e=t.isFinite;return aE=Number.isFinite||function(n){return typeof n=="number"&&e(n)},aE}var d8;function tye(){if(d8)return u8;d8=1;var t=Se(),e=eye();return t({target:"Number",stat:!0},{isFinite:e}),u8}var oE,h8;function rye(){if(h8)return oE;h8=1,tye();var t=it();return oE=t.Number.isFinite,oE}var lE,f8;function nye(){if(f8)return lE;f8=1;var t=rye();return lE=t,lE}var uE,p8;function iye(){return p8||(p8=1,uE=nye()),uE}var sye=iye(),Za=Pe(sye),m8={},v8;function aye(){if(v8)return m8;v8=1;var t=Se(),e=Ra().some,r=lc(),n=r("some");return t({target:"Array",proto:!0,forced:!n},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),m8}var cE,g8;function oye(){if(g8)return cE;g8=1,aye();var t=_r();return cE=t("Array","some"),cE}var dE,y8;function lye(){if(y8)return dE;y8=1;var t=Qt(),e=oye(),r=Array.prototype;return dE=function(n){var i=n.some;return n===r||t(r,n)&&i===r.some?e:i},dE}var hE,b8;function uye(){if(b8)return hE;b8=1;var t=lye();return hE=t,hE}var fE,x8;function cye(){return x8||(x8=1,fE=uye()),fE}var dye=cye(),hye=Pe(dye),pE={exports:{}},w8={},_8;function fye(){if(_8)return w8;_8=1;var t=Se(),e=Lt(),r=Qn().f;return t({target:"Object",stat:!0,forced:Object.defineProperty!==r,sham:!e},{defineProperty:r}),w8}var S8;function pye(){if(S8)return pE.exports;S8=1,fye();var t=it(),e=t.Object,r=pE.exports=function(i,s,a){return e.defineProperty(i,s,a)};return e.defineProperty.sham&&(r.sham=!0),pE.exports}var mE,E8;function jQ(){if(E8)return mE;E8=1;var t=pye();return mE=t,mE}var vE,N8;function mye(){if(N8)return vE;N8=1;var t=jQ();return vE=t,vE}var gE,j8;function vye(){if(j8)return gE;j8=1;var t=mye();return gE=t,gE}var yE,C8;function gye(){return C8||(C8=1,yE=vye()),yE}var yye=gye(),bye=Pe(yye),O8={},P8;function xye(){if(P8)return O8;P8=1;var t=Xt(),e=Qn().f,r=t("metadata"),n=Function.prototype;return n[r]===void 0&&e(n,r,{value:null}),O8}var T8={},I8;function wye(){return I8||(I8=1,OY()),T8}var R8={},$8;function _ye(){return $8||($8=1,PY()),R8}var k8={},D8;function Sye(){if(D8)return k8;D8=1;var t=Ot();return t("metadata"),k8}var bE,M8;function Eye(){if(M8)return bE;M8=1;var t=kY();return xye(),wye(),_ye(),Sye(),bE=t,bE}var q8={},xE,A8;function CQ(){if(A8)return xE;A8=1;var t=Tn(),e=Ve(),r=t("Symbol"),n=r.keyFor,i=e(r.prototype.valueOf);return xE=r.isRegisteredSymbol||function(a){try{return n(i(a))!==void 0}catch{return!1}},xE}var F8;function Nye(){if(F8)return q8;F8=1;var t=Se(),e=CQ();return t({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),q8}var L8={},wE,B8;function OQ(){if(B8)return wE;B8=1;for(var t=ec(),e=Tn(),r=Ve(),n=Nh(),i=Xt(),s=e("Symbol"),a=s.isWellKnownSymbol,o=e("Object","getOwnPropertyNames"),l=r(s.prototype.valueOf),c=t("wks"),d=0,h=o(s),f=h.length;d<f;d++)try{var p=h[d];n(s[p])&&i(p)}catch{}return wE=function(y){if(a&&a(y))return!0;try{for(var x=l(y),g=0,m=o(c),w=m.length;g<w;g++)if(c[m[g]]==x)return!0}catch{}return!1},wE}var z8;function jye(){if(z8)return L8;z8=1;var t=Se(),e=OQ();return t({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),L8}var U8={},W8;function Cye(){if(W8)return U8;W8=1;var t=Ot();return t("customMatcher"),U8}var V8={},H8;function Oye(){if(H8)return V8;H8=1;var t=Ot();return t("observable"),V8}var K8={},G8;function Pye(){if(G8)return K8;G8=1;var t=Se(),e=CQ();return t({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),K8}var Y8={},Q8;function Tye(){if(Q8)return Y8;Q8=1;var t=Se(),e=OQ();return t({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),Y8}var X8={},J8;function Iye(){if(J8)return X8;J8=1;var t=Ot();return t("matcher"),X8}var Z8={},e7;function Rye(){if(e7)return Z8;e7=1;var t=Ot();return t("metadataKey"),Z8}var t7={},r7;function $ye(){if(r7)return t7;r7=1;var t=Ot();return t("patternMatch"),t7}var n7={},i7;function kye(){if(i7)return n7;i7=1;var t=Ot();return t("replaceAll"),n7}var _E,s7;function Dye(){if(s7)return _E;s7=1;var t=Eye();return Nye(),jye(),Cye(),Oye(),Pye(),Tye(),Iye(),Rye(),$ye(),kye(),_E=t,_E}var SE,a7;function Mye(){return a7||(a7=1,SE=Dye()),SE}var qye=Mye(),bf=Pe(qye),EE,o7;function Aye(){if(o7)return EE;o7=1,ac(),bP(),TY();var t=qm();return EE=t.f("iterator"),EE}var NE,l7;function Fye(){if(l7)return NE;l7=1;var t=Aye();return oc(),NE=t,NE}var jE,u7;function Lye(){if(u7)return jE;u7=1;var t=Fye();return jE=t,jE}var CE,c7;function Bye(){if(c7)return CE;c7=1;var t=Lye();return CE=t,CE}var OE,d7;function zye(){return d7||(d7=1,OE=Bye()),OE}var Uye=zye(),Wye=Pe(Uye);function Md(t){"@babel/helpers - typeof";return Md=typeof bf=="function"&&typeof Wye=="symbol"?function(e){return typeof e}:function(e){return e&&typeof bf=="function"&&e.constructor===bf&&e!==bf.prototype?"symbol":typeof e},Md(t)}var PE,h7;function Vye(){if(h7)return PE;h7=1,IY();var t=qm();return PE=t.f("toPrimitive"),PE}var TE,f7;function Hye(){if(f7)return TE;f7=1;var t=Vye();return TE=t,TE}var IE,p7;function Kye(){if(p7)return IE;p7=1;var t=Hye();return IE=t,IE}var RE,m7;function Gye(){if(m7)return RE;m7=1;var t=Kye();return RE=t,RE}var $E,v7;function Yye(){return v7||(v7=1,$E=Gye()),$E}var Qye=Yye(),Xye=Pe(Qye);function Jye(t,e){if(Md(t)!="object"||!t)return t;var r=t[Xye];if(r!==void 0){var n=r.call(t,e);if(Md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zye(t){var e=Jye(t,"string");return Md(e)=="symbol"?e:e+""}function ts(t,e,r){return(e=Zye(e))in t?bye(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var g7={},kE,y7;function e0e(){if(y7)return kE;y7=1;var t=_t(),e=ze(),r=Ve(),n=Xn(),i=MY().trim,s=iP(),a=r("".charAt),o=t.parseFloat,l=t.Symbol,c=l&&l.iterator,d=1/o(s+"-0")!==-1/0||c&&!e(function(){o(Object(c))});return kE=d?function(f){var p=i(n(f)),v=o(p);return v===0&&a(p,0)==="-"?-0:v}:o,kE}var b7;function t0e(){if(b7)return g7;b7=1;var t=Se(),e=e0e();return t({global:!0,forced:parseFloat!==e},{parseFloat:e}),g7}var DE,x7;function r0e(){if(x7)return DE;x7=1,t0e();var t=it();return DE=t.parseFloat,DE}var ME,w7;function n0e(){if(w7)return ME;w7=1;var t=r0e();return ME=t,ME}var qE,_7;function i0e(){return _7||(_7=1,qE=n0e()),qE}var s0e=i0e(),PQ=Pe(s0e),S7={},E7;function a0e(){if(E7)return S7;E7=1;var t=Se(),e=ze(),r=ZO().f,n=e(function(){return!Object.getOwnPropertyNames(1)});return t({target:"Object",stat:!0,forced:n},{getOwnPropertyNames:r}),S7}var AE,N7;function o0e(){if(N7)return AE;N7=1,a0e();var t=it(),e=t.Object;return AE=function(n){return e.getOwnPropertyNames(n)},AE}var FE,j7;function l0e(){if(j7)return FE;j7=1;var t=o0e();return FE=t,FE}var LE,C7;function u0e(){return C7||(C7=1,LE=l0e()),LE}var c0e=u0e(),d0e=Pe(c0e),BE,O7;function h0e(){if(O7)return BE;O7=1,CY();var t=it();return BE=t.Object.getOwnPropertySymbols,BE}var zE,P7;function f0e(){if(P7)return zE;P7=1;var t=h0e();return zE=t,zE}var UE,T7;function p0e(){return T7||(T7=1,UE=f0e()),UE}var m0e=p0e(),_a=Pe(m0e),WE={exports:{}},I7={},R7;function v0e(){if(R7)return I7;R7=1;var t=Se(),e=ze(),r=bi(),n=Tm().f,i=Lt(),s=!i||e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(o,l){return n(r(o),l)}}),I7}var $7;function g0e(){if($7)return WE.exports;$7=1,v0e();var t=it(),e=t.Object,r=WE.exports=function(i,s){return e.getOwnPropertyDescriptor(i,s)};return e.getOwnPropertyDescriptor.sham&&(r.sham=!0),WE.exports}var VE,k7;function y0e(){if(k7)return VE;k7=1;var t=g0e();return VE=t,VE}var HE,D7;function b0e(){return D7||(D7=1,HE=y0e()),HE}var x0e=b0e(),$a=Pe(x0e),M7={},q7;function w0e(){if(q7)return M7;q7=1;var t=Se(),e=Lt(),r=Hfe(),n=bi(),i=Tm(),s=km();return t({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(o){for(var l=n(o),c=i.f,d=r(l),h={},f=0,p,v;d.length>f;)v=c(l,p=d[f++]),v!==void 0&&s(h,p,v);return h}}),M7}var KE,A7;function _0e(){if(A7)return KE;A7=1,w0e();var t=it();return KE=t.Object.getOwnPropertyDescriptors,KE}var GE,F7;function S0e(){if(F7)return GE;F7=1;var t=_0e();return GE=t,GE}var YE,L7;function E0e(){return L7||(L7=1,YE=S0e()),YE}var N0e=E0e(),Sa=Pe(N0e),QE={exports:{}},B7={},z7;function j0e(){if(z7)return B7;z7=1;var t=Se(),e=Lt(),r=JO().f;return t({target:"Object",stat:!0,forced:Object.defineProperties!==r,sham:!e},{defineProperties:r}),B7}var U7;function C0e(){if(U7)return QE.exports;U7=1,j0e();var t=it(),e=t.Object,r=QE.exports=function(i,s){return e.defineProperties(i,s)};return e.defineProperties.sham&&(r.sham=!0),QE.exports}var XE,W7;function O0e(){if(W7)return XE;W7=1;var t=C0e();return XE=t,XE}var JE,V7;function P0e(){return V7||(V7=1,JE=O0e()),JE}var T0e=P0e(),Wm=Pe(T0e),ZE,H7;function I0e(){return H7||(H7=1,ZE=jQ()),ZE}var R0e=I0e(),Vm=Pe(R0e);function wP(t,e){const r=["node","edge","label"];let n=!0;const i=qs(e,"chosen");if(typeof i=="boolean")n=i;else if(typeof i=="object"){if(et(r).call(r,t)===-1)throw new Error("choosify: subOption '"+t+"' should be one of '"+r.join("', '")+"'");const s=qs(e,["chosen",t]);(typeof s=="boolean"||typeof s=="function")&&(n=s)}return n}function Gj(t,e,r){if(t.width<=0||t.height<=0)return!1;if(r!==void 0){const s={x:e.x-r.x,y:e.y-r.y};if(r.angle!==0){const a=-r.angle;e={x:Math.cos(a)*s.x-Math.sin(a)*s.y,y:Math.sin(a)*s.x+Math.cos(a)*s.y}}else e=s}const n=t.x+t.width,i=t.y+t.width;return t.left<e.x&&n>e.x&&t.top<e.y&&i>e.y}function qp(t){return typeof t=="string"&&t!==""}function TQ(t,e,r,n){let i=n.x,s=n.y;if(typeof n.distanceToBorder=="function"){const a=n.distanceToBorder(t,e),o=Math.sin(e)*a,l=Math.cos(e)*a;l===a?(i+=a,s=n.y):o===a?(i=n.x,s-=a):(i+=l,s-=o)}else n.shape.width>n.shape.height?(i=n.x+n.shape.width*.5,s=n.y-r):(i=n.x+r,s=n.y-n.shape.height*.5);return{x:i,y:s}}var e2,K7;function $0e(){if(K7)return e2;K7=1,ac();var t=_r();return e2=t("Array","values"),e2}var t2,G7;function k0e(){if(G7)return t2;G7=1;var t=$0e();return t2=t,t2}var r2,Y7;function D0e(){if(Y7)return r2;Y7=1,oc();var t=ic(),e=wr(),r=Qt(),n=k0e(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return r2=function(a){var o=a.values;return a===i||r(i,a)&&o===i.values||e(s,t(a))?n:o},r2}var n2,Q7;function M0e(){return Q7||(Q7=1,n2=D0e()),n2}var q0e=M0e(),IQ=Pe(q0e);class A0e{constructor(e){this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}_add(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal";this.lines[e]===void 0&&(this.lines[e]={width:0,height:0,blocks:[]});let i=r;(r===void 0||r==="")&&(i=" ");const s=this.measureText(i,n),a=Ht({},IQ(s));a.text=r,a.width=s.width,a.mod=n,(r===void 0||r==="")&&(a.width=0),this.lines[e].blocks.push(a),this.lines[e].width+=a.width}curWidth(){const e=this.lines[this.current];return e===void 0?0:e.width}append(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,r)}newLine(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,r),this.current++}determineLineHeights(){for(let e=0;e<this.lines.length;e++){const r=this.lines[e];let n=0;if(r.blocks!==void 0)for(let i=0;i<r.blocks.length;i++){const s=r.blocks[i];n<s.height&&(n=s.height)}r.height=n}}determineLabelSize(){let e=0,r=0;for(let n=0;n<this.lines.length;n++){const i=this.lines[n];i.width>e&&(e=i.width),r+=i.height}this.width=e,this.height=r}removeEmptyBlocks(){const e=[];for(let r=0;r<this.lines.length;r++){const n=this.lines[r];if(n.blocks.length===0||r===this.lines.length-1&&n.width===0)continue;const i={};Ht(i,n),i.blocks=[];let s;const a=[];for(let o=0;o<n.blocks.length;o++){const l=n.blocks[o];l.width!==0?a.push(l):s===void 0&&(s=l)}a.length===0&&s!==void 0&&a.push(s),i.blocks=a,e.push(i)}return e}finalize(){this.determineLineHeights(),this.determineLabelSize();const e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}const F0e={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/};class X7{constructor(e){this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}mod(){return this.modStack.length===0?"normal":this.modStack[0]}modName(){if(this.modStack.length===0)return"normal";if(this.modStack[0]==="mono")return"mono";if(this.bold&&this.ital)return"boldital";if(this.bold)return"bold";if(this.ital)return"ital"}emitBlock(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}add(e){e===" "&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1),e!=" "&&(this.buffer+=e)}parseWS(e){return/[ \t]/.test(e)?(this.mono?this.add(e):this.spacing=!0,!0):!1}setTag(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}unsetTag(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}parseStartTag(e,r){return!this.mono&&!this[e]&&this.match(r)?(this.setTag(e),!0):!1}match(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const[n,i]=this.prepareRegExp(e),s=n.test(this.text.substr(this.position,i));return s&&r&&(this.position+=i-1),s}parseEndTag(e,r,n){let i=this.mod()===e;return e==="mono"?i=i&&this.mono:i=i&&!this.mono,i&&this.match(r)?(n!==void 0?(this.position===this.text.length-1||this.match(n,!1))&&this.unsetTag(e):this.unsetTag(e),!0):!1}replace(e,r){return this.match(e)?(this.add(r),this.position+=length-1,!0):!1}prepareRegExp(e){let r,n;if(e instanceof RegExp)n=e,r=1;else{const i=F0e[e];i!==void 0?n=i:n=new RegExp(e),r=e.length}return[n,r]}}class L0e{constructor(e,r,n,i){this.ctx=e,this.parent=r,this.selected=n,this.hover=i;const s=(a,o)=>{if(a===void 0)return 0;const l=this.parent.getFormattingValues(e,n,i,o);let c=0;return a!==""&&(c=this.ctx.measureText(a).width),{width:c,values:l}};this.lines=new A0e(s)}process(e){if(!qp(e))return this.lines.finalize();const r=this.parent.fontOptions;e=e.replace(/\r\n/g,`
`),e=e.replace(/\r/g,`
`);const n=String(e).split(`
`),i=n.length;if(r.multi)for(let s=0;s<i;s++){const a=this.splitBlocks(n[s],r.multi);if(a!==void 0){if(a.length===0){this.lines.newLine("");continue}if(r.maxWdt>0)for(let o=0;o<a.length;o++){const l=a[o].mod,c=a[o].text;this.splitStringIntoLines(c,l,!0)}else for(let o=0;o<a.length;o++){const l=a[o].mod,c=a[o].text;this.lines.append(c,l)}this.lines.newLine()}}else if(r.maxWdt>0)for(let s=0;s<i;s++)this.splitStringIntoLines(n[s]);else for(let s=0;s<i;s++)this.lines.newLine(n[s]);return this.lines.finalize()}decodeMarkupSystem(e){let r="none";return e==="markdown"||e==="md"?r="markdown":(e===!0||e==="html")&&(r="html"),r}splitHtmlBlocks(e){const r=new X7(e),n=i=>/&/.test(i)?(r.replace(r.text,"&lt;","<")||r.replace(r.text,"&amp;","&")||r.add("&"),!0):!1;for(;r.position<r.text.length;){const i=r.text.charAt(r.position);r.parseWS(i)||/</.test(i)&&(r.parseStartTag("bold","<b>")||r.parseStartTag("ital","<i>")||r.parseStartTag("mono","<code>")||r.parseEndTag("bold","</b>")||r.parseEndTag("ital","</i>")||r.parseEndTag("mono","</code>"))||n(i)||r.add(i),r.position++}return r.emitBlock(),r.blocks}splitMarkdownBlocks(e){const r=new X7(e);let n=!0;const i=s=>/\\/.test(s)?(r.position<this.text.length+1&&(r.position++,s=this.text.charAt(r.position),/ \t/.test(s)?r.spacing=!0:(r.add(s),n=!1)),!0):!1;for(;r.position<r.text.length;){const s=r.text.charAt(r.position);r.parseWS(s)||i(s)||(n||r.spacing)&&(r.parseStartTag("bold","*")||r.parseStartTag("ital","_")||r.parseStartTag("mono","`"))||r.parseEndTag("bold","*","afterBold")||r.parseEndTag("ital","_","afterItal")||r.parseEndTag("mono","`","afterMono")||(r.add(s),n=!1),r.position++}return r.emitBlock(),r.blocks}splitBlocks(e,r){const n=this.decodeMarkupSystem(r);if(n==="none")return[{text:e,mod:"normal"}];if(n==="markdown")return this.splitMarkdownBlocks(e);if(n==="html")return this.splitHtmlBlocks(e)}overMaxWidth(e){const r=this.ctx.measureText(e).width;return this.lines.curWidth()+r>this.parent.fontOptions.maxWdt}getLongestFit(e){let r="",n=0;for(;n<e.length;){const s=r+(r===""?"":" ")+e[n];if(this.overMaxWidth(s))break;r=s,n++}return n}getLongestFitWord(e){let r=0;for(;r<e.length&&!this.overMaxWidth(Pi(e).call(e,0,r));)r++;return r}splitStringIntoLines(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.parent.getFormattingValues(this.ctx,this.selected,this.hover,r),e=e.replace(/^( +)/g,"$1\r"),e=e.replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r");let i=e.split("\r");for(;i.length>0;){let s=this.getLongestFit(i);if(s===0){const a=i[0],o=this.getLongestFitWord(a);this.lines.newLine(Pi(a).call(a,0,o),r),i[0]=Pi(a).call(a,o)}else{let a=s;i[s-1]===" "?s--:i[a]===" "&&a++;const o=Pi(i).call(i,0,s).join("");s==i.length&&n?this.lines.append(o,r):this.lines.newLine(o,r),i=Pi(i).call(i,a)}}}}const Ic=["bold","ital","boldital","mono"];class Ul{constructor(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(r),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=n}setOptions(e){if(this.elementOptions=e,this.initFontOptions(e.font),qp(e.label)?this.labelDirty=!0:e.label=void 0,e.font!==void 0&&e.font!==null){if(typeof e.font=="string")this.baseSize=this.fontOptions.size;else if(typeof e.font=="object"){const r=e.font.size;r!==void 0&&(this.baseSize=r)}}}initFontOptions(e){if(qe(Ic,r=>{this.fontOptions[r]={}}),Ul.parseFontString(this.fontOptions,e)){this.fontOptions.vadjust=0;return}qe(e,(r,n)=>{r!=null&&typeof r!="object"&&(this.fontOptions[n]=r)})}static parseFontString(e,r){if(!r||typeof r!="string")return!1;const n=r.split(" ");return e.size=+n[0].replace("px",""),e.face=n[1],e.color=n[2],!0}constrain(e){const r={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},n=qs(e,"widthConstraint");if(typeof n=="number")r.maxWdt=Number(n),r.minWdt=Number(n);else if(typeof n=="object"){const s=qs(e,["widthConstraint","maximum"]);typeof s=="number"&&(r.maxWdt=Number(s));const a=qs(e,["widthConstraint","minimum"]);typeof a=="number"&&(r.minWdt=Number(a))}const i=qs(e,"heightConstraint");if(typeof i=="number")r.minHgt=Number(i);else if(typeof i=="object"){const s=qs(e,["heightConstraint","minimum"]);typeof s=="number"&&(r.minHgt=Number(s));const a=qs(e,["heightConstraint","valign"]);typeof a=="string"&&(a==="top"||a==="bottom")&&(r.valign=a)}return r}update(e,r){this.setOptions(e,!0),this.propagateFonts(r),ft(this.fontOptions,this.constrain(r)),this.fontOptions.chooser=wP("label",r)}adjustSizes(e){const r=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=r,this.fontOptions.minWdt-=r);const n=e?e.top+e.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=n)}addFontOptionsToPile(e,r){for(let n=0;n<r.length;++n)this.addFontToPile(e,r[n])}addFontToPile(e,r){if(r===void 0||r.font===void 0||r.font===null)return;const n=r.font;e.push(n)}getBasicOptions(e){const r={};for(let n=0;n<e.length;++n){let i=e[n];const s={};Ul.parseFontString(s,i)&&(i=s),qe(i,(a,o)=>{a!==void 0&&(Object.prototype.hasOwnProperty.call(r,o)||(et(Ic).call(Ic,o)!==-1?r[o]={}:r[o]=a))})}return r}getFontOption(e,r,n){let i;for(let s=0;s<e.length;++s){const a=e[s];if(Object.prototype.hasOwnProperty.call(a,r)){if(i=a[r],i==null)continue;const o={};if(Ul.parseFontString(o,i)&&(i=o),Object.prototype.hasOwnProperty.call(i,n))return i[n]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,n))return this.fontOptions[n];throw new Error("Did not find value for multi-font for property: '"+n+"'")}getFontOptions(e,r){const n={},i=["color","size","face","mod","vadjust"];for(let s=0;s<i.length;++s){const a=i[s];n[a]=this.getFontOption(e,r,a)}return n}propagateFonts(e){const r=[];this.addFontOptionsToPile(r,e),this.fontOptions=this.getBasicOptions(r);for(let n=0;n<Ic.length;++n){const i=Ic[n],s=this.fontOptions[i],a=this.getFontOptions(r,i);qe(a,(o,l)=>{s[l]=o}),s.size=Number(s.size),s.vadjust=Number(s.vadjust)}}draw(e,r,n,i,s){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";if(this.elementOptions.label===void 0)return;let o=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&o<this.elementOptions.scaling.label.drawThreshold-1||(o>=this.elementOptions.scaling.label.maxVisible&&(o=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,i,s,r,n,a),this._drawBackground(e),this._drawText(e,r,this.size.yLine,a,o))}_drawBackground(e){if(this.fontOptions.background!==void 0&&this.fontOptions.background!=="none"){e.fillStyle=this.fontOptions.background;const r=this.getSize();e.fillRect(r.left,r.top,r.width,r.height)}}_drawText(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle",s=arguments.length>4?arguments[4]:void 0;[r,n]=this._setAlignment(e,r,n,i),e.textAlign="left",r=r-this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&(this.fontOptions.valign==="top"&&(n-=(this.size.height-this.size.labelHeight)/2),this.fontOptions.valign==="bottom"&&(n+=(this.size.height-this.size.labelHeight)/2));for(let a=0;a<this.lineCount;a++){const o=this.lines[a];if(o&&o.blocks){let l=0;this.isEdgeLabel||this.fontOptions.align==="center"?l+=(this.size.width-o.width)/2:this.fontOptions.align==="right"&&(l+=this.size.width-o.width);for(let c=0;c<o.blocks.length;c++){const d=o.blocks[c];e.font=d.font;const[h,f]=this._getColor(d.color,s,d.strokeColor);d.strokeWidth>0&&(e.lineWidth=d.strokeWidth,e.strokeStyle=f,e.lineJoin="round"),e.fillStyle=h,d.strokeWidth>0&&e.strokeText(d.text,r+l,n+d.vadjust),e.fillText(d.text,r+l,n+d.vadjust),l+=d.width}n+=o.height}}}_setAlignment(e,r,n,i){if(this.isEdgeLabel&&this.fontOptions.align!=="horizontal"&&this.pointToSelf===!1){r=0,n=0;const s=2;this.fontOptions.align==="top"?(e.textBaseline="alphabetic",n-=2*s):this.fontOptions.align==="bottom"?(e.textBaseline="hanging",n+=2*s):e.textBaseline="middle"}else e.textBaseline=i;return[r,n]}_getColor(e,r,n){let i=e||"#000000",s=n||"#ffffff";if(r<=this.elementOptions.scaling.label.drawThreshold){const a=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-r)));i=Bn(i,a),s=Bn(s,a)}return[i,s]}getTextSize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this._processLabel(e,r,n),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}getSize(){let r=this.size.left,n=this.size.top-.5*2;if(this.isEdgeLabel){const s=-this.size.width*.5;switch(this.fontOptions.align){case"middle":r=s,n=-this.size.height*.5;break;case"top":r=s,n=-(this.size.height+2);break;case"bottom":r=s,n=2;break}}return{left:r,top:n,width:this.size.width,height:this.size.height}}calculateLabelSize(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";this._processLabel(e,r,n),this.size.left=i-this.size.width*.5,this.size.top=s-this.size.height*.5,this.size.yLine=s+(1-this.lineCount)*.5*this.fontOptions.size,a==="hanging"&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}getFormattingValues(e,r,n,i){const s=function(l,c,d){return c==="normal"?d==="mod"?"":l[d]:l[c][d]!==void 0?l[c][d]:l[d]},a={color:s(this.fontOptions,i,"color"),size:s(this.fontOptions,i,"size"),face:s(this.fontOptions,i,"face"),mod:s(this.fontOptions,i,"mod"),vadjust:s(this.fontOptions,i,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(r||n)&&(i==="normal"&&this.fontOptions.chooser===!0&&this.elementOptions.labelHighlightBold?a.mod="bold":typeof this.fontOptions.chooser=="function"&&this.fontOptions.chooser(a,this.elementOptions.id,r,n));let o="";return a.mod!==void 0&&a.mod!==""&&(o+=a.mod+" "),o+=a.size+"px "+a.face,e.font=o.replace(/"/g,""),a.font=e.font,a.height=a.size,a}differentState(e,r){return e!==this.selectedState||r!==this.hoverState}_processLabelText(e,r,n,i){return new L0e(e,this,r,n).process(i)}_processLabel(e,r,n){if(this.labelDirty===!1&&!this.differentState(r,n))return;const i=this._processLabelText(e,r,n,this.elementOptions.label);this.fontOptions.minWdt>0&&i.width<this.fontOptions.minWdt&&(i.width=this.fontOptions.minWdt),this.size.labelHeight=i.height,this.fontOptions.minHgt>0&&i.height<this.fontOptions.minHgt&&(i.height=this.fontOptions.minHgt),this.lines=i.lines,this.lineCount=i.lines.length,this.size.width=i.width,this.size.height=i.height,this.selectedState=r,this.hoverState=n,this.labelDirty=!1}visible(){return!(this.size.width===0||this.size.height===0||this.elementOptions.label===void 0||this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}class rl{constructor(e,r,n){this.body=r,this.labelModule=n,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}setOptions(e){this.options=e}_setMargins(e){this.margin={},this.options.margin&&(typeof this.options.margin=="object"?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}_distanceToBorder(e,r){const n=this.options.borderWidth;return e&&this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(r)),Math.abs(this.height/2/Math.sin(r)))+n}enableShadow(e,r){r.shadow&&(e.shadowColor=r.shadowColor,e.shadowBlur=r.shadowSize,e.shadowOffsetX=r.shadowX,e.shadowOffsetY=r.shadowY)}disableShadow(e,r){r.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}enableBorderDashes(e,r){if(r.borderDashes!==!1)if(e.setLineDash!==void 0){let n=r.borderDashes;n===!0&&(n=[5,15]),e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,r.borderDashes=!1}disableBorderDashes(e,r){r.borderDashes!==!1&&(e.setLineDash!==void 0?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,r.borderDashes=!1))}needsRefresh(e,r){return this.refreshNeeded===!0?(this.refreshNeeded=!1,!0):this.width===void 0||this.labelModule.differentState(e,r)}initContextForDraw(e,r){const n=r.borderWidth/this.body.view.scale;e.lineWidth=Math.min(this.width,n),e.strokeStyle=r.borderColor,e.fillStyle=r.color}performStroke(e,r){const n=r.borderWidth/this.body.view.scale;e.save(),n>0&&(this.enableBorderDashes(e,r),e.stroke(),this.disableBorderDashes(e,r)),e.restore()}performFill(e,r){e.save(),e.fillStyle=r.color,this.enableShadow(e,r),Rh(e).call(e),this.disableShadow(e,r),e.restore(),this.performStroke(e,r)}_addBoundingBoxMargin(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}_updateBoundingBox(e,r,n,i,s){n!==void 0&&this.resize(n,i,s),this.left=e-this.width/2,this.top=r-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}updateBoundingBox(e,r,n,i,s){this._updateBoundingBox(e,r,n,i,s)}getDimensionsFromLabel(e,r,n){this.textSize=this.labelModule.getTextSize(e,r,n);let i=this.textSize.width,s=this.textSize.height;const a=14;return i===0&&(i=a,s=a),{width:i,height:s}}}let B0e=class extends rl{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n);this.width=i.width+this.margin.right+this.margin.left,this.height=i.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.initContextForDraw(e,a),vY(e,this.left,this.top,this.width,this.height,a.borderRadius),this.performFill(e,a),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s)}updateBoundingBox(e,r,n,i,s){this._updateBoundingBox(e,r,n,i,s);const a=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(a)}distanceToBorder(e,r){e&&this.resize(e);const n=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(r)),Math.abs(this.height/2/Math.sin(r)))+n}};class _P extends rl{constructor(e,r,n){super(e,r,n),this.labelOffset=0,this.selected=!1}setOptions(e,r,n){this.options=e,r===void 0&&n===void 0||this.setImages(r,n)}setImages(e,r){r&&this.selected?(this.imageObj=r,this.imageObjAlt=e):(this.imageObj=e,this.imageObjAlt=r)}switchImages(e){const r=e&&!this.selected||!e&&this.selected;if(this.selected=e,this.imageObjAlt!==void 0&&r){const n=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=n}}_getImagePadding(){const e={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){const r=this.options.imagePadding;typeof r=="object"?(e.top=r.top,e.right=r.right,e.bottom=r.bottom,e.left=r.left):(e.top=r,e.right=r,e.bottom=r,e.left=r)}return e}_resizeImage(){let e,r;if(this.options.shapeProperties.useImageSize===!1){let n=1,i=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?n=this.imageObj.width/this.imageObj.height:i=this.imageObj.height/this.imageObj.width),e=this.options.size*2*n,r=this.options.size*2*i}else{const n=this._getImagePadding();e=this.imageObj.width+n.left+n.right,r=this.imageObj.height+n.top+n.bottom}this.width=e,this.height=r,this.radius=.5*this.width}_drawRawCircle(e,r,n,i){this.initContextForDraw(e,i),YO(e,r,n,i.size),this.performFill(e,i)}_drawImageAtPosition(e,r){if(this.imageObj.width!=0){e.globalAlpha=r.opacity!==void 0?r.opacity:1,this.enableShadow(e,r);let n=1;this.options.shapeProperties.interpolation===!0&&(n=this.imageObj.width/this.width/this.body.view.scale);const i=this._getImagePadding(),s=this.left+i.left,a=this.top+i.top,o=this.width-i.left-i.right,l=this.height-i.top-i.bottom;this.imageObj.drawImageAtPosition(e,n,s,a,o,l),this.disableShadow(e,r)}}_drawImageLabel(e,r,n,i,s){let a=0;if(this.height!==void 0){a=this.height*.5;const l=this.labelModule.getTextSize(e,i,s);l.lineCount>=1&&(a+=l.height/2)}const o=n+a;this.options.label&&(this.labelOffset=a),this.labelModule.draw(e,r,o,i,s,"hanging")}}let z0e=class extends _P{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n),s=Math.max(i.width+this.margin.right+this.margin.left,i.height+this.margin.top+this.margin.bottom);this.options.size=s/2,this.width=s,this.height=s,this.radius=this.width/2}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this._drawRawCircle(e,r,n,a),this.updateBoundingBox(r,n),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,n,i,s)}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size}distanceToBorder(e){return e&&this.resize(e),this.width*.5}};class U0e extends _P{constructor(e,r,n,i,s){super(e,r,n),this.setImages(i,s)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s,this.radius=.5*this.width;return}this.needsRefresh(r,n)&&this._resizeImage()}draw(e,r,n,i,s,a){this.switchImages(i),this.resize();let o=r,l=n;this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=r,this.top=n,o+=this.width/2,l+=this.height/2):(this.left=r-this.width/2,this.top=n-this.height/2),this._drawRawCircle(e,o,l,a),e.save(),e.clip(),this._drawImageAtPosition(e,a),e.restore(),this._drawImageLabel(e,o,l,i,s),this.updateBoundingBox(r,n)}updateBoundingBox(e,r){this.options.shapeProperties.coordinateOrigin==="top-left"?(this.boundingBox.top=r,this.boundingBox.left=e,this.boundingBox.right=e+this.options.size*2,this.boundingBox.bottom=r+this.options.size*2):(this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}distanceToBorder(e){return e&&this.resize(e),this.width*.5}}class ka extends rl{constructor(e,r,n){super(e,r,n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{size:this.options.size};if(this.needsRefresh(r,n)){var s,a;this.labelModule.getTextSize(e,r,n);const o=2*i.size;this.width=(s=this.customSizeWidth)!==null&&s!==void 0?s:o,this.height=(a=this.customSizeHeight)!==null&&a!==void 0?a:o,this.radius=.5*this.width}}_drawShape(e,r,n,i,s,a,o,l){return this.resize(e,a,o,l),this.left=i-this.width/2,this.top=s-this.height/2,this.initContextForDraw(e,l),sfe(r)(e,i,s,l.size),this.performFill(e,l),this.options.icon!==void 0&&this.options.icon.code!==void 0&&(e.font=(a?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",e.fillText(this.options.icon.code,i,s)),{drawExternalLabel:()=>{if(this.options.label!==void 0){this.labelModule.calculateLabelSize(e,a,o,i,s,"hanging");const c=s+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(e,i,c,a,o,"hanging")}this.updateBoundingBox(i,s)}}}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}function J7(t,e){var r=Rt(t);if(_a){var n=_a(t);e&&(n=nn(n).call(n,function(i){return $a(t,i).enumerable})),r.push.apply(r,n)}return r}function W0e(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?lt(r=J7(Object(i),!0)).call(r,function(s){ts(t,s,i[s])}):Sa?Wm(t,Sa(i)):lt(n=J7(Object(i))).call(n,function(s){Vm(t,s,$a(i,s))})}return t}class V0e extends ka{constructor(e,r,n,i){super(e,r,n,i),this.ctxRenderer=i}draw(e,r,n,i,s,a){this.resize(e,i,s,a),this.left=r-this.width/2,this.top=n-this.height/2,e.save();const o=this.ctxRenderer({ctx:e,id:this.options.id,x:r,y:n,state:{selected:i,hover:s},style:W0e({},a),label:this.options.label});if(o.drawNode!=null&&o.drawNode(),e.restore(),o.drawExternalLabel){const l=o.drawExternalLabel;o.drawExternalLabel=()=>{e.save(),l(),e.restore()}}return o.nodeDimensions&&(this.customSizeWidth=o.nodeDimensions.width,this.customSizeHeight=o.nodeDimensions.height),o}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class H0e extends rl{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){if(this.needsRefresh(r,n)){const s=this.getDimensionsFromLabel(e,r,n).width+this.margin.right+this.margin.left;this.width=s,this.height=s,this.radius=this.width/2}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.initContextForDraw(e,a),gY(e,r-this.width/2,n-this.height/2,this.width,this.height),this.performFill(e,a),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let K0e=class extends ka{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"diamond",4,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class G0e extends ka{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"circle",2,r,n,i,s,a)}distanceToBorder(e){return e&&this.resize(e),this.options.size}}class Z7 extends rl{constructor(e,r,n){super(e,r,n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n);this.height=i.height*2,this.width=i.width+i.height,this.radius=.5*this.width}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width*.5,this.top=n-this.height*.5,this.initContextForDraw(e,a),Aj(e,this.left,this.top,this.width,this.height),this.performFill(e,a),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,r,n,i,s)}distanceToBorder(e,r){e&&this.resize(e);const n=this.width*.5,i=this.height*.5,s=Math.sin(r)*n,a=Math.cos(r)*i;return n*i/Math.sqrt(s*s+a*a)}}class Y0e extends rl{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){this.needsRefresh(r,n)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,r,n,i,s,a){return this.resize(e,i,s),this.options.icon.size=this.options.icon.size||50,this.left=r-this.width/2,this.top=n-this.height/2,this._icon(e,r,n,i,s,a),{drawExternalLabel:()=>{this.options.label!==void 0&&this.labelModule.draw(e,this.left+this.iconSize.width/2+this.margin.left,n+this.height/2+5,i),this.updateBoundingBox(r,n)}}}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.icon.size*.5,this.boundingBox.left=e-this.options.icon.size*.5,this.boundingBox.right=e+this.options.icon.size*.5,this.boundingBox.bottom=r+this.options.icon.size*.5,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}_icon(e,r,n,i,s,a){const o=Number(this.options.icon.size);this.options.icon.code!==void 0?(e.font=[this.options.icon.weight!=null?this.options.icon.weight:i?"bold":"",(this.options.icon.weight!=null&&i?5:0)+o+"px",this.options.icon.face].join(" "),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",this.enableShadow(e,a),e.fillText(this.options.icon.code,r,n),this.disableShadow(e,a)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let Q0e=class extends _P{constructor(e,r,n,i,s){super(e,r,n),this.setImages(i,s)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s;return}this.needsRefresh(r,n)&&this._resizeImage()}draw(e,r,n,i,s,a){e.save(),this.switchImages(i),this.resize();let o=r,l=n;if(this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=r,this.top=n,o+=this.width/2,l+=this.height/2):(this.left=r-this.width/2,this.top=n-this.height/2),this.options.shapeProperties.useBorderWithImage===!0){const c=this.options.borderWidth,d=this.options.borderWidthSelected||2*this.options.borderWidth,h=(i?d:c)/this.body.view.scale;e.lineWidth=Math.min(this.width,h),e.beginPath();let f=i?this.options.color.highlight.border:s?this.options.color.hover.border:this.options.color.border,p=i?this.options.color.highlight.background:s?this.options.color.hover.background:this.options.color.background;a.opacity!==void 0&&(f=Bn(f,a.opacity),p=Bn(p,a.opacity)),e.strokeStyle=f,e.fillStyle=p,e.rect(this.left-.5*e.lineWidth,this.top-.5*e.lineWidth,this.width+e.lineWidth,this.height+e.lineWidth),Rh(e).call(e),this.performStroke(e,a),e.closePath()}this._drawImageAtPosition(e,a),this._drawImageLabel(e,o,l,i,s),this.updateBoundingBox(r,n),e.restore()}updateBoundingBox(e,r){this.resize(),this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=e,this.top=r):(this.left=e-this.width/2,this.top=r-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class X0e extends ka{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"square",2,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class J0e extends ka{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"hexagon",4,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class Z0e extends ka{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"star",4,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class ebe extends rl{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){this.needsRefresh(r,n)&&(this.textSize=this.labelModule.getTextSize(e,r,n),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.enableShadow(e,a),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s),this.disableShadow(e,a),this.updateBoundingBox(r,n,e,i,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let tbe=class extends ka{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"triangle",3,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class rbe extends ka{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"triangleDown",3,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}function eU(t,e){var r=Rt(t);if(_a){var n=_a(t);e&&(n=nn(n).call(n,function(i){return $a(t,i).enumerable})),r.push.apply(r,n)}return r}function tU(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?lt(r=eU(Object(i),!0)).call(r,function(s){ts(t,s,i[s])}):Sa?Wm(t,Sa(i)):lt(n=eU(Object(i))).call(n,function(s){Vm(t,s,$a(i,s))})}return t}class xt{constructor(e,r,n,i,s,a){this.options=va(s),this.globalOptions=s,this.defaultOptions=a,this.body=r,this.edges=[],this.id=void 0,this.imagelist=n,this.grouplist=i,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new Ul(this.body,this.options,!1),this.setOptions(e)}attachEdge(e){var r;et(r=this.edges).call(r,e)===-1&&this.edges.push(e)}detachEdge(e){var r;const n=et(r=this.edges).call(r,e);if(n!=-1){var i;os(i=this.edges).call(i,n,1)}}setOptions(e){const r=this.options.shape;if(!e)return;if(typeof e.color<"u"&&(this._localColor=e.color),e.id!==void 0&&(this.id=e.id),this.id===void 0)throw new Error("Node must have an id");xt.checkMass(e,this.id),e.x!==void 0&&(e.x===null?(this.x=void 0,this.predefinedPosition=!1):(this.x=li(e.x),this.predefinedPosition=!0)),e.y!==void 0&&(e.y===null?(this.y=void 0,this.predefinedPosition=!1):(this.y=li(e.y),this.predefinedPosition=!0)),e.size!==void 0&&(this.baseSize=e.size),e.value!==void 0&&(e.value=PQ(e.value)),xt.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);const n=[e,this.options,this.defaultOptions];return this.chooser=wP("node",n),this._load_images(),this.updateLabelModule(e),e.opacity!==void 0&&xt.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(r),e.hidden!==void 0||e.physics!==void 0}_load_images(){if((this.options.shape==="circularImage"||this.options.shape==="image")&&this.options.image===void 0)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(this.options.image!==void 0){if(this.imagelist===void 0)throw new Error("Internal Error: No images provided");if(typeof this.options.image=="string")this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(this.options.image.unselected===void 0)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.options.image.selected!==void 0?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}static checkOpacity(e){return 0<=e&&e<=1}static checkCoordinateOrigin(e){return e===void 0||e==="center"||e==="top-left"}static updateGroupOptions(e,r,n){var i;if(n===void 0)return;const s=e.group;if(r!==void 0&&r.group!==void 0&&s!==r.group)throw new Error("updateGroupOptions: group values in options don't match.");if(!(typeof s=="number"||typeof s=="string"&&s!=""))return;const o=n.get(s);o.opacity!==void 0&&r.opacity===void 0&&(xt.checkOpacity(o.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+o.opacity),o.opacity=void 0));const l=nn(i=d0e(r)).call(i,c=>r[c]!=null);l.push("font"),Dp(l,e,o),e.color=Uj(e.color)}static parseOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0;if(Dp(["color","fixed","shadow"],e,r,n),xt.checkMass(r),e.opacity!==void 0&&(xt.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),r.opacity!==void 0&&(xt.checkOpacity(r.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+r.opacity),r.opacity=void 0)),r.shapeProperties&&!xt.checkCoordinateOrigin(r.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+r.shapeProperties.coordinateOrigin),qn(e,r,"shadow",i),r.color!==void 0&&r.color!==null){const o=Uj(r.color);cQ(e.color,o)}else n===!0&&r.color===null&&(e.color=va(i.color));r.fixed!==void 0&&r.fixed!==null&&(typeof r.fixed=="boolean"?(e.fixed.x=r.fixed,e.fixed.y=r.fixed):(r.fixed.x!==void 0&&typeof r.fixed.x=="boolean"&&(e.fixed.x=r.fixed.x),r.fixed.y!==void 0&&typeof r.fixed.y=="boolean"&&(e.fixed.y=r.fixed.y))),n===!0&&r.font===null&&(e.font=va(i.font)),xt.updateGroupOptions(e,r,s),r.scaling!==void 0&&qn(e.scaling,r.scaling,"label",i.scaling)}getFormattingValues(){const e={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?this.chooser===!0?this.selected?(this.options.borderWidthSelected!=null?e.borderWidth=this.options.borderWidthSelected:e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):typeof this.chooser=="function"&&(this.chooser(e,this.options.id,this.selected,this.hover),e.shadow===!1&&(e.shadowColor!==this.options.shadow.color||e.shadowSize!==this.options.shadow.size||e.shadowX!==this.options.shadow.x||e.shadowY!==this.options.shadow.y)&&(e.shadow=!0)):e.shadow=this.options.shadow.enabled,this.options.opacity!==void 0){const r=this.options.opacity;e.borderColor=Bn(e.borderColor,r),e.color=Bn(e.color,r),e.shadowColor=Bn(e.shadowColor,r)}return e}updateLabelModule(e){(this.options.label===void 0||this.options.label===null)&&(this.options.label=""),xt.updateGroupOptions(this.options,tU(tU({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);const r=this.grouplist.get(this.options.group,!1),n=[e,this.options,r,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,n),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateShape(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new B0e(this.options,this.body,this.labelModule);break;case"circle":this.shape=new z0e(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new U0e(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new V0e(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new H0e(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new K0e(this.options,this.body,this.labelModule);break;case"dot":this.shape=new G0e(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new Z7(this.options,this.body,this.labelModule);break;case"icon":this.shape=new Y0e(this.options,this.body,this.labelModule);break;case"image":this.shape=new Q0e(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new X0e(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new J0e(this.options,this.body,this.labelModule);break;case"star":this.shape=new Z0e(this.options,this.body,this.labelModule);break;case"text":this.shape=new ebe(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new tbe(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new rbe(this.options,this.body,this.labelModule);break;default:this.shape=new Z7(this.options,this.body,this.labelModule);break}this.needsRefresh()}select(){this.selected=!0,this.needsRefresh()}unselect(){this.selected=!1,this.needsRefresh()}needsRefresh(){this.shape.refreshNeeded=!0}getTitle(){return this.options.title}distanceToBorder(e,r){return this.shape.distanceToBorder(e,r)}isFixed(){return this.options.fixed.x&&this.options.fixed.y}isSelected(){return this.selected}getValue(){return this.options.value}getLabelSize(){return this.labelModule.size()}setValueRange(e,r,n){if(this.options.value!==void 0){const i=this.options.scaling.customScalingFunction(e,r,n,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const a=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*a}this.options.size=this.options.scaling.min+i*s}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}draw(e){const r=this.getFormattingValues();return this.shape.draw(e,this.x,this.y,this.selected,this.hover,r)||{}}updateBoundingBox(e){this.shape.updateBoundingBox(this.x,this.y,e)}resize(e){const r=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,r)}getItemsOnPoint(e){const r=[];return this.labelModule.visible()&&Gj(this.labelModule.getSize(),e)&&r.push({nodeId:this.id,labelId:0}),Gj(this.shape.boundingBox,e)&&r.push({nodeId:this.id}),r}isOverlappingWith(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}isBoundingBoxOverlappingWith(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}static checkMass(e,r){if(e.mass!==void 0&&e.mass<=0){let n="";r!==void 0&&(n=" in node id: "+r),console.error("%cNegative or zero mass disallowed"+n+", setting mass to 1.",pQ),e.mass=1}}}class nbe{constructor(e,r,n,i){var s;if(this.body=e,this.images=r,this.groups=n,this.layoutEngine=i,this.body.functions.createNode=re(s=this.create).call(s,this),this.nodesListeners={add:(a,o)=>{this.add(o.items)},update:(a,o)=>{this.update(o.items,o.data,o.oldData)},remove:(a,o)=>{this.remove(o.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(a,o,l,c){if(o===a)return .5;{const d=1/(o-a);return Math.max(0,(c-a)*d)}}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=va(this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e,r;this.body.emitter.on("refreshNodes",re(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",re(r=this.refresh).call(r,this)),this.body.emitter.on("destroy",()=>{qe(this.nodesListeners,(n,i)=>{this.body.data.nodes&&this.body.data.nodes.off(i,n)}),delete this.body.functions.createNode,delete this.nodesListeners.add,delete this.nodesListeners.update,delete this.nodesListeners.remove,delete this.nodesListeners})}setOptions(e){if(e!==void 0){if(xt.parseOptions(this.options,e),e.opacity!==void 0&&(Kj(e.opacity)||!Za(e.opacity)||e.opacity<0||e.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity):this.options.opacity=e.opacity),e.shape!==void 0)for(const r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&this.body.nodes[r].updateShape();if(typeof e.font<"u"||typeof e.widthConstraint<"u"||typeof e.heightConstraint<"u")for(const r of Rt(this.body.nodes))this.body.nodes[r].updateLabelModule(),this.body.nodes[r].needsRefresh();if(e.size!==void 0)for(const r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&this.body.nodes[r].needsRefresh();(e.hidden!==void 0||e.physics!==void 0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.data.nodes;if(lY("id",e))this.body.data.nodes=e;else if(Dt(e))this.body.data.nodes=new Su,this.body.data.nodes.add(e);else if(!e)this.body.data.nodes=new Su;else throw new TypeError("Array or DataSet expected");if(n&&qe(this.nodesListeners,function(i,s){n.off(s,i)}),this.body.nodes={},this.body.data.nodes){const i=this;qe(this.nodesListeners,function(a,o){i.body.data.nodes.on(o,a)});const s=this.body.data.nodes.getIds();this.add(s,!0)}r===!1&&this.body.emitter.emit("_dataChanged")}add(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;const i=[];for(let s=0;s<e.length;s++){n=e[s];const a=this.body.data.nodes.get(n),o=this.create(a);i.push(o),this.body.nodes[n]=o}this.layoutEngine.positionInitially(i),r===!1&&this.body.emitter.emit("_dataChanged")}update(e,r,n){const i=this.body.nodes;let s=!1;for(let a=0;a<e.length;a++){const o=e[a];let l=i[o];const c=r[a];l!==void 0?l.setOptions(c)&&(s=!0):(s=!0,l=this.create(c),i[o]=l)}!s&&n!==void 0&&(s=hye(r).call(r,function(a,o){const l=n[o];return l&&l.level!==a.level})),s===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}remove(e){const r=this.body.nodes;for(let n=0;n<e.length;n++){const i=e[n];delete r[i]}this.body.emitter.emit("_dataChanged")}create(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xt;return new r(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}refresh(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;qe(this.body.nodes,(r,n)=>{const i=this.body.data.nodes.get(n);i!==void 0&&(e===!0&&r.setOptions({x:null,y:null}),r.setOptions({fixed:!1}),r.setOptions(i))})}getPositions(e){const r={};if(e!==void 0){if(Dt(e)===!0){for(let n=0;n<e.length;n++)if(this.body.nodes[e[n]]!==void 0){const i=this.body.nodes[e[n]];r[e[n]]={x:Math.round(i.x),y:Math.round(i.y)}}}else if(this.body.nodes[e]!==void 0){const n=this.body.nodes[e];r[e]={x:Math.round(n.x),y:Math.round(n.y)}}}else for(let n=0;n<this.body.nodeIndices.length;n++){const i=this.body.nodes[this.body.nodeIndices[n]];r[this.body.nodeIndices[n]]={x:Math.round(i.x),y:Math.round(i.y)}}return r}getPosition(e){if(e==null)throw new TypeError("No id was specified for getPosition method.");if(this.body.nodes[e]==null)throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(e));return{x:Math.round(this.body.nodes[e].x),y:Math.round(this.body.nodes[e].y)}}storePositions(){const e=[],r=this.body.data.nodes.getDataSet();for(const n of r.get()){const i=n.id,s=this.body.nodes[i],a=Math.round(s.x),o=Math.round(s.y);(n.x!==a||n.y!==o)&&e.push({id:i,x:a,y:o})}r.update(e)}getBoundingBox(e){if(this.body.nodes[e]!==void 0)return this.body.nodes[e].shape.boundingBox}getConnectedNodes(e,r){const n=[];if(this.body.nodes[e]!==void 0){const i=this.body.nodes[e],s={};for(let a=0;a<i.edges.length;a++){const o=i.edges[a];r!=="to"&&o.toId==i.id?s[o.fromId]===void 0&&(n.push(o.fromId),s[o.fromId]=!0):r!=="from"&&o.fromId==i.id&&s[o.toId]===void 0&&(n.push(o.toId),s[o.toId]=!0)}}return n}getConnectedEdges(e){const r=[];if(this.body.nodes[e]!==void 0){const n=this.body.nodes[e];for(let i=0;i<n.edges.length;i++)r.push(n.edges[i].id)}else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return r}moveNode(e,r,n){this.body.nodes[e]!==void 0?(this.body.nodes[e].x=Number(r),this.body.nodes[e].y=Number(n),ls(()=>{this.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",e)}}var rU={},nU;function ibe(){if(nU)return rU;nU=1;var t=Se(),e=Math.hypot,r=Math.abs,n=Math.sqrt,i=!!e&&e(1/0,NaN)!==1/0;return t({target:"Math",stat:!0,arity:2,forced:i},{hypot:function(a,o){for(var l=0,c=0,d=arguments.length,h=0,f,p;c<d;)f=r(arguments[c++]),h<f?(p=h/f,l=l*p*p+1,h=f):f>0?(p=f/h,l+=p*p):l+=f;return h===1/0?1/0:h*n(l)}}),rU}var i2,iU;function sbe(){if(iU)return i2;iU=1,ibe();var t=it();return i2=t.Math.hypot,i2}var s2,sU;function abe(){if(sU)return s2;sU=1;var t=sbe();return s2=t,s2}var a2,aU;function obe(){return aU||(aU=1,a2=abe()),a2}var lbe=obe(),ube=Pe(lbe);class At{static transform(e,r){Dt(e)||(e=[e]);const n=r.point.x,i=r.point.y,s=r.angle,a=r.length;for(let o=0;o<e.length;++o){const l=e[o],c=l.x*Math.cos(s)-l.y*Math.sin(s),d=l.x*Math.sin(s)+l.y*Math.cos(s);l.x=n+a*c,l.y=i+a*d}}static drawPath(e,r){e.beginPath(),e.moveTo(r[0].x,r[0].y);for(let n=1;n<r.length;++n)e.lineTo(r[n].x,r[n].y);e.closePath()}}let cbe=class extends At{static draw(e,r){if(r.image){e.save(),e.translate(r.point.x,r.point.y),e.rotate(Math.PI/2+r.angle);const n=r.imageWidth!=null?r.imageWidth:r.image.width,i=r.imageHeight!=null?r.imageHeight:r.image.height;r.image.drawImageAtPosition(e,1,-n/2,0,n,i),e.restore()}return!1}};class dbe extends At{static draw(e,r){const n=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return At.transform(n,r),At.drawPath(e,n),!0}}class hbe{static draw(e,r){const n=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return At.transform(n,r),At.drawPath(e,n),!0}}class fbe{static draw(e,r){const n={x:-.4,y:0};At.transform(n,r),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const i=Math.PI,s=r.angle-i/2,a=r.angle+i/2;return e.beginPath(),e.arc(n.x,n.y,r.length*.4,s,a,!1),e.stroke(),!0}}class pbe{static draw(e,r){const n={x:-.3,y:0};At.transform(n,r),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const i=Math.PI,s=r.angle+i/2,a=r.angle+3*i/2;return e.beginPath(),e.arc(n.x,n.y,r.length*.4,s,a,!1),e.stroke(),!0}}class mbe{static draw(e,r){const n=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return At.transform(n,r),At.drawPath(e,n),!0}}class vbe{static draw(e,r){const n=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return At.transform(n,r),At.drawPath(e,n),!0}}class gbe{static draw(e,r){const n={x:-.4,y:0};return At.transform(n,r),YO(e,n.x,n.y,r.length*.4),!0}}class ybe{static draw(e,r){const n=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return At.transform(n,r),At.drawPath(e,n),!0}}class bbe{static draw(e,r){const n=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return At.transform(n,r),At.drawPath(e,n),!0}}class xbe{static draw(e,r){const n=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return At.transform(n,r),At.drawPath(e,n),!0}}class wbe{static draw(e,r){const n=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return At.transform(n,r),At.drawPath(e,n),!0}}class RQ{static draw(e,r){let n;switch(r.type&&(n=r.type.toLowerCase()),n){case"image":return cbe.draw(e,r);case"circle":return gbe.draw(e,r);case"box":return bbe.draw(e,r);case"crow":return hbe.draw(e,r);case"curve":return fbe.draw(e,r);case"diamond":return xbe.draw(e,r);case"inv_curve":return pbe.draw(e,r);case"triangle":return mbe.draw(e,r);case"inv_triangle":return vbe.draw(e,r);case"bar":return ybe.draw(e,r);case"vee":return wbe.draw(e,r);case"arrow":default:return dbe.draw(e,r)}}}function oU(t,e){var r=Rt(t);if(_a){var n=_a(t);e&&(n=nn(n).call(n,function(i){return $a(t,i).enumerable})),r.push.apply(r,n)}return r}function lU(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?lt(r=oU(Object(i),!0)).call(r,function(s){ts(t,s,i[s])}):Sa?Wm(t,Sa(i)):lt(n=oU(Object(i))).call(n,function(s){Vm(t,s,$a(i,s))})}return t}class $Q{constructor(e,r,n){ts(this,"color",{}),ts(this,"colorDirty",!0),ts(this,"hoverWidth",1.5),ts(this,"selectionWidth",2),this._body=r,this._labelModule=n,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}cleanup(){return!1}setOptions(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}drawLine(e,r,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,r),e.lineWidth=r.width,r.dashes!==!1?this._drawDashedLine(e,r,s):this._drawLine(e,r,s)}_drawLine(e,r,n,i,s){if(this.from!=this.to)this._line(e,r,n,i,s);else{const[a,o,l]=this._getCircleData(e);this._circle(e,r,a,o,l)}}_drawDashedLine(e,r,n,i,s){e.lineCap="round";const a=Dt(r.dashes)?r.dashes:[5,5];if(e.setLineDash!==void 0){if(e.save(),e.setLineDash(a),e.lineDashOffset=0,this.from!=this.to)this._line(e,r,n);else{const[o,l,c]=this._getCircleData(e);this._circle(e,r,o,l,c)}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)yY(e,this.from.x,this.from.y,this.to.x,this.to.y,a);else{const[o,l,c]=this._getCircleData(e);this._circle(e,r,o,l,c)}this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}}findBorderPosition(e,r,n){return this.from!=this.to?this._findBorderPosition(e,r,n):this._findBorderPositionCircle(e,r,n)}findBorderPositions(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};{var r;const[n,i]=Pi(r=this._getCircleData(e)).call(r,0,2);return{from:this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:.6,high:.8,direction:1})}}}_getCircleData(e){const r=this.options.selfReference.size;e!==void 0&&this.from.shape.width===void 0&&this.from.shape.resize(e);const n=TQ(e,this.options.selfReference.angle,r,this.from);return[n.x,n.y,r]}_pointOnCircle(e,r,n,i){const s=i*2*Math.PI;return{x:e+n*Math.cos(s),y:r-n*Math.sin(s)}}_findBorderPositionCircle(e,r,n){const i=n.x,s=n.y;let a=n.low,o=n.high;const l=n.direction,c=10,d=this.options.selfReference.size,h=.05;let f,p=(a+o)*.5,v=0;this.options.arrowStrikethrough===!0&&(l===-1?v=this.options.endPointOffset.from:l===1&&(v=this.options.endPointOffset.to));let y=0;do{p=(a+o)*.5,f=this._pointOnCircle(i,s,d,p);const x=Math.atan2(e.y-f.y,e.x-f.x),g=e.distanceToBorder(r,x)+v,m=Math.sqrt(Math.pow(f.x-e.x,2)+Math.pow(f.y-e.y,2)),w=g-m;if(Math.abs(w)<h)break;w>0?l>0?a=p:o=p:l>0?o=p:a=p,++y}while(a<=o&&y<c);return lU(lU({},f),{},{t:p})}getLineWidth(e,r){return e===!0?Math.max(this.selectionWidth,.3/this._body.view.scale):r===!0?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}getColor(e,r){if(r.inheritsColor!==!1){if(r.inheritsColor==="both"&&this.from.id!==this.to.id){const n=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y);let i=this.from.options.color.highlight.border,s=this.to.options.color.highlight.border;return this.from.selected===!1&&this.to.selected===!1?(i=Bn(this.from.options.color.border,r.opacity),s=Bn(this.to.options.color.border,r.opacity)):this.from.selected===!0&&this.to.selected===!1?s=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(i=this.from.options.color.border),n.addColorStop(0,i),n.addColorStop(1,s),n}return r.inheritsColor==="to"?Bn(this.to.options.color.border,r.opacity):Bn(this.from.options.color.border,r.opacity)}else return Bn(r.color,r.opacity)}_circle(e,r,n,i,s){this.enableShadow(e,r);let a=0,o=Math.PI*2;if(!this.options.selfReference.renderBehindTheNode){const l=this.options.selfReference.angle,c=this.options.selfReference.angle+Math.PI,d=this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:l,high:c,direction:-1}),h=this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:l,high:c,direction:1});a=Math.atan2(d.y-i,d.x-n),o=Math.atan2(h.y-i,h.x-n)}e.beginPath(),e.arc(n,i,s,a,o,!1),e.stroke(),this.disableShadow(e,r)}getDistanceToEdge(e,r,n,i,s,a){if(this.from!=this.to)return this._getDistanceToEdge(e,r,n,i,s,a);{const[o,l,c]=this._getCircleData(void 0),d=o-s,h=l-a;return Math.abs(Math.sqrt(d*d+h*h)-c)}}_getDistanceToLine(e,r,n,i,s,a){const o=n-e,l=i-r,c=o*o+l*l;let d=((s-e)*o+(a-r)*l)/c;d>1?d=1:d<0&&(d=0);const h=e+d*o,f=r+d*l,p=h-s,v=f-a;return Math.sqrt(p*p+v*v)}getArrowData(e,r,n,i,s,a){let o,l,c,d,h,f,p;const v=a.width;r==="from"?(c=this.from,d=this.to,h=a.fromArrowScale<0,f=Math.abs(a.fromArrowScale),p=a.fromArrowType):r==="to"?(c=this.to,d=this.from,h=a.toArrowScale<0,f=Math.abs(a.toArrowScale),p=a.toArrowType):(c=this.to,d=this.from,h=a.middleArrowScale<0,f=Math.abs(a.middleArrowScale),p=a.middleArrowType);const y=15*f+3*v;if(c!=d){const w=ube(c.x-d.x,c.y-d.y),b=y/w;if(r!=="middle")if(this.options.smooth.enabled===!0){const _=this._findBorderPosition(c,e,{via:n}),E=this.getPoint(_.t+b*(r==="from"?1:-1),n);o=Math.atan2(_.y-E.y,_.x-E.x),l=_}else o=Math.atan2(c.y-d.y,c.x-d.x),l=this._findBorderPosition(c,e);else{const _=(h?-b:b)/2,E=this.getPoint(.5+_,n),N=this.getPoint(.5-_,n);o=Math.atan2(E.y-N.y,E.x-N.x),l=this.getPoint(.5,n)}}else{const[w,b,_]=this._getCircleData(e);if(r==="from"){const E=this.options.selfReference.angle,N=this.options.selfReference.angle+Math.PI,S=this._findBorderPositionCircle(this.from,e,{x:w,y:b,low:E,high:N,direction:-1});o=S.t*-2*Math.PI+1.5*Math.PI+.1*Math.PI,l=S}else if(r==="to"){const E=this.options.selfReference.angle,N=this.options.selfReference.angle+Math.PI,S=this._findBorderPositionCircle(this.from,e,{x:w,y:b,low:E,high:N,direction:1});o=S.t*-2*Math.PI+1.5*Math.PI-1.1*Math.PI,l=S}else{const E=this.options.selfReference.angle/(2*Math.PI);l=this._pointOnCircle(w,b,_,E),o=E*-2*Math.PI+1.5*Math.PI+.1*Math.PI}}const x=l.x-y*.9*Math.cos(o),g=l.y-y*.9*Math.sin(o);return{point:l,core:{x,y:g},angle:o,length:y,type:p}}drawArrowHead(e,r,n,i,s){e.strokeStyle=this.getColor(e,r),e.fillStyle=e.strokeStyle,e.lineWidth=r.width,RQ.draw(e,s)&&(this.enableShadow(e,r),Rh(e).call(e),this.disableShadow(e,r))}enableShadow(e,r){r.shadow===!0&&(e.shadowColor=r.shadowColor,e.shadowBlur=r.shadowSize,e.shadowOffsetX=r.shadowX,e.shadowOffsetY=r.shadowY)}disableShadow(e,r){r.shadow===!0&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}drawBackground(e,r){if(r.background!==!1){const n={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=r.backgroundColor,e.lineWidth=r.backgroundSize,this.setStrokeDashed(e,r.backgroundDashes),e.stroke(),e.strokeStyle=n.strokeStyle,e.lineWidth=n.lineWidth,e.dashes=n.dashes,this.setStrokeDashed(e,r.dashes)}}setStrokeDashed(e,r){if(r!==!1)if(e.setLineDash!==void 0){const n=Dt(r)?r:[5,5];e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else e.setLineDash!==void 0?e.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}function uU(t,e){var r=Rt(t);if(_a){var n=_a(t);e&&(n=nn(n).call(n,function(i){return $a(t,i).enumerable})),r.push.apply(r,n)}return r}function cU(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?lt(r=uU(Object(i),!0)).call(r,function(s){ts(t,s,i[s])}):Sa?Wm(t,Sa(i)):lt(n=uU(Object(i))).call(n,function(s){Vm(t,s,$a(i,s))})}return t}class SP extends $Q{constructor(e,r,n){super(e,r,n)}_findBorderPositionBezier(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this._getViaCoordinates();const i=10,s=.2;let a=!1,o=1,l=0,c=this.to,d,h,f=this.options.endPointOffset?this.options.endPointOffset.to:0;e.id===this.from.id&&(c=this.from,a=!0,f=this.options.endPointOffset?this.options.endPointOffset.from:0),this.options.arrowStrikethrough===!1&&(f=0);let p=0;do{h=(l+o)*.5,d=this.getPoint(h,n);const v=Math.atan2(c.y-d.y,c.x-d.x),y=c.distanceToBorder(r,v)+f,x=Math.sqrt(Math.pow(d.x-c.x,2)+Math.pow(d.y-c.y,2)),g=y-x;if(Math.abs(g)<s)break;g<0?a===!1?l=h:o=h:a===!1?o=h:l=h,++p}while(l<=o&&p<i);return cU(cU({},d),{},{t:h})}_getDistanceToBezierEdge(e,r,n,i,s,a,o){let l=1e9,c,d,h,f,p,v=e,y=r;for(d=1;d<10;d++)h=.1*d,f=Math.pow(1-h,2)*e+2*h*(1-h)*o.x+Math.pow(h,2)*n,p=Math.pow(1-h,2)*r+2*h*(1-h)*o.y+Math.pow(h,2)*i,d>0&&(c=this._getDistanceToLine(v,y,f,p,s,a),l=c<l?c:l),v=f,y=p;return l}_bezierCurve(e,r,n,i){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),n!=null&&n.x!=null?i!=null&&i.x!=null?e.bezierCurveTo(n.x,n.y,i.x,i.y,this.toPoint.x,this.toPoint.y):e.quadraticCurveTo(n.x,n.y,this.toPoint.x,this.toPoint.y):e.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(e,r),this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}getViaNode(){return this._getViaCoordinates()}}class dU extends SP{constructor(e,r,n){super(e,r,n),ts(this,"via",this.via),this._boundFunction=()=>{this.positionBezierNode()},this._body.emitter.on("_repositionBezierNodes",this._boundFunction)}setOptions(e){super.setOptions(e);let r=!1;this.options.physics!==e.physics&&(r=!0),this.options=e,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),r===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.from===void 0||this.to===void 0||this.options.physics===!1?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}cleanup(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),this.via!==void 0?(delete this._body.nodes[this.via.id],this.via=void 0,!0):!1}setupSupportNode(){if(this.via===void 0){const e="edgeId:"+this.id,r=this._body.functions.createNode({id:e,shape:"circle",physics:!0,hidden:!0});this._body.nodes[e]=r,this.via=r,this.via.parentEdgeId=this.id,this.positionBezierNode()}}positionBezierNode(){this.via!==void 0&&this.from!==void 0&&this.to!==void 0?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):this.via!==void 0&&(this.via.x=0,this.via.y=0)}_line(e,r,n){this._bezierCurve(e,r,n)}_getViaCoordinates(){return this.via}getViaNode(){return this.via}getPoint(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.via;if(this.from===this.to){const[n,i,s]=this._getCircleData(),a=2*Math.PI*(1-e);return{x:n+s*Math.sin(a),y:i+s-s*(1-Math.cos(a))}}else return{x:Math.pow(1-e,2)*this.fromPoint.x+2*e*(1-e)*r.x+Math.pow(e,2)*this.toPoint.x,y:Math.pow(1-e,2)*this.fromPoint.y+2*e*(1-e)*r.y+Math.pow(e,2)*this.toPoint.y}}_findBorderPosition(e,r){return this._findBorderPositionBezier(e,r,this.via)}_getDistanceToEdge(e,r,n,i,s,a){return this._getDistanceToBezierEdge(e,r,n,i,s,a,this.via)}}class hU extends SP{constructor(e,r,n){super(e,r,n)}_line(e,r,n){this._bezierCurve(e,r,n)}getViaNode(){return this._getViaCoordinates()}_getViaCoordinates(){const e=this.options.smooth.roundness,r=this.options.smooth.type;let n=Math.abs(this.from.x-this.to.x),i=Math.abs(this.from.y-this.to.y);if(r==="discrete"||r==="diagonalCross"){let s,a;n<=i?s=a=e*i:s=a=e*n,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(a=-a);let o=this.from.x+s,l=this.from.y+a;return r==="discrete"&&(n<=i?o=n<e*i?this.from.x:o:l=i<e*n?this.from.y:l),{x:o,y:l}}else if(r==="straightCross"){let s=(1-e)*n,a=(1-e)*i;return n<=i?(s=0,this.from.y<this.to.y&&(a=-a)):(this.from.x<this.to.x&&(s=-s),a=0),{x:this.to.x+s,y:this.to.y+a}}else if(r==="horizontal"){let s=(1-e)*n;return this.from.x<this.to.x&&(s=-s),{x:this.to.x+s,y:this.from.y}}else if(r==="vertical"){let s=(1-e)*i;return this.from.y<this.to.y&&(s=-s),{x:this.from.x,y:this.to.y+s}}else if(r==="curvedCW"){n=this.to.x-this.from.x,i=this.from.y-this.to.y;const s=Math.sqrt(n*n+i*i),a=Math.PI,l=(Math.atan2(i,n)+(e*.5+.5)*a)%(2*a);return{x:this.from.x+(e*.5+.5)*s*Math.sin(l),y:this.from.y+(e*.5+.5)*s*Math.cos(l)}}else if(r==="curvedCCW"){n=this.to.x-this.from.x,i=this.from.y-this.to.y;const s=Math.sqrt(n*n+i*i),a=Math.PI,l=(Math.atan2(i,n)+(-e*.5+.5)*a)%(2*a);return{x:this.from.x+(e*.5+.5)*s*Math.sin(l),y:this.from.y+(e*.5+.5)*s*Math.cos(l)}}else{let s,a;n<=i?s=a=e*i:s=a=e*n,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(a=-a);let o=this.from.x+s,l=this.from.y+a;return n<=i?this.from.x<=this.to.x?o=this.to.x<o?this.to.x:o:o=this.to.x>o?this.to.x:o:this.from.y>=this.to.y?l=this.to.y>l?this.to.y:l:l=this.to.y<l?this.to.y:l,{x:o,y:l}}}_findBorderPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._findBorderPositionBezier(e,r,n.via)}_getDistanceToEdge(e,r,n,i,s,a){let o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(e,r,n,i,s,a,o)}getPoint(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const n=e,i=Math.pow(1-n,2)*this.fromPoint.x+2*n*(1-n)*r.x+Math.pow(n,2)*this.toPoint.x,s=Math.pow(1-n,2)*this.fromPoint.y+2*n*(1-n)*r.y+Math.pow(n,2)*this.toPoint.y;return{x:i,y:s}}}class _be extends SP{constructor(e,r,n){super(e,r,n)}_getDistanceToBezierEdge2(e,r,n,i,s,a,o,l){let c=1e9,d=e,h=r;const f=[0,0,0,0];for(let p=1;p<10;p++){const v=.1*p;f[0]=Math.pow(1-v,3),f[1]=3*v*Math.pow(1-v,2),f[2]=3*Math.pow(v,2)*(1-v),f[3]=Math.pow(v,3);const y=f[0]*e+f[1]*o.x+f[2]*l.x+f[3]*n,x=f[0]*r+f[1]*o.y+f[2]*l.y+f[3]*i;if(p>0){const g=this._getDistanceToLine(d,h,y,x,s,a);c=g<c?g:c}d=y,h=x}return c}}class fU extends _be{constructor(e,r,n){super(e,r,n)}_line(e,r,n){const i=n[0],s=n[1];this._bezierCurve(e,r,i,s)}_getViaCoordinates(){const e=this.from.x-this.to.x,r=this.from.y-this.to.y;let n,i,s,a;const o=this.options.smooth.roundness;return(Math.abs(e)>Math.abs(r)||this.options.smooth.forceDirection===!0||this.options.smooth.forceDirection==="horizontal")&&this.options.smooth.forceDirection!=="vertical"?(i=this.from.y,a=this.to.y,n=this.from.x-o*e,s=this.to.x+o*e):(i=this.from.y-o*r,a=this.to.y+o*r,n=this.from.x,s=this.to.x),[{x:n,y:i},{x:s,y:a}]}getViaNode(){return this._getViaCoordinates()}_findBorderPosition(e,r){return this._findBorderPositionBezier(e,r)}_getDistanceToEdge(e,r,n,i,s,a){let[o,l]=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge2(e,r,n,i,s,a,o,l)}getPoint(e){let[r,n]=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const i=e,s=[Math.pow(1-i,3),3*i*Math.pow(1-i,2),3*Math.pow(i,2)*(1-i),Math.pow(i,3)],a=s[0]*this.fromPoint.x+s[1]*r.x+s[2]*n.x+s[3]*this.toPoint.x,o=s[0]*this.fromPoint.y+s[1]*r.y+s[2]*n.y+s[3]*this.toPoint.y;return{x:a,y:o}}}class pU extends $Q{constructor(e,r,n){super(e,r,n)}_line(e,r){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),e.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}getViaNode(){}getPoint(e){return{x:(1-e)*this.fromPoint.x+e*this.toPoint.x,y:(1-e)*this.fromPoint.y+e*this.toPoint.y}}_findBorderPosition(e,r){let n=this.to,i=this.from;e.id===this.from.id&&(n=this.from,i=this.to);const s=Math.atan2(n.y-i.y,n.x-i.x),a=n.x-i.x,o=n.y-i.y,l=Math.sqrt(a*a+o*o),c=e.distanceToBorder(r,s),d=(l-c)/l;return{x:(1-d)*i.x+d*n.x,y:(1-d)*i.y+d*n.y,t:0}}_getDistanceToEdge(e,r,n,i,s,a){return this._getDistanceToLine(e,r,n,i,s,a)}}class ga{constructor(e,r,n,i,s){if(r===void 0)throw new Error("No body provided");this.options=va(i),this.globalOptions=i,this.defaultOptions=s,this.body=r,this.imagelist=n,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new Ul(this.body,this.options,!0),this.setOptions(e)}setOptions(e){if(!e)return;let r=typeof e.physics<"u"&&this.options.physics!==e.physics||typeof e.hidden<"u"&&(this.options.hidden||!1)!==(e.hidden||!1)||typeof e.from<"u"&&this.options.from!==e.from||typeof e.to<"u"&&this.options.to!==e.to;ga.parseOptions(this.options,e,!0,this.globalOptions),e.id!==void 0&&(this.id=e.id),e.from!==void 0&&(this.fromId=e.from),e.to!==void 0&&(this.toId=e.to),e.title!==void 0&&(this.title=e.title),e.value!==void 0&&(e.value=PQ(e.value));const n=[e,this.options,this.defaultOptions];return this.chooser=wP("edge",n),this.updateLabelModule(e),r=this.updateEdgeType()||r,this._setInteractionWidths(),this.connect(),r}static parseOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(cc(["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"],e,r,n),r.endPointOffset!==void 0&&r.endPointOffset.from!==void 0&&(Za(r.endPointOffset.from)?e.endPointOffset.from=r.endPointOffset.from:(e.endPointOffset.from=i.endPointOffset.from!==void 0?i.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),r.endPointOffset!==void 0&&r.endPointOffset.to!==void 0&&(Za(r.endPointOffset.to)?e.endPointOffset.to=r.endPointOffset.to:(e.endPointOffset.to=i.endPointOffset.to!==void 0?i.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),qp(r.label)?e.label=r.label:qp(e.label)||(e.label=void 0),qn(e,r,"smooth",i),qn(e,r,"shadow",i),qn(e,r,"background",i),r.dashes!==void 0&&r.dashes!==null?e.dashes=r.dashes:n===!0&&r.dashes===null&&(e.dashes=go(i.dashes)),r.scaling!==void 0&&r.scaling!==null?(r.scaling.min!==void 0&&(e.scaling.min=r.scaling.min),r.scaling.max!==void 0&&(e.scaling.max=r.scaling.max),qn(e.scaling,r.scaling,"label",i.scaling)):n===!0&&r.scaling===null&&(e.scaling=go(i.scaling)),r.arrows!==void 0&&r.arrows!==null)if(typeof r.arrows=="string"){const o=r.arrows.toLowerCase();e.arrows.to.enabled=et(o).call(o,"to")!=-1,e.arrows.middle.enabled=et(o).call(o,"middle")!=-1,e.arrows.from.enabled=et(o).call(o,"from")!=-1}else if(typeof r.arrows=="object")qn(e.arrows,r.arrows,"to",i.arrows),qn(e.arrows,r.arrows,"middle",i.arrows),qn(e.arrows,r.arrows,"from",i.arrows);else throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+Ih(r.arrows));else n===!0&&r.arrows===null&&(e.arrows=go(i.arrows));if(r.color!==void 0&&r.color!==null){const o=Bl(r.color)?{color:r.color,highlight:r.color,hover:r.color,inherit:!1,opacity:1}:r.color,l=e.color;if(s)ft(l,i.color,!1,n);else for(const c in l)Object.prototype.hasOwnProperty.call(l,c)&&delete l[c];if(Bl(l))l.color=l,l.highlight=l,l.hover=l,l.inherit=!1,o.opacity===void 0&&(l.opacity=1);else{let c=!1;o.color!==void 0&&(l.color=o.color,c=!0),o.highlight!==void 0&&(l.highlight=o.highlight,c=!0),o.hover!==void 0&&(l.hover=o.hover,c=!0),o.inherit!==void 0&&(l.inherit=o.inherit),o.opacity!==void 0&&(l.opacity=Math.min(1,Math.max(0,o.opacity))),c===!0?l.inherit=!1:l.inherit===void 0&&(l.inherit="from")}}else n===!0&&r.color===null&&(e.color=va(i.color));n===!0&&r.font===null&&(e.font=va(i.font)),Object.prototype.hasOwnProperty.call(r,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),e.selfReference.size=r.selfReferenceSize)}getFormattingValues(){const e=this.options.arrows.to===!0||this.options.arrows.to.enabled===!0,r=this.options.arrows.from===!0||this.options.arrows.from.enabled===!0,n=this.options.arrows.middle===!0||this.options.arrows.middle.enabled===!0,i=this.options.color.inherit,s={toArrow:e,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:n,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:r,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:i?void 0:this.options.color.color,inheritsColor:i,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(this.chooser===!0){if(this.selected){const a=this.options.selectionWidth;typeof a=="function"?s.width=a(s.width):typeof a=="number"&&(s.width+=a),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.highlight,s.shadow=this.options.shadow.enabled}else if(this.hover){const a=this.options.hoverWidth;typeof a=="function"?s.width=a(s.width):typeof a=="number"&&(s.width+=a),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.hover,s.shadow=this.options.shadow.enabled}}else typeof this.chooser=="function"&&(this.chooser(s,this.options.id,this.selected,this.hover),s.color!==void 0&&(s.inheritsColor=!1),s.shadow===!1&&(s.shadowColor!==this.options.shadow.color||s.shadowSize!==this.options.shadow.size||s.shadowX!==this.options.shadow.x||s.shadowY!==this.options.shadow.y)&&(s.shadow=!0));else s.shadow=this.options.shadow.enabled,s.width=Math.max(s.width,.3/this.body.view.scale);return s}updateLabelModule(e){const r=[e,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,r),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateEdgeType(){const e=this.options.smooth;let r=!1,n=!0;return this.edgeType!==void 0&&((this.edgeType instanceof dU&&e.enabled===!0&&e.type==="dynamic"||this.edgeType instanceof fU&&e.enabled===!0&&e.type==="cubicBezier"||this.edgeType instanceof hU&&e.enabled===!0&&e.type!=="dynamic"&&e.type!=="cubicBezier"||this.edgeType instanceof pU&&e.type.enabled===!1)&&(n=!1),n===!0&&(r=this.cleanup())),n===!0?e.enabled===!0?e.type==="dynamic"?(r=!0,this.edgeType=new dU(this.options,this.body,this.labelModule)):e.type==="cubicBezier"?this.edgeType=new fU(this.options,this.body,this.labelModule):this.edgeType=new hU(this.options,this.body,this.labelModule):this.edgeType=new pU(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),r}connect(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=this.from!==void 0&&this.to!==void 0,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}disconnect(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}getTitle(){return this.title}isSelected(){return this.selected}getValue(){return this.options.value}setValueRange(e,r,n){if(this.options.value!==void 0){const i=this.options.scaling.customScalingFunction(e,r,n,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const a=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*a}this.options.width=this.options.scaling.min+i*s}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}_setInteractionWidths(){typeof this.options.hoverWidth=="function"?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,typeof this.options.selectionWidth=="function"?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}draw(e){const r=this.getFormattingValues();if(r.hidden)return;const n=this.edgeType.getViaNode();this.edgeType.drawLine(e,r,this.selected,this.hover,n),this.drawLabel(e,n)}drawArrows(e){const r=this.getFormattingValues();if(r.hidden)return;const n=this.edgeType.getViaNode(),i={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,r.fromArrow&&(i.from=this.edgeType.getArrowData(e,"from",n,this.selected,this.hover,r),r.arrowStrikethrough===!1&&(this.edgeType.fromPoint=i.from.core),r.fromArrowSrc&&(i.from.image=this.imagelist.load(r.fromArrowSrc)),r.fromArrowImageWidth&&(i.from.imageWidth=r.fromArrowImageWidth),r.fromArrowImageHeight&&(i.from.imageHeight=r.fromArrowImageHeight)),r.toArrow&&(i.to=this.edgeType.getArrowData(e,"to",n,this.selected,this.hover,r),r.arrowStrikethrough===!1&&(this.edgeType.toPoint=i.to.core),r.toArrowSrc&&(i.to.image=this.imagelist.load(r.toArrowSrc)),r.toArrowImageWidth&&(i.to.imageWidth=r.toArrowImageWidth),r.toArrowImageHeight&&(i.to.imageHeight=r.toArrowImageHeight)),r.middleArrow&&(i.middle=this.edgeType.getArrowData(e,"middle",n,this.selected,this.hover,r),r.middleArrowSrc&&(i.middle.image=this.imagelist.load(r.middleArrowSrc)),r.middleArrowImageWidth&&(i.middle.imageWidth=r.middleArrowImageWidth),r.middleArrowImageHeight&&(i.middle.imageHeight=r.middleArrowImageHeight)),r.fromArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.from),r.middleArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.middle),r.toArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.to)}drawLabel(e,r){if(this.options.label!==void 0){const n=this.from,i=this.to;this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover);let s;if(n.id!=i.id){this.labelModule.pointToSelf=!1,s=this.edgeType.getPoint(.5,r),e.save();const a=this._getRotation(e);a.angle!=0&&(e.translate(a.x,a.y),e.rotate(a.angle)),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;const a=TQ(e,this.options.selfReference.angle,this.options.selfReference.size,n);s=this._pointOnCircle(a.x,a.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover)}}}getItemsOnPoint(e){const r=[];if(this.labelModule.visible()){const i=this._getRotation();Gj(this.labelModule.getSize(),e,i)&&r.push({edgeId:this.id,labelId:0})}const n={left:e.x,top:e.y};return this.isOverlappingWith(n)&&r.push({edgeId:this.id}),r}isOverlappingWith(e){if(this.connected){const n=this.from.x,i=this.from.y,s=this.to.x,a=this.to.y,o=e.left,l=e.top;return this.edgeType.getDistanceToEdge(n,i,s,a,o,l)<10}else return!1}_getRotation(e){const r=this.edgeType.getViaNode(),n=this.edgeType.getPoint(.5,r);e!==void 0&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,n.x,n.y);const i={x:n.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||this.options.font.align==="horizontal")return i;const s=this.from.y-this.to.y,a=this.from.x-this.to.x;let o=Math.atan2(s,a);return(o<-1&&a<0||o>0&&a<0)&&(o+=Math.PI),i.angle=o,i}_pointOnCircle(e,r,n,i){return{x:e+n*Math.cos(i),y:r-n*Math.sin(i)}}select(){this.selected=!0}unselect(){this.selected=!1}cleanup(){return this.edgeType.cleanup()}remove(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}endPointsValid(){return this.body.nodes[this.fromId]!==void 0&&this.body.nodes[this.toId]!==void 0}}class Sbe{constructor(e,r,n){var i;this.body=e,this.images=r,this.groups=n,this.body.functions.createEdge=re(i=this.create).call(i,this),this.edgesListeners={add:(s,a)=>{this.add(a.items)},update:(s,a)=>{this.update(a.items)},remove:(s,a)=>{this.remove(a.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(s,a,o,l){if(a===s)return .5;{const c=1/(a-s);return Math.max(0,(l-s)*c)}}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},ft(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e=this,r,n;this.body.emitter.on("_forceDisableDynamicCurves",function(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;i==="dynamic"&&(i="continuous");let a=!1;for(const o in e.body.edges)if(Object.prototype.hasOwnProperty.call(e.body.edges,o)){const l=e.body.edges[o],c=e.body.data.edges.get(o);if(c!=null){const d=c.smooth;d!==void 0&&d.enabled===!0&&d.type==="dynamic"&&(i===void 0?l.setOptions({smooth:!1}):l.setOptions({smooth:{type:i}}),a=!0)}}s===!0&&a===!0&&e.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",()=>{this.reconnectEdges()}),this.body.emitter.on("refreshEdges",re(r=this.refresh).call(r,this)),this.body.emitter.on("refresh",re(n=this.refresh).call(n,this)),this.body.emitter.on("destroy",()=>{qe(this.edgesListeners,(i,s)=>{this.body.data.edges&&this.body.data.edges.off(s,i)}),delete this.body.functions.createEdge,delete this.edgesListeners.add,delete this.edgesListeners.update,delete this.edgesListeners.remove,delete this.edgesListeners})}setOptions(e){if(e!==void 0){ga.parseOptions(this.options,e,!0,this.defaultOptions,!0);let r=!1;if(e.smooth!==void 0)for(const n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&(r=this.body.edges[n].updateEdgeType()||r);if(e.font!==void 0)for(const n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&this.body.edges[n].updateLabelModule();(e.hidden!==void 0||e.physics!==void 0||r===!0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.data.edges;if(lY("id",e))this.body.data.edges=e;else if(Dt(e))this.body.data.edges=new Su,this.body.data.edges.add(e);else if(!e)this.body.data.edges=new Su;else throw new TypeError("Array or DataSet expected");if(n&&qe(this.edgesListeners,(i,s)=>{n.off(s,i)}),this.body.edges={},this.body.data.edges){qe(this.edgesListeners,(s,a)=>{this.body.data.edges.on(a,s)});const i=this.body.data.edges.getIds();this.add(i,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),r===!1&&this.body.emitter.emit("_dataChanged")}add(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.edges,i=this.body.data.edges;for(let s=0;s<e.length;s++){const a=e[s],o=n[a];o&&o.disconnect();const l=i.get(a,{showInternalIds:!0});n[a]=this.create(l)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),r===!1&&this.body.emitter.emit("_dataChanged")}update(e){const r=this.body.edges,n=this.body.data.edges;let i=!1;for(let s=0;s<e.length;s++){const a=e[s],o=n.get(a),l=r[a];l!==void 0?(l.disconnect(),i=l.setOptions(o)||i,l.connect()):(this.body.edges[a]=this.create(o),i=!0)}i===!0?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}remove(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.length===0)return;const n=this.body.edges;qe(e,i=>{const s=n[i];s!==void 0&&s.remove()}),r&&this.body.emitter.emit("_dataChanged")}refresh(){qe(this.body.edges,(e,r)=>{const n=this.body.data.edges.get(r);n!==void 0&&e.setOptions(n)})}create(e){return new ga(e,this.body,this.images,this.options,this.defaultOptions)}reconnectEdges(){let e;const r=this.body.nodes,n=this.body.edges;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&(r[e].edges=[]);for(e in n)if(Object.prototype.hasOwnProperty.call(n,e)){const i=n[e];i.from=null,i.to=null,i.connect()}}getConnectedNodes(e){const r=[];if(this.body.edges[e]!==void 0){const n=this.body.edges[e];n.fromId!==void 0&&r.push(n.fromId),n.toId!==void 0&&r.push(n.toId)}return r}_updateState(){this._addMissingEdges(),this._removeInvalidEdges()}_removeInvalidEdges(){const e=[];qe(this.body.edges,(r,n)=>{const i=this.body.nodes[r.toId],s=this.body.nodes[r.fromId];i!==void 0&&i.isCluster===!0||s!==void 0&&s.isCluster===!0||(i===void 0||s===void 0)&&e.push(n)}),this.remove(e,!1)}_addMissingEdges(){const e=this.body.data.edges;if(e==null)return;const r=this.body.edges,n=[];lt(e).call(e,(i,s)=>{r[s]===void 0&&n.push(s)}),this.add(n,!0)}}class kQ{constructor(e,r,n){this.body=e,this.physicsBody=r,this.barnesHutTree,this.setOptions(n),this._rng=Bm("BARNES HUT SOLVER")}setOptions(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}solve(){if(this.options.gravitationalConstant!==0&&this.physicsBody.physicsNodeIndices.length>0){let e;const r=this.body.nodes,n=this.physicsBody.physicsNodeIndices,i=n.length,s=this._formBarnesHutTree(r,n);this.barnesHutTree=s;for(let a=0;a<i;a++)e=r[n[a]],e.options.mass>0&&this._getForceContributions(s.root,e)}}_getForceContributions(e,r){this._getForceContribution(e.children.NW,r),this._getForceContribution(e.children.NE,r),this._getForceContribution(e.children.SW,r),this._getForceContribution(e.children.SE,r)}_getForceContribution(e,r){if(e.childrenCount>0){const n=e.centerOfMass.x-r.x,i=e.centerOfMass.y-r.y,s=Math.sqrt(n*n+i*i);s*e.calcSize>this.thetaInversed?this._calculateForces(s,n,i,r,e):e.childrenCount===4?this._getForceContributions(e,r):e.children.data.id!=r.id&&this._calculateForces(s,n,i,r,e)}}_calculateForces(e,r,n,i,s){e===0&&(e=.1,r=e),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));const a=this.options.gravitationalConstant*s.mass*i.options.mass/Math.pow(e,3),o=r*a,l=n*a;this.physicsBody.forces[i.id].x+=o,this.physicsBody.forces[i.id].y+=l}_formBarnesHutTree(e,r){let n;const i=r.length;let s=e[r[0]].x,a=e[r[0]].y,o=e[r[0]].x,l=e[r[0]].y;for(let x=1;x<i;x++){const g=e[r[x]],m=g.x,w=g.y;g.options.mass>0&&(m<s&&(s=m),m>o&&(o=m),w<a&&(a=w),w>l&&(l=w))}const c=Math.abs(o-s)-Math.abs(l-a);c>0?(a-=.5*c,l+=.5*c):(s+=.5*c,o-=.5*c);const h=Math.max(1e-5,Math.abs(o-s)),f=.5*h,p=.5*(s+o),v=.5*(a+l),y={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:p-f,maxX:p+f,minY:v-f,maxY:v+f},size:h,calcSize:1/h,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(y.root);for(let x=0;x<i;x++)n=e[r[x]],n.options.mass>0&&this._placeInTree(y.root,n);return y}_updateBranchMass(e,r){const n=e.centerOfMass,i=e.mass+r.options.mass,s=1/i;n.x=n.x*e.mass+r.x*r.options.mass,n.x*=s,n.y=n.y*e.mass+r.y*r.options.mass,n.y*=s,e.mass=i;const a=Math.max(Math.max(r.height,r.radius),r.width);e.maxWidth=e.maxWidth<a?a:e.maxWidth}_placeInTree(e,r,n){(n!=!0||n===void 0)&&this._updateBranchMass(e,r);const i=e.children.NW.range;let s;i.maxX>r.x?i.maxY>r.y?s="NW":s="SW":i.maxY>r.y?s="NE":s="SE",this._placeInRegion(e,r,s)}_placeInRegion(e,r,n){const i=e.children[n];switch(i.childrenCount){case 0:i.children.data=r,i.childrenCount=1,this._updateBranchMass(i,r);break;case 1:i.children.data.x===r.x&&i.children.data.y===r.y?(r.x+=this._rng(),r.y+=this._rng()):(this._splitBranch(i),this._placeInTree(i,r));break;case 4:this._placeInTree(i,r);break}}_splitBranch(e){let r=null;e.childrenCount===1&&(r=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),r!=null&&this._placeInTree(e,r)}_insertRegion(e,r){let n,i,s,a;const o=.5*e.size;switch(r){case"NW":n=e.range.minX,i=e.range.minX+o,s=e.range.minY,a=e.range.minY+o;break;case"NE":n=e.range.minX+o,i=e.range.maxX,s=e.range.minY,a=e.range.minY+o;break;case"SW":n=e.range.minX,i=e.range.minX+o,s=e.range.minY+o,a=e.range.maxY;break;case"SE":n=e.range.minX+o,i=e.range.maxX,s=e.range.minY+o,a=e.range.maxY;break}e.children[r]={centerOfMass:{x:0,y:0},mass:0,range:{minX:n,maxX:i,minY:s,maxY:a},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}_debug(e,r){this.barnesHutTree!==void 0&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,r))}_drawBranch(e,r,n){n===void 0&&(n="#FF0000"),e.childrenCount===4&&(this._drawBranch(e.children.NW,r),this._drawBranch(e.children.NE,r),this._drawBranch(e.children.SE,r),this._drawBranch(e.children.SW,r)),r.strokeStyle=n,r.beginPath(),r.moveTo(e.range.minX,e.range.minY),r.lineTo(e.range.maxX,e.range.minY),r.stroke(),r.beginPath(),r.moveTo(e.range.maxX,e.range.minY),r.lineTo(e.range.maxX,e.range.maxY),r.stroke(),r.beginPath(),r.moveTo(e.range.maxX,e.range.maxY),r.lineTo(e.range.minX,e.range.maxY),r.stroke(),r.beginPath(),r.moveTo(e.range.minX,e.range.maxY),r.lineTo(e.range.minX,e.range.minY),r.stroke()}}class Ebe{constructor(e,r,n){this._rng=Bm("REPULSION SOLVER"),this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i,s,a,o,l;const c=this.body.nodes,d=this.physicsBody.physicsNodeIndices,h=this.physicsBody.forces,f=this.options.nodeDistance,p=-2/3/f,v=4/3;for(let y=0;y<d.length-1;y++){o=c[d[y]];for(let x=y+1;x<d.length;x++)l=c[d[x]],e=l.x-o.x,r=l.y-o.y,n=Math.sqrt(e*e+r*r),n===0&&(n=.1*this._rng(),e=n),n<2*f&&(n<.5*f?a=1:a=p*n+v,a=a/n,i=e*a,s=r*a,h[o.id].x-=i,h[o.id].y-=s,h[l.id].x+=i,h[l.id].y+=s)}}}class Nbe{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}solve(){const e=this.body.nodes,r=this.physicsBody.physicsNodeIndices,n=this.physicsBody.forces,i=this.options.nodeDistance;for(let s=0;s<r.length-1;s++){const a=e[r[s]];for(let o=s+1;o<r.length;o++){const l=e[r[o]];if(a.level===l.level){const c=i+this.overlapAvoidanceFactor*((a.shape.radius||0)/2+(l.shape.radius||0)/2),d=l.x-a.x,h=l.y-a.y,f=Math.sqrt(d*d+h*h),p=.05;let v;f<c?v=-Math.pow(p*f,2)+Math.pow(p*c,2):v=0,f!==0&&(v=v/f);const y=d*v,x=h*v;n[a.id].x-=y,n[a.id].y-=x,n[l.id].x+=y,n[l.id].y+=x}}}}}class o2{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r;const n=this.physicsBody.physicsEdgeIndices,i=this.body.edges;let s,a,o;for(let l=0;l<n.length;l++)r=i[n[l]],r.connected===!0&&r.toId!==r.fromId&&this.body.nodes[r.toId]!==void 0&&this.body.nodes[r.fromId]!==void 0&&(r.edgeType.via!==void 0?(e=r.options.length===void 0?this.options.springLength:r.options.length,s=r.to,a=r.edgeType.via,o=r.from,this._calculateSpringForce(s,a,.5*e),this._calculateSpringForce(a,o,.5*e)):(e=r.options.length===void 0?this.options.springLength*1.5:r.options.length,this._calculateSpringForce(r.from,r.to,e)))}_calculateSpringForce(e,r,n){const i=e.x-r.x,s=e.y-r.y,a=Math.max(Math.sqrt(i*i+s*s),.01),o=this.options.springConstant*(n-a)/a,l=i*o,c=s*o;this.physicsBody.forces[e.id]!==void 0&&(this.physicsBody.forces[e.id].x+=l,this.physicsBody.forces[e.id].y+=c),this.physicsBody.forces[r.id]!==void 0&&(this.physicsBody.forces[r.id].x-=l,this.physicsBody.forces[r.id].y-=c)}}class jbe{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i,s,a,o,l;const c=this.body.edges,d=.5,h=this.physicsBody.physicsEdgeIndices,f=this.physicsBody.physicsNodeIndices,p=this.physicsBody.forces;for(let b=0;b<f.length;b++){const _=f[b];p[_].springFx=0,p[_].springFy=0}for(let b=0;b<h.length;b++)r=c[h[b]],r.connected===!0&&(e=r.options.length===void 0?this.options.springLength:r.options.length,n=r.from.x-r.to.x,i=r.from.y-r.to.y,l=Math.sqrt(n*n+i*i),l=l===0?.01:l,o=this.options.springConstant*(e-l)/l,s=n*o,a=i*o,r.to.level!=r.from.level?(p[r.toId]!==void 0&&(p[r.toId].springFx-=s,p[r.toId].springFy-=a),p[r.fromId]!==void 0&&(p[r.fromId].springFx+=s,p[r.fromId].springFy+=a)):(p[r.toId]!==void 0&&(p[r.toId].x-=d*s,p[r.toId].y-=d*a),p[r.fromId]!==void 0&&(p[r.fromId].x+=d*s,p[r.fromId].y+=d*a)));o=1;let v,y;for(let b=0;b<f.length;b++){const _=f[b];v=Math.min(o,Math.max(-o,p[_].springFx)),y=Math.min(o,Math.max(-o,p[_].springFy)),p[_].x+=v,p[_].y+=y}let x=0,g=0;for(let b=0;b<f.length;b++){const _=f[b];x+=p[_].x,g+=p[_].y}const m=x/f.length,w=g/f.length;for(let b=0;b<f.length;b++){const _=f[b];p[_].x-=m,p[_].y-=w}}}class Bf{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i;const s=this.body.nodes,a=this.physicsBody.physicsNodeIndices,o=this.physicsBody.forces;for(let l=0;l<a.length;l++){const c=a[l];i=s[c],e=-i.x,r=-i.y,n=Math.sqrt(e*e+r*r),this._calculateForces(n,e,r,o,i)}}_calculateForces(e,r,n,i,s){const a=e===0?0:this.options.centralGravity/e;i[s.id].x=r*a,i[s.id].y=n*a}}class Cbe extends kQ{constructor(e,r,n){super(e,r,n),this._rng=Bm("FORCE ATLAS 2 BASED REPULSION SOLVER")}_calculateForces(e,r,n,i,s){e===0&&(e=.1*this._rng(),r=e),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));const a=i.edges.length+1,o=this.options.gravitationalConstant*s.mass*i.options.mass*a/Math.pow(e,2),l=r*o,c=n*o;this.physicsBody.forces[i.id].x+=l,this.physicsBody.forces[i.id].y+=c}}class Obe extends Bf{constructor(e,r,n){super(e,r,n)}_calculateForces(e,r,n,i,s){if(e>0){const a=s.edges.length+1,o=this.options.centralGravity*a*s.options.mass;i[s.id].x=r*o,i[s.id].y=n*o}}}class Pbe{constructor(e){this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},Ht(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("initPhysics",()=>{this.initPhysics()}),this.body.emitter.on("_layoutFailed",()=>{this.layoutFailed=!0}),this.body.emitter.on("resetPhysics",()=>{this.stopSimulation(),this.ready=!1}),this.body.emitter.on("disablePhysics",()=>{this.physicsEnabled=!1,this.stopSimulation()}),this.body.emitter.on("restorePhysics",()=>{this.setOptions(this.options),this.ready===!0&&this.startSimulation()}),this.body.emitter.on("startSimulation",()=>{this.ready===!0&&this.startSimulation()}),this.body.emitter.on("stopSimulation",()=>{this.stopSimulation()}),this.body.emitter.on("destroy",()=>{this.stopSimulation(!1),this.body.emitter.off()}),this.body.emitter.on("_dataChanged",()=>{this.updatePhysicsData()})}setOptions(e){if(e!==void 0)if(e===!1)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(e===!0)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,Dp(["stabilization"],this.options,e),qn(this.options,e,"stabilization"),e.enabled===void 0&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation());const r=this.options.wind;r&&((typeof r.x!="number"||Kj(r.x))&&(r.x=0),(typeof r.y!="number"||Kj(r.y))&&(r.y=0)),this.timestep=this.options.timestep}this.init()}init(){let e;this.options.solver==="forceAtlas2Based"?(e=this.options.forceAtlas2Based,this.nodesSolver=new Cbe(this.body,this.physicsBody,e),this.edgesSolver=new o2(this.body,this.physicsBody,e),this.gravitySolver=new Obe(this.body,this.physicsBody,e)):this.options.solver==="repulsion"?(e=this.options.repulsion,this.nodesSolver=new Ebe(this.body,this.physicsBody,e),this.edgesSolver=new o2(this.body,this.physicsBody,e),this.gravitySolver=new Bf(this.body,this.physicsBody,e)):this.options.solver==="hierarchicalRepulsion"?(e=this.options.hierarchicalRepulsion,this.nodesSolver=new Nbe(this.body,this.physicsBody,e),this.edgesSolver=new jbe(this.body,this.physicsBody,e),this.gravitySolver=new Bf(this.body,this.physicsBody,e)):(e=this.options.barnesHut,this.nodesSolver=new kQ(this.body,this.physicsBody,e),this.edgesSolver=new o2(this.body,this.physicsBody,e),this.gravitySolver=new Bf(this.body,this.physicsBody,e)),this.modelOptions=e}initPhysics(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}startSimulation(){if(this.physicsEnabled===!0&&this.options.enabled===!0){if(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),this.viewFunction===void 0){var e;this.viewFunction=re(e=this.simulationStep).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}else this.body.emitter.emit("_redraw")}stopSimulation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.stabilized=!0,e===!0&&this._emitStabilized(),this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,e===!0&&this.body.emitter.emit("_stopRendering"))}simulationStep(){const e=Ip();this.physicsTick(),(Ip()-e<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}_emitStabilized(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||this.startedStabilization===!0)&&ls(()=>{this.body.emitter.emit("stabilized",{iterations:e}),this.startedStabilization=!1,this.stabilizationIterations=0},0)}physicsStep(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}adjustTimeStep(){this._evaluateStepQuality()===!0?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}physicsTick(){this._startStabilizing(),this.stabilized!==!0&&(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0?(this.adaptiveCounter%this.adaptiveInterval===0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),this.stabilized===!0&&this.revert(),this.stabilizationIterations++)}updatePhysicsData(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];const e=this.body.nodes,r=this.body.edges;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&e[n].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(e[n].id);for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&r[n].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(r[n].id);for(let n=0;n<this.physicsBody.physicsNodeIndices.length;n++){const i=this.physicsBody.physicsNodeIndices[n];this.physicsBody.forces[i]={x:0,y:0},this.physicsBody.velocities[i]===void 0&&(this.physicsBody.velocities[i]={x:0,y:0})}for(const n in this.physicsBody.velocities)e[n]===void 0&&delete this.physicsBody.velocities[n]}revert(){const e=Rt(this.previousStates),r=this.body.nodes,n=this.physicsBody.velocities;this.referenceState={};for(let i=0;i<e.length;i++){const s=e[i];r[s]!==void 0?r[s].options.physics===!0&&(this.referenceState[s]={positions:{x:r[s].x,y:r[s].y}},n[s].x=this.previousStates[s].vx,n[s].y=this.previousStates[s].vy,r[s].x=this.previousStates[s].x,r[s].y=this.previousStates[s].y):delete this.previousStates[s]}}_evaluateStepQuality(){let e,r,n;const i=this.body.nodes,s=this.referenceState,a=.3;for(const o in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,o)&&i[o]!==void 0&&(e=i[o].x-s[o].positions.x,r=i[o].y-s[o].positions.y,n=Math.sqrt(Math.pow(e,2)+Math.pow(r,2)),n>a))return!1;return!0}moveNodes(){const e=this.physicsBody.physicsNodeIndices;let r=0,n=0;const i=5;for(let s=0;s<e.length;s++){const a=e[s],o=this._performStep(a);r=Math.max(r,o),n+=o}this.adaptiveTimestepEnabled=n/e.length<i,this.stabilized=r<this.options.minVelocity}calculateComponentVelocity(e,r,n){const i=this.modelOptions.damping*e,s=(r-i)/n;e+=s*this.timestep;const a=this.options.maxVelocity||1e9;return Math.abs(e)>a&&(e=e>0?a:-a),e}_performStep(e){const r=this.body.nodes[e],n=this.physicsBody.forces[e];this.options.wind&&(n.x+=this.options.wind.x,n.y+=this.options.wind.y);const i=this.physicsBody.velocities[e];return this.previousStates[e]={x:r.x,y:r.y,vx:i.x,vy:i.y},r.options.fixed.x===!1?(i.x=this.calculateComponentVelocity(i.x,n.x,r.options.mass),r.x+=i.x*this.timestep):(n.x=0,i.x=0),r.options.fixed.y===!1?(i.y=this.calculateComponentVelocity(i.y,n.y,r.options.mass),r.y+=i.y*this.timestep):(n.y=0,i.y=0),Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2))}_freezeNodes(){const e=this.body.nodes;for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&e[r].x&&e[r].y){const n=e[r].options.fixed;this.freezeCache[r]={x:n.x,y:n.y},n.x=!0,n.y=!0}}_restoreFrozenNodes(){const e=this.body.nodes;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&this.freezeCache[r]!==void 0&&(e[r].options.fixed.x=this.freezeCache[r].x,e[r].options.fixed.y=this.freezeCache[r].y);this.freezeCache={}}stabilize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.stabilization.iterations;if(typeof e!="number"&&(e=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",e)),this.physicsBody.physicsNodeIndices.length===0){this.ready=!0;return}this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,ls(()=>this._stabilizationBatch(),0)}_startStabilizing(){return this.startedStabilization===!0?!1:(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}_stabilizationBatch(){const e=()=>this.stabilized===!1&&this.stabilizationIterations<this.targetIterations,r=()=>{this.body.emitter.emit("stabilizationProgress",{iterations:this.stabilizationIterations,total:this.targetIterations})};this._startStabilizing()&&r();let n=0;for(;e()&&n<this.options.stabilization.updateInterval;)this.physicsTick(),n++;if(r(),e()){var i;ls(re(i=this._stabilizationBatch).call(i,this),0)}else this._finalizeStabilization()}_finalizeStabilization(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}_drawForces(e){for(let r=0;r<this.physicsBody.physicsNodeIndices.length;r++){const n=this.physicsBody.physicsNodeIndices[r],i=this.body.nodes[n],s=this.physicsBody.forces[n],a=20,o=.03,l=Math.sqrt(Math.pow(s.x,2)+Math.pow(s.x,2)),c=Math.min(Math.max(5,l),15),d=3*c,h=Wj((180-Math.min(1,Math.max(0,o*l))*180)/360,1,1),f={x:i.x+a*s.x,y:i.y+a*s.y};e.lineWidth=c,e.strokeStyle=h,e.beginPath(),e.moveTo(i.x,i.y),e.lineTo(f.x,f.y),e.stroke();const p=Math.atan2(s.y,s.x);e.fillStyle=h,RQ.draw(e,{type:"arrow",point:f,angle:p,length:d}),Rh(e).call(e)}}}const vr=[];for(let t=0;t<256;++t)vr.push((t+256).toString(16).slice(1));function Tbe(t,e=0){return(vr[t[e+0]]+vr[t[e+1]]+vr[t[e+2]]+vr[t[e+3]]+"-"+vr[t[e+4]]+vr[t[e+5]]+"-"+vr[t[e+6]]+vr[t[e+7]]+"-"+vr[t[e+8]]+vr[t[e+9]]+"-"+vr[t[e+10]]+vr[t[e+11]]+vr[t[e+12]]+vr[t[e+13]]+vr[t[e+14]]+vr[t[e+15]]).toLowerCase()}let l2;const Ibe=new Uint8Array(16);function Rbe(){if(!l2){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");l2=crypto.getRandomValues.bind(crypto)}return l2(Ibe)}const $be=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var mU={randomUUID:$be};function kbe(t,e,r){var i;t=t||{};const n=t.random??((i=t.rng)==null?void 0:i.call(t))??Rbe();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Tbe(n)}function td(t,e,r){return mU.randomUUID&&!t?mU.randomUUID():kbe(t)}class Br{constructor(){}static getRange(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,i=-1e9,s=1e9,a=-1e9,o;if(r.length>0)for(let l=0;l<r.length;l++)o=e[r[l]],s>o.shape.boundingBox.left&&(s=o.shape.boundingBox.left),a<o.shape.boundingBox.right&&(a=o.shape.boundingBox.right),n>o.shape.boundingBox.top&&(n=o.shape.boundingBox.top),i<o.shape.boundingBox.bottom&&(i=o.shape.boundingBox.bottom);return s===1e9&&a===-1e9&&n===1e9&&i===-1e9&&(n=0,i=0,s=0,a=0),{minX:s,maxX:a,minY:n,maxY:i}}static getRangeCore(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,i=-1e9,s=1e9,a=-1e9,o;if(r.length>0)for(let l=0;l<r.length;l++)o=e[r[l]],s>o.x&&(s=o.x),a<o.x&&(a=o.x),n>o.y&&(n=o.y),i<o.y&&(i=o.y);return s===1e9&&a===-1e9&&n===1e9&&i===-1e9&&(n=0,i=0,s=0,a=0),{minX:s,maxX:a,minY:n,maxY:i}}static findCenter(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}static cloneOptions(e,r){const n={};return r===void 0||r==="node"?(ft(n,e.options,!0),n.x=e.x,n.y=e.y,n.amountOfConnections=e.edges.length):ft(n,e.options,!0),n}}class Dbe extends xt{constructor(e,r,n,i,s,a){super(e,r,n,i,s,a),this.isCluster=!0,this.containedNodes={},this.containedEdges={}}_openChildCluster(e){const r=this.body.nodes[e];if(this.containedNodes[e]===void 0)throw new Error("node with id: "+e+" not in current cluster");if(!r.isCluster)throw new Error("node with id: "+e+" is not a cluster");delete this.containedNodes[e],qe(r.edges,n=>{delete this.containedEdges[n.id]}),qe(r.containedNodes,(n,i)=>{this.containedNodes[i]=n}),r.containedNodes={},qe(r.containedEdges,(n,i)=>{this.containedEdges[i]=n}),r.containedEdges={},qe(r.edges,n=>{qe(this.edges,i=>{var s,a;const o=et(s=i.clusteringEdgeReplacingIds).call(s,n.id);o!==-1&&(qe(n.clusteringEdgeReplacingIds,l=>{i.clusteringEdgeReplacingIds.push(l),this.body.edges[l].edgeReplacedById=i.id}),os(a=i.clusteringEdgeReplacingIds).call(a,o,1))})}),r.edges=[]}}class Mbe{constructor(e){this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},Ht(this.options,this.defaultOptions),this.body.emitter.on("_resetData",()=>{this.clusteredNodes={},this.clusteredEdges={}})}clusterByHubsize(e,r){e===void 0?e=this._getHubSize():typeof e=="object"&&(r=this._checkOptions(e),e=this._getHubSize());const n=[];for(let i=0;i<this.body.nodeIndices.length;i++){const s=this.body.nodes[this.body.nodeIndices[i]];s.edges.length>=e&&n.push(s.id)}for(let i=0;i<n.length;i++)this.clusterByConnection(n[i],r,!0);this.body.emitter.emit("_dataChanged")}cluster(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.joinCondition===void 0)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);const n={},i={};qe(this.body.nodes,(s,a)=>{s.options&&e.joinCondition(s.options)===!0&&(n[a]=s,qe(s.edges,o=>{this.clusteredEdges[o.id]===void 0&&(i[o.id]=o)}))}),this._cluster(n,i,e,r)}clusterByEdgeCount(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;r=this._checkOptions(r);const i=[],s={};let a,o,l;for(let c=0;c<this.body.nodeIndices.length;c++){const d={},h={},f=this.body.nodeIndices[c],p=this.body.nodes[f];if(s[f]===void 0){l=0,o=[];for(let v=0;v<p.edges.length;v++)a=p.edges[v],this.clusteredEdges[a.id]===void 0&&(a.toId!==a.fromId&&l++,o.push(a));if(l===e){const v=function(x){if(r.joinCondition===void 0||r.joinCondition===null)return!0;const g=Br.cloneOptions(x);return r.joinCondition(g)};let y=!0;for(let x=0;x<o.length;x++){a=o[x];const g=this._getConnectedId(a,f);if(v(p))h[a.id]=a,d[f]=p,d[g]=this.body.nodes[g],s[f]=!0;else{y=!1;break}}if(Rt(d).length>0&&Rt(h).length>0&&y===!0){const g=function(){for(let m=0;m<i.length;++m)for(const w in d)if(i[m].nodes[w]!==void 0)return i[m]}();if(g!==void 0){for(const m in d)g.nodes[m]===void 0&&(g.nodes[m]=d[m]);for(const m in h)g.edges[m]===void 0&&(g.edges[m]=h[m])}else i.push({nodes:d,edges:h})}}}}for(let c=0;c<i.length;c++)this._cluster(i[c].nodes,i[c].edges,r,!1);n===!0&&this.body.emitter.emit("_dataChanged")}clusterOutliers(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(1,e,r)}clusterBridges(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(2,e,r)}clusterByConnection(e,r){var n;let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No nodeId supplied to clusterByConnection!");if(this.body.nodes[e]===void 0)throw new Error("The nodeId given to clusterByConnection does not exist!");const s=this.body.nodes[e];r=this._checkOptions(r,s),r.clusterNodeProperties.x===void 0&&(r.clusterNodeProperties.x=s.x),r.clusterNodeProperties.y===void 0&&(r.clusterNodeProperties.y=s.y),r.clusterNodeProperties.fixed===void 0&&(r.clusterNodeProperties.fixed={},r.clusterNodeProperties.fixed.x=s.options.fixed.x,r.clusterNodeProperties.fixed.y=s.options.fixed.y);const a={},o={},l=s.id,c=Br.cloneOptions(s);a[l]=s;for(let h=0;h<s.edges.length;h++){const f=s.edges[h];if(this.clusteredEdges[f.id]===void 0){const p=this._getConnectedId(f,l);if(this.clusteredNodes[p]===void 0)if(p!==l)if(r.joinCondition===void 0)o[f.id]=f,a[p]=this.body.nodes[p];else{const v=Br.cloneOptions(this.body.nodes[p]);r.joinCondition(c,v)===!0&&(o[f.id]=f,a[p]=this.body.nodes[p])}else o[f.id]=f}}const d=Eu(n=Rt(a)).call(n,function(h){return a[h].id});for(const h in a){if(!Object.prototype.hasOwnProperty.call(a,h))continue;const f=a[h];for(let p=0;p<f.edges.length;p++){const v=f.edges[p];et(d).call(d,this._getConnectedId(v,f.id))>-1&&(o[v.id]=v)}}this._cluster(a,o,r,i)}_createClusterEdges(e,r,n,i){let s,a,o,l,c,d;const h=Rt(e),f=[];for(let y=0;y<h.length;y++){a=h[y],o=e[a];for(let x=0;x<o.edges.length;x++)s=o.edges[x],this.clusteredEdges[s.id]===void 0&&(s.toId==s.fromId?r[s.id]=s:s.toId==a?(l=n.id,c=s.fromId,d=c):(l=s.toId,c=n.id,d=l),e[d]===void 0&&f.push({edge:s,fromId:c,toId:l}))}const p=[],v=function(y){for(let x=0;x<p.length;x++){const g=p[x],m=y.fromId===g.fromId&&y.toId===g.toId,w=y.fromId===g.toId&&y.toId===g.fromId;if(m||w)return g}return null};for(let y=0;y<f.length;y++){const x=f[y],g=x.edge;let m=v(x);m===null?(m=this._createClusteredEdge(x.fromId,x.toId,g,i),p.push(m)):m.clusteringEdgeReplacingIds.push(g.id),this.body.edges[g.id].edgeReplacedById=m.id,this._backupEdgeOptions(g),g.setOptions({physics:!1})}}_checkOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.clusterEdgeProperties===void 0&&(e.clusterEdgeProperties={}),e.clusterNodeProperties===void 0&&(e.clusterNodeProperties={}),e}_cluster(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;const s=[];for(const d in e)Object.prototype.hasOwnProperty.call(e,d)&&this.clusteredNodes[d]!==void 0&&s.push(d);for(let d=0;d<s.length;++d)delete e[s[d]];if(Rt(e).length==0||Rt(e).length==1&&n.clusterNodeProperties.allowSingleNodeCluster!=!0)return;let a=ft({},n.clusterNodeProperties);if(n.processProperties!==void 0){const d=[];for(const f in e)if(Object.prototype.hasOwnProperty.call(e,f)){const p=Br.cloneOptions(e[f]);d.push(p)}const h=[];for(const f in r)if(Object.prototype.hasOwnProperty.call(r,f)&&f.substr(0,12)!=="clusterEdge:"){const p=Br.cloneOptions(r[f],"edge");h.push(p)}if(a=n.processProperties(a,d,h),!a)throw new Error("The processProperties function does not return properties!")}a.id===void 0&&(a.id="cluster:"+td());const o=a.id;a.label===void 0&&(a.label="cluster");let l;a.x===void 0&&(l=this._getClusterPosition(e),a.x=l.x),a.y===void 0&&(l===void 0&&(l=this._getClusterPosition(e)),a.y=l.y),a.id=o;const c=this.body.functions.createNode(a,Dbe);c.containedNodes=e,c.containedEdges=r,c.clusterEdgeProperties=n.clusterEdgeProperties,this.body.nodes[a.id]=c,this._clusterEdges(e,r,a,n.clusterEdgeProperties),a.id=void 0,i===!0&&this.body.emitter.emit("_dataChanged")}_backupEdgeOptions(e){this.clusteredEdges[e.id]===void 0&&(this.clusteredEdges[e.id]={physics:e.options.physics})}_restoreEdge(e){const r=this.clusteredEdges[e.id];r!==void 0&&(e.setOptions({physics:r.physics}),delete this.clusteredEdges[e.id])}isCluster(e){return this.body.nodes[e]!==void 0?this.body.nodes[e].isCluster===!0:(console.error("Node does not exist."),!1)}_getClusterPosition(e){const r=Rt(e);let n=e[r[0]].x,i=e[r[0]].x,s=e[r[0]].y,a=e[r[0]].y,o;for(let l=1;l<r.length;l++)o=e[r[l]],n=o.x<n?o.x:n,i=o.x>i?o.x:i,s=o.y<s?o.y:s,a=o.y>a?o.y:a;return{x:.5*(n+i),y:.5*(s+a)}}openCluster(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No clusterNodeId supplied to openCluster.");const i=this.body.nodes[e];if(i===void 0)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(i.isCluster!==!0||i.containedNodes===void 0||i.containedEdges===void 0)throw new Error("The node:"+e+" is not a valid cluster.");const s=this.findNode(e),a=et(s).call(s,e)-1;if(a>=0){const d=s[a];this.body.nodes[d]._openChildCluster(e),delete this.body.nodes[e],n===!0&&this.body.emitter.emit("_dataChanged");return}const o=i.containedNodes,l=i.containedEdges;if(r!==void 0&&r.releaseFunction!==void 0&&typeof r.releaseFunction=="function"){const d={},h={x:i.x,y:i.y};for(const p in o)if(Object.prototype.hasOwnProperty.call(o,p)){const v=this.body.nodes[p];d[p]={x:v.x,y:v.y}}const f=r.releaseFunction(h,d);for(const p in o)if(Object.prototype.hasOwnProperty.call(o,p)){const v=this.body.nodes[p];f[p]!==void 0&&(v.x=f[p].x===void 0?i.x:f[p].x,v.y=f[p].y===void 0?i.y:f[p].y)}}else qe(o,function(d){d.options.fixed.x===!1&&(d.x=i.x),d.options.fixed.y===!1&&(d.y=i.y)});for(const d in o)if(Object.prototype.hasOwnProperty.call(o,d)){const h=this.body.nodes[d];h.vx=i.vx,h.vy=i.vy,h.setOptions({physics:!0}),delete this.clusteredNodes[d]}const c=[];for(let d=0;d<i.edges.length;d++)c.push(i.edges[d]);for(let d=0;d<c.length;d++){const h=c[d],f=this._getConnectedId(h,e),p=this.clusteredNodes[f];for(let v=0;v<h.clusteringEdgeReplacingIds.length;v++){const y=h.clusteringEdgeReplacingIds[v],x=this.body.edges[y];if(x!==void 0)if(p!==void 0){const g=this.body.nodes[p.clusterId];g.containedEdges[x.id]=x,delete l[x.id];let m=x.fromId,w=x.toId;x.toId==f?w=p.clusterId:m=p.clusterId,this._createClusteredEdge(m,w,x,g.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(x)}h.remove()}for(const d in l)Object.prototype.hasOwnProperty.call(l,d)&&this._restoreEdge(l[d]);delete this.body.nodes[e],n===!0&&this.body.emitter.emit("_dataChanged")}getNodesInCluster(e){const r=[];if(this.isCluster(e)===!0){const n=this.body.nodes[e].containedNodes;for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&r.push(this.body.nodes[i].id)}return r}findNode(e){const r=[];let i=0,s;for(;this.clusteredNodes[e]!==void 0&&i<100;){if(s=this.body.nodes[e],s===void 0)return[];r.push(s.id),e=this.clusteredNodes[e].clusterId,i++}return s=this.body.nodes[e],s===void 0?[]:(r.push(s.id),vo(r).call(r),r)}updateClusteredNode(e,r){if(e===void 0)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(r===void 0)throw new Error("No newOptions supplied to updateClusteredNode.");if(this.body.nodes[e]===void 0)throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(r),this.body.emitter.emit("_dataChanged")}updateEdge(e,r){if(e===void 0)throw new Error("No startEdgeId supplied to updateEdge.");if(r===void 0)throw new Error("No newOptions supplied to updateEdge.");if(this.body.edges[e]===void 0)throw new Error("The startEdgeId supplied to updateEdge does not exist.");const n=this.getClusteredEdges(e);for(let i=0;i<n.length;i++)this.body.edges[n[i]].setOptions(r);this.body.emitter.emit("_dataChanged")}getClusteredEdges(e){const r=[];let i=0;for(;e!==void 0&&this.body.edges[e]!==void 0&&i<100;)r.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,i++;return vo(r).call(r),r}getBaseEdge(e){return this.getBaseEdges(e)[0]}getBaseEdges(e){const r=[e],n=[],i=[],s=100;let a=0;for(;r.length>0&&a<s;){const o=r.pop();if(o===void 0)continue;const l=this.body.edges[o];if(l===void 0)continue;a++;const c=l.clusteringEdgeReplacingIds;if(c===void 0)i.push(o);else for(let d=0;d<c.length;++d){const h=c[d];et(r).call(r,c)!==-1||et(n).call(n,c)!==-1||r.push(h)}n.push(o)}return i}_getConnectedId(e,r){return e.toId!=r?e.toId:(e.fromId!=r,e.fromId)}_getHubSize(){let e=0,r=0,n=0,i=0;for(let l=0;l<this.body.nodeIndices.length;l++){const c=this.body.nodes[this.body.nodeIndices[l]];c.edges.length>i&&(i=c.edges.length),e+=c.edges.length,r+=Math.pow(c.edges.length,2),n+=1}e=e/n,r=r/n;const s=r-Math.pow(e,2),a=Math.sqrt(s);let o=Math.floor(e+2*a);return o>i&&(o=i),o}_createClusteredEdge(e,r,n,i,s){const a=Br.cloneOptions(n,"edge");ft(a,i),a.from=e,a.to=r,a.id="clusterEdge:"+td(),s!==void 0&&ft(a,s);const o=this.body.functions.createEdge(a);return o.clusteringEdgeReplacingIds=[n.id],o.connect(),this.body.edges[o.id]=o,o}_clusterEdges(e,r,n,i){if(r instanceof ga){const s=r,a={};a[s.id]=s,r=a}if(e instanceof xt){const s=e,a={};a[s.id]=s,e=a}if(n==null)throw new Error("_clusterEdges: parameter clusterNode required");i===void 0&&(i=n.clusterEdgeProperties),this._createClusterEdges(e,r,n,i);for(const s in r)if(Object.prototype.hasOwnProperty.call(r,s)&&this.body.edges[s]!==void 0){const a=this.body.edges[s];this._backupEdgeOptions(a),a.setOptions({physics:!1})}for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(this.clusteredNodes[s]={clusterId:n.id,node:this.body.nodes[s]},this.body.nodes[s].setOptions({physics:!1}))}_getClusterNodeForNode(e){if(e===void 0)return;const r=this.clusteredNodes[e];if(r===void 0)return;const n=r.clusterId;if(n!==void 0)return this.body.nodes[n]}_filter(e,r){const n=[];return qe(e,i=>{r(i)&&n.push(i)}),n}_updateState(){let e;const r=[],n={},i=l=>{qe(this.body.nodes,c=>{c.isCluster===!0&&l(c)})};for(e in this.clusteredNodes){if(!Object.prototype.hasOwnProperty.call(this.clusteredNodes,e))continue;this.body.nodes[e]===void 0&&r.push(e)}i(function(l){for(let c=0;c<r.length;c++)delete l.containedNodes[r[c]]});for(let l=0;l<r.length;l++)delete this.clusteredNodes[r[l]];qe(this.clusteredEdges,l=>{const c=this.body.edges[l];(c===void 0||!c.endPointsValid())&&(n[l]=l)}),i(function(l){qe(l.containedEdges,(c,d)=>{!c.endPointsValid()&&!n[d]&&(n[d]=d)})}),qe(this.body.edges,(l,c)=>{let d=!0;const h=l.clusteringEdgeReplacingIds;if(h!==void 0){let f=0;qe(h,p=>{const v=this.body.edges[p];v!==void 0&&v.endPointsValid()&&(f+=1)}),d=f>0}(!l.endPointsValid()||!d)&&(n[c]=c)}),i(l=>{qe(n,c=>{delete l.containedEdges[c],qe(l.edges,(d,h)=>{if(d.id===c){l.edges[h]=null;return}d.clusteringEdgeReplacingIds=this._filter(d.clusteringEdgeReplacingIds,function(f){return!n[f]})}),l.edges=this._filter(l.edges,function(d){return d!==null})})}),qe(n,l=>{delete this.clusteredEdges[l]}),qe(n,l=>{delete this.body.edges[l]});const s=Rt(this.body.edges);qe(s,l=>{const c=this.body.edges[l],d=this._isClusteredNode(c.fromId)||this._isClusteredNode(c.toId);if(d!==this._isClusteredEdge(c.id))if(d){const h=this._getClusterNodeForNode(c.fromId);h!==void 0&&this._clusterEdges(this.body.nodes[c.fromId],c,h);const f=this._getClusterNodeForNode(c.toId);f!==void 0&&this._clusterEdges(this.body.nodes[c.toId],c,f)}else delete this._clusterEdges[l],this._restoreEdge(c)});let a=!1,o=!0;for(;o;){const l=[];i(function(c){const d=Rt(c.containedNodes).length,h=c.options.allowSingleNodeCluster===!0;(h&&d<1||!h&&d<2)&&l.push(c.id)});for(let c=0;c<l.length;++c)this.openCluster(l[c],{},!1);o=l.length>0,a=a||o}a&&this._updateState()}_isClusteredNode(e){return this.clusteredNodes[e]!==void 0}_isClusteredEdge(e){return this.clusteredEdges[e]!==void 0}}class qbe{constructor(e,r){this.body=e,this.canvas=r,this.redrawRequested=!1,this.requestAnimationFrameRequestId=void 0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},Ht(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.on("dragStart",()=>{this.dragging=!0}),this.body.emitter.on("dragEnd",()=>{this.dragging=!1}),this.body.emitter.on("zoom",()=>{this.zooming=!0,window.clearTimeout(this.zoomTimeoutId),this.zoomTimeoutId=ls(()=>{var r;this.zooming=!1,re(r=this._requestRedraw).call(r,this)()},250)}),this.body.emitter.on("_resizeNodes",()=>{this._resizeNodes()}),this.body.emitter.on("_redraw",()=>{this.renderingActive===!1&&this._redraw()}),this.body.emitter.on("_blockRedraw",()=>{this.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",()=>{this.allowRedraw=!0,this.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",re(e=this._requestRedraw).call(e,this)),this.body.emitter.on("_startRendering",()=>{this.renderRequests+=1,this.renderingActive=!0,this._startRendering()}),this.body.emitter.on("_stopRendering",()=>{this.renderRequests-=1,this.renderingActive=this.renderRequests>0,this.requestAnimationFrameRequestId=void 0}),this.body.emitter.on("destroy",()=>{this.renderRequests=0,this.allowRedraw=!1,this.renderingActive=!1,window.cancelAnimationFrame(this.requestAnimationFrameRequestId),this.body.emitter.off()})}setOptions(e){e!==void 0&&cc(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,e)}_startRendering(){if(this.renderingActive===!0&&this.requestAnimationFrameRequestId===void 0){var e;this.requestAnimationFrameRequestId=window.requestAnimationFrame(re(e=this._renderStep).call(e,this),this.simulationInterval)}}_renderStep(){this.renderingActive===!0&&(this.requestAnimationFrameRequestId=void 0,this._startRendering(),this._redraw())}redraw(){this.body.emitter.emit("setSize"),this._redraw()}_requestRedraw(){this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,window.requestAnimationFrame(()=>{this._redraw(!1)}))}_redraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;const r={drawExternalLabels:null};(this.canvas.frame.canvas.width===0||this.canvas.frame.canvas.height===0)&&this.canvas.setSize(),this.canvas.setTransform();const n=this.canvas.getContext(),i=this.canvas.frame.canvas.clientWidth,s=this.canvas.frame.canvas.clientHeight;if(n.clearRect(0,0,i,s),this.canvas.frame.clientWidth===0)return;if(n.save(),n.translate(this.body.view.translation.x,this.body.view.translation.y),n.scale(this.body.view.scale,this.body.view.scale),n.beginPath(),this.body.emitter.emit("beforeDrawing",n),n.closePath(),e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawEdges(n),this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1){const{drawExternalLabels:a}=this._drawNodes(n,e);r.drawExternalLabels=a}e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawArrows(n),r.drawExternalLabels!=null&&r.drawExternalLabels(),e===!1&&this._drawSelectionBox(n),n.beginPath(),this.body.emitter.emit("afterDrawing",n),n.closePath(),n.restore(),e===!0&&n.clearRect(0,0,i,s)}}_resizeNodes(){this.canvas.setTransform();const e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);const r=this.body.nodes;let n;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n=r[i],n.resize(e),n.updateBoundingBox(e,n.selected));e.restore()}_drawNodes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.nodes,i=this.body.nodeIndices;let s;const a=[],o=[],l=20,c=this.canvas.DOMtoCanvas({x:-l,y:-l}),d=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+l,y:this.canvas.frame.canvas.clientHeight+l}),h={top:c.y,left:c.x,bottom:d.y,right:d.x},f=[];for(let x=0;x<i.length;x++)if(s=n[i[x]],s.hover)o.push(i[x]);else if(s.isSelected())a.push(i[x]);else if(r===!0){const g=s.draw(e);g.drawExternalLabel!=null&&f.push(g.drawExternalLabel)}else if(s.isBoundingBoxOverlappingWith(h)===!0){const g=s.draw(e);g.drawExternalLabel!=null&&f.push(g.drawExternalLabel)}else s.updateBoundingBox(e,s.selected);let p;const v=a.length,y=o.length;for(p=0;p<v;p++){s=n[a[p]];const x=s.draw(e);x.drawExternalLabel!=null&&f.push(x.drawExternalLabel)}for(p=0;p<y;p++){s=n[o[p]];const x=s.draw(e);x.drawExternalLabel!=null&&f.push(x.drawExternalLabel)}return{drawExternalLabels:()=>{for(const x of f)x()}}}_drawEdges(e){const r=this.body.edges,n=this.body.edgeIndices;for(let i=0;i<n.length;i++){const s=r[n[i]];s.connected===!0&&s.draw(e)}}_drawArrows(e){const r=this.body.edges,n=this.body.edgeIndices;for(let i=0;i<n.length;i++){const s=r[n[i]];s.connected===!0&&s.drawArrows(e)}}_drawSelectionBox(e){if(this.body.selectionBox.show){e.beginPath();const r=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,n=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;e.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,r,n),e.fillStyle="rgba(151, 194, 252, 0.2)",e.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,r,n),e.strokeStyle="rgba(151, 194, 252, 1)",e.stroke()}else e.closePath()}}var u2,vU;function Abe(){if(vU)return u2;vU=1,FY();var t=it();return u2=t.setInterval,u2}var c2,gU;function Fbe(){return gU||(gU=1,c2=Abe()),c2}var Lbe=Fbe(),Bbe=Pe(Lbe);function Ap(t,e){e.inputHandler=function(r){r.isFirst&&e(r)},t.on("hammer.input",e.inputHandler)}function DQ(t,e){return e.inputHandler=function(r){r.isFinal&&e(r)},t.on("hammer.input",e.inputHandler)}class zbe{constructor(e){this.body=e,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},Ht(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.once("resize",r=>{r.width!==0&&(this.body.view.translation.x=r.width*.5),r.height!==0&&(this.body.view.translation.y=r.height*.5)}),this.body.emitter.on("setSize",re(e=this.setSize).call(e,this)),this.body.emitter.on("destroy",()=>{this.hammerFrame.destroy(),this.hammer.destroy(),this._cleanUp()})}setOptions(e){if(e!==void 0&&cc(["width","height","autoResize"],this.options,e),this._cleanUp(),this.options.autoResize===!0){var r;if(window.ResizeObserver){const i=new ResizeObserver(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")}),{frame:s}=this;i.observe(s),this._cleanupCallbacks.push(()=>{i.unobserve(s)})}else{const i=Bbe(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(()=>{clearInterval(i)})}const n=re(r=this._onResize).call(r,this);window.addEventListener("resize",n),this._cleanupCallbacks.push(()=>{window.removeEventListener("resize",n)})}}_cleanUp(){var e,r,n;lt(e=vo(r=os(n=this._cleanupCallbacks).call(n,0)).call(r)).call(e,i=>{try{i()}catch(s){console.error(s)}})}_onResize(){this.setSize(),this.body.emitter.emit("_redraw")}_getCameraState(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.pixelRatio;this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}_setCameraState(){if(this.cameraState.scale!==void 0&&this.frame.canvas.clientWidth!==0&&this.frame.canvas.clientHeight!==0&&this.pixelRatio!==0&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){const e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,r=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight;let n=this.cameraState.scale;e!=1&&r!=1?n=this.cameraState.scale*.5*(e+r):e!=1?n=this.cameraState.scale*e:r!=1&&(n=this.cameraState.scale*r),this.body.view.scale=n;const i=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),s={x:i.x-this.cameraState.position.x,y:i.y-this.cameraState.position.y};this.body.view.translation.x+=s.x*this.body.view.scale,this.body.view.translation.y+=s.y*this.body.view.scale}}_prepareValue(e){if(typeof e=="number")return e+"px";if(typeof e=="string"){if(et(e).call(e,"%")!==-1||et(e).call(e,"px")!==-1)return e;if(et(e).call(e,"%")===-1)return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}_create(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{const e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}_bindHammer(){this.hammer!==void 0&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new zl(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:zl.DIRECTION_ALL}),Ap(this.hammer,e=>{this.body.eventListeners.onTouch(e)}),this.hammer.on("tap",e=>{this.body.eventListeners.onTap(e)}),this.hammer.on("doubletap",e=>{this.body.eventListeners.onDoubleTap(e)}),this.hammer.on("press",e=>{this.body.eventListeners.onHold(e)}),this.hammer.on("panstart",e=>{this.body.eventListeners.onDragStart(e)}),this.hammer.on("panmove",e=>{this.body.eventListeners.onDrag(e)}),this.hammer.on("panend",e=>{this.body.eventListeners.onDragEnd(e)}),this.hammer.on("pinch",e=>{this.body.eventListeners.onPinch(e)}),this.frame.canvas.addEventListener("wheel",e=>{this.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("mousemove",e=>{this.body.eventListeners.onMouseMove(e)}),this.frame.canvas.addEventListener("contextmenu",e=>{this.body.eventListeners.onContext(e)}),this.hammerFrame=new zl(this.frame),DQ(this.hammerFrame,e=>{this.body.eventListeners.onRelease(e)})}setSize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.width,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.height;e=this._prepareValue(e),r=this._prepareValue(r);let n=!1;const i=this.frame.canvas.width,s=this.frame.canvas.height,a=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||r!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=r)this._getCameraState(a),this.frame.style.width=e,this.frame.style.height=r,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=r,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},n=!0;else{const o=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),l=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==o||this.frame.canvas.height!==l)&&this._getCameraState(a),this.frame.canvas.width!==o&&(this.frame.canvas.width=o,n=!0),this.frame.canvas.height!==l&&(this.frame.canvas.height=l,n=!0)}return n===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(i/this.pixelRatio),oldHeight:Math.round(s/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,n}getContext(){return this.frame.canvas.getContext("2d")}_determinePixelRatio(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");let r=1;typeof window<"u"&&(r=window.devicePixelRatio||1);const n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return r/n}_setPixelRatio(){this.pixelRatio=this._determinePixelRatio()}setTransform(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}_XconvertDOMtoCanvas(e){return(e-this.body.view.translation.x)/this.body.view.scale}_XconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.x}_YconvertDOMtoCanvas(e){return(e-this.body.view.translation.y)/this.body.view.scale}_YconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.y}canvasToDOM(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}DOMtoCanvas(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}function Ube(t,e){const r=Ht({nodes:e,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},t??{});if(!Dt(r.nodes))throw new TypeError("Nodes has to be an array of ids.");if(r.nodes.length===0&&(r.nodes=e),!(typeof r.minZoomLevel=="number"&&r.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!(typeof r.maxZoomLevel=="number"&&r.minZoomLevel<=r.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return r}class Wbe{constructor(e,r){var n,i;this.body=e,this.canvas=r,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",re(n=this.fit).call(n,this)),this.body.emitter.on("animationFinished",()=>{this.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",re(i=this.releaseNode).call(i,this))}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=e}fit(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;e=Ube(e,this.body.nodeIndices);const n=this.canvas.frame.canvas.clientWidth,i=this.canvas.frame.canvas.clientHeight;let s,a;if(n===0||i===0)a=1,s=Br.getRange(this.body.nodes,e.nodes);else if(r===!0){let c=0;for(const f in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,f)&&this.body.nodes[f].predefinedPosition===!0&&(c+=1);if(c>.5*this.body.nodeIndices.length){this.fit(e,!1);return}s=Br.getRange(this.body.nodes,e.nodes),a=12.662/(this.body.nodeIndices.length+7.4147)+.0964822;const h=Math.min(n/600,i/600);a*=h}else{this.body.emitter.emit("_resizeNodes"),s=Br.getRange(this.body.nodes,e.nodes);const c=Math.abs(s.maxX-s.minX)*1.1,d=Math.abs(s.maxY-s.minY)*1.1,h=n/c,f=i/d;a=h<=f?h:f}a>e.maxZoomLevel?a=e.maxZoomLevel:a<e.minZoomLevel&&(a=e.minZoomLevel);const l={position:Br.findCenter(s),scale:a,animation:e.animation};this.moveTo(l)}focus(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.body.nodes[e]!==void 0){const n={x:this.body.nodes[e].x,y:this.body.nodes[e].y};r.position=n,r.lockedOnNode=e,this.moveTo(r)}else console.error("Node: "+e+" cannot be found.")}moveTo(e){if(e===void 0){e={};return}if(e.offset!=null){if(e.offset.x!=null){if(e.offset.x=+e.offset.x,!Za(e.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else e.offset.x=0;if(e.offset.y!=null){if(e.offset.y=+e.offset.y,!Za(e.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else e.offset.x=0}else e.offset={x:0,y:0};if(e.position!=null){if(e.position.x!=null){if(e.position.x=+e.position.x,!Za(e.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else e.position.x=0;if(e.position.y!=null){if(e.position.y=+e.position.y,!Za(e.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else e.position.x=0}else e.position=this.getViewPosition();if(e.scale!=null){if(e.scale=+e.scale,!(e.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else e.scale=this.body.view.scale;e.animation===void 0&&(e.animation={duration:0}),e.animation===!1&&(e.animation={duration:0}),e.animation===!0&&(e.animation={}),e.animation.duration===void 0&&(e.animation.duration=1e3),e.animation.easingFunction===void 0&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)}animateView(e){if(e===void 0)return;this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),e.locked===!0&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),this.easingTime!=0&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;const r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:r.x-e.position.x,y:r.y-e.position.y};if(this.targetTranslation={x:this.sourceTranslation.x+n.x*this.targetScale+e.offset.x,y:this.sourceTranslation.y+n.y*this.targetScale+e.offset.y},e.animation.duration===0)if(this.lockedOnNodeId!=null){var i;this.viewFunction=re(i=this._lockedRedraw).call(i,this),this.body.emitter.on("initRedraw",this.viewFunction)}else this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw");else{var s;this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=re(s=this._transitionRedraw).call(s,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}_lockedRedraw(){const e={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:r.x-e.x,y:r.y-e.y},i=this.body.view.translation,s={x:i.x+n.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:i.y+n.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=s}releaseNode(){this.lockedOnNodeId!==void 0&&this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}_transitionRedraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.easingTime+=this.animationSpeed,this.easingTime=e===!0?1:this.easingTime;const r=Jve[this.animationEasingFunction](this.easingTime);if(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*r,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*r,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*r},this.easingTime>=1){if(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,this.lockedOnNodeId!=null){var n;this.viewFunction=re(n=this._lockedRedraw).call(n,this),this.body.emitter.on("initRedraw",this.viewFunction)}this.body.emitter.emit("animationFinished")}}getScale(){return this.body.view.scale}getViewPosition(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}function yU(t){var e=t&&t.preventDefault||!1,r=t&&t.container||window,n={},i={keydown:{},keyup:{}},s={},a;for(a=97;a<=122;a++)s[String.fromCharCode(a)]={code:65+(a-97),shift:!1};for(a=65;a<=90;a++)s[String.fromCharCode(a)]={code:a,shift:!0};for(a=0;a<=9;a++)s[""+a]={code:48+a,shift:!1};for(a=1;a<=12;a++)s["F"+a]={code:111+a,shift:!1};for(a=0;a<=9;a++)s["num"+a]={code:96+a,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var o=function(d){c(d,"keydown")},l=function(d){c(d,"keyup")},c=function(d,h){if(i[h][d.keyCode]!==void 0){for(var f=i[h][d.keyCode],p=0;p<f.length;p++)(f[p].shift===void 0||f[p].shift==!0&&d.shiftKey==!0||f[p].shift==!1&&d.shiftKey==!1)&&f[p].fn(d);e==!0&&d.preventDefault()}};return n.bind=function(d,h,f){if(f===void 0&&(f="keydown"),s[d]===void 0)throw new Error("unsupported key: "+d);i[f][s[d].code]===void 0&&(i[f][s[d].code]=[]),i[f][s[d].code].push({fn:h,shift:s[d].shift})},n.bindAll=function(d,h){h===void 0&&(h="keydown");for(var f in s)s.hasOwnProperty(f)&&n.bind(f,d,h)},n.getKey=function(d){for(var h in s)if(s.hasOwnProperty(h)){if(d.shiftKey==!0&&s[h].shift==!0&&d.keyCode==s[h].code)return h;if(d.shiftKey==!1&&s[h].shift==!1&&d.keyCode==s[h].code)return h;if(d.keyCode==s[h].code&&h=="shift")return h}return"unknown key, currently not supported"},n.unbind=function(d,h,f){if(f===void 0&&(f="keydown"),s[d]===void 0)throw new Error("unsupported key: "+d);if(h!==void 0){var p=[],v=i[f][s[d].code];if(v!==void 0)for(var y=0;y<v.length;y++)v[y].fn==h&&v[y].shift==s[d].shift||p.push(i[f][s[d].code][y]);i[f][s[d].code]=p}else i[f][s[d].code]=[]},n.reset=function(){i={keydown:{},keyup:{}}},n.destroy=function(){i={keydown:{},keyup:{}},r.removeEventListener("keydown",o,!0),r.removeEventListener("keyup",l,!0)},r.addEventListener("keydown",o,!0),r.addEventListener("keyup",l,!0),n}class Vbe{constructor(e,r){this.body=e,this.canvas=r,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",()=>{this.activated=!0,this.configureKeyboardBindings()}),this.body.emitter.on("deactivate",()=>{this.activated=!1,this.configureKeyboardBindings()}),this.body.emitter.on("destroy",()=>{this.keycharm!==void 0&&this.keycharm.destroy()}),this.options={}}setOptions(e){e!==void 0&&(this.options=e,this.create())}create(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}cleanNavigation(){if(this.navigationHammers.length!=0){for(let e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}loadNavigationElements(){this.cleanNavigation(),this.navigationDOM={};const e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],r=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(let a=0;a<e.length;a++){this.navigationDOM[e[a]]=document.createElement("div"),this.navigationDOM[e[a]].className="vis-button vis-"+e[a],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[a]]);const o=new zl(this.navigationDOM[e[a]]);if(r[a]==="_fit"){var n;Ap(o,re(n=this._fit).call(n,this))}else{var i;Ap(o,re(i=this.bindToRedraw).call(i,this,r[a]))}this.navigationHammers.push(o)}const s=new zl(this.canvas.frame);DQ(s,()=>{this._stopMovement()}),this.navigationHammers.push(s),this.iconsCreated=!0}bindToRedraw(e){if(this.boundFunctions[e]===void 0){var r;this.boundFunctions[e]=re(r=this[e]).call(r,this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering")}}unbindFromRedraw(e){this.boundFunctions[e]!==void 0&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}_fit(){new Date().valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=new Date().valueOf())}_stopMovement(){for(const e in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}_moveUp(){this.body.view.translation.y+=this.options.keyboard.speed.y}_moveDown(){this.body.view.translation.y-=this.options.keyboard.speed.y}_moveLeft(){this.body.view.translation.x+=this.options.keyboard.speed.x}_moveRight(){this.body.view.translation.x-=this.options.keyboard.speed.x}_zoomIn(){const e=this.body.view.scale,r=this.body.view.scale*(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=r/e,s=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,a=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=r,this.body.view.translation={x:s,y:a},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}_zoomOut(){const e=this.body.view.scale,r=this.body.view.scale/(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=r/e,s=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,a=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=r,this.body.view.translation={x:s,y:a},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}configureKeyboardBindings(){if(this.keycharm!==void 0&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=yU({container:window,preventDefault:!0}):this.keycharm=yU({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0)){var e,r,n,i,s,a,o,l,c,d,h,f,p,v,y,x,g,m,w,b,_,E,N,S;re(e=this.keycharm).call(e,"up",()=>{this.bindToRedraw("_moveUp")},"keydown"),re(r=this.keycharm).call(r,"down",()=>{this.bindToRedraw("_moveDown")},"keydown"),re(n=this.keycharm).call(n,"left",()=>{this.bindToRedraw("_moveLeft")},"keydown"),re(i=this.keycharm).call(i,"right",()=>{this.bindToRedraw("_moveRight")},"keydown"),re(s=this.keycharm).call(s,"=",()=>{this.bindToRedraw("_zoomIn")},"keydown"),re(a=this.keycharm).call(a,"num+",()=>{this.bindToRedraw("_zoomIn")},"keydown"),re(o=this.keycharm).call(o,"num-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),re(l=this.keycharm).call(l,"-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),re(c=this.keycharm).call(c,"[",()=>{this.bindToRedraw("_zoomOut")},"keydown"),re(d=this.keycharm).call(d,"]",()=>{this.bindToRedraw("_zoomIn")},"keydown"),re(h=this.keycharm).call(h,"pageup",()=>{this.bindToRedraw("_zoomIn")},"keydown"),re(f=this.keycharm).call(f,"pagedown",()=>{this.bindToRedraw("_zoomOut")},"keydown"),re(p=this.keycharm).call(p,"up",()=>{this.unbindFromRedraw("_moveUp")},"keyup"),re(v=this.keycharm).call(v,"down",()=>{this.unbindFromRedraw("_moveDown")},"keyup"),re(y=this.keycharm).call(y,"left",()=>{this.unbindFromRedraw("_moveLeft")},"keyup"),re(x=this.keycharm).call(x,"right",()=>{this.unbindFromRedraw("_moveRight")},"keyup"),re(g=this.keycharm).call(g,"=",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),re(m=this.keycharm).call(m,"num+",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),re(w=this.keycharm).call(w,"num-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),re(b=this.keycharm).call(b,"-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),re(_=this.keycharm).call(_,"[",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),re(E=this.keycharm).call(E,"]",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),re(N=this.keycharm).call(N,"pageup",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),re(S=this.keycharm).call(S,"pagedown",()=>{this.unbindFromRedraw("_zoomOut")},"keyup")}}}class Hbe{constructor(e,r,n){var i,s,a,o,l,c,d,h,f,p,v,y,x;this.body=e,this.canvas=r,this.selectionHandler=n,this.navigationHandler=new Vbe(e,r),this.body.eventListeners.onTap=re(i=this.onTap).call(i,this),this.body.eventListeners.onTouch=re(s=this.onTouch).call(s,this),this.body.eventListeners.onDoubleTap=re(a=this.onDoubleTap).call(a,this),this.body.eventListeners.onHold=re(o=this.onHold).call(o,this),this.body.eventListeners.onDragStart=re(l=this.onDragStart).call(l,this),this.body.eventListeners.onDrag=re(c=this.onDrag).call(c,this),this.body.eventListeners.onDragEnd=re(d=this.onDragEnd).call(d,this),this.body.eventListeners.onMouseWheel=re(h=this.onMouseWheel).call(h,this),this.body.eventListeners.onPinch=re(f=this.onPinch).call(f,this),this.body.eventListeners.onMouseMove=re(p=this.onMouseMove).call(p,this),this.body.eventListeners.onRelease=re(v=this.onRelease).call(v,this),this.body.eventListeners.onContext=re(y=this.onContext).call(y,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=re(x=this.getPointer).call(x,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},Ht(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("destroy",()=>{clearTimeout(this.popupTimer),delete this.body.functions.getPointer})}setOptions(e){e!==void 0&&(Dp(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,e),qn(this.options,e,"keyboard"),e.tooltip&&(Ht(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=Uj(e.tooltip.color)))),this.navigationHandler.setOptions(this.options)}getPointer(e){return{x:e.x-Gve(this.canvas.frame.canvas),y:e.y-Yve(this.canvas.frame.canvas)}}onTouch(e){new Date().valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=new Date().valueOf())}onTap(e){const r=this.getPointer(e.center),n=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(r,n),this.selectionHandler.commitAndEmit(r,e),this.selectionHandler.generateClickEvent("click",e,r)}onDoubleTap(e){const r=this.getPointer(e.center);this.selectionHandler.generateClickEvent("doubleClick",e,r)}onHold(e){const r=this.getPointer(e.center),n=this.selectionHandler.options.multiselect;this.checkSelectionChanges(r,n),this.selectionHandler.commitAndEmit(r,e),this.selectionHandler.generateClickEvent("click",e,r),this.selectionHandler.generateClickEvent("hold",e,r)}onRelease(e){if(new Date().valueOf()-this.touchTime>10){const r=this.getPointer(e.center);this.selectionHandler.generateClickEvent("release",e,r),this.touchTime=new Date().valueOf()}}onContext(e){const r=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler.generateClickEvent("oncontext",e,r)}checkSelectionChanges(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)===!0?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e)}_determineDifference(e,r){const n=function(i,s){const a=[];for(let o=0;o<i.length;o++){const l=i[o];et(s).call(s,l)===-1&&a.push(l)}return a};return{nodes:n(e.nodes,r.nodes),edges:n(e.edges,r.edges)}}onDragStart(e){if(this.drag.dragging)return;this.drag.pointer===void 0&&this.onTouch(e);const r=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=Ht({},this.body.view.translation),this.drag.nodeId=void 0,e.srcEvent.shiftKey){this.body.selectionBox.show=!0;const n=this.getPointer(e.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)}}else if(r!==void 0&&this.options.dragNodes===!0){this.drag.nodeId=r.id,r.isSelected()===!1&&this.selectionHandler.setSelection({nodes:[r.id]}),this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer);for(const n of this.selectionHandler.getSelectedNodes()){const i={id:n.id,node:n,x:n.x,y:n.y,xFixed:n.options.fixed.x,yFixed:n.options.fixed.y};n.options.fixed.x=!0,n.options.fixed.y=!0,this.drag.selection.push(i)}}else this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}onDrag(e){if(this.drag.pinched===!0)return;this.body.emitter.emit("unlockNode");const r=this.getPointer(e.center),n=this.drag.selection;if(n&&n.length&&this.options.dragNodes===!0){this.selectionHandler.generateClickEvent("dragging",e,r);const i=r.x-this.drag.pointer.x,s=r.y-this.drag.pointer.y;lt(n).call(n,a=>{const o=a.node;a.xFixed===!1&&(o.x=this.canvas._XconvertDOMtoCanvas(this.canvas._XconvertCanvasToDOM(a.x)+i)),a.yFixed===!1&&(o.y=this.canvas._YconvertDOMtoCanvas(this.canvas._YconvertCanvasToDOM(a.y)+s))}),this.body.emitter.emit("startSimulation")}else{if(e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,r,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)},this.body.emitter.emit("_requestRedraw")}if(this.options.dragView===!0&&!e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,r,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}const i=r.x-this.drag.pointer.x,s=r.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+i,y:this.drag.translation.y+s},this.body.emitter.emit("_requestRedraw")}}}onDragEnd(e){if(this.drag.dragging=!1,this.body.selectionBox.show){var r;this.body.selectionBox.show=!1;const n=this.body.selectionBox.position,i={minX:Math.min(n.start.x,n.end.x),minY:Math.min(n.start.y,n.end.y),maxX:Math.max(n.start.x,n.end.x),maxY:Math.max(n.start.y,n.end.y)},s=nn(r=this.body.nodeIndices).call(r,o=>{const l=this.body.nodes[o];return l.x>=i.minX&&l.x<=i.maxX&&l.y>=i.minY&&l.y<=i.maxY});lt(s).call(s,o=>this.selectionHandler.selectObject(this.body.nodes[o]));const a=this.getPointer(e.center);this.selectionHandler.commitAndEmit(a,e),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{const n=this.drag.selection;n&&n.length?(lt(n).call(n,function(i){i.node.options.fixed.x=i.xFixed,i.node.options.fixed.y=i.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}onPinch(e){const r=this.getPointer(e.center);this.drag.pinched=!0,this.pinch.scale===void 0&&(this.pinch.scale=1);const n=this.pinch.scale*e.scale;this.zoom(n,r)}zoom(e,r){if(this.options.zoomView===!0){const n=this.body.view.scale;e<1e-5&&(e=1e-5),e>10&&(e=10);let i;this.drag!==void 0&&this.drag.dragging===!0&&(i=this.canvas.DOMtoCanvas(this.drag.pointer));const s=this.body.view.translation,a=e/n,o=(1-a)*r.x+s.x*a,l=(1-a)*r.y+s.y*a;if(this.body.view.scale=e,this.body.view.translation={x:o,y:l},i!=null){const c=this.canvas.canvasToDOM(i);this.drag.pointer.x=c.x,this.drag.pointer.y=c.y}this.body.emitter.emit("_requestRedraw"),n<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:r}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:r})}}onMouseWheel(e){if(this.options.zoomView===!0){if(e.deltaY!==0){let r=this.body.view.scale;r*=1+(e.deltaY<0?1:-1)*(this.options.zoomSpeed*.1);const n=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(r,n)}e.preventDefault()}}onMouseMove(e){const r=this.getPointer({x:e.clientX,y:e.clientY});let n=!1;this.popup!==void 0&&(this.popup.hidden===!1&&this._checkHidePopup(r),this.popup.hidden===!1&&(n=!0,this.popup.setPosition(r.x+3,r.y-5),this.popup.show())),this.options.keyboard.autoFocus&&this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),n===!1&&(this.popupTimer!==void 0&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=ls(()=>this._checkShowPopup(r),this.options.tooltipDelay))),this.options.hover===!0&&this.selectionHandler.hoverObject(e,r)}_checkShowPopup(e){const r=this.canvas._XconvertDOMtoCanvas(e.x),n=this.canvas._YconvertDOMtoCanvas(e.y),i={left:r,top:n,right:r,bottom:n},s=this.popupObj===void 0?void 0:this.popupObj.id;let a=!1,o="node";if(this.popupObj===void 0){const l=this.body.nodeIndices,c=this.body.nodes;let d;const h=[];for(let f=0;f<l.length;f++)d=c[l[f]],d.isOverlappingWith(i)===!0&&(a=!0,d.getTitle()!==void 0&&h.push(l[f]));h.length>0&&(this.popupObj=c[h[h.length-1]],a=!0)}if(this.popupObj===void 0&&a===!1){const l=this.body.edgeIndices,c=this.body.edges;let d;const h=[];for(let f=0;f<l.length;f++)d=c[l[f]],d.isOverlappingWith(i)===!0&&d.connected===!0&&d.getTitle()!==void 0&&h.push(l[f]);h.length>0&&(this.popupObj=c[h[h.length-1]],o="edge")}this.popupObj!==void 0?this.popupObj.id!==s&&(this.popup===void 0&&(this.popup=new age(this.canvas.frame)),this.popup.popupTargetType=o,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):this.popup!==void 0&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}_checkHidePopup(e){const r=this.selectionHandler._pointerToPositionObject(e);let n=!1;if(this.popup.popupTargetType==="node"){if(this.body.nodes[this.popup.popupTargetId]!==void 0&&(n=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(r),n===!0)){const i=this.selectionHandler.getNodeAt(e);n=i===void 0?!1:i.id===this.popup.popupTargetId}}else this.selectionHandler.getNodeAt(e)===void 0&&this.body.edges[this.popup.popupTargetId]!==void 0&&(n=this.body.edges[this.popup.popupTargetId].isOverlappingWith(r));n===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}var bU={},xU={},wU;function Kbe(){if(wU)return xU;wU=1;var t=gP(),e=EQ();return t("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),xU}var _U;function Gbe(){return _U||(_U=1,Kbe()),bU}var SU={},d2,EU;function nl(){if(EU)return d2;EU=1;var t=Ju(),e=TypeError;return d2=function(r){if(typeof r=="object"&&"size"in r&&"has"in r&&"add"in r&&"delete"in r&&"keys"in r)return r;throw new e(t(r)+" is not a set")},d2}var h2,NU;function il(){if(NU)return h2;NU=1;var t=Tn(),e=NQ(),r=t("Set"),n=r.prototype;return h2={Set:r,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:n},h2}var f2,jU;function sl(){if(jU)return f2;jU=1;var t=yn();return f2=function(e,r,n){for(var i=n?e:e.iterator,s=e.next,a,o;!(a=t(s,i)).done;)if(o=r(a.value),o!==void 0)return o},f2}var p2,CU;function Ah(){if(CU)return p2;CU=1;var t=sl();return p2=function(e,r,n){return n?t(e.keys(),r,!0):e.forEach(r)},p2}var m2,OU;function EP(){if(OU)return m2;OU=1;var t=il(),e=Ah(),r=t.Set,n=t.add;return m2=function(i){var s=new r;return e(i,function(a){n(s,a)}),s},m2}var v2,PU;function Fh(){return PU||(PU=1,v2=function(t){return t.size}),v2}var g2,TU;function Ybe(){return TU||(TU=1,g2=function(t){return{iterator:t,next:t.next,done:!1}}),g2}var y2,IU;function al(){if(IU)return y2;IU=1;var t=Os(),e=Li(),r=yn(),n=rc(),i=Ybe(),s="Invalid size",a=RangeError,o=TypeError,l=Math.max,c=function(d,h){this.set=d,this.size=l(h,0),this.has=t(d.has),this.keys=t(d.keys)};return c.prototype={getIterator:function(){return i(e(r(this.keys,this.set)))},includes:function(d){return r(this.has,this.set,d)}},y2=function(d){e(d);var h=+d.size;if(h!==h)throw new o(s);var f=n(h);if(f<0)throw new a(s);return new c(d,f)},y2}var b2,RU;function Qbe(){if(RU)return b2;RU=1;var t=nl(),e=il(),r=EP(),n=Fh(),i=al(),s=Ah(),a=sl(),o=e.has,l=e.remove;return b2=function(d){var h=t(this),f=i(d),p=r(h);return n(h)<=f.size?s(h,function(v){f.includes(v)&&l(p,v)}):a(f.getIterator(),function(v){o(p,v)&&l(p,v)}),p},b2}var x2,$U;function ol(){return $U||($U=1,x2=function(){return!1}),x2}var kU;function Xbe(){if(kU)return SU;kU=1;var t=Se(),e=Qbe(),r=ze(),n=ol(),i=!n("difference",function(a){return a.size===0}),s=i||r(function(){var a={size:1,has:function(){return!0},keys:function(){var l=0;return{next:function(){var c=l++>1;return o.has(1)&&o.clear(),{done:c,value:2}}}}},o=new Set([1,2,3,4]);return o.difference(a).size!==3});return t({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),SU}var DU={},w2,MU;function Jbe(){if(MU)return w2;MU=1;var t=nl(),e=il(),r=Fh(),n=al(),i=Ah(),s=sl(),a=e.Set,o=e.add,l=e.has;return w2=function(d){var h=t(this),f=n(d),p=new a;return r(h)>f.size?s(f.getIterator(),function(v){l(h,v)&&o(p,v)}):i(h,function(v){f.includes(v)&&o(p,v)}),p},w2}var qU;function Zbe(){if(qU)return DU;qU=1;var t=Se(),e=ze(),r=Jbe(),n=ol(),i=!n("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return t({target:"Set",proto:!0,real:!0,forced:i},{intersection:r}),DU}var AU={},_2,FU;function e1e(){if(FU)return _2;FU=1;var t=nl(),e=il().has,r=Fh(),n=al(),i=Ah(),s=sl(),a=mP();return _2=function(l){var c=t(this),d=n(l);if(r(c)<=d.size)return i(c,function(f){if(d.includes(f))return!1},!0)!==!1;var h=d.getIterator();return s(h,function(f){if(e(c,f))return a(h,"normal",!1)})!==!1},_2}var LU;function t1e(){if(LU)return AU;LU=1;var t=Se(),e=e1e(),r=ol(),n=!r("isDisjointFrom",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isDisjointFrom:e}),AU}var BU={},S2,zU;function r1e(){if(zU)return S2;zU=1;var t=nl(),e=Fh(),r=Ah(),n=al();return S2=function(s){var a=t(this),o=n(s);return e(a)>o.size?!1:r(a,function(l){if(!o.includes(l))return!1},!0)!==!1},S2}var UU;function n1e(){if(UU)return BU;UU=1;var t=Se(),e=r1e(),r=ol(),n=!r("isSubsetOf",function(i){return i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSubsetOf:e}),BU}var WU={},E2,VU;function i1e(){if(VU)return E2;VU=1;var t=nl(),e=il().has,r=Fh(),n=al(),i=sl(),s=mP();return E2=function(o){var l=t(this),c=n(o);if(r(l)<c.size)return!1;var d=c.getIterator();return i(d,function(h){if(!e(l,h))return s(d,"normal",!1)})!==!1},E2}var HU;function s1e(){if(HU)return WU;HU=1;var t=Se(),e=i1e(),r=ol(),n=!r("isSupersetOf",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSupersetOf:e}),WU}var KU={},N2,GU;function a1e(){if(GU)return N2;GU=1;var t=nl(),e=il(),r=EP(),n=al(),i=sl(),s=e.add,a=e.has,o=e.remove;return N2=function(c){var d=t(this),h=n(c).getIterator(),f=r(d);return i(h,function(p){a(d,p)?o(f,p):s(f,p)}),f},N2}var j2,YU;function MQ(){return YU||(YU=1,j2=function(t){try{var e=new Set,r={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},n=e[t](r);return n.size===1&&n.values().next().value===4}catch{return!1}}),j2}var QU;function o1e(){if(QU)return KU;QU=1;var t=Se(),e=a1e(),r=MQ(),n=ol(),i=!n("symmetricDifference")||!r("symmetricDifference");return t({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:e}),KU}var XU={},C2,JU;function l1e(){if(JU)return C2;JU=1;var t=nl(),e=il().add,r=EP(),n=al(),i=sl();return C2=function(a){var o=t(this),l=n(a).getIterator(),c=r(o);return i(l,function(d){e(c,d)}),c},C2}var ZU;function u1e(){if(ZU)return XU;ZU=1;var t=Se(),e=l1e(),r=MQ(),n=ol(),i=!n("union")||!r("union");return t({target:"Set",proto:!0,real:!0,forced:i},{union:e}),XU}var O2,eW;function c1e(){if(eW)return O2;eW=1,ac(),Gbe(),Xbe(),Zbe(),t1e(),n1e(),s1e(),o1e(),u1e(),bP();var t=it();return O2=t.Set,O2}var P2,tW;function d1e(){if(tW)return P2;tW=1;var t=c1e();return oc(),P2=t,P2}var T2,rW;function h1e(){return rW||(rW=1,T2=d1e()),T2}var f1e=h1e(),Ls=Pe(f1e),nW={},iW={},I2,sW;function p1e(){if(sW)return I2;sW=1;var t=Ve(),e=yP(),r=zm().getWeakData,n=vP(),i=Li(),s=Yu(),a=fr(),o=Um(),l=Ra(),c=wr(),d=el(),h=d.set,f=d.getterFor,p=l.find,v=l.findIndex,y=t([].splice),x=0,g=function(b){return b.frozen||(b.frozen=new m)},m=function(){this.entries=[]},w=function(b,_){return p(b.entries,function(E){return E[0]===_})};return m.prototype={get:function(b){var _=w(this,b);if(_)return _[1]},has:function(b){return!!w(this,b)},set:function(b,_){var E=w(this,b);E?E[1]=_:this.entries.push([b,_])},delete:function(b){var _=v(this.entries,function(E){return E[0]===b});return~_&&y(this.entries,_,1),!!~_}},I2={getConstructor:function(b,_,E,N){var S=b(function(O,I){n(O,j),h(O,{type:_,id:x++,frozen:null}),s(I)||o(I,O[N],{that:O,AS_ENTRIES:E})}),j=S.prototype,C=f(_),P=function(O,I,M){var k=C(O),K=r(i(I),!0);return K===!0?g(k).set(I,M):K[k.id]=M,O};return e(j,{delete:function(O){var I=C(this);if(!a(O))return!1;var M=r(O);return M===!0?g(I).delete(O):M&&c(M,I.id)&&delete M[I.id]},has:function(I){var M=C(this);if(!a(I))return!1;var k=r(I);return k===!0?g(M).has(I):k&&c(k,M.id)}}),e(j,E?{get:function(I){var M=C(this);if(a(I)){var k=r(I);if(k===!0)return g(M).get(I);if(k)return k[M.id]}},set:function(I,M){return P(this,I,M)}}:{add:function(I){return P(this,I,!0)}}),S}},I2}var aW;function m1e(){if(aW)return iW;aW=1;var t=_Q(),e=_t(),r=Ve(),n=yP(),i=zm(),s=gP(),a=p1e(),o=fr(),l=el().enforce,c=ze(),d=EY(),h=Object,f=Array.isArray,p=h.isExtensible,v=h.isFrozen,y=h.isSealed,x=h.freeze,g=h.seal,m=!e.ActiveXObject&&"ActiveXObject"in e,w,b=function(O){return function(){return O(this,arguments.length?arguments[0]:void 0)}},_=s("WeakMap",b,a),E=_.prototype,N=r(E.set),S=function(){return t&&c(function(){var O=x([]);return N(new _,O,1),!v(O)})};if(d)if(m){w=a.getConstructor(b,"WeakMap",!0),i.enable();var j=r(E.delete),C=r(E.has),P=r(E.get);n(E,{delete:function(O){if(o(O)&&!p(O)){var I=l(this);return I.frozen||(I.frozen=new w),j(this,O)||I.frozen.delete(O)}return j(this,O)},has:function(I){if(o(I)&&!p(I)){var M=l(this);return M.frozen||(M.frozen=new w),C(this,I)||M.frozen.has(I)}return C(this,I)},get:function(I){if(o(I)&&!p(I)){var M=l(this);return M.frozen||(M.frozen=new w),C(this,I)?P(this,I):M.frozen.get(I)}return P(this,I)},set:function(I,M){if(o(I)&&!p(I)){var k=l(this);k.frozen||(k.frozen=new w),C(this,I)?N(this,I,M):k.frozen.set(I,M)}else N(this,I,M);return this}})}else S()&&n(E,{set:function(I,M){var k;return f(I)&&(v(I)?k=x:y(I)&&(k=g)),N(this,I,M),k&&k(I),this}});return iW}var oW;function v1e(){return oW||(oW=1,m1e()),nW}var R2,lW;function g1e(){if(lW)return R2;lW=1,ac(),v1e();var t=it();return R2=t.WeakMap,R2}var $2,uW;function y1e(){if(uW)return $2;uW=1;var t=g1e();return oc(),$2=t,$2}var k2,cW;function b1e(){return cW||(cW=1,k2=y1e()),k2}var x1e=b1e(),Lh=Pe(x1e);function rd(t,e,r){w1e(t,e),e.set(t,r)}function w1e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Yj(t,e,r){return t.set(qQ(t,e),r),r}function ht(t,e){return t.get(qQ(t,e))}function qQ(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function dW(t,e){const r=new Ls;for(const n of e)t.has(n)||r.add(n);return r}var pl=new Lh,ti=new Lh;class hW{constructor(){rd(this,pl,new Ls),rd(this,ti,new Ls)}get size(){return ht(ti,this).size}add(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(const i of r)ht(ti,this).add(i)}delete(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(const i of r)ht(ti,this).delete(i)}clear(){ht(ti,this).clear()}getSelection(){return[...ht(ti,this)]}getChanges(){return{added:[...dW(ht(pl,this),ht(ti,this))],deleted:[...dW(ht(ti,this),ht(pl,this))],previous:[...new Ls(ht(pl,this))],current:[...new Ls(ht(ti,this))]}}commit(){const e=this.getChanges();Yj(pl,this,ht(ti,this)),Yj(ti,this,new Ls(ht(pl,this)));for(const r of e.added)r.select();for(const r of e.deleted)r.unselect();return e}}var qa=new Lh,Aa=new Lh,D2=new Lh;class _1e{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:()=>{};rd(this,qa,new hW),rd(this,Aa,new hW),rd(this,D2,void 0),Yj(D2,this,e)}get sizeNodes(){return ht(qa,this).size}get sizeEdges(){return ht(Aa,this).size}getNodes(){return ht(qa,this).getSelection()}getEdges(){return ht(Aa,this).getSelection()}addNodes(){ht(qa,this).add(...arguments)}addEdges(){ht(Aa,this).add(...arguments)}deleteNodes(e){ht(qa,this).delete(e)}deleteEdges(e){ht(Aa,this).delete(e)}clear(){ht(qa,this).clear(),ht(Aa,this).clear()}commit(){const e={nodes:ht(qa,this).commit(),edges:ht(Aa,this).commit()};for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return ht(D2,this).call(this,e,...n),e}}class S1e{constructor(e,r){this.body=e,this.canvas=r,this._selectionAccumulator=new _1e,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},Ht(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",()=>{this.updateSelection()})}setOptions(e){e!==void 0&&cc(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,e)}selectOnPoint(e){let r=!1;if(this.options.selectable===!0){const n=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),n!==void 0&&(r=this.selectObject(n)),this.body.emitter.emit("_requestRedraw")}return r}selectAdditionalOnPoint(e){let r=!1;if(this.options.selectable===!0){const n=this.getNodeAt(e)||this.getEdgeAt(e);n!==void 0&&(r=!0,n.isSelected()===!0?this.deselectObject(n):this.selectObject(n),this.body.emitter.emit("_requestRedraw"))}return r}_initBaseEvent(e,r){const n={};return n.pointer={DOM:{x:r.x,y:r.y},canvas:this.canvas.DOMtoCanvas(r)},n.event=e,n}generateClickEvent(e,r,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;const a=this._initBaseEvent(r,n);if(s===!0)a.nodes=[],a.edges=[];else{const o=this.getSelection();a.nodes=o.nodes,a.edges=o.edges}i!==void 0&&(a.previousSelection=i),e=="click"&&(a.items=this.getClickedItems(n)),r.controlEdge!==void 0&&(a.controlEdge=r.controlEdge),this.body.emitter.emit(e,a)}selectObject(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.selectConnectedEdges;return e!==void 0?(e instanceof xt?(r===!0&&this._selectionAccumulator.addEdges(...e.edges),this._selectionAccumulator.addNodes(e)):this._selectionAccumulator.addEdges(e),!0):!1}deselectObject(e){e.isSelected()===!0&&(e.selected=!1,this._removeFromSelection(e))}_getAllNodesOverlappingWith(e){const r=[],n=this.body.nodes;for(let i=0;i<this.body.nodeIndices.length;i++){const s=this.body.nodeIndices[i];n[s].isOverlappingWith(e)&&r.push(s)}return r}_pointerToPositionObject(e){const r=this.canvas.DOMtoCanvas(e);return{left:r.x-1,top:r.y+1,right:r.x+1,bottom:r.y-1}}getNodeAt(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=this._pointerToPositionObject(e),i=this._getAllNodesOverlappingWith(n);if(i.length>0)return r===!0?this.body.nodes[i[i.length-1]]:i[i.length-1]}_getEdgesOverlappingWith(e,r){const n=this.body.edges;for(let i=0;i<this.body.edgeIndices.length;i++){const s=this.body.edgeIndices[i];n[s].isOverlappingWith(e)&&r.push(s)}}_getAllEdgesOverlappingWith(e){const r=[];return this._getEdgesOverlappingWith(e,r),r}getEdgeAt(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=this.canvas.DOMtoCanvas(e);let i=10,s=null;const a=this.body.edges;for(let o=0;o<this.body.edgeIndices.length;o++){const l=this.body.edgeIndices[o],c=a[l];if(c.connected){const d=c.from.x,h=c.from.y,f=c.to.x,p=c.to.y,v=c.edgeType.getDistanceToEdge(d,h,f,p,n.x,n.y);v<i&&(s=l,i=v)}}if(s!==null)return r===!0?this.body.edges[s]:s}_addToHover(e){e instanceof xt?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}_removeFromSelection(e){e instanceof xt?(this._selectionAccumulator.deleteNodes(e),this._selectionAccumulator.deleteEdges(...e.edges)):this._selectionAccumulator.deleteEdges(e)}unselectAll(){this._selectionAccumulator.clear()}getSelectedNodeCount(){return this._selectionAccumulator.sizeNodes}getSelectedEdgeCount(){return this._selectionAccumulator.sizeEdges}_hoverConnectedEdges(e){for(let r=0;r<e.edges.length;r++){const n=e.edges[r];n.hover=!0,this._addToHover(n)}}emitBlurEvent(e,r,n){const i=this._initBaseEvent(e,r);n.hover===!0&&(n.hover=!1,n instanceof xt?(i.node=n.id,this.body.emitter.emit("blurNode",i)):(i.edge=n.id,this.body.emitter.emit("blurEdge",i)))}emitHoverEvent(e,r,n){const i=this._initBaseEvent(e,r);let s=!1;return n.hover===!1&&(n.hover=!0,this._addToHover(n),s=!0,n instanceof xt?(i.node=n.id,this.body.emitter.emit("hoverNode",i)):(i.edge=n.id,this.body.emitter.emit("hoverEdge",i))),s}hoverObject(e,r){let n=this.getNodeAt(r);n===void 0&&(n=this.getEdgeAt(r));let i=!1;for(const s in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,s)&&(n===void 0||n instanceof xt&&n.id!=s||n instanceof ga)&&(this.emitBlurEvent(e,r,this.hoverObj.nodes[s]),delete this.hoverObj.nodes[s],i=!0);for(const s in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,s)&&(i===!0?(this.hoverObj.edges[s].hover=!1,delete this.hoverObj.edges[s]):(n===void 0||n instanceof ga&&n.id!=s||n instanceof xt&&!n.hover)&&(this.emitBlurEvent(e,r,this.hoverObj.edges[s]),delete this.hoverObj.edges[s],i=!0));if(n!==void 0){const s=Rt(this.hoverObj.edges).length,a=Rt(this.hoverObj.nodes).length,o=n instanceof ga&&s===0&&a===0,l=n instanceof xt&&s===0&&a===0;(i||o||l)&&(i=this.emitHoverEvent(e,r,n)),n instanceof xt&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(n)}i===!0&&this.body.emitter.emit("_requestRedraw")}commitWithoutEmitting(){this._selectionAccumulator.commit()}commitAndEmit(e,r){let n=!1;const i=this._selectionAccumulator.commit(),s={nodes:i.nodes.previous,edges:i.edges.previous};i.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",r,e,s),n=!0),i.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",r,e,s),n=!0),i.nodes.added.length>0&&(this.generateClickEvent("selectNode",r,e),n=!0),i.edges.added.length>0&&(this.generateClickEvent("selectEdge",r,e),n=!0),n===!0&&this.generateClickEvent("select",r,e)}getSelection(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}getSelectedNodes(){return this._selectionAccumulator.getNodes()}getSelectedEdges(){return this._selectionAccumulator.getEdges()}getSelectedNodeIds(){var e;return Eu(e=this._selectionAccumulator.getNodes()).call(e,r=>r.id)}getSelectedEdgeIds(){var e;return Eu(e=this._selectionAccumulator.getEdges()).call(e,r=>r.id)}setSelection(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((r.unselectAll||r.unselectAll===void 0)&&this.unselectAll(),e.nodes)for(const n of e.nodes){const i=this.body.nodes[n];if(!i)throw new RangeError('Node with id "'+n+'" not found');this.selectObject(i,r.highlightEdges)}if(e.edges)for(const n of e.edges){const i=this.body.edges[n];if(!i)throw new RangeError('Edge with id "'+n+'" not found');this.selectObject(i)}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}selectNodes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:r})}selectEdges(e){if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({edges:e})}updateSelection(){for(const e in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,e.id)||this._selectionAccumulator.deleteNodes(e);for(const e in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,e.id)||this._selectionAccumulator.deleteEdges(e)}getClickedItems(e){const r=this.canvas.DOMtoCanvas(e),n=[],i=this.body.nodeIndices,s=this.body.nodes;for(let l=i.length-1;l>=0;l--){const d=s[i[l]].getItemsOnPoint(r);n.push.apply(n,d)}const a=this.body.edgeIndices,o=this.body.edges;for(let l=a.length-1;l>=0;l--){const d=o[a[l]].getItemsOnPoint(r);n.push.apply(n,d)}return n}}var fW={},M2,pW;function E1e(){if(pW)return M2;pW=1;var t=nc(),e=Math.floor,r=function(n,i){var s=n.length;if(s<8)for(var a=1,o,l;a<s;){for(l=a,o=n[a];l&&i(n[l-1],o)>0;)n[l]=n[--l];l!==a++&&(n[l]=o)}else for(var c=e(s/2),d=r(t(n,0,c),i),h=r(t(n,c),i),f=d.length,p=h.length,v=0,y=0;v<f||y<p;)n[v+y]=v<f&&y<p?i(d[v],h[y])<=0?d[v++]:h[y++]:v<f?d[v++]:h[y++];return n};return M2=r,M2}var q2,mW;function N1e(){if(mW)return q2;mW=1;var t=Qu(),e=t.match(/firefox\/(\d+)/i);return q2=!!e&&+e[1],q2}var A2,vW;function j1e(){if(vW)return A2;vW=1;var t=Qu();return A2=/MSIE|Trident/.test(t),A2}var F2,gW;function C1e(){if(gW)return F2;gW=1;var t=Qu(),e=t.match(/AppleWebKit\/(\d+)\./);return F2=!!e&&+e[1],F2}var yW;function O1e(){if(yW)return fW;yW=1;var t=Se(),e=Ve(),r=Os(),n=In(),i=Ps(),s=DY(),a=Xn(),o=ze(),l=E1e(),c=lc(),d=N1e(),h=j1e(),f=Eh(),p=C1e(),v=[],y=e(v.sort),x=e(v.push),g=o(function(){v.sort(void 0)}),m=o(function(){v.sort(null)}),w=c("sort"),b=!o(function(){if(f)return f<70;if(!(d&&d>3)){if(h)return!0;if(p)return p<603;var N="",S,j,C,P;for(S=65;S<76;S++){switch(j=String.fromCharCode(S),S){case 66:case 69:case 70:case 72:C=3;break;case 68:case 71:C=4;break;default:C=2}for(P=0;P<47;P++)v.push({k:j+P,v:C})}for(v.sort(function(O,I){return I.v-O.v}),P=0;P<v.length;P++)j=v[P].k.charAt(0),N.charAt(N.length-1)!==j&&(N+=j);return N!=="DGBEFHACIJK"}}),_=g||!m||!w||!b,E=function(N){return function(S,j){return j===void 0?-1:S===void 0?1:N!==void 0?+N(S,j)||0:a(S)>a(j)?1:-1}};return t({target:"Array",proto:!0,forced:_},{sort:function(S){S!==void 0&&r(S);var j=n(this);if(b)return S===void 0?y(j):y(j,S);var C=[],P=i(j),O,I;for(I=0;I<P;I++)I in j&&x(C,j[I]);for(l(C,E(S)),O=i(C),I=0;I<O;)j[I]=C[I++];for(;I<P;)s(j,I++);return j}}),fW}var L2,bW;function P1e(){if(bW)return L2;bW=1,O1e();var t=_r();return L2=t("Array","sort"),L2}var B2,xW;function T1e(){if(xW)return B2;xW=1;var t=Qt(),e=P1e(),r=Array.prototype;return B2=function(n){var i=n.sort;return n===r||t(r,n)&&i===r.sort?e:i},B2}var z2,wW;function I1e(){if(wW)return z2;wW=1;var t=T1e();return z2=t,z2}var U2,_W;function R1e(){return _W||(_W=1,U2=I1e()),U2}var $1e=R1e(),Wl=Pe($1e),SW={},W2,EW;function k1e(){if(EW)return W2;EW=1;var t=Os(),e=In(),r=Om(),n=Ps(),i=TypeError,s="Reduce of empty array with no initial value",a=function(o){return function(l,c,d,h){var f=e(l),p=r(f),v=n(f);if(t(c),v===0&&d<2)throw new i(s);var y=o?v-1:0,x=o?-1:1;if(d<2)for(;;){if(y in p){h=p[y],y+=x;break}if(y+=x,o?y<0:v<=y)throw new i(s)}for(;o?y>=0:v>y;y+=x)y in p&&(h=c(h,p[y],y,f));return h}};return W2={left:a(!1),right:a(!0)},W2}var V2,NW;function D1e(){if(NW)return V2;NW=1;var t=qY();return V2=t==="NODE",V2}var jW;function M1e(){if(jW)return SW;jW=1;var t=Se(),e=k1e().left,r=lc(),n=Eh(),i=D1e(),s=!i&&n>79&&n<83,a=s||!r("reduce");return t({target:"Array",proto:!0,forced:a},{reduce:function(l){var c=arguments.length;return e(this,l,c,c>1?arguments[1]:void 0)}}),SW}var H2,CW;function q1e(){if(CW)return H2;CW=1,M1e();var t=_r();return H2=t("Array","reduce"),H2}var K2,OW;function A1e(){if(OW)return K2;OW=1;var t=Qt(),e=q1e(),r=Array.prototype;return K2=function(n){var i=n.reduce;return n===r||t(r,n)&&i===r.reduce?e:i},K2}var G2,PW;function F1e(){if(PW)return G2;PW=1;var t=A1e();return G2=t,G2}var Y2,TW;function L1e(){return TW||(TW=1,Y2=F1e()),Y2}var B1e=L1e(),AQ=Pe(B1e);class FQ{abstract(){throw new Error("Can't instantiate abstract class!")}fake_use(){}curveType(){return this.abstract()}getPosition(e){return this.fake_use(e),this.abstract()}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;this.fake_use(e,r,n),this.abstract()}getTreeSize(e){return this.fake_use(e),this.abstract()}sort(e){this.fake_use(e),this.abstract()}fix(e,r){this.fake_use(e,r),this.abstract()}shift(e,r){this.fake_use(e,r),this.abstract()}}class z1e extends FQ{constructor(e){super(),this.layout=e}curveType(){return"horizontal"}getPosition(e){return e.x}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;n!==void 0&&this.layout.hierarchical.addToOrdering(e,n),e.x=r}getTreeSize(e){const r=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:r.min_x,max:r.max_x}}sort(e){Wl(e).call(e,function(r,n){return r.x-n.x})}fix(e,r){e.y=this.layout.options.hierarchical.levelSeparation*r,e.options.fixed.y=!0}shift(e,r){this.layout.body.nodes[e].x+=r}}class U1e extends FQ{constructor(e){super(),this.layout=e}curveType(){return"vertical"}getPosition(e){return e.y}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;n!==void 0&&this.layout.hierarchical.addToOrdering(e,n),e.y=r}getTreeSize(e){const r=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:r.min_y,max:r.max_y}}sort(e){Wl(e).call(e,function(r,n){return r.y-n.y})}fix(e,r){e.x=this.layout.options.hierarchical.levelSeparation*r,e.options.fixed.x=!0}shift(e,r){this.layout.body.nodes[e].y+=r}}var IW={},RW;function W1e(){if(RW)return IW;RW=1;var t=Se(),e=Ra().every,r=lc(),n=r("every");return t({target:"Array",proto:!0,forced:!n},{every:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),IW}var Q2,$W;function V1e(){if($W)return Q2;$W=1,W1e();var t=_r();return Q2=t("Array","every"),Q2}var X2,kW;function H1e(){if(kW)return X2;kW=1;var t=Qt(),e=V1e(),r=Array.prototype;return X2=function(n){var i=n.every;return n===r||t(r,n)&&i===r.every?e:i},X2}var J2,DW;function K1e(){if(DW)return J2;DW=1;var t=H1e();return J2=t,J2}var Z2,MW;function G1e(){return MW||(MW=1,Z2=K1e()),Z2}var Y1e=G1e(),LQ=Pe(Y1e);function Q1e(t,e){const r=new Ls;return lt(t).call(t,n=>{var i;lt(i=n.edges).call(i,s=>{s.connected&&r.add(s)})}),lt(r).call(r,n=>{const i=n.from.id,s=n.to.id;e[i]==null&&(e[i]=0),(e[s]==null||e[i]>=e[s])&&(e[s]=e[i]+1)}),e}function X1e(t){return BQ(e=>{var r,n;return LQ(r=nn(n=e.edges).call(n,i=>t.has(i.toId))).call(r,i=>i.to===e)},(e,r)=>r>e,"from",t)}function J1e(t){return BQ(e=>{var r,n;return LQ(r=nn(n=e.edges).call(n,i=>t.has(i.toId))).call(r,i=>i.from===e)},(e,r)=>r<e,"to",t)}function BQ(t,e,r,n){var i;const s=go(null),a=AQ(i=[...IQ(n).call(n)]).call(i,(h,f)=>h+1+f.edges.length,0),o=r+"Id",l=r==="to"?1:-1;for(const[h,f]of n){if(!n.has(h)||!t(f))continue;s[h]=0;const p=[f];let v=0,y;for(;y=p.pop();){var c,d;if(!n.has(h))continue;const x=s[y.id]+l;if(lt(c=nn(d=y.edges).call(d,g=>g.connected&&g.to!==g.from&&g[r]!==y&&n.has(g.toId)&&n.has(g.fromId))).call(c,g=>{const m=g[o],w=s[m];(w==null||e(x,w))&&(s[m]=x,p.push(g[r]))}),v>a)return Q1e(n,s);++v}}return s}class Z1e{constructor(){this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}addRelation(e,r){this.childrenReference[e]===void 0&&(this.childrenReference[e]=[]),this.childrenReference[e].push(r),this.parentReference[r]===void 0&&(this.parentReference[r]=[]),this.parentReference[r].push(e)}checkIfTree(){for(const e in this.parentReference)if(this.parentReference[e].length>1){this.isTree=!1;return}this.isTree=!0}numTrees(){return this.treeIndex+1}setTreeIndex(e,r){r!==void 0&&this.trees[e.id]===void 0&&(this.trees[e.id]=r,this.treeIndex=Math.max(r,this.treeIndex))}ensureLevel(e){this.levels[e]===void 0&&(this.levels[e]=0)}getMaxLevel(e){const r={},n=i=>{if(r[i]!==void 0)return r[i];let s=this.levels[i];if(this.childrenReference[i]){const a=this.childrenReference[i];if(a.length>0)for(let o=0;o<a.length;o++)s=Math.max(s,n(a[o]))}return r[i]=s,s};return n(e)}levelDownstream(e,r){this.levels[r.id]===void 0&&(this.levels[e.id]===void 0&&(this.levels[e.id]=0),this.levels[r.id]=this.levels[e.id]+1)}setMinLevelToZero(){var e;const r=new xP;let n=0;const i=Wl(e=[...new Ls(pme(this.levels))]).call(e,(s,a)=>s-a);for(const s of i)r.set(s,n++);for(const s in this.levels)Object.prototype.hasOwnProperty.call(this.levels,s)&&(this.levels[s]=r.get(this.levels[s]))}getTreeSize(e,r){let n=1e9,i=-1e9,s=1e9,a=-1e9;for(const o in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,o)&&this.trees[o]===r){const l=e[o];n=Math.min(l.x,n),i=Math.max(l.x,i),s=Math.min(l.y,s),a=Math.max(l.y,a)}return{min_x:n,max_x:i,min_y:s,max_y:a}}hasSameParent(e,r){const n=this.parentReference[e.id],i=this.parentReference[r.id];if(n===void 0||i===void 0)return!1;for(let s=0;s<n.length;s++)for(let a=0;a<i.length;a++)if(n[s]==i[a])return!0;return!1}inSameSubNetwork(e,r){return this.trees[e.id]===this.trees[r.id]}getLevels(){return Rt(this.distributionOrdering)}addToOrdering(e,r){this.distributionOrdering[r]===void 0&&(this.distributionOrdering[r]=[]);let n=!1;const i=this.distributionOrdering[r];for(const s in i)if(i[s]===e){n=!0;break}n||(this.distributionOrdering[r].push(e),this.distributionIndex[e.id]=this.distributionOrdering[r].length-1)}}class exe{constructor(e){this.body=e,this._resetRNG(Math.random()+":"+Ip()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},Ht(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("_dataChanged",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",()=>{this.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",()=>{if(this.options.hierarchical.enabled!==!0)return;const e=this.direction.curveType();this.body.emitter.emit("_forceDisableDynamicCurves",e,!1)})}setOptions(e,r){if(e!==void 0){const n=this.options.hierarchical,i=n.enabled;if(cc(["randomSeed","improvedLayout","clusterThreshold"],this.options,e),qn(this.options,e,"hierarchical"),e.randomSeed!==void 0&&this._resetRNG(e.randomSeed),n.enabled===!0)return i===!0&&this.body.emitter.emit("refresh",!0),n.direction==="RL"||n.direction==="DU"?n.levelSeparation>0&&(n.levelSeparation*=-1):n.levelSeparation<0&&(n.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(r);if(i===!0)return this.body.emitter.emit("refresh"),ft(r,this.optionsBackup)}return r}_resetRNG(e){this.initialRandomSeed=e,this._rng=Bm(this.initialRandomSeed)}adaptAllOptionsForHierarchicalLayout(e){if(this.options.hierarchical.enabled===!0){const r=this.optionsBackup.physics;e.physics===void 0||e.physics===!0?(e.physics={enabled:r.enabled===void 0?!0:r.enabled,solver:"hierarchicalRepulsion"},r.enabled=r.enabled===void 0?!0:r.enabled,r.solver=r.solver||"barnesHut"):typeof e.physics=="object"?(r.enabled=e.physics.enabled===void 0?!0:e.physics.enabled,r.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):e.physics!==!1&&(r.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});let n=this.direction.curveType();if(e.edges===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(e.edges.smooth===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if(typeof e.edges.smooth=="boolean")this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:n};else{const i=e.edges.smooth;i.type!==void 0&&i.type!=="dynamic"&&(n=i.type),this.optionsBackup.edges={smooth:{enabled:i.enabled===void 0?!0:i.enabled,type:i.type===void 0?"dynamic":i.type,roundness:i.roundness===void 0?.5:i.roundness,forceDirection:i.forceDirection===void 0?!1:i.forceDirection}},e.edges.smooth={enabled:i.enabled===void 0?!0:i.enabled,type:n,roundness:i.roundness===void 0?.5:i.roundness,forceDirection:i.forceDirection===void 0?!1:i.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",n)}return e}positionInitially(e){if(this.options.hierarchical.enabled!==!0){this._resetRNG(this.initialRandomSeed);const r=e.length+50;for(let n=0;n<e.length;n++){const i=e[n],s=2*Math.PI*this._rng();i.x===void 0&&(i.x=r*Math.cos(s)),i.y===void 0&&(i.y=r*Math.sin(s))}}}layoutNetwork(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){const e=this.body.nodeIndices;let r=0;for(let n=0;n<e.length;n++)this.body.nodes[e[n]].predefinedPosition===!0&&(r+=1);if(r<.5*e.length){let i=0;const s=this.options.clusterThreshold,a={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>s){const l=e.length;for(;e.length>s&&i<=10;){i+=1;const c=e.length;i%3===0?this.body.modules.clustering.clusterBridges(a):this.body.modules.clustering.clusterOutliers(a);const d=e.length;if(c==d&&i%3!==0){this._declusterAll(),this.body.emitter.emit("_layoutFailed"),console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.");return}}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*l)})}i>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();const o=70;for(let l=0;l<e.length;l++){const c=this.body.nodes[e[l]];c.predefinedPosition===!1&&(c.x+=(.5-this._rng())*o,c.y+=(.5-this._rng())*o)}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}_shiftToCenter(){const e=Br.getRangeCore(this.body.nodes,this.body.nodeIndices),r=Br.findCenter(e);for(let n=0;n<this.body.nodeIndices.length;n++){const i=this.body.nodes[this.body.nodeIndices[n]];i.x-=r.x,i.y-=r.y}}_declusterAll(){let e=!0;for(;e===!0;){e=!1;for(let r=0;r<this.body.nodeIndices.length;r++)this.body.nodes[this.body.nodeIndices[r]].isCluster===!0&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[r],{},!1));e===!0&&this.body.emitter.emit("_dataChanged")}}getSeed(){return this.initialRandomSeed}setupHierarchicalLayout(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){let e,r,n=!1,i=!1;this.lastNodeOnLevel={},this.hierarchical=new Z1e;for(r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&(e=this.body.nodes[r],e.options.level!==void 0?(n=!0,this.hierarchical.levels[r]=e.options.level):i=!0);if(i===!0&&n===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");{if(i===!0){const a=this.options.hierarchical.sortMethod;a==="hubsize"?this._determineLevelsByHubsize():a==="directed"?this._determineLevelsDirected():a==="custom"&&this._determineLevelsCustomCallback()}for(const a in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,a)&&this.hierarchical.ensureLevel(a);const s=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(s),this._condenseHierarchy(),this._shiftToCenter()}}}_condenseHierarchy(){var e=this;let r=!1;const n={},i=()=>{const g=a();let m=0;for(let w=0;w<g.length-1;w++){const b=g[w].max-g[w+1].min;m+=b+this.options.hierarchical.treeSpacing,s(w+1,m)}},s=(g,m)=>{const w=this.hierarchical.trees;for(const b in w)Object.prototype.hasOwnProperty.call(w,b)&&w[b]===g&&this.direction.shift(b,m)},a=()=>{const g=[];for(let m=0;m<this.hierarchical.numTrees();m++)g.push(this.direction.getTreeSize(m));return g},o=(g,m)=>{if(!m[g.id]&&(m[g.id]=!0,this.hierarchical.childrenReference[g.id])){const w=this.hierarchical.childrenReference[g.id];if(w.length>0)for(let b=0;b<w.length;b++)o(this.body.nodes[w[b]],m)}},l=function(g){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e9,w=1e9,b=1e9,_=1e9,E=-1e9;for(const N in g)if(Object.prototype.hasOwnProperty.call(g,N)){const S=e.body.nodes[N],j=e.hierarchical.levels[S.id],C=e.direction.getPosition(S),[P,O]=e._getSpaceAroundNode(S,g);w=Math.min(P,w),b=Math.min(O,b),j<=m&&(_=Math.min(C,_),E=Math.max(C,E))}return[_,E,w,b]},c=(g,m)=>{const w=this.hierarchical.getMaxLevel(g.id),b=this.hierarchical.getMaxLevel(m.id);return Math.min(w,b)},d=(g,m,w)=>{const b=this.hierarchical;for(let _=0;_<m.length;_++){const E=m[_],N=b.distributionOrdering[E];if(N.length>1)for(let S=0;S<N.length-1;S++){const j=N[S],C=N[S+1];b.hasSameParent(j,C)&&b.inSameSubNetwork(j,C)&&g(j,C,w)}}},h=function(g,m){let w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const b=e.direction.getPosition(g),_=e.direction.getPosition(m),E=Math.abs(_-b),N=e.options.hierarchical.nodeSpacing;if(E>N){const S={},j={};o(g,S),o(m,j);const C=c(g,m),P=l(S,C),O=l(j,C),I=P[1],M=O[0],k=O[2];if(Math.abs(I-M)>N){let H=I-M+N;H<-k+N&&(H=-k+N),H<0&&(e._shiftBlock(m.id,H),r=!0,w===!0&&e._centerParent(m))}}},f=(g,m)=>{const w=m.id,b=m.edges,_=this.hierarchical.levels[m.id],E=this.options.hierarchical.levelSeparation*this.options.hierarchical.levelSeparation,N={},S=[];for(let k=0;k<b.length;k++){const K=b[k];if(K.toId!=K.fromId){const H=K.toId==w?K.from:K.to;N[b[k].id]=H,this.hierarchical.levels[H.id]<_&&S.push(K)}}const j=(k,K)=>{let H=0;for(let A=0;A<K.length;A++)if(N[K[A].id]!==void 0){const G=this.direction.getPosition(N[K[A].id])-k;H+=G/Math.sqrt(G*G+E)}return H},C=(k,K)=>{let H=0;for(let A=0;A<K.length;A++)if(N[K[A].id]!==void 0){const G=this.direction.getPosition(N[K[A].id])-k;H-=E*Math.pow(G*G+E,-1.5)}return H},P=(k,K)=>{let H=this.direction.getPosition(m);const A={};for(let G=0;G<k;G++){const W=j(H,K),z=C(H,K),F=40,ee=Math.max(-F,Math.min(F,Math.round(W/z)));if(H=H-ee,A[H]!==void 0)break;A[H]=G}return H},O=k=>{const K=this.direction.getPosition(m);if(n[m.id]===void 0){const F={};o(m,F),n[m.id]=F}const H=l(n[m.id]),A=H[2],G=H[3],W=k-K;let z=0;W>0?z=Math.min(W,G-this.options.hierarchical.nodeSpacing):W<0&&(z=-Math.min(-W,A-this.options.hierarchical.nodeSpacing)),z!=0&&(this._shiftBlock(m.id,z),r=!0)},I=k=>{const K=this.direction.getPosition(m),[H,A]=this._getSpaceAroundNode(m),G=k-K;let W=K;G>0?W=Math.min(K+(A-this.options.hierarchical.nodeSpacing),k):G<0&&(W=Math.max(K-(H-this.options.hierarchical.nodeSpacing),k)),W!==K&&(this.direction.setPosition(m,W),r=!0)};let M=P(g,S);O(M),M=P(g,b),I(M)},p=g=>{let m=this.hierarchical.getLevels();m=vo(m).call(m);for(let w=0;w<g;w++){r=!1;for(let b=0;b<m.length;b++){const _=m[b],E=this.hierarchical.distributionOrdering[_];for(let N=0;N<E.length;N++)f(1e3,E[N])}if(r!==!0)break}},v=g=>{let m=this.hierarchical.getLevels();m=vo(m).call(m);for(let w=0;w<g&&(r=!1,d(h,m,!0),r===!0);w++);},y=()=>{for(const g in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,g)&&this._centerParent(this.body.nodes[g])},x=()=>{let g=this.hierarchical.getLevels();g=vo(g).call(g);for(let m=0;m<g.length;m++){const w=g[m],b=this.hierarchical.distributionOrdering[w];for(let _=0;_<b.length;_++)this._centerParent(b[_])}};this.options.hierarchical.blockShifting===!0&&(v(5),y()),this.options.hierarchical.edgeMinimization===!0&&p(20),this.options.hierarchical.parentCentralization===!0&&x(),i()}_getSpaceAroundNode(e,r){let n=!0;r===void 0&&(n=!1);const i=this.hierarchical.levels[e.id];if(i!==void 0){const s=this.hierarchical.distributionIndex[e.id],a=this.direction.getPosition(e),o=this.hierarchical.distributionOrdering[i];let l=1e9,c=1e9;if(s!==0){const d=o[s-1];if(n===!0&&r[d.id]===void 0||n===!1){const h=this.direction.getPosition(d);l=a-h}}if(s!=o.length-1){const d=o[s+1];if(n===!0&&r[d.id]===void 0||n===!1){const h=this.direction.getPosition(d);c=Math.min(c,h-a)}}return[l,c]}else return[0,0]}_centerParent(e){if(this.hierarchical.parentReference[e.id]){const r=this.hierarchical.parentReference[e.id];for(let n=0;n<r.length;n++){const i=r[n],s=this.body.nodes[i],a=this.hierarchical.childrenReference[i];if(a!==void 0){const o=this._getCenterPosition(a),l=this.direction.getPosition(s),[c,d]=this._getSpaceAroundNode(s),h=l-o;(h<0&&Math.abs(h)<d-this.options.hierarchical.nodeSpacing||h>0&&Math.abs(h)<c-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(s,o)}}}}_placeNodesByHierarchy(e){this.positionedNodes={};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r;let i=Rt(e[n]);i=this._indexArrayToNodes(i),Wl(r=this.direction).call(r,i);let s=0;for(let a=0;a<i.length;a++){const o=i[a];if(this.positionedNodes[o.id]===void 0){const l=this.options.hierarchical.nodeSpacing;let c=l*s;s>0&&(c=this.direction.getPosition(i[a-1])+l),this.direction.setPosition(o,c,n),this._validatePositionAndContinue(o,n,c),s++}}}}_placeBranchNodes(e,r){var n;const i=this.hierarchical.childrenReference[e];if(i===void 0)return;const s=[];for(let o=0;o<i.length;o++)s.push(this.body.nodes[i[o]]);Wl(n=this.direction).call(n,s);for(let o=0;o<s.length;o++){const l=s[o],c=this.hierarchical.levels[l.id];if(c>r&&this.positionedNodes[l.id]===void 0){const d=this.options.hierarchical.nodeSpacing;let h;o===0?h=this.direction.getPosition(this.body.nodes[e]):h=this.direction.getPosition(s[o-1])+d,this.direction.setPosition(l,h,c),this._validatePositionAndContinue(l,c,h)}else return}const a=this._getCenterPosition(s);this.direction.setPosition(this.body.nodes[e],a,r)}_validatePositionAndContinue(e,r,n){if(this.hierarchical.isTree){if(this.lastNodeOnLevel[r]!==void 0){const i=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[r]]);if(n-i<this.options.hierarchical.nodeSpacing){const s=i+this.options.hierarchical.nodeSpacing-n,a=this._findCommonParent(this.lastNodeOnLevel[r],e.id);this._shiftBlock(a.withChild,s)}}this.lastNodeOnLevel[r]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,r)}}_indexArrayToNodes(e){const r=[];for(let n=0;n<e.length;n++)r.push(this.body.nodes[e[n]]);return r}_getDistribution(){const e={};let r,n;for(r in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,r)){n=this.body.nodes[r];const i=this.hierarchical.levels[r]===void 0?0:this.hierarchical.levels[r];this.direction.fix(n,i),e[i]===void 0&&(e[i]={}),e[i][r]=n}return e}_getActiveEdges(e){const r=[];return qe(e.edges,n=>{var i;et(i=this.body.edgeIndices).call(i,n.id)!==-1&&r.push(n)}),r}_getHubSizes(){const e={},r=this.body.nodeIndices;qe(r,i=>{const s=this.body.nodes[i],a=this._getActiveEdges(s).length;e[a]=!0});const n=[];return qe(e,i=>{n.push(Number(i))}),Wl(n).call(n,function(i,s){return s-i}),n}_determineLevelsByHubsize(){const e=(n,i)=>{this.hierarchical.levelDownstream(n,i)},r=this._getHubSizes();for(let n=0;n<r.length;++n){const i=r[n];if(i===0)break;qe(this.body.nodeIndices,s=>{const a=this.body.nodes[s];i===this._getActiveEdges(a).length&&this._crawlNetwork(e,s)})}}_determineLevelsCustomCallback(){const r=function(i,s,a){},n=(i,s,a)=>{let o=this.hierarchical.levels[i.id];o===void 0&&(o=this.hierarchical.levels[i.id]=1e5);const l=r(Br.cloneOptions(i,"node"),Br.cloneOptions(s,"node"),Br.cloneOptions(a,"edge"));this.hierarchical.levels[s.id]=o+l};this._crawlNetwork(n),this.hierarchical.setMinLevelToZero()}_determineLevelsDirected(){var e;const r=AQ(e=this.body.nodeIndices).call(e,(n,i)=>(n.set(i,this.body.nodes[i]),n),new xP);this.options.hierarchical.shakeTowards==="roots"?this.hierarchical.levels=J1e(r):this.hierarchical.levels=X1e(r),this.hierarchical.setMinLevelToZero()}_generateMap(){const e=(r,n)=>{this.hierarchical.levels[n.id]>this.hierarchical.levels[r.id]&&this.hierarchical.addRelation(r.id,n.id)};this._crawlNetwork(e),this.hierarchical.checkIfTree()}_crawlNetwork(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},r=arguments.length>1?arguments[1]:void 0;const n={},i=(s,a)=>{if(n[s.id]===void 0){this.hierarchical.setTreeIndex(s,a),n[s.id]=!0;let o;const l=this._getActiveEdges(s);for(let c=0;c<l.length;c++){const d=l[c];d.connected===!0&&(d.toId==s.id?o=d.from:o=d.to,s.id!=o.id&&(e(s,o,d),i(o,a)))}}};if(r===void 0){let s=0;for(let a=0;a<this.body.nodeIndices.length;a++){const o=this.body.nodeIndices[a];if(n[o]===void 0){const l=this.body.nodes[o];i(l,s),s+=1}}}else{const s=this.body.nodes[r];if(s===void 0){console.error("Node not found:",r);return}i(s)}}_shiftBlock(e,r){const n={},i=s=>{if(n[s])return;n[s]=!0,this.direction.shift(s,r);const a=this.hierarchical.childrenReference[s];if(a!==void 0)for(let o=0;o<a.length;o++)i(a[o])};i(e)}_findCommonParent(e,r){const n={},i=(a,o)=>{const l=this.hierarchical.parentReference[o];if(l!==void 0)for(let c=0;c<l.length;c++){const d=l[c];a[d]=!0,i(a,d)}},s=(a,o)=>{const l=this.hierarchical.parentReference[o];if(l!==void 0)for(let c=0;c<l.length;c++){const d=l[c];if(a[d]!==void 0)return{foundParent:d,withChild:o};const h=s(a,d);if(h.foundParent!==null)return h}return{foundParent:null,withChild:o}};return i(n,e),s(n,r)}setDirectionStrategy(){this.options.hierarchical.direction==="UD"||this.options.hierarchical.direction==="DU"?this.direction=new z1e(this):this.direction=new U1e(this)}_getCenterPosition(e){let r=1e9,n=-1e9;for(let i=0;i<e.length;i++){let s;if(e[i].id!==void 0)s=e[i];else{const o=e[i];s=this.body.nodes[o]}const a=this.direction.getPosition(s);r=Math.min(r,a),n=Math.max(n,a)}return .5*(r+n)}}class txe{constructor(e,r,n,i){var s,a;this.body=e,this.canvas=r,this.selectionHandler=n,this.interactionHandler=i,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},Ht(this.options,this.defaultOptions),this.body.emitter.on("destroy",()=>{this._clean()}),this.body.emitter.on("_dataChanged",re(s=this._restore).call(s,this)),this.body.emitter.on("_resetData",re(a=this._restore).call(a,this))}_restore(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}setOptions(e,r,n){r!==void 0&&(r.locale!==void 0?this.options.locale=r.locale:this.options.locale=n.locale,r.locales!==void 0?this.options.locales=r.locales:this.options.locales=n.locales),e!==void 0&&(typeof e=="boolean"?this.options.enabled=e:(this.options.enabled=!0,ft(this.options,e)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}toggleEditMode(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}enableEditMode(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}disableEditMode(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}showManipulatorToolbar(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){var e,r;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";const n=this.selectionHandler.getSelectedNodeCount(),i=this.selectionHandler.getSelectedEdgeCount(),s=n+i,a=this.options.locales[this.options.locale];let o=!1;this.options.addNode!==!1&&(this._createAddNodeButton(a),o=!0),this.options.addEdge!==!1&&(o===!0?this._createSeperator(1):o=!0,this._createAddEdgeButton(a)),n===1&&typeof this.options.editNode=="function"?(o===!0?this._createSeperator(2):o=!0,this._createEditNodeButton(a)):i===1&&n===0&&this.options.editEdge!==!1&&(o===!0?this._createSeperator(3):o=!0,this._createEditEdgeButton(a)),s!==0&&(n>0&&this.options.deleteNode!==!1?(o===!0&&this._createSeperator(4),this._createDeleteButton(a)):n===0&&this.options.deleteEdge!==!1&&(o===!0&&this._createSeperator(4),this._createDeleteButton(a))),this._bindElementEvents(this.closeDiv,re(e=this.toggleEditMode).call(e,this)),this._temporaryBindEvent("select",re(r=this.showManipulatorToolbar).call(r,this))}this.body.emitter.emit("_redraw")}addNodeMode(){var e;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var r;const n=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(n),this._createSeperator(),this._createDescription(n.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,re(r=this.toggleEditMode).call(r,this))}this._temporaryBindEvent("click",re(e=this._performAddNode).call(e,this))}editNode(){this.editMode!==!0&&this.enableEditMode(),this._clean();const e=this.selectionHandler.getSelectedNodes()[0];if(e!==void 0)if(this.inMode="editNode",typeof this.options.editNode=="function")if(e.isCluster!==!0){const r=ft({},e.options,!1);if(r.x=e.x,r.y=e.y,this.options.editNode.length===2)this.options.editNode(r,n=>{n!=null&&this.inMode==="editNode"&&this.body.data.nodes.getDataSet().update(n),this.showManipulatorToolbar()});else throw new Error("The function for edit does not support two arguments (data, callback)")}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError);else throw new Error("No function has been configured to handle the editing of nodes.");else this.showManipulatorToolbar()}addEdgeMode(){var e,r,n,i,s;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var a;const o=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(o),this._createSeperator(),this._createDescription(o.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,re(a=this.toggleEditMode).call(a,this))}this._temporaryBindUI("onTouch",re(e=this._handleConnect).call(e,this)),this._temporaryBindUI("onDragEnd",re(r=this._finishConnect).call(r,this)),this._temporaryBindUI("onDrag",re(n=this._dragControlNode).call(n,this)),this._temporaryBindUI("onRelease",re(i=this._finishConnect).call(i,this)),this._temporaryBindUI("onDragStart",re(s=this._dragStartEdge).call(s,this)),this._temporaryBindUI("onHold",()=>{})}editEdgeMode(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",typeof this.options.editEdge=="object"&&typeof this.options.editEdge.editWithoutDrag=="function"&&(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0)){const a=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(a.from.id,a.to.id);return}if(this.guiEnabled===!0){var e;const a=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(a),this._createSeperator(),this._createDescription(a.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,re(e=this.toggleEditMode).call(e,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0){var r,n,i,s;const a=this.body.edges[this.edgeBeingEditedId],o=this._getNewTargetNode(a.from.x,a.from.y),l=this._getNewTargetNode(a.to.x,a.to.y);this.temporaryIds.nodes.push(o.id),this.temporaryIds.nodes.push(l.id),this.body.nodes[o.id]=o,this.body.nodeIndices.push(o.id),this.body.nodes[l.id]=l,this.body.nodeIndices.push(l.id),this._temporaryBindUI("onTouch",re(r=this._controlNodeTouch).call(r,this)),this._temporaryBindUI("onTap",()=>{}),this._temporaryBindUI("onHold",()=>{}),this._temporaryBindUI("onDragStart",re(n=this._controlNodeDragStart).call(n,this)),this._temporaryBindUI("onDrag",re(i=this._controlNodeDrag).call(i,this)),this._temporaryBindUI("onDragEnd",re(s=this._controlNodeDragEnd).call(s,this)),this._temporaryBindUI("onMouseMove",()=>{}),this._temporaryBindEvent("beforeDrawing",c=>{const d=a.edgeType.findBorderPositions(c);o.selected===!1&&(o.x=d.from.x,o.y=d.from.y),l.selected===!1&&(l.x=d.to.x,l.y=d.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}deleteSelected(){this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";const e=this.selectionHandler.getSelectedNodeIds(),r=this.selectionHandler.getSelectedEdgeIds();let n;if(e.length>0){for(let i=0;i<e.length;i++)if(this.body.nodes[e[i]].isCluster===!0){alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);return}typeof this.options.deleteNode=="function"&&(n=this.options.deleteNode)}else r.length>0&&typeof this.options.deleteEdge=="function"&&(n=this.options.deleteEdge);if(typeof n=="function"){const i={nodes:e,edges:r};if(n.length===2)n(i,s=>{s!=null&&this.inMode==="delete"?(this.body.data.edges.getDataSet().remove(s.edges),this.body.data.nodes.getDataSet().remove(s.nodes),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()):(this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar())});else throw new Error("The function for delete does not support two arguments (data, callback)")}else this.body.data.edges.getDataSet().remove(r),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}_setup(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}_createWrappers(){if(this.manipulationDiv===void 0&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),this.editModeDiv===void 0&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),this.closeDiv===void 0){var e,r;this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",(e=(r=this.options.locales[this.options.locale])===null||r===void 0?void 0:r.close)!==null&&e!==void 0?e:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv)}}_getNewTargetNode(e,r){const n=ft({},this.options.controlNodeStyle);n.id="targetNode"+td(),n.hidden=!1,n.physics=!1,n.x=e,n.y=r;const i=this.body.functions.createNode(n);return i.shape.boundingBox={left:e,right:e,top:r,bottom:r},i}_createEditButton(){var e;this._clean(),this.manipulationDOM={},Ms(this.editModeDiv);const r=this.options.locales[this.options.locale],n=this._createButton("editMode","vis-edit vis-edit-mode",r.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(n),this._bindElementEvents(n,re(e=this.toggleEditMode).call(e,this))}_clean(){this.inMode=!1,this.guiEnabled===!0&&(Ms(this.editModeDiv),Ms(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}_cleanupDOMEventListeners(){for(const r of os(e=this._domEventListenerCleanupQueue).call(e,0)){var e;r()}}_removeManipulationDOM(){this._clean(),Ms(this.manipulationDiv),Ms(this.editModeDiv),Ms(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}_createSeperator(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}_createAddNodeButton(e){var r;const n=this._createButton("addNode","vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,re(r=this.addNodeMode).call(r,this))}_createAddEdgeButton(e){var r;const n=this._createButton("addEdge","vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,re(r=this.addEdgeMode).call(r,this))}_createEditNodeButton(e){var r;const n=this._createButton("editNode","vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,re(r=this.editNode).call(r,this))}_createEditEdgeButton(e){var r;const n=this._createButton("editEdge","vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,re(r=this.editEdgeMode).call(r,this))}_createDeleteButton(e){var r;let n;this.options.rtl?n="vis-delete-rtl":n="vis-delete";const i=this._createButton("delete",n,e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,re(r=this.deleteSelected).call(r,this))}_createBackButton(e){var r;const n=this._createButton("back","vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,re(r=this.showManipulatorToolbar).call(r,this))}_createButton(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("button"),this.manipulationDOM[e+"Div"].className="vis-button "+r,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=i,this.manipulationDOM[e+"Label"].innerText=n,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}_createDescription(e){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=e,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}_temporaryBindEvent(e,r){this.temporaryEventFunctions.push({event:e,boundFunction:r}),this.body.emitter.on(e,r)}_temporaryBindUI(e,r){if(this.body.eventListeners[e]!==void 0)this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=r;else throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+Ih(Rt(this.body.eventListeners)))}_unbindTemporaryUIs(){for(const e in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}_unbindTemporaryEvents(){for(let e=0;e<this.temporaryEventFunctions.length;e++){const r=this.temporaryEventFunctions[e].event,n=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(r,n)}this.temporaryEventFunctions=[]}_bindElementEvents(e,r){const n=new zl(e,{});Ap(n,r),this._domEventListenerCleanupQueue.push(()=>{n.destroy()});const i=s=>{let{keyCode:a,key:o}=s;(o==="Enter"||o===" "||a===13||a===32)&&r()};e.addEventListener("keyup",i,!1),this._domEventListenerCleanupQueue.push(()=>{e.removeEventListener("keyup",i,!1)})}_cleanupTemporaryNodesAndEdges(){for(let s=0;s<this.temporaryIds.edges.length;s++){var e;this.body.edges[this.temporaryIds.edges[s]].disconnect(),delete this.body.edges[this.temporaryIds.edges[s]];const a=et(e=this.body.edgeIndices).call(e,this.temporaryIds.edges[s]);if(a!==-1){var r;os(r=this.body.edgeIndices).call(r,a,1)}}for(let s=0;s<this.temporaryIds.nodes.length;s++){var n;delete this.body.nodes[this.temporaryIds.nodes[s]];const a=et(n=this.body.nodeIndices).call(n,this.temporaryIds.nodes[s]);if(a!==-1){var i;os(i=this.body.nodeIndices).call(i,a,1)}}this.temporaryIds={nodes:[],edges:[]}}_controlNodeTouch(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=Ht({},this.body.view.translation)}_controlNodeDragStart(){const e=this.lastTouch,r=this.selectionHandler._pointerToPositionObject(e),n=this.body.nodes[this.temporaryIds.nodes[0]],i=this.body.nodes[this.temporaryIds.nodes[1]],s=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;const a=n.isOverlappingWith(r),o=i.isOverlappingWith(r);a===!0?(this.selectedControlNode=n,s.edgeType.from=n):o===!0&&(this.selectedControlNode=i,s.edgeType.to=i),this.selectedControlNode!==void 0&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}_controlNodeDrag(e){this.body.emitter.emit("disablePhysics");const r=this.body.functions.getPointer(e.center),n=this.canvas.DOMtoCanvas(r);this.selectedControlNode!==void 0?(this.selectedControlNode.x=n.x,this.selectedControlNode.y=n.y):this.interactionHandler.onDrag(e),this.body.emitter.emit("_redraw")}_controlNodeDragEnd(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r),i=this.body.edges[this.edgeBeingEditedId];if(this.selectedControlNode===void 0)return;this.selectionHandler.unselectAll();const s=this.selectionHandler._getAllNodesOverlappingWith(n);let a;for(let o=s.length-1;o>=0;o--)if(s[o]!==this.selectedControlNode.id){a=this.body.nodes[s[o]];break}if(a!==void 0&&this.selectedControlNode!==void 0)if(a.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const o=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===o.id?this._performEditEdge(a.id,i.to.id):this._performEditEdge(i.from.id,a.id)}else i.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}_handleConnect(e){if(new Date().valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=Ht({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;const r=this.lastTouch,n=this.selectionHandler.getNodeAt(r);if(n!==void 0)if(n.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const i=this._getNewTargetNode(n.x,n.y);this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id);const s=this.body.functions.createEdge({id:"connectionEdge"+td(),from:n.id,to:i.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[s.id]=s,this.body.edgeIndices.push(s.id),this.temporaryIds.nodes.push(i.id),this.temporaryIds.edges.push(s.id)}this.touchTime=new Date().valueOf()}}_dragControlNode(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r);let i;this.temporaryIds.edges[0]!==void 0&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(n);let a;for(let l=s.length-1;l>=0;l--){var o;if(et(o=this.temporaryIds.nodes).call(o,s[l])===-1){a=this.body.nodes[s[l]];break}}if(e.controlEdge={from:i,to:a?a.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",e,r),this.temporaryIds.nodes[0]!==void 0){const l=this.body.nodes[this.temporaryIds.nodes[0]];l.x=this.canvas._XconvertDOMtoCanvas(r.x),l.y=this.canvas._YconvertDOMtoCanvas(r.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(e)}_finishConnect(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r);let i;this.temporaryIds.edges[0]!==void 0&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(n);let a;for(let l=s.length-1;l>=0;l--){var o;if(et(o=this.temporaryIds.nodes).call(o,s[l])===-1){a=this.body.nodes[s[l]];break}}this._cleanupTemporaryNodesAndEdges(),a!==void 0&&(a.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.body.nodes[i]!==void 0&&this.body.nodes[a.id]!==void 0&&this._performAddEdge(i,a.id)),e.controlEdge={from:i,to:a?a.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",e,r),this.body.emitter.emit("_redraw")}_dragStartEdge(e){const r=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",e,r,void 0,!0)}_performAddNode(e){const r={id:td(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if(typeof this.options.addNode=="function")if(this.options.addNode.length===2)this.options.addNode(r,n=>{n!=null&&this.inMode==="addNode"&&this.body.data.nodes.getDataSet().add(n),this.showManipulatorToolbar()});else throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");else this.body.data.nodes.getDataSet().add(r),this.showManipulatorToolbar()}_performAddEdge(e,r){const n={from:e,to:r};if(typeof this.options.addEdge=="function")if(this.options.addEdge.length===2)this.options.addEdge(n,i=>{i!=null&&this.inMode==="addEdge"&&(this.body.data.edges.getDataSet().add(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for connect does not support two arguments (data,callback)");else this.body.data.edges.getDataSet().add(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}_performEditEdge(e,r){const n={id:this.edgeBeingEditedId,from:e,to:r,label:this.body.data.edges.get(this.edgeBeingEditedId).label};let i=this.options.editEdge;if(typeof i=="object"&&(i=i.editWithoutDrag),typeof i=="function")if(i.length===2)i(n,s=>{s==null||this.inMode!=="editEdge"?(this.body.edges[n.id].updateEdgeType(),this.body.emitter.emit("_redraw"),this.showManipulatorToolbar()):(this.body.data.edges.getDataSet().update(s),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for edit does not support two arguments (data, callback)");else this.body.data.edges.getDataSet().update(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}const se="string",te="boolean",U="number",Ac="array",_e="object",zQ="dom",rxe="any",eN=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],tN={borderWidth:{number:U},borderWidthSelected:{number:U,undefined:"undefined"},brokenImage:{string:se,undefined:"undefined"},chosen:{label:{boolean:te,function:"function"},node:{boolean:te,function:"function"},__type__:{object:_e,boolean:te}},color:{border:{string:se},background:{string:se},highlight:{border:{string:se},background:{string:se},__type__:{object:_e,string:se}},hover:{border:{string:se},background:{string:se},__type__:{object:_e,string:se}},__type__:{object:_e,string:se}},opacity:{number:U,undefined:"undefined"},fixed:{x:{boolean:te},y:{boolean:te},__type__:{object:_e,boolean:te}},font:{align:{string:se},color:{string:se},size:{number:U},face:{string:se},background:{string:se},strokeWidth:{number:U},strokeColor:{string:se},vadjust:{number:U},multi:{boolean:te,string:se},bold:{color:{string:se},size:{number:U},face:{string:se},mod:{string:se},vadjust:{number:U},__type__:{object:_e,string:se}},boldital:{color:{string:se},size:{number:U},face:{string:se},mod:{string:se},vadjust:{number:U},__type__:{object:_e,string:se}},ital:{color:{string:se},size:{number:U},face:{string:se},mod:{string:se},vadjust:{number:U},__type__:{object:_e,string:se}},mono:{color:{string:se},size:{number:U},face:{string:se},mod:{string:se},vadjust:{number:U},__type__:{object:_e,string:se}},__type__:{object:_e,string:se}},group:{string:se,number:U,undefined:"undefined"},heightConstraint:{minimum:{number:U},valign:{string:se},__type__:{object:_e,boolean:te,number:U}},hidden:{boolean:te},icon:{face:{string:se},code:{string:se},size:{number:U},color:{string:se},weight:{string:se,number:U},__type__:{object:_e}},id:{string:se,number:U},image:{selected:{string:se,undefined:"undefined"},unselected:{string:se,undefined:"undefined"},__type__:{object:_e,string:se}},imagePadding:{top:{number:U},right:{number:U},bottom:{number:U},left:{number:U},__type__:{object:_e,number:U}},label:{string:se,undefined:"undefined"},labelHighlightBold:{boolean:te},level:{number:U,undefined:"undefined"},margin:{top:{number:U},right:{number:U},bottom:{number:U},left:{number:U},__type__:{object:_e,number:U}},mass:{number:U},physics:{boolean:te},scaling:{min:{number:U},max:{number:U},label:{enabled:{boolean:te},min:{number:U},max:{number:U},maxVisible:{number:U},drawThreshold:{number:U},__type__:{object:_e,boolean:te}},customScalingFunction:{function:"function"},__type__:{object:_e}},shadow:{enabled:{boolean:te},color:{string:se},size:{number:U},x:{number:U},y:{number:U},__type__:{object:_e,boolean:te}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:te,array:Ac},borderRadius:{number:U},interpolation:{boolean:te},useImageSize:{boolean:te},useBorderWithImage:{boolean:te},coordinateOrigin:{string:["center","top-left"]},__type__:{object:_e}},size:{number:U},title:{string:se,dom:zQ,undefined:"undefined"},value:{number:U,undefined:"undefined"},widthConstraint:{minimum:{number:U},maximum:{number:U},__type__:{object:_e,boolean:te,number:U}},x:{number:U},y:{number:U},__type__:{object:_e}},nxe={configure:{enabled:{boolean:te},filter:{boolean:te,string:se,array:Ac,function:"function"},container:{dom:zQ},showButton:{boolean:te},__type__:{object:_e,boolean:te,string:se,array:Ac,function:"function"}},edges:{arrows:{to:{enabled:{boolean:te},scaleFactor:{number:U},type:{string:eN},imageHeight:{number:U},imageWidth:{number:U},src:{string:se},__type__:{object:_e,boolean:te}},middle:{enabled:{boolean:te},scaleFactor:{number:U},type:{string:eN},imageWidth:{number:U},imageHeight:{number:U},src:{string:se},__type__:{object:_e,boolean:te}},from:{enabled:{boolean:te},scaleFactor:{number:U},type:{string:eN},imageWidth:{number:U},imageHeight:{number:U},src:{string:se},__type__:{object:_e,boolean:te}},__type__:{string:["from","to","middle"],object:_e}},endPointOffset:{from:{number:U},to:{number:U},__type__:{object:_e,number:U}},arrowStrikethrough:{boolean:te},background:{enabled:{boolean:te},color:{string:se},size:{number:U},dashes:{boolean:te,array:Ac},__type__:{object:_e,boolean:te}},chosen:{label:{boolean:te,function:"function"},edge:{boolean:te,function:"function"},__type__:{object:_e,boolean:te}},color:{color:{string:se},highlight:{string:se},hover:{string:se},inherit:{string:["from","to","both"],boolean:te},opacity:{number:U},__type__:{object:_e,string:se}},dashes:{boolean:te,array:Ac},font:{color:{string:se},size:{number:U},face:{string:se},background:{string:se},strokeWidth:{number:U},strokeColor:{string:se},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:U},multi:{boolean:te,string:se},bold:{color:{string:se},size:{number:U},face:{string:se},mod:{string:se},vadjust:{number:U},__type__:{object:_e,string:se}},boldital:{color:{string:se},size:{number:U},face:{string:se},mod:{string:se},vadjust:{number:U},__type__:{object:_e,string:se}},ital:{color:{string:se},size:{number:U},face:{string:se},mod:{string:se},vadjust:{number:U},__type__:{object:_e,string:se}},mono:{color:{string:se},size:{number:U},face:{string:se},mod:{string:se},vadjust:{number:U},__type__:{object:_e,string:se}},__type__:{object:_e,string:se}},hidden:{boolean:te},hoverWidth:{function:"function",number:U},label:{string:se,undefined:"undefined"},labelHighlightBold:{boolean:te},length:{number:U,undefined:"undefined"},physics:{boolean:te},scaling:{min:{number:U},max:{number:U},label:{enabled:{boolean:te},min:{number:U},max:{number:U},maxVisible:{number:U},drawThreshold:{number:U},__type__:{object:_e,boolean:te}},customScalingFunction:{function:"function"},__type__:{object:_e}},selectionWidth:{function:"function",number:U},selfReferenceSize:{number:U},selfReference:{size:{number:U},angle:{number:U},renderBehindTheNode:{boolean:te},__type__:{object:_e}},shadow:{enabled:{boolean:te},color:{string:se},size:{number:U},x:{number:U},y:{number:U},__type__:{object:_e,boolean:te}},smooth:{enabled:{boolean:te},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:U},forceDirection:{string:["horizontal","vertical","none"],boolean:te},__type__:{object:_e,boolean:te}},title:{string:se,undefined:"undefined"},width:{number:U},widthConstraint:{maximum:{number:U},__type__:{object:_e,boolean:te,number:U}},value:{number:U,undefined:"undefined"},__type__:{object:_e}},groups:{useDefaultGroups:{boolean:te},__any__:tN,__type__:{object:_e}},interaction:{dragNodes:{boolean:te},dragView:{boolean:te},hideEdgesOnDrag:{boolean:te},hideEdgesOnZoom:{boolean:te},hideNodesOnDrag:{boolean:te},hover:{boolean:te},keyboard:{enabled:{boolean:te},speed:{x:{number:U},y:{number:U},zoom:{number:U},__type__:{object:_e}},bindToWindow:{boolean:te},autoFocus:{boolean:te},__type__:{object:_e,boolean:te}},multiselect:{boolean:te},navigationButtons:{boolean:te},selectable:{boolean:te},selectConnectedEdges:{boolean:te},hoverConnectedEdges:{boolean:te},tooltipDelay:{number:U},zoomView:{boolean:te},zoomSpeed:{number:U},__type__:{object:_e}},layout:{randomSeed:{undefined:"undefined",number:U,string:se},improvedLayout:{boolean:te},clusterThreshold:{number:U},hierarchical:{enabled:{boolean:te},levelSeparation:{number:U},nodeSpacing:{number:U},treeSpacing:{number:U},blockShifting:{boolean:te},edgeMinimization:{boolean:te},parentCentralization:{boolean:te},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:_e,boolean:te}},__type__:{object:_e}},manipulation:{enabled:{boolean:te},initiallyActive:{boolean:te},addNode:{boolean:te,function:"function"},addEdge:{boolean:te,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:_e,boolean:te,function:"function"}},deleteNode:{boolean:te,function:"function"},deleteEdge:{boolean:te,function:"function"},controlNodeStyle:tN,__type__:{object:_e,boolean:te}},nodes:tN,physics:{enabled:{boolean:te},barnesHut:{theta:{number:U},gravitationalConstant:{number:U},centralGravity:{number:U},springLength:{number:U},springConstant:{number:U},damping:{number:U},avoidOverlap:{number:U},__type__:{object:_e}},forceAtlas2Based:{theta:{number:U},gravitationalConstant:{number:U},centralGravity:{number:U},springLength:{number:U},springConstant:{number:U},damping:{number:U},avoidOverlap:{number:U},__type__:{object:_e}},repulsion:{centralGravity:{number:U},springLength:{number:U},springConstant:{number:U},nodeDistance:{number:U},damping:{number:U},__type__:{object:_e}},hierarchicalRepulsion:{centralGravity:{number:U},springLength:{number:U},springConstant:{number:U},nodeDistance:{number:U},damping:{number:U},avoidOverlap:{number:U},__type__:{object:_e}},maxVelocity:{number:U},minVelocity:{number:U},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:te},iterations:{number:U},updateInterval:{number:U},onlyDynamicEdges:{boolean:te},fit:{boolean:te},__type__:{object:_e,boolean:te}},timestep:{number:U},adaptiveTimestep:{boolean:te},wind:{x:{number:U},y:{number:U},__type__:{object:_e}},__type__:{object:_e,boolean:te}},autoResize:{boolean:te},clickToUse:{boolean:te},locale:{string:se},locales:{__any__:{any:rxe},__type__:{object:_e}},height:{string:se},width:{string:se},__type__:{object:_e}},UQ={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},ixe=(t,e,r)=>{var n;return!!(pa(t).call(t,"physics")&&pa(n=UQ.physics.solver).call(n,e)&&r.physics.solver!==e&&e!=="wind")};class sxe{constructor(){}getDistances(e,r,n){const i={},s=e.edges;for(let o=0;o<r.length;o++){const l=r[o],c={};i[l]=c;for(let d=0;d<r.length;d++)c[r[d]]=o==d?0:1e9}for(let o=0;o<n.length;o++){const l=s[n[o]];l.connected===!0&&i[l.fromId]!==void 0&&i[l.toId]!==void 0&&(i[l.fromId][l.toId]=1,i[l.toId][l.fromId]=1)}const a=r.length;for(let o=0;o<a;o++){const l=r[o],c=i[l];for(let d=0;d<a-1;d++){const h=r[d],f=i[h];for(let p=d+1;p<a;p++){const v=r[p],y=i[v],x=Math.min(f[v],f[l]+c[v]);f[v]=x,y[h]=x}}}return i}}class axe{constructor(e,r,n){this.body=e,this.springLength=r,this.springConstant=n,this.distanceSolver=new sxe}setOptions(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}solve(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=this.distanceSolver.getDistances(this.body,e,r);this._createL_matrix(i),this._createK_matrix(i),this._createE_matrix();const s=.01,a=1;let o=0;const l=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),c=5;let d=1e9,h=0,f=0,p=0,v=0,y=0;for(;d>s&&o<l;)for(o+=1,[h,d,f,p]=this._getHighestEnergyNode(n),v=d,y=0;v>a&&y<c;)y+=1,this._moveNode(h,f,p),[v,f,p]=this._getEnergy(h)}_getHighestEnergyNode(e){const r=this.body.nodeIndices,n=this.body.nodes;let i=0,s=r[0],a=0,o=0;for(let l=0;l<r.length;l++){const c=r[l];if(n[c].predefinedPosition!==!0||n[c].isCluster===!0&&e===!0||n[c].options.fixed.x!==!0||n[c].options.fixed.y!==!0){const[d,h,f]=this._getEnergy(c);i<d&&(i=d,s=c,a=h,o=f)}}return[s,i,a,o]}_getEnergy(e){const[r,n]=this.E_sums[e];return[Math.sqrt(r**2+n**2),r,n]}_moveNode(e,r,n){const i=this.body.nodeIndices,s=this.body.nodes;let a=0,o=0,l=0;const c=s[e].x,d=s[e].y,h=this.K_matrix[e],f=this.L_matrix[e];for(let b=0;b<i.length;b++){const _=i[b];if(_!==e){const E=s[_].x,N=s[_].y,S=h[_],j=f[_],C=1/((c-E)**2+(d-N)**2)**1.5;a+=S*(1-j*(d-N)**2*C),o+=S*(j*(c-E)*(d-N)*C),l+=S*(1-j*(c-E)**2*C)}}const p=a,v=o,y=r,x=l,g=n,m=(y/p+g/v)/(v/p-x/v),w=-(v*m+y)/p;s[e].x+=w,s[e].y+=m,this._updateE_matrix(e)}_createL_matrix(e){const r=this.body.nodeIndices,n=this.springLength;this.L_matrix=[];for(let i=0;i<r.length;i++){this.L_matrix[r[i]]={};for(let s=0;s<r.length;s++)this.L_matrix[r[i]][r[s]]=n*e[r[i]][r[s]]}}_createK_matrix(e){const r=this.body.nodeIndices,n=this.springConstant;this.K_matrix=[];for(let i=0;i<r.length;i++){this.K_matrix[r[i]]={};for(let s=0;s<r.length;s++)this.K_matrix[r[i]][r[s]]=n*e[r[i]][r[s]]**-2}}_createE_matrix(){const e=this.body.nodeIndices,r=this.body.nodes;this.E_matrix={},this.E_sums={};for(let n=0;n<e.length;n++)this.E_matrix[e[n]]=[];for(let n=0;n<e.length;n++){const i=e[n],s=r[i].x,a=r[i].y;let o=0,l=0;for(let c=n;c<e.length;c++){const d=e[c];if(d!==i){const h=r[d].x,f=r[d].y,p=1/Math.sqrt((s-h)**2+(a-f)**2);this.E_matrix[i][c]=[this.K_matrix[i][d]*(s-h-this.L_matrix[i][d]*(s-h)*p),this.K_matrix[i][d]*(a-f-this.L_matrix[i][d]*(a-f)*p)],this.E_matrix[d][n]=this.E_matrix[i][c],o+=this.E_matrix[i][c][0],l+=this.E_matrix[i][c][1]}}this.E_sums[i]=[o,l]}}_updateE_matrix(e){const r=this.body.nodeIndices,n=this.body.nodes,i=this.E_matrix[e],s=this.K_matrix[e],a=this.L_matrix[e],o=n[e].x,l=n[e].y;let c=0,d=0;for(let h=0;h<r.length;h++){const f=r[h];if(f!==e){const p=i[h],v=p[0],y=p[1],x=n[f].x,g=n[f].y,m=1/Math.sqrt((o-x)**2+(l-g)**2),w=s[f]*(o-x-a[f]*(o-x)*m),b=s[f]*(l-g-a[f]*(l-g)*m);i[h]=[w,b],c+=w,d+=b;const _=this.E_sums[f];_[0]+=w-v,_[1]+=b-y}}this.E_sums[e]=[c,d]}}function xe(t,e,r){var n,i,s,a;if(!(this instanceof xe))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:Tge,clickToUse:!1},Ht(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:re(n=this.on).call(n,this),off:re(i=this.off).call(i,this),emit:re(s=this.emit).call(s,this),once:re(a=this.once).call(a,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new $ge(()=>this.body.emitter.emit("_requestRedraw")),this.groups=new Gge,this.canvas=new zbe(this.body),this.selectionHandler=new S1e(this.body,this.canvas),this.interactionHandler=new Hbe(this.body,this.canvas,this.selectionHandler),this.view=new Wbe(this.body,this.canvas),this.renderer=new qbe(this.body,this.canvas),this.physics=new Pbe(this.body),this.layoutEngine=new exe(this.body),this.clustering=new Mbe(this.body),this.manipulation=new txe(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new nbe(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new Sbe(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new axe(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(r),this.setData(e)}bY(xe.prototype);xe.prototype.setOptions=function(t){if(t===null&&(t=void 0),t!==void 0){if(oge.validate(t,nxe)===!0&&console.error("%cErrors have been found in the supplied options object.",pQ),cc(["locale","locales","clickToUse"],this.options,t),t.locale!==void 0&&(t.locale=Ige(t.locales||this.options.locales,t.locale)),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),t.groups!==void 0&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(this.configurator||(this.configurator=new sge(this,this.body.container,UQ,this.canvas.pixelRatio,ixe)),this.configurator.setOptions(t.configure)),this.configurator&&this.configurator.options.enabled===!0){const n={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};ft(n.nodes,this.nodesHandler.options),ft(n.edges,this.edgesHandler.options),ft(n.layout,this.layoutEngine.options),ft(n.interaction,this.selectionHandler.options),ft(n.interaction,this.renderer.options),ft(n.interaction,this.interactionHandler.options),ft(n.manipulation,this.manipulation.options),ft(n.physics,this.physics.options),ft(n.global,this.canvas.options),ft(n.global,this.options),this.configurator.setModuleOptions(n)}t.clickToUse!==void 0?t.clickToUse===!0?this.activator===void 0&&(this.activator=new ige(this.canvas.frame),this.activator.on("change",()=>{this.body.emitter.emit("activate")})):(this.activator!==void 0&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}};xe.prototype._updateVisibleIndices=function(){const t=this.body.nodes,e=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&!this.clustering._isClusteredNode(r)&&t[r].options.hidden===!1&&this.body.nodeIndices.push(t[r].id);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const n=e[r],i=t[n.fromId],s=t[n.toId],a=i!==void 0&&s!==void 0;!this.clustering._isClusteredEdge(r)&&n.options.hidden===!1&&a&&i.options.hidden===!1&&s.options.hidden===!1&&this.body.edgeIndices.push(n.id)}};xe.prototype.bindEventListeners=function(){this.body.emitter.on("_dataChanged",()=>{this.edgesHandler._updateState(),this.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",()=>{this.clustering._updateState(),this._updateVisibleIndices(),this._updateValueRange(this.body.nodes),this._updateValueRange(this.body.edges),this.body.emitter.emit("startSimulation"),this.body.emitter.emit("_requestRedraw")})};xe.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(t&&t.options),t&&t.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");const e=gge(t.dot);this.setData(e);return}else if(t&&t.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");const e=yge(t.gephi);this.setData(e);return}else this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0);this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")};xe.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&delete this.body.nodes[t];for(const t in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,t)&&delete this.body.edges[t];Ms(this.body.container)};xe.prototype._updateValueRange=function(t){let e,r,n,i=0;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const s=t[e].getValue();s!==void 0&&(r=r===void 0?s:Math.min(s,r),n=n===void 0?s:Math.max(s,n),i+=s)}if(r!==void 0&&n!==void 0)for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&t[e].setValueRange(r,n,i)};xe.prototype.isActive=function(){return!this.activator||this.activator.active};xe.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)};xe.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)};xe.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)};xe.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)};xe.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)};xe.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)};xe.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)};xe.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)};xe.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)};xe.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)};xe.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)};xe.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)};xe.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)};xe.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)};xe.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)};xe.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)};xe.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)};xe.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)};xe.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)};xe.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)};xe.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)};xe.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)};xe.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)};xe.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)};xe.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)};xe.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)};xe.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)};xe.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)};xe.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)};xe.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)};xe.prototype.getConnectedNodes=function(t){return this.body.nodes[t]!==void 0?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)};xe.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)};xe.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)};xe.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)};xe.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)};xe.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)};xe.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)};xe.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)};xe.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)};xe.prototype.getNodeAt=function(){const t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return t!==void 0&&t.id!==void 0?t.id:t};xe.prototype.getEdgeAt=function(){const t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return t!==void 0&&t.id!==void 0?t.id:t};xe.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)};xe.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)};xe.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()};xe.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)};xe.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)};xe.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)};xe.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)};xe.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)};xe.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)};xe.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)};xe.prototype.getOptionsFromConfigurator=function(){let t={};return this.configurator&&(t=this.configurator.getOptions.apply(this.configurator)),t};function oxe({graphData:t,startPersonId:e,onNodeClick:r}){const n=T.useRef(null),i=T.useRef(null),s=Gr(),a=T.useCallback(d=>{r?r(d):s(`/people/${d}`)},[r,s]);T.useEffect(()=>{if(!n.current||!t||!t.nodes||t.nodes.length===0)return;const d=new Su(t.nodes),h=new Su(t.edges),f={layout:{hierarchical:{enabled:!0,direction:"UD",sortMethod:"directed",levelSeparation:180,nodeSpacing:200,treeSpacing:250,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0}},nodes:{shape:"box",margin:10,font:{size:14,face:'system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',color:"#1f2937"},color:{border:"#d1d5db",background:"#ffffff",highlight:{border:"#f59e0b",background:"#fef3c7"},hover:{border:"#9ca3af",background:"#f9fafb"}},borderWidth:2,borderWidthSelected:3,shadow:{enabled:!0,color:"rgba(0,0,0,0.1)",size:5,x:0,y:2}},edges:{color:{color:"#9ca3af",highlight:"#6b7280",hover:"#6b7280"},width:2,smooth:{enabled:!0,type:"cubicBezier",forceDirection:"vertical",roundness:.4},arrows:{to:{enabled:!1}}},physics:{enabled:!1},interaction:{hover:!0,tooltipDelay:200,zoomView:!0,dragView:!0,dragNodes:!1,navigationButtons:!1,keyboard:{enabled:!0,bindToWindow:!1}}},p=new xe(n.current,{nodes:d,edges:h},f);return i.current=p,p.on("click",v=>{if(v.nodes.length>0){const y=v.nodes[0];a(y)}}),p.on("doubleClick",v=>{v.nodes.length>0&&p.focus(v.nodes[0],{scale:1,animation:{duration:500,easingFunction:"easeInOutQuad"}})}),p.once("stabilized",()=>{const v=t.edges.filter(y=>y.dashes).map(y=>[y.from,y.to]);if(v.length>0){const y=p.getPositions(),x={},g=new Set;v.forEach(([m,w])=>{if(g.has(m)||g.has(w))return;const b=y[m],_=y[w];if(!b||!_)return;const E=(b.x+_.x)/2;x[m]={x:E-60,y:b.y},x[w]={x:E+60,y:_.y},g.add(m),g.add(w)}),Object.entries(x).forEach(([m,w])=>{p.moveNode(m,w.x,w.y)})}setTimeout(()=>{p.fit({animation:{duration:500,easingFunction:"easeInOutQuad"}})},50)}),setTimeout(()=>{e&&p&&p.focus(e,{scale:.8,animation:{duration:500,easingFunction:"easeInOutQuad"}})},100),()=>{p&&p.destroy()}},[t,e,a]);const o=()=>{if(i.current){const d=i.current.getScale();i.current.moveTo({scale:d*1.3,animation:{duration:300,easingFunction:"easeInOutQuad"}})}},l=()=>{if(i.current){const d=i.current.getScale();i.current.moveTo({scale:d/1.3,animation:{duration:300,easingFunction:"easeInOutQuad"}})}},c=()=>{i.current&&i.current.fit({animation:{duration:500,easingFunction:"easeInOutQuad"}})};return!t||!t.nodes||t.nodes.length===0?u.jsx("div",{className:"flex items-center justify-center h-96",children:u.jsx("p",{className:"text-gray-500",children:"No family tree data available"})}):u.jsxs("div",{className:"relative w-full h-full",children:[u.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2 bg-white rounded-lg shadow-lg p-2",children:[u.jsx("button",{onClick:o,className:"p-2 hover:bg-gray-100 rounded",title:"Zoom In",children:u.jsx(Yre,{className:"w-4 h-4"})}),u.jsx("button",{onClick:l,className:"p-2 hover:bg-gray-100 rounded",title:"Zoom Out",children:u.jsx(Qre,{className:"w-4 h-4"})}),u.jsx("button",{onClick:c,className:"p-2 hover:bg-gray-100 rounded",title:"Fit All",children:u.jsx(cK,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"absolute bottom-4 left-4 z-10 text-xs text-gray-500 bg-white/80 px-2 py-1 rounded",children:"Click a person to view details  Double-click to center  Scroll to zoom"}),u.jsx("div",{ref:n,className:"w-full h-full min-h-[600px]",style:{background:"#fafafa"}})]})}const lxe=["parent","child","spouse","lover","partner"];function uxe(t){return lxe.includes(t==null?void 0:t.toLowerCase())}function cxe(t){return(t==null?void 0:t.toLowerCase())==="parent"}function dxe(t){return(t==null?void 0:t.toLowerCase())==="child"}function hxe(t){const e=t==null?void 0:t.toLowerCase();return e==="spouse"||e==="lover"||e==="partner"}function fxe(t,e,r){var d;const n=new Map,i=[],s=new Set,a=new Map;e.forEach(h=>a.set(h.id,h));const o=[{personId:t,depth:0}];s.add(t);function l(h,f){var m,w,b,_;let p=h.name||((m=h.title)==null?void 0:m.rendered)||h.title||`Person ${f}`;if(p&&typeof p=="string"&&typeof document<"u"){const E=document.createElement("textarea");E.innerHTML=p,p=E.value}let v=null,y=((w=h.acf)==null?void 0:w.birth_date)||null;if(y){const E=new Date(y);isNaN(E.getTime())||(v=Math.floor((new Date-E)/(365.25*24*60*60*1e3)))}let x="";switch((b=h.acf)==null?void 0:b.gender){case"male":x="";break;case"female":x="";break;case"non_binary":case"other":case"prefer_not_to_say":x="";break}let g="";if(y)try{const E=new Date(y);if(!isNaN(E.getTime())){const N=String(E.getDate()).padStart(2,"0"),S=String(E.getMonth()+1).padStart(2,"0"),j=E.getFullYear();g=`${N}-${S}-${j}`}}catch{}return{id:f,name:p,gender:((_=h.acf)==null?void 0:_.gender)||"",genderSymbol:x,photo:h.thumbnail||null,age:v,birthDate:y,formattedBirthDate:g}}const c=a.get(t);for(c&&n.set(t,l(c,t));o.length>0;){const{personId:h,depth:f}=o.shift(),p=r.get(h)||[];for(const v of p){if(v.relationship_type_slug&&!uxe(v.relationship_type_slug))continue;const y=v.related_person;if(!y||!a.has(y))continue;if(!n.has(y)){const w=a.get(y);n.set(y,l(w,y))}const x=`${h}-${y}`,g=`${y}-${h}`;if(!i.some(w=>`${w.from}-${w.to}`===x||`${w.from}-${w.to}`===g)){const w=(d=v.relationship_type_slug)==null?void 0:d.toLowerCase();if(cxe(w))i.push({from:y,to:h,type:"parent-child"});else if(dxe(w))i.push({from:h,to:y,type:"parent-child"});else if(hxe(w)){const[b,_]=h<y?[h,y]:[y,h];i.push({from:b,to:_,type:"spouse"})}}s.has(y)||(s.add(y),o.push({personId:y,depth:f+1}))}}return{nodes:Array.from(n.values()),edges:i}}function pxe(t,e,r={}){const{nodes:n,edges:i}=t;if(n.length===0)return{nodes:[],edges:[]};const s=new Map,a=new Map,o=new Map;n.forEach(x=>{s.set(x.id,[]),a.set(x.id,[]),o.set(x.id,[])}),i.forEach(x=>{var g,m,w,b;x.type==="parent-child"?((g=s.get(x.to))==null||g.push(x.from),(m=a.get(x.from))==null||m.push(x.to)):x.type==="spouse"&&((w=o.get(x.from))==null||w.push(x.to),(b=o.get(x.to))==null||b.push(x.from))});const l=new Map,c=new Set,d=[{id:e,generation:0}];for(l.set(e,0),c.add(e);d.length>0;){const{id:x,generation:g}=d.shift(),m=s.get(x)||[];for(const _ of m)c.has(_)||(c.add(_),l.set(_,g-1),d.push({id:_,generation:g-1}));const w=a.get(x)||[];for(const _ of w)c.has(_)||(c.add(_),l.set(_,g+1),d.push({id:_,generation:g+1}));const b=o.get(x)||[];for(const _ of b)c.has(_)||(c.add(_),l.set(_,g),d.push({id:_,generation:g}))}n.forEach(x=>{l.has(x.id)||l.set(x.id,0)});const h=Math.min(...l.values()),f=new Map;l.forEach((x,g)=>{f.set(g,x-h)});function p(x,g,m=!1){const w=x?x.split(" ").map(N=>N[0]).join("").toUpperCase().slice(0,2):"?";let b,_;m?(b="%23d1d5db",_="%236b7280"):g?(b="%23fef3c7",_="%23b45309"):(b="%23e5e7eb",_="%23374151");const E=`<svg xmlns="http://www.w3.org/2000/svg" width="90" height="90" viewBox="0 0 90 90">
      <circle cx="45" cy="45" r="45" fill="${b}"/>
      <text x="45" y="55" text-anchor="middle" font-family="system-ui, sans-serif" font-size="28" font-weight="500" fill="${_}">${w}</text>
    </svg>`;return"data:image/svg+xml,"+encodeURIComponent(E)}const v=n.map(x=>{const g=f.get(x.id)||0,m=x.id===e,w=r[x.id]||!1;let b=x.name;w&&(b=x.name+" ");let _=[b],E="";x.genderSymbol&&(E+=x.genderSymbol+" "),x.age!==null&&(E+=x.age+" "),x.formattedBirthDate&&(E+=x.formattedBirthDate),E.trim()&&_.push(E.trim());const N=x.photo||p(x.name,m,w);let S="#d1d5db";return m?S="#f59e0b":w&&(S="#9ca3af"),{id:x.id,label:_.join(`
`),level:g,shape:"circularImage",image:N,size:45,font:{size:14,face:"system-ui, -apple-system, sans-serif",vadjust:8,color:w?"#6b7280":"#1f2937"},color:{border:S,background:"#ffffff",highlight:{border:"#f59e0b",background:"#fef3c7"}},borderWidth:m?3:2,data:{...x,isDeceased:w}}}),y=i.map((x,g)=>{const m=x.type==="spouse";return{id:`edge-${g}`,from:x.from,to:x.to,arrows:{to:{enabled:!1}},color:{color:m?"#ec4899":"#9ca3af",highlight:m?"#db2777":"#6b7280"},width:2,dashes:m?[5,5]:!1,smooth:!1,length:m?50:300}});return{nodes:v,edges:y}}function mxe(t){const e=new Map;return t.forEach(r=>{var s;const i=(((s=r.acf)==null?void 0:s.relationships)||[]).map(a=>{var c,d,h,f,p,v;let o="";a.relationship_slug?o=a.relationship_slug.toLowerCase():typeof a.relationship_type=="object"?o=((c=a.relationship_type)==null?void 0:c.slug)||((h=(d=a.relationship_type)==null?void 0:d.name)==null?void 0:h.toLowerCase())||"":typeof a.relationship_type=="string"&&(o=a.relationship_type.toLowerCase());let l=null;return typeof a.related_person=="object"?l=((f=a.related_person)==null?void 0:f.ID)||((p=a.related_person)==null?void 0:p.id)||((v=a.related_person)==null?void 0:v.term_id):(typeof a.related_person=="number"||typeof a.related_person=="string")&&(l=parseInt(a.related_person,10)),{related_person:l,relationship_type:a.relationship_type,relationship_type_slug:o,relationship_name:a.relationship_name||"",relationship_label:a.relationship_label||""}}).filter(a=>a.related_person);e.set(r.id,i)}),e}function vxe(t,e){const r=new Map;e.forEach(n=>{var i;r.set(n.id,n.slug||((i=n.name)==null?void 0:i.toLowerCase()))}),t.forEach(n=>{n.forEach(i=>{if(!i.relationship_type_slug&&i.relationship_type){const s=typeof i.relationship_type=="object"?i.relationship_type.term_id||i.relationship_type.id:i.relationship_type;i.relationship_type_slug=r.get(s)||""}})})}function gxe(){var p,v;const{id:t}=Ss(),e=Gr(),r=parseInt(t,10),{data:n,isLoading:i}=Mu(t),{data:s=[],isLoading:a}=zo(),{data:o=[]}=Ze({queryKey:["relationship-types"],queryFn:async()=>(await Ae.getRelationshipTypes()).data}),l=T.useMemo(()=>s.map(y=>y.id).filter(Boolean),[s]),c=vp({queries:l.map(y=>({queryKey:["person-dates",y],queryFn:async()=>(await $e.getPersonDates(y)).data,enabled:!!y,staleTime:5*60*1e3}))}),d=T.useMemo(()=>{const y={};return c.forEach((x,g)=>{if(x.data&&l[g]){const m=l[g],w=x.data.some(b=>{const _=Array.isArray(b.date_type)?b.date_type[0]:b.date_type;return(_==null?void 0:_.toLowerCase())==="died"});y[m]=w}}),y},[c,l]);mn(n?`Family Tree - ${n.name||((p=n.title)==null?void 0:p.rendered)||n.title||"Person"}`:"Family Tree");const h=T.useMemo(()=>{if(!n||!s.length)return null;try{const y=mxe(s);o.length>0&&vxe(y,o);const x=fxe(r,s,y);return!x||x.nodes.length===0?null:pxe(x,r,d)}catch(y){return console.error("Error building family tree:",y),null}},[n,s,o,r,d]),f=y=>{e(`/people/${y}`)};return i||a?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):n?u.jsxs("div",{className:"max-w-full mx-auto space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(fe,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(jn,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Back to Person"})]}),u.jsxs("h1",{className:"text-2xl font-bold",children:["Family Tree: ",n.name||((v=n.title)==null?void 0:v.rendered)||n.title||`Person ${t}`]})]})}),u.jsx("div",{className:"card p-6",children:u.jsx("div",{className:"w-full",style:{height:"800px"},children:h&&h.nodes&&h.nodes.length>0?u.jsx(oxe,{graphData:h,startPersonId:r,onNodeClick:f}):u.jsx("div",{className:"flex items-center justify-center h-full",children:u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-gray-500 mb-2",children:"No family relationships found."}),u.jsx("p",{className:"text-sm text-gray-400",children:"Add parent or child relationships to see the family tree."})]})})})})]}):u.jsxs("div",{className:"card p-6 text-center",children:[u.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load person."}),u.jsx(fe,{to:"/people",className:"btn-secondary",children:"Back to People"})]})}function yxe(){const{loginUrl:t,isLoggedIn:e}=rO();return gK(),T.useEffect(()=>{e||(window.location.href=t)},[e,t]),u.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:"Redirecting to login..."})]})})}function bxe({children:t}){const{data:e,isLoading:r,error:n}=Ze({queryKey:["current-user"],queryFn:async()=>(await $e.getCurrentUser()).data,retry:!1});return r?u.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):n||!e?u.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:u.jsx("div",{className:"max-w-md w-full mx-4",children:u.jsxs("div",{className:"card p-8 text-center",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:u.jsx(gs,{className:"w-8 h-8 text-yellow-600"})})}),u.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Account Pending Approval"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Your account is pending approval by an administrator. You will receive an email notification once your account has been approved."}),u.jsx("p",{className:"text-sm text-gray-500",children:"If you have any questions, please contact your administrator."})]})})}):e!=null&&e.is_admin||e.is_approved?t:u.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:u.jsx("div",{className:"max-w-md w-full mx-4",children:u.jsxs("div",{className:"card p-8 text-center",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:u.jsx(gs,{className:"w-8 h-8 text-yellow-600"})})}),u.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Account Pending Approval"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Your account is pending approval by an administrator. You will receive an email notification once your account has been approved."}),u.jsx("p",{className:"text-sm text-gray-500",children:"If you have any questions, please contact your administrator."})]})})})}function xxe({children:t}){const{isLoggedIn:e,isLoading:r}=rO();return r?u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e?u.jsx(bxe,{children:t}):u.jsx(vH,{to:"/login",replace:!0})}function wxe(){return u.jsxs(oI,{children:[u.jsx(Xe,{path:"/login",element:u.jsx(yxe,{})}),u.jsx(Xe,{path:"/*",element:u.jsx(xxe,{children:u.jsx(yne,{children:u.jsxs(oI,{children:[u.jsx(Xe,{path:"/",element:u.jsx(ose,{})}),u.jsx(Xe,{path:"/people",element:u.jsx(use,{})}),u.jsx(Xe,{path:"/people/new",element:u.jsx(oR,{})}),u.jsx(Xe,{path:"/people/:personId/contact/new",element:u.jsx(uR,{})}),u.jsx(Xe,{path:"/people/:personId/contact/:index/edit",element:u.jsx(uR,{})}),u.jsx(Xe,{path:"/people/:personId/work-history/new",element:u.jsx(lR,{})}),u.jsx(Xe,{path:"/people/:personId/work-history/:index/edit",element:u.jsx(lR,{})}),u.jsx(Xe,{path:"/people/:personId/relationship/new",element:u.jsx(cR,{})}),u.jsx(Xe,{path:"/people/:personId/relationship/:index/edit",element:u.jsx(cR,{})}),u.jsx(Xe,{path:"/people/:id/family-tree",element:u.jsx(gxe,{})}),u.jsx(Xe,{path:"/people/:id/edit",element:u.jsx(oR,{})}),u.jsx(Xe,{path:"/people/:id",element:u.jsx(Pse,{})}),u.jsx(Xe,{path:"/companies",element:u.jsx(eae,{})}),u.jsx(Xe,{path:"/companies/new",element:u.jsx(dR,{})}),u.jsx(Xe,{path:"/companies/:id",element:u.jsx(tae,{})}),u.jsx(Xe,{path:"/companies/:id/edit",element:u.jsx(dR,{})}),u.jsx(Xe,{path:"/dates",element:u.jsx(iae,{})}),u.jsx(Xe,{path:"/dates/new",element:u.jsx(hR,{})}),u.jsx(Xe,{path:"/dates/:id/edit",element:u.jsx(hR,{})}),u.jsx(Xe,{path:"/todos",element:u.jsx(aae,{})}),u.jsx(Xe,{path:"/settings",element:u.jsx(oae,{})}),u.jsx(Xe,{path:"/settings/relationship-types",element:u.jsx(lae,{})}),u.jsx(Xe,{path:"/settings/import",element:u.jsx(fae,{})}),u.jsx(Xe,{path:"/settings/export",element:u.jsx(pae,{})}),u.jsx(Xe,{path:"/settings/user-approval",element:u.jsx(mae,{})}),u.jsx(Xe,{path:"*",element:u.jsx(vH,{to:"/",replace:!0})})]})})})})]})}const _xe=new Jee({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1}}}),rN=document.getElementById("root");if(!rN)console.error('Root element not found! Make sure there is a <div id="root"></div> in your HTML.');else try{nN.createRoot(rN).render(u.jsx(Ie.StrictMode,{children:u.jsx(Zee,{client:_xe,children:u.jsx(wee,{children:u.jsx(wxe,{})})})}))}catch(t){console.error("Error mounting React app:",t),rN.innerHTML='<div style="padding: 20px; color: red;"><h1>Error Loading Application</h1><p>Please check the browser console for details.</p></div>'}
